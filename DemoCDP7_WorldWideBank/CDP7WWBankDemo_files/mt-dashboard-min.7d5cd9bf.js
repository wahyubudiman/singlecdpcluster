function newCookie(a,b,c){var d=c,e="";if(d){var f=new Date;f.setTime(f.getTime()+24*d*60*60*1e3),e="; expires="+f.toGMTString()}else e="";document.cookie=a+"="+b+e+"; path=/"}function readCookie(a){var b=a+"=",c="";if(document.cookie.indexOf(b)==-1)return c;for(var d=document.cookie.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "==f.charAt(0);)f=f.substring(1,f.length);if(0==f.indexOf(b))return f.substring(b.length,f.length)}return null}function eraseCookie(a){newCookie(a,"",1)}function toMem(a,b,c){newCookie(a,b,c)}function delMem(a){eraseCookie(a)}function remCookie(){}function addLoadEvent(a){var b=window.onload;"function"!=typeof window.onload?window.onload=a:window.onload=function(){b&&b(),a()}}function Filter(a,b,c,d){this.name=a,this.values=b,this.childFilters={};for(var e in c[this.name])this.createChildren(e,c[this.name],d);d[this.name]=this}function S3MultiUpload(a,b,c){var d=this.consts.NOT_STARTED,e=$.extend({},this.defaultConfig,b);$(a).attr("accept",e.ext);var f=null,g=null,h=null,i=[],j=null;mtS3UploadObj=null,this.progress=[];var k=this;$(a).change(function(){if(this.files&&!(this.files.length<1)&&null!=this.files[0])return this.files.length>1?void Utils.Func.alert("Selecting multiple files are not supported."):void l(this.files[0])}),this.selectFilesApi=function(a){if(a&&!(a.length<1)&&null!=a[0])return a.length>1?void Utils.Func.alert("Selecting multiple files are not supported."):void l(a[0])};var l=function(b){f=b,g={name:f.name,type:f.type,size:f.size,numParts:Math.ceil(f.size/e.PART_SIZE),lastModifiedDate:f.lastModifiedDate,uploaded:0,uploading:0,ctype:!1,uniqueId:Utils.Func.generateUUID()},k.cancel(),d=k.consts.NOT_STARTED,k.start(),$(a).val(""),$(".js-upload-filename").text(f.name)},m=function(){if(d!=k.consts.CANCELLED){for(var a=0;a<i.length;a++){if(k.numUploading>=e.MAX_PARALLEL_UPLOADS)return;i[a].status!=k.consts.UPLOADING&&i[a].status!=k.consts.SUCCESS&&(n(i[a].url,i[a].blob,a),k.numUploading++)}k.numUploading<1&&o()}},n=function(a,b,c){if(d!=k.consts.CANCELLED){i[c].status=k.consts.UPLOADING;var e=(b.size,0),f=0;i[c].numTry++,g.uploading+=b.size,i[c].jqHXR=$.ajax({url:a,type:"PUT",data:b,processData:!1,contentType:!1,success:function(a,h,j){if(Utils.Func.dispatchEvent("uploader.network.success"),d!=k.consts.CANCELLED){if(i[c].jqHXR=null,i[c].etag=j.getResponseHeader("Etag"),!i[c].etag)return k.log("Etag not found."),i[c].jqHXR=null,i[c].status=k.consts.ERROR,Game.MixPanelTracking.track("_mission_file_upload_error",{"Content Type":"MISSION","function":"no etag",data:JSON.stringify(a),status:JSON.stringify(h),jqXHR:JSON.stringify(j),"x-amz-id-2":j.getResponseHeader("x-amz-id-2"),"x-amz-request-id":j.getResponseHeader("x-amz-request-id")}),void m();i[c].etag=i[c].etag.replace('"',""),e=f,g.uploaded=g.uploaded-e+b.size,g.uploading-=b.size,p(),i[c].status=k.consts.SUCCESS,k.numUploading--,m()}},xhr:function(){if(window.XMLHttpRequest){var a=new window.XMLHttpRequest;return a.upload.addEventListener("progress",function(a){a.lengthComputable&&(e=f,f=a.loaded,g.uploaded=g.uploaded-e+f,p())},!1),a.addEventListener("progress",function(a){if(a.lengthComputable){var b=a.loaded/a.total;console.log(b)}},!1),a}if(window.ActiveXObject)return new window.ActiveXObject("Microsoft.XMLHTTP")},error:function(a,b,d){k.log("put failed",a,b,d),0===a.readyState&&Utils.Func.dispatchEvent("uploader.network.error"),Game.MixPanelTracking.track("_mission_file_upload_error",{"Content Type":"MISSION","function":"send_to_s3",a:JSON.stringify(a),"x-amz-id-2":a.getResponseHeader("x-amz-id-2"),"x-amz-request-id":a.getResponseHeader("x-amz-request-id"),b:JSON.stringify(b),c:JSON.stringify(d)}),k.numUploading--,i[c].jqHXR=null,i[c].status=k.consts.ERROR,g.uploaded=g.uploaded-f,m()}})}},o=function(){if(d!=k.consts.CANCELLED){d=k.consts.FINISHING;for(var a="<CompleteMultipartUpload>",b=0;b<i.length;b++)a+="<Part><PartNumber>"+(b+1)+"</PartNumber><ETag>"+i[b].etag+"</ETag></Part>";a+="</CompleteMultipartUpload>",$.ajax({url:j,type:"POST",processData:!1,contentType:"text/plain; charset=UTF-8",data:a,success:function(a){k.log("success complete",a),e.onUploadCompleted(f,h)},error:function(a,b,c){d=k.consts.ERROR,Game.MixPanelTracking.track("_mission_file_upload_error",{"Content Type":"MISSION","function":"no etag",data:JSON.stringify(data),status:JSON.stringify(status),jqXHR:JSON.stringify(a),"x-amz-id-2":a.getResponseHeader("x-amz-id-2"),"x-amz-request-id":a.getResponseHeader("x-amz-request-id")}),e.onServerError(f,"CompleteMultipartUpload",a,b,c)}})}},p=function(){e.onProgressChanged(f,g.uploading,g.uploaded,g.size)};this.start=function(){var a=this;if(d==k.consts.NOT_STARTED||d==k.consts.CANCELLED){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob&&(window.Blob.prototype.slice||window.Blob.prototype.webkitSlice||window.Blob.prototype.mozSlice)))return void e.onServerError(f,"Browser not supported");d=k.consts.NOT_STARTED,f.uniqueId=g&&g.uniqueId;var b=e.onSelect(f,this);if(b){var c=f.name.substr(f.name.lastIndexOf(".")+1).toLowerCase();g.ctype=UploadeManager.getContentType(c);var i=f.name.replace(/\W/g,"")+"."+c;h=window.cname+"/user/"+window.learnerJson.id+"/"+Date.now()+"_"+window.learnerJson.id+"_"+i,this.s3Key=h,Game.MixPanelTracking.track(TRACKING_EVENT_SERVICE.EVENTS.UPLOAD_STARTED,{"Content ID":this.entityId,file:JSON.stringify(g)});for(var j=1048576,l="",m=0;m<j;m++)l+="k";var n=h+"_test",o=(new Date).getTime(),p=e.uploadService.multipartUploadToS3(n,l,!0);p.onUploadComplete=function(){var a=((new Date).getTime()-o)/1e3,b=j/(a*j),c=f.size;if(f.size<5*j)c=f.size/j;else{for(var d=f.size/(5*j),g=4,h=0,i=0;i<d;i+=g)h+=1;h*=5,c=h}var k=Math.round(c/b*10)/10;console.info("uploadSpeed ==",b," ETA===",k),Game.MixPanelTracking.track("upload_speed_to_s3",{uploadSpeed:b,eta:k+"MBps"}),e.setETA(k)},mtS3UploadObj=e.uploadService.multipartUploadToS3(h,f),null!=mtS3UploadObj.error&&e.onServerError(f,mtS3UploadObj.error),mtS3UploadObj.onProgressChanged=function(a,b){e.onProgressChanged(f,0,a,b)},mtS3UploadObj.onServerError=function(b){Game.MixPanelTracking.track(TRACKING_EVENT_SERVICE.EVENTS.UPLOAD_ERROR,{"Content ID":a.entityId,uploadID:g.id,error:JSON.stringify(b)}),e.onServerError(f,b)},mtS3UploadObj.onUploadComplete=function(){Game.MixPanelTracking.track(TRACKING_EVENT_SERVICE.EVENTS.UPLOAD_COMPLETED,{"Content ID":a.entityId,uploadID:g.id}),e.onUploadCompleted(f,h)}}}},this.pause=function(){d=k.consts.PAUSED;for(var a=0;a<i.length;a++)null!=i[a].jqXHR&&(i[a].jqXHR.abort(),i[a].jqXHR.fail(),i[a].jqXHR=null,i[a].state=k.consts.ERROR)},this.retry=function(){d=k.consts.NOT_STARTED,this.start()},this.resume=function(){d=k.consts.UPLOADING,m()},this.cancel=function(){mtS3UploadObj&&mtS3UploadObj.cancelUpload(),e.onCanceled(f)}}function getUrlVars(a){for(var b,c=[],d=a.slice(a.indexOf("?")+1).split("&"),e=0;e<d.length;e++)b=d[e].split("="),c.push(b[0]),c[b[0]]=b[1];return c}function secondsToHumanReadableString(a){function b(a){return a>1?"s":""}var c=Math.floor(a/1e3),d=Math.floor(c/31536e3);if(d)return d+" year"+b(d);var e=Math.floor((c%=31536e3)/86400);if(e)return e+" day"+b(e);var f=Math.floor((c%=86400)/3600);if(f)return f+" hour"+b(f);var g=Math.floor((c%=3600)/60);if(g)return g+" minute"+b(g);var h=c%60;return h?h+" second"+b(h):"less than a second"}function BoxEntry(a,b,c){this.id=a,this.type=b,this.name=c}function createSeekBar(a,b,c,d){var e=a.find(".seekBarArea")[0],f=(a.find(".muteBtn")[0],a.find(".volumeBarArea")[0]),g=a.find(".primaryVideoContainer video")[0],h=a.find(".mediaClass"),i=function(a){var b=parseInt(a,10),c=Math.floor(b/3600),d=Math.floor((b-3600*c)/60),e=b-3600*c-60*d;c<10&&(c="0"+c),d<10&&(d="0"+d),e<10&&(e="0"+e);var f=d+":"+e;return"00"!=c?c+":"+f:f},j=function(){b.isPlay&&h.each(function(a){var b=h.get(a);b.paused&&b.play()})},k=function(){h.each(function(a){var b=h.get(a);b.paused||b.pause()})};if(h.each(function(a){var c=h.get(a);c.addEventListener("waiting",function(){console.log("I am waiting",a),b.isWaiting=!0,b.$evalAsync(),k()}),c.addEventListener("canplay",function(){console.log("I can play",a),b.isWaiting=!1,b.$evalAsync(),j()})}),e.addEventListener("input",function(){console.log("input",e.value),h.each(function(a){var b=h.get(a),c=b.duration*(e.value/100);b.currentTime=c})}),e.addEventListener("change",function(){console.log("change",e.value),h.each(function(a){var b=h.get(a),c=b.duration*(e.value/100);b.currentTime=c})}),g){var l=g;l.addEventListener("loadeddata",function(){b.currentTime=i(l.currentTime)+" / "+i(l.duration),b.$evalAsync()}),l.addEventListener("timeupdate",function(){var a=100/l.duration*l.currentTime;e.value=a,b.currentTime=i(l.currentTime)+" / "+i(l.duration),b.$evalAsync()}),l.addEventListener("ended",function(){console.log("ended"),e.value=0,l.currentTime=0,b.currentTime="00:00",b.isPlay=!1,h.each(function(a){var b=h[a];b.pause(),b.currentTime=0})})}b.hideClassEvent=!1,b.handleMousseMove=function(){b.hideClassEvent||(b.hideClassEvent=!0,b.$evalAsync(),setTimeout(function(){b.hideClassEvent=!1,b.$evalAsync()},1e4))},f.addEventListener("change",function(){h.each(function(a){var b=h.get(a);b.volume=f.value})}),f.addEventListener("input",function(){g&&(g.muted=!1,b.isMute=!1,g.volume=f.value)}),b.playPause=function(){b.isWaiting=!1,h.each(function(a){var c=h.get(a);b.isPlay?c.paused||c.pause():c.paused&&c.play()}),b.isPlay=!b.isPlay,b.$evalAsync()},b.isToggled?b.currentToggleState=b.uiStyles.fullScreenToggle:b.currentToggleState=b.uiStyles.nonToggle,b.fullScreen=!1,b.toggleFullscreen=function(){if(g){var c=document.getElementById(b.currentContainerId);RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen")?(RunPrefixMethod(document,"CancelFullScreen"),b.isToggledFullScreen=!1,b.exitHandler()):(b.isToggledFullScreen=!0,b.currentToggleState=b.uiStyles.fullScreenToggle,RunPrefixMethod(c,"RequestFullScreen"),a.find(".videoInset").css({top:"0px",left:"0px"}),setTimeout(function(){pfx.forEach(function(a){c.addEventListener(a+"fullscreenchange",b.exitHandler,!1)})},700))}},b.exitHandler=function(){var c=document.getElementById(b.currentContainerId);b.currentToggleState=b.uiStyles.nonToggle,b.isToggledFullScreen=!1,pfx.forEach(function(a){c.removeEventListener(a+"fullscreenchange",b.exitHandler)}),a.find(".videoInset").css({top:"0px",left:"0px"})},b.mute=function(){if(g){var a=g;0==a.muted?(a.muted=!0,b.isMute=!0,f.value=0):(a.muted=!1,b.isMute=!1,f.value=.5)}}}function RunPrefixMethod(a,b){for(var c,d,e=0;e<pfx.length&&!a[c];){if(c=b,""==pfx[e]&&(c=c.substr(0,1).toLowerCase()+c.substr(1)),c=pfx[e]+c,d=typeof a[c],"undefined"!=d)return pfx=[pfx[e]],"function"==d?a[c]():a[c];e++}}function MTRecorder(a,b,c,d,e){this.type=a,this.devices=e,this.entityId=b,this.draftId=c,this.recordIntervalId=null,this.recordInterval=1e4,this.maxInterval=36e5,this.extraType=d,this.queue=null,this.stream=null,this.recordingState="active",this.stopped=!1}function Queue(a,b,c,d){this.objectType="queue",this.wasStopped=!1,this.status=Queue.status.PENDING,this.type=a,this.startTime=0,this.endTime=0,this.extraType=d,this.recordQueue=[],this.chunkSize=[],this.totalSize=0,this.uploadedSize=0,this.chunksUploaded=0,this.liveQueue=!0,this.mediaKeys=[],this.queueIntervalId=null,this.period=1e4,this.entityId=b,this.draftId=c,this.stitchingInProgress=!1,this.extraInfo={},this.queueKey="Queue_"+b+"_"+c+"_"+a,this.flushKey="Flush_"+b+"_"+c+"_"+a,this.errorGettingElement=0,this.errorInvokingConcatLambda=0,this.networkDown=!1,"audio"===a?this.contentType="audio/webm":this.contentType="video/webm",this.lockKey="Lock_"+b+"_"+c+"_"+a}!function(a,b,c){function d(a,b){return typeof a===b}function e(){var a,b,c,e,f,h,k;for(var l in g)if(g.hasOwnProperty(l)){if(a=[],b=g[l],b.name&&(a.push(b.name.toLowerCase()),b.options&&b.options.aliases&&b.options.aliases.length))for(c=0;c<b.options.aliases.length;c++)a.push(b.options.aliases[c].toLowerCase());for(e=d(b.fn,"function")?b.fn():b.fn,f=0;f<a.length;f++)h=a[f],k=h.split("."),1===k.length?i[k[0]]=e:(!i[k[0]]||i[k[0]]instanceof Boolean||(i[k[0]]=new Boolean(i[k[0]])),i[k[0]][k[1]]=e),j.push((e?"":"no-")+k.join("-"))}}function f(){return"function"!=typeof b.createElement?b.createElement(arguments[0]):l?b.createElementNS.call(b,"http://www.w3.org/2000/svg",arguments[0]):b.createElement.apply(b,arguments)}var g=[],h={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(a,b){var c=this;setTimeout(function(){b(c[a])},0)},addTest:function(a,b,c){g.push({name:a,fn:b,options:c})},addAsyncTest:function(a){g.push({name:null,fn:a})}},i=function(){};i.prototype=h,i=new i;var j=[];i.addTest("cookies",function(){try{b.cookie="cookietest=1";var a=-1!=b.cookie.indexOf("cookietest=");return b.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",a}catch(c){return!1}}),i.addTest("cors","XMLHttpRequest"in a&&"withCredentials"in new XMLHttpRequest);var k=b.documentElement,l="svg"===k.nodeName.toLowerCase();i.addTest("video",function(){var a=f("video"),b=!1;try{b=!!a.canPlayType,b&&(b=new Boolean(b),b.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),b.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),b.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),b.vp9=a.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),b.hls=a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(c){}return b}),i.addTest("localstorage",function(){var a="modernizr";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(b){return!1}}),e(),delete h.addTest,delete h.addAsyncTest;for(var m=0;m<i._q.length;m++)i._q[m]();a.Modernizr=i}(window,document),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return $.trim(this)}),"object"!=typeof console&&(window.console={log:function(){},error:function(){},trace:function(){}});var IDLEKEY="idleSince",updateIdleTimeSince=function(){if("undefined"!=typeof companySettings){if(!localStorage.getItem(IDLEKEY))return void localStorage.setItem(IDLEKEY,Date.now());var a=Date.now()-(localStorage.getItem(IDLEKEY)||Date.now()),b=companySettings&&companySettings.lsSettings&&companySettings.lsSettings.idleSessionTimeout;b&&a>b/4&&$.get("/update_session_tick?_="+(new Date).getTime()).then(function(a){localStorage.setItem(IDLEKEY,Date.now())})}};!function(a){XMLHttpRequest.prototype.open=function(){if(arguments[1].indexOf("amazonaws.com")>-1)updateIdleTimeSince();else if("/"==arguments[1][0]){if(arguments[0].indexOf("/mixpanel/track")>-1||"//"===arguments[0].substring(0,2))return;localStorage.setItem(IDLEKEY,Date.now())}a.apply(this,[].slice.call(arguments))}}(XMLHttpRequest.prototype.open),$(function(){$("body").prepend("<span id='ruler' style='position:absolute; white-space:nowrap;top:-200px;'></span>");var a=navigator.userAgent.toLowerCase(),b=a.indexOf("msie")!=-1?parseInt(a.split("msie")[1]):99;b<8?$("#unsupported_browser").slideDown():$("#unsupported_browser").remove()}),String.prototype.visualLength=function(){var a=$("#ruler").get(0);return a.innerHTML=this,a.offsetWidth},String.prototype.trimToPx=function(a){var b=this,c=this;if(b.visualLength()>a)for(c+="...";c.visualLength()>a;)b=b.substring(0,b.length-1),c=b+"...";return c},"undefined"==typeof GameObject&&(GameObject=function(){return{alert:function(a,b){var c=$('<div class="selectTopic_popUp"><div style="padding:5px"><div class="crossIcon floatR"></div><div class="clear"></div><div class="lineHeight22 color00_F14 marginT20 textalign_C"><div class="errMsg"></div><div class="marginB20 marginT30"><div style="left:50%" class="floatL pos_rel"><div style="left:-50%" class="floatL pos_rel"><div class="floatL btn_0072bc F14 lineHeight30 borderR15 paddingL30 paddingR30 okBtnContainer" style="">'+Game.Messages.OK+'</div><div class="clear"></div></div></div><div class="clear"></div></div></div></div></div>');$(".errMsg",c).html(a),$(".okBtnContainer,.crossIcon",c).click(function(a){a.stopPropagation(),$.modal.close(),b&&b()}),c.modal({close:!1})}}}());var Game=Game||{};Game.CONST=Game.CONST||{},Game.CONST.CLOSE_TIPS="close.tips",Game.DropdownLi=Backbone.View.extend({constructor:function(a){this.item=a,this.el=$("<li/>"),Backbone.View.apply(this),$("<a href='javascript:void(0);'/>").text(a.text).appendTo(this.$el),a.type&&1==a.type&&this.$el.addClass("bold ddHeading").css("font-size","13px")},render:function(){return this.$el},events:{click:"clicked"},clicked:function(){this.item.type&&1==this.item.type||this.trigger("item.clicked",this.item)}}),Game.DropdownView=Backbone.View.extend({constructor:function(a,b,c){this.el=a,this.items=b,this.msg=c,this.selectedItem=null,Backbone.View.apply(this)},initialize:function(){this.$("dd ul").empty();for(var a=0;a<this.items.length;a++){var b=new Game.DropdownLi(this.items[a]);this.$("dd ul").append(b.render()),this.listenTo(b,"item.clicked",this.itemClicked)}this.isDDHidden=!0},events:{click:"showDDMenu"},val:function(a){if("undefined"==typeof a)return this.selectedItem?this.selectedItem.val:"";for(var b=0;b<this.items.length;b++)if(this.items[b].val==a){this.itemClicked(this.items[b]);break}},clickItemByVal:function(a){for(var b=0;b<this.items.length;b++)if(this.items[b].val==a){this.$("dt a").text(this.items[b].text),this.hideDDMenu();break}},showDDMenu:function(a){a.stopPropagation(),this.isDDHidden&&$(a.target).closest("dd").length<1?(this.$("dd ul").show(),this.isDDHidden=!1,this.listenTo(eventManager,"close.tips",this.hideDDMenu)):eventManager.triggerCloseTips()},hideDDMenu:function(){this.$("dd ul").hide(),this.isDDHidden=!0,this.stopListening(eventManager,"close.tips",this.hideDDMenu)},itemClicked:function(a){this.selectedItem=a,this.$("dt a").text(a.text),this.hideDDMenu(),this.trigger("item.clicked",a)}}),Game.EventManager=Backbone.View.extend({constructor:function(){this.el=$("body"),Backbone.View.apply(this),this.on("feedback.status",this.feedbackBar),this.mousePressed=0,this.backgroundUMTasks=[]},triggerCloseTips:function(){this.trigger(Game.CONST.CLOSE_TIPS,!1)},events:{keypress:"keypress",click:"triggerCloseTips",mousedown:"bodyMouseDown",mouseup:"bodyMouseUp","click .feedbackStatusRow>.hideStatus":"hideFeedbackRow"},bodyMouseDown:function(){this.mousePressed++},bodyMouseUp:function(){this.mousePressed--,0!=this.mousePressed&&(console.log("error,mouse should be 0, setting",this.mousePressed),this.mousePressed=0),this.trigger("mouseup")},keypress:function(a){var b=$(a.target);b.is("input")||b.is("textarea")||this.trigger(Game.CONST.BODY_KEYPRESS,a.which)},trackBackgroundUMProcess:function(a){var b=$.Deferred();return this.backgroundUMTasks.push({messages:a,promise:b,processId:null,statusVo:null}),a.loading&&this.feedbackBar(1,a.loading||"Please wait while processing request"),b},pollProcessStatus:function(){for(var a=[],b=0;b<this.backgroundUMTasks.length;b++)this.backgroundUMTasks[b].processId&&(null!=this.backgroundUMTasks[b].statusVo&&["SUCCESS","FAILED"].indexOf(this.backgroundUMTasks[b].statusVo.status)!=-1||(_.isArray(this.backgroundUMTasks[b].processId)?a=a.concat(this.backgroundUMTasks[b].processId):a.push(this.backgroundUMTasks[b].processId)));if(a.length<1)return setTimeout(this.pollProcessStatus.bind(this),3e3);var c=this;$.get("/"+cname+"/poll-um-status/"+a.join(",")).then(function(a){for(var b=0;b<c.backgroundUMTasks.length;b++)if(c.backgroundUMTasks[b].processId&&(!c.backgroundUMTasks[b].statusVo||["SUCCESS","FAILED"].indexOf(c.backgroundUMTasks[b].statusVo.status)==-1))if(_.isArray(c.backgroundUMTasks[b].processId)){c.backgroundUMTasks[b].statusVo=null;for(var d=null,e=0;e<c.backgroundUMTasks[b].processId.length;e++){var f=a[c.backgroundUMTasks[b].processId[e]];f&&(c.backgroundUMTasks[b].statusVo?("RUNNING"!=f.status&&"QUEUED"!=f.status||(d=f.status),c.backgroundUMTasks[b].statusVo.numRequested+=f.numRequested,c.backgroundUMTasks[b].statusVo.numToRun+=f.numToRun,c.backgroundUMTasks[b].statusVo.numSuccess+=f.numSuccess,c.backgroundUMTasks[b].statusVo.numError+=f.numError):c.backgroundUMTasks[b].statusVo=f)}c.backgroundUMTasks[b].statusVo&&null!=d&&(c.backgroundUMTasks[b].statusVo.status=d)}else a[c.backgroundUMTasks[b].processId]&&(c.backgroundUMTasks[b].statusVo=a[c.backgroundUMTasks[b].processId]);setTimeout(c.pollProcessStatus.bind(c),3e3);var g=c.backgroundUMTasks[c.backgroundUMTasks.length-1];null!=g.statusVo&&("QUEUED"==g.statusVo.status||"RUNNING"==g.statusVo.status||("SUCCESS"==g.statusVo.status?g.promise.resolveWith(window,[g.statusVo]):"FAILED"==g.statusVo.status&&g.promise.rejectWith(window,[g.statusVo])))})},setProcessIdUM:function(a,b){for(var c=0;c<this.backgroundUMTasks.length;c++)this.backgroundUMTasks[c].promise==a&&(this.backgroundUMTasks[c].processId=b);this.isTimeoutInitialized||(this.pollProcessStatus(),this.isTimeoutInitialized=!0)},feedbackBar:function(a,b,c){c||(c=3e3);var d=this.$(".feedbackStatusRow");return 0==a?void d.slideUp():(1==a?(d.find(">div").eq(0).removeClass().addClass("floatL newLoader_Icon"),d.find(">div").eq(2).show()):2==a?(d.find(">div").eq(0).removeClass().addClass("floatL boldCorrect_Icon"),setTimeout(_.bind(this.hideFeedbackRow,this),c)):3==a?(d.find(">div").eq(0).removeClass().addClass("floatL blackOops_Icon"),d.find(">div").eq(2).show()):4==a&&(d.find(">div").eq(0).removeClass().addClass("floatL boldCorrect_Icon"),d.find(">div").eq(2).show()),d.find(">div").eq(1).html(b),void d.slideDown())},hideFeedbackRow:function(){this.feedbackBar(0)}},{getAcronym:function(a){if("undefined"==typeof a)return"";if(""==a)return"--";var b=a.match(/\b(\w)/g),c=b.join("").substr(0,2);return c.toUpperCase()},isValidEmail:function(a){var b=/^[A-Z0-9._%+-]+@(?:[A-Z0-9-]+\.)+[A-Z]{2,4}$/i;return b.test(a)},getNiceDate:function(a){a<1e11&&(a=1e3*a);var b=new Date(a),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];return b.getDate()+" "+c[b.getMonth()]+", "+b.getFullYear()},getDayOfMonthSuffix:function(a){if(a<1||a>31)return"";if(a>=11&&a<=13)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}});var Game=Game||{};Game.GetSupport=Backbone.View.extend({constructor:function(a){this.learnerJson=a;var b=$.trim($("script#tmpl_getHelpPopup").html());this.el=_.template(b)({header:Game.Messages.GOT_STUCK,emailplaceholder:Game.Messages.SUPPORT_EMAIL_PLACEHOLDER,summaryplaceholder:Game.Messages.SUPPORT_SUMMARY_PLACEHOLDER,descplaceholder:Game.Messages.SUPPOR_DESC_PLACEHOLDER,attachmentmsg:Game.Messages.SUPPORT_ATTACHMENT_MSG,send:Game.Messages.SEND_TXT,cancel:Game.Messages.HM_MSG_CANCEL,copyRightYear:(new Date).getFullYear()}),Backbone.View.apply(this),this.learnerJson&&this.$("input.email").parent().hide()},closeMe:function(){Game.FullScreenPopupManager.close(this.popViewId),$(".getSupport1").show()},render:function(){this.$("input,textarea").val(""),this.popViewId=Game.FullScreenPopupManager.open(this.$el,{zIndex:2e3}),this.delegateEvents(),$(".getSupport1").hide()},events:{"click .closeMe":"closeMe","click .sendSupport":"sendSupport"},sendSupport:function(){var a=$.trim(this.$("input.email").val()),b=$.trim(this.$("input.summary").val()),c=$.trim(this.$("textarea").val());if(this.learnerJson&&(a=this.learnerJson.email,""==a&&(a="temphire-"+this.learnerJson.id+"@mindtickle.com")),0==a.length)return void this.$(".errEmail").text(Game.Messages.ERR_REQ_FLD).show(0).delay(3e3).hide(0);if(!Game.EventManager.isValidEmail(a))return void this.$(".errEmail").text(Game.Messages.ERR_INVALID_FLD).show(0).delay(3e3).hide(0);if(0==b.length)return void this.$(".errSummary").text(Game.Messages.ERR_REQ_FLD).show(0).delay(3e3).hide(0);var d="<br/>";this.learnerJson&&(d+="id="+learnerJson.id),d+="<br/>Email="+a,d+="<br/>Summary="+b,d+="<br/>Description="+c;var e="";"undefined"!=typeof FS&&(e+="<br/><b>FullStory=</b>"+FS.getCurrentSessionURL()),send_feedback(d,"Wrapper-4.0",a,e),setTimeout(function(){GameObject.alert(Game.Messages.SUPPORT_THANKS)},1e3),this.closeMe(),Game.MixPanelTracking.track("learner_get_support_sent",{from:window.location.hash})}}),$(document).ready(function(){window.eventManager||(window.eventManager=new Game.EventManager);var a=function(){return 0==$(".getSupport1").length?void setTimeout(function(){a()},500):void $(document).delegate(".getSupport1","click",function(){this.getSupport||("undefined"!=typeof learnerJson?this.getSupport=new Game.GetSupport(learnerJson):this.getSupport=new Game.GetSupport),this.getSupport.render()})};a();var b="//oauth.mindtickle.com/settestcookie";location.host.indexOf(".mindtickle.com")>-1&&(b="//"+location.host+"/settestcookie"),$.ajax({type:"GET",url:b,dataType:"jsonp",jsonp:"callback",success:$.noop})}),addLoadEvent(function(){remCookie()}),Game.FullScreenPopupManager=function(){var a={},b=10,c={fullscreen:!0},d=function(d,e){var f=$.extend({},c,e),g=b++;g=f.zIndex&&f.zIndex>g?f.zIndex:g;var h="mtpopup_"+g;return $("body").addClass("mtfspopupOpen"),$("<div/>").addClass("mtfullscreenpopup").attr({id:h}).css({"z-index":g}).append(d).appendTo("body"),a[h]=f,h},e=function(b){a[b]&&($("#"+b).remove(),delete a[b]),_.isEmpty(a)&&$("body").removeClass("mtfspopupOpen")},f=function(){for(var b in a)e(b)},g=function(){var b=0;for(var c in a)b++;return b};return{open:d,close:e,closeAll:f,getNumActivePopups:g}}();var NTP={cookieShelfLife:7,requiredResponses:2,serverTimes:[],serverUrl:"/getservertime",resyncTime:2,sync:function(a){var b=NTP.getCookie("NTPClockOffset");if(b&&!a)try{var c=b.split("|")[1],d=NTP.fixTime()-parseInt(c,10);if(d<6e4*NTP.resyncTime)return!1}catch(e){}NTP.serverTimes=[],NTP.getServerTime()},getNow:function(){var a=new Date;return a.getTime()},parseServerResponse:function(a){if("object"!=typeof a){var b=parseInt(a.split(":")[0]),c=parseInt(a.split(":")[1]),d=(NTP.getNow()-c)/2;if(b-=d,NTP.serverTimes.push(b),NTP.serverTimes.length>=NTP.requiredResponses){var e=0,f=0;for(f=0;f<NTP.serverTimes.length;f++)e+=NTP.serverTimes[f];e=Math.round(e/f),NTP.setCookie("NTPClockOffset",e),NTP.setCookie("NTPClockOffset",e+"|"+NTP.fixTime())}else NTP.getServerTime()}},getServerTime:function(){try{$.ajax(NTP.serverUrl+"?t="+NTP.getNow()).done(NTP.parseServerResponse)}catch(a){return!1}},setCookie:function(a,b){var c=new Date;c.setTime(c.getTime()+24*NTP.cookieShelfLife*60*60*1e3);var d="; expires="+c.toGMTString();document.cookie=a+"="+b+d+"; path=/"},getCookie:function(a){for(var b=document.cookie.split("; "),c=0;c<b.length;c++){var d=b[c].split("=");if(d[0]==a&&null!=d[1])return d[1]}return!1},fixTime:function(a){a||(a=NTP.getNow());var b=NTP.getCookie("NTPClockOffset");try{return b=b?b.split("|")[0]:0,isNaN(parseInt(b,10))?a:a+parseInt(b,10)}catch(c){return a}}};NTP.sync(!0),setTimeout(function(){NTP.sync()},6e4*NTP.resyncTime),Array.prototype.find&&"function"==typeof Array.prototype.find||(Array.prototype.find=function(a){if("function"!=typeof a)return!1;for(var b=!1,c=0;c<this.length;c++)if(b=a(this[c]))return b;return b});var Game=Game||{};Game.InstallAppPopUp=Backbone.View.extend({constructor:function(a){html=$.trim($("script#"+a).html()),this.el=_.template(html)({}),Backbone.View.apply(this)},render:function(){this.popViewId=Game.FullScreenPopupManager.open(this.$el),this.delegateEvents()},closeMe:function(){Game.FullScreenPopupManager.close(this.popViewId)},closeMeKeyPress:function(a){32==a.keyCode&&this.closeMe()},events:{"click .closeMe":"closeMe","keypress .closeMe":"closeMeKeyPress"}}),angular.module("missions",["ui.bootstrap","mtTranslate","ui.tinymce"]),angular.module("reviews",["ui.bootstrap","mtTranslate"]),angular.module("microApps",[]),angular.module("learnginBoardDirectives",["missions","learnginBoardControllers","timer","ui.bootstrap"]),angular.module("learnginBoardCacheServices",[]),angular.module("learnginBoardServices",["learnginBoardCacheServices","ngResource"]),angular.module("learnginBoardControllers",["learnginBoardServices","learnginBoardCacheServices","missions","ui.bootstrap","mtTranslate","infinite-scroll","ngCookies"]),angular.module("learnginBoardApp",["ui.router","ct.ui.router.extras","truncate","ngAnimate","ngSanitize","infinite-scroll","learnginBoardControllers","learnginBoardDirectives","missions","reviews","assessment","commonModule","angular-walkthrough","microApps"]).config(["$sceDelegateProvider",function(a){a.resourceUrlWhitelist(["self","http://s3-ap-southeast-1.amazonaws.com/**","https://s3-ap-southeast-1.amazonaws.com/**"])}]).factory("mtHttpErrInterceptor",["$q","$location",function(a,b){return{request:function(a){return!a.url.match(/.html/)&&a.headers&&"undefined"!=typeof appVersion&&(a.headers.appVersion=appVersion),a.params&&(a.params._timestamp=(new Date).getTime()),a},responseError:function(b){return Utils.Func.handleErrorResponse(b.status,b.data,b.config.url),b.status>=300&&Utils.Func.trackError(Object.assign({},b,{url:b.config.url})),a.reject(b)}}}]).config(["$httpProvider",function(a){a.interceptors.push("mtHttpErrInterceptor")}]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){b.otherwise("/courses/recents"),b.when("/reviews","/reviews/mission"),b.when("",function(){return"undefined"!=typeof appSettings&&appSettings.isPreview?"/info":Utils.Func.showOtherTabs()?"/courses/recents":"/reviews/mission"}()),a.state("root",{url:"",templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/header-new/":"/")+"dashboard.html",controller:"GlobalCtrl",controllerAs:"globalCtrl"}).state("root.coachingreviews",{url:"/ui/coaching/dashboard",template:'<mindtickle-directive application-name="applicationName" application-path="applicationPath"></mindtickle-directive>',controller:"MicroAppsController",controllerAs:"microAppsController"}).state("reactpage",{url:"/ui/*path",template:"<div>Redirecting...</div>",controller:"ReactRedirectController",controllerAs:"reactRedirectController"}).state("root.courses",{url:"/courses?series&state&type",templateUrl:templateBaseUrl+"/dashboard/courses.html",controller:"ModuleCtrl"}).state("root.search",{url:"/entity/search?query",templateUrl:templateBaseUrl+"/dashboard/search-module.html",controller:"ModuleSearchCtrl"}).state("root.searchnew",{url:"/entity/search_global?query&type&content_type&module&series&module_types&tags&tagonly",templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/search-new/":"/")+"global-search.html",controller:"ModuleSearchCtrlNew"}).state("root.notifications",{url:"/notifications?announcement",templateUrl:templateBaseUrl+"/dashboard/dashboard-notifications.html",controller:"NotficationsCtrl",controllerAs:"notifCtrl"}).state("root.courses.series",{url:"/series/:series?entityType&tags&moduleRelevance",templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/series-new/":"/")+"series.html",controller:"ModuleSeriesCtrl"}).state("root.courses.recents",{url:"/recents?completionType&entityType&moduleRelevance",templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/recent-new/":"/")+"app-recently-assigned-area.html",controller:"RecentModuleCtrl"}).state("root.courses.reinforcement",{url:"/reinforcement/:series?completionType",templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/series-new/":"/")+"series.html",controller:"ModuleSeriesCtrl"}).state("root.courses.due",{url:"/due?completionType&entityType",templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/recent-new/":"/")+"app-due-area.html",controller:"DueModuleCtrl"}).state("root.contents",{url:"/contents?starred&type&query&series&module&tags",templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/content-new/":"/")+"dashboard-content-list.html",controller:"DashboardContentCtrl",controllerAs:"dashboardContentsCtrl"}).state("root.contents.viewsingle",{url:"/:entityId/:contentId",template:"dummy",controller:"ContentSingle",controllerAs:"ContentSingle",params:{contentId:null,entityId:null}}).state("root.reviews",{url:"/reviews",templateUrl:templateBaseUrl+"/dashboard/reviews/reviews_main_layout.html",
"abstract":!0}).state("root.reviews.missions",{url:"/mission",views:{reviewEntity:{templateUrl:templateBaseUrl+"/dashboard/reviews/mission_reviews.html",controller:"reviewsMainController",controllerAs:"revsController"}}}).state("root.reviews.missions.singleReview",{url:"/entity/:entityId/user/:userId",views:{reviewSingleEntity:{templateUrl:templateBaseUrl+"/dashboard/reviews/loadingSingleReview.html",controller:"reviewSingleEntityController",controllerAs:"revsController"}}}).state("root.reviews.coaching",{url:"/coaching",controller:"reviewsMainController",controllerAs:"revsController",views:{reviewEntity:{templateUrl:templateBaseUrl+"/reviews/field_reviews.html"}}}).state("root.analytics",{url:"/analytics",template:"<div ui-view></div>","abstract":!0}).state("root.analytics.mission",{url:"/:enId/:id/feedbackDetail",templateUrl:templateBaseUrl+"/analytics/missionReportCard.html",controller:"missionReportCardController"}).state("root.analytics.other",{url:"/:enId/:id/learnerReportCard",templateUrl:templateBaseUrl+"/analytics/reportCard.html",controller:"reportCardController"}).state("root.reviews.entity",{url:"/reviews/:reviewEntityId",templateUrl:templateBaseUrl+"/reviews/reviews_popup.html",controller:"reviewEntityController",controllerAs:"revController"}).state("root.voss",{url:"/voss",template:"<div ui-view></div>",controller:"VossCtrl",controllerAs:"vossCtrl","abstract":!0}).state("root.voss.assetList",{url:"/list",templateUrl:templateBaseUrl+"/dashboard/voss/list.html",controller:"VossAssetListCtrl",controllerAs:"vossAssetListCtrl"}).state("root.voss.asset",{url:"/asset?assetId&parentTaskId",templateUrl:templateBaseUrl+"/dashboard/voss/asset.html",controller:"VossAssetCtrl",controllerAs:"vossAssetCtrl"}).state("root.participants",{url:"/participants?query",templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/peers-new/":"/")+"dashboard-participants.html",controller:"ParticipantsCtrl",controllerAs:"participantsCtrl"}).state("root.participant",{url:"/participants/:uid",templateUrl:templateBaseUrl+"/dashboard/app-learner-profile.html",controller:"DashboardViewProfileCtrl",controllerAs:"viewProfileCtrl"}).state("root.discussions",{url:"/discussions/:geid",templateUrl:templateBaseUrl+"/discussions/layout.html",params:{fromCourse:!1},controller:"DiscussionsCtrl",controllerAs:"discCtrl","abstract":!0}).state("root.discussions.questions",{url:"/questions/:type",templateUrl:templateBaseUrl+"/discussions/question.html",controller:"QuestionsCtrl",controllerAs:"qstCtrl"}).state("root.discussions.answers",{url:"/question/:questionId",templateUrl:templateBaseUrl+"/discussions/answer.html",controller:"AnswersCtrl",controllerAs:"ansCtrl"}).state("root.courses.gamelanuch",{url:"^/:entityId?minimal",template:"Loading...",controller:"EntitySummary",controllerAs:"EntitySummary",params:{entity:null,series:null,minimal:null}}).state("course.gamelanuch",{url:"/info",template:"Loading...",controller:"EntitySummary",controllerAs:"EntitySummary",params:{entity:null,series:null}}).state("assessment.gamelanuch",{url:"/info12",template:"Loading...",controller:"EntitySummary",controllerAs:"EntitySummary",params:{entity:null,series:null}}).state("course",{url:"/course/:entityId?series",templateUrl:templateBaseUrl+"/course-layout.html",controller:"CourseCtrl",controllerAs:"courseCtrl"}).state("update",{url:"/update/:entityId?series",templateUrl:templateBaseUrl+"/quick-update-layout.html",controller:"CourseCtrl",controllerAs:"courseCtrl"}).state("mission",{url:"/mission/:entityId?series&tab&minimal",templateUrl:templateBaseUrl+"/missions.html",controller:"missionsController",controllerAs:"miC"}).state("assessment",{url:"/assessment/:entityId?series&loid",templateUrl:templateBaseUrl+"/assessment/assessment.html",controller:"AssessmentController",controllerAs:"assessmentCtrl"}).state("course.participants",{url:"/participants",templateUrl:templateBaseUrl+"/dashboard/dashboard-participants.html",controller:"ParticipantsCtrl",controllerAs:"participantsCtrl"}).state("course.participants.participant",{url:"/:uid",templateUrl:templateBaseUrl+"/dashboard/app-learner-profile.html",controller:"DashboardViewProfileCtrl",controllerAs:"viewProfileCtrl"}).state("course.discussions",{url:"/discussions/:geid",templateUrl:templateBaseUrl+"/discussions/layout.html",params:{fromCourse:!0},controller:"DiscussionsCtrl",controllerAs:"discCtrl","abstract":!0}).state("course.discussions.questions",{url:"/questions/:type",templateUrl:templateBaseUrl+"/discussions/question.html",controller:"QuestionsCtrl",controllerAs:"qstCtrl"}).state("course.discussions.answers",{url:"/question/:questionId",templateUrl:templateBaseUrl+"/discussions/answer.html",controller:"AnswersCtrl",controllerAs:"ansCtrl"})}]),angular.module("learnginBoardApp").controller("ParticipantsCtrl",["$scope","$state","$stateParams","learningBoardServiceFactory","$previousState",function(a,b,c,d,e){var f=this;return!b.params.uid&&Utils.Func.isParticipantsDisabled()?void b.go("root.courses"):(a.loaderImg=Game.Settings.loaderPic,a.smallLoader=loaderSmall,this.viewLoading=!1,this.initialParticipantsLoading=!0,this.moreParticipantsLoading=!1,this.loadingTags=!0,this.entity=c.entityId,this.entity||(window.onbeforeunload=null),this.isPartnerTraining=Utils.Func.isPartnerTraining(),a.Game=window.Game,this.start=0,this.count=12,this.activeTag=null,a.decodeURIComponent=function(a){return decodeURIComponent(encodeURIComponent(a))},a.Game=Game,this.sorton="companies.score.value",this.entity&&(this.sorton="companies.entities.score.value"),this.sortorder="desc",this.searchQuery=void 0,this.Math=window.Math,this.changeSortOnWithOrder=function(a,b){"score"==a&&this.entity&&(a="companies.entities.score.value"),a==this.sorton&&this.sortorder==b||(this.sorton=a,this.sortorder=b,this.start=0,Game.MixPanelTracking.track("Participants_Sorting",{SortBy:this.sorton,SortOrder:this.sortorder}),this.getParticipants())},this.changeSortOn=function(a){"score"==a&&this.entity&&(a="companies.entities.score.value"),a==this.sorton?"desc"==this.sortorder?this.sortorder="asc":this.sortorder="desc":(this.sorton=a,this.sortorder="desc"),this.start=0,Game.MixPanelTracking.track("Participants_Sorting",{SortBy:this.sorton,SortOrder:this.sortorder}),this.getParticipants()},this.getCurrentSortText=function(){return"companies.entities.score.value"!=this.sorton&&"companies.score.value"!=this.sorton||"desc"!=this.sortorder?"companies.entities.score.value"!=this.sorton&&"companies.score.value"!=this.sorton||"asc"!=this.sortorder?"name"==this.sorton&&"desc"==this.sortorder?Game.Messages.Z_A:"name"==this.sorton&&"asc"==this.sortorder?Game.Messages.A_Z:"NA":Game.Messages.DASHBOARD_PART_SORT_KSCORE_ASC:Game.Messages.DASHBOARD_PART_SORT_KSCORE_DESC},a.showPreviewDD=function(){return f.searchquery==f.searchQuery?(a.showDropDown=!1,!1):(a.showDropDown=!0,f.suggestions&&f.suggestions.length>0&&a.showDropDown&&a.clickInPreviewDD&&f.searchquery.length>0)},this.totalParticipants=0,this.currentParticipants=[],this.filters=void 0,f.currentTagValue=void 0,this.group=void 0,this.isPartnerTraining&&(this.numGroups=learnerJson.groups.length,this.group=learnerJson.groups.join()),this.tagSections={},a.showDropDown=!1,a.onClickOut=function(){a.clickInPreviewDD=!1},a.onClickIn=function(){a.clickInPreviewDD=!0},a.clearTheSearch=function(){a.participantsCtrl.searchquery=void 0,f.suggestions=[],f.searchQuery&&mtBrodCastService.brodCast("CLEAR_SEARCH")},a.clearGlobalSearch=function(){e.get("beforeSearchState")&&!e.get("beforeSearchState").state?e.go("beforeSearchState"):b.go(".",{query:void 0},{reload:!0})},a.resultFound=!0,a.$watch("participantsCtrl.searchquery",_.debounce(function(){if(!f.initialParticipantsLoading||!f.moreParticipantsLoading||f.searchquery!=f.searchQuery)if(f.searchquery){f.start=0,a.resultFound=!0,f.sortorder="asc";var b=null;f.isPartnerTraining&&!f.group&&(b=learnerJson.groups.join()),d.getParticipantsSuggestion(f.start,f.count,f.searchquery,f.entity,b).then(function(b){f.initialParticipantsLoading&&f.moreParticipantsLoading||(f.suggestions=b.data.learners,a.participantsCtrl.searchquery.length>=3&&f.suggestions.length>0?a.resultFound=!0:a.resultFound=!1,null==a.$$phase&&a.$apply(),f.searchQuery&&""!=f.searchQuery&&Game.MixPanelTracking.track("Search content File",{"Search term":f.searchQuery,"Search at":"Participants"}))})}else f.suggestions=[],null==a.$$phase&&a.$apply()},200),!0),this.searchQuery=b.params.query||void 0,this.getUserKscore=function(a){return Utils.Func.convertScoreToKscore(a.company_score)},a.$on("SEARCH_PARTICIPANTS",function(a,b){""==b.query&&(b.query=void 0),f.searchQuery=b.query,f.start=0,f.getParticipants()}),a.triggerSearch=function(){return""==a.participantsCtrl.searchquery?(f.searchQuery&&""!=f.searchQuery&&(f.searchQuery="",f.getCourses()),void(a.participantsCtrl.searchquery=void 0)):(f.searchQuery=a.participantsCtrl.searchquery,f.suggestions=[],f.start=0,f.getParticipants(),void(f.searchQuery&&""!=f.searchQuery&&Game.MixPanelTracking.track("Search content File",{"Search term":f.searchQuery,"Search at":"Participants"})))},this.getParticipants=function(){if(0==f.start?f.initialParticipantsLoading=!0:f.moreParticipantsLoading=!0,f.suggestions=[],f.showDropDown=!1,f.isPartnerTraining&&0==learnerJson.groups.length){f.totalParticipants=1,f.entity&&(learnerJson.entity_score=courseInfo.user.totalScore),f.currentParticipants=[learnerJson];for(var b=[],c=0;c<companySettings.profile.fields.length;c++){var e=companySettings.profile.fields[c].shortKey;if(companySettings.profile.fields[c].isEnabled&&(b.push(e),b.length>=2))break}for(var g=0;g<f.currentParticipants.length;g++){var h=f.currentParticipants[g],i=Object.keys(f.currentParticipants[g].profile);h.firstTwoFields={},h.firstTwoFieldsArr=[];for(var c=0;c<Math.min(2,b.length);c++)f.currentParticipants[g].profile[b[c]]?h.firstTwoFieldsArr.push(f.currentParticipants[g].profile[b[c]]):h.firstTwoFieldsArr.push("NA");void 0!=i[0]?h.firstTwoFields.first=""!=f.currentParticipants[g].profile[i[0]]?f.currentParticipants[g].profile[i[0]]:"NA":h.firstTwoFields.first="NA",void 0!=i[1]?h.firstTwoFields.second=f.currentParticipants[g].profile[i[1]]:h.firstTwoFields.second="NA"}return void(0==f.start?f.initialParticipantsLoading=!1:f.moreParticipantsLoading=!1)}var j=angular.copy(this.filters);if(Utils.Func.isNewDesignLanguage()&&j&&j.profile)for(var k in j.profile)j.profile[k]&&j.profile[k].length>0&&(j.profile[k]=j.profile[k].join("__"));d.getParticipants(this.start,this.count,j,this.sorton,this.sortorder,this.searchQuery,this.entity,this.group).then(function(b){f.totalParticipants=b.data.total,0==f.start&&(f.currentParticipants=[]);for(var c=0;c<b.data.learners.length;c++)b.data.learners[c].pic||(b.data.learners[c].pic=assetsBase+"/images/img_80_80.png");f.currentParticipants=f.currentParticipants.concat(b.data.learners),f.suggestions=[],f.showDropDown=!1;for(var d=[],e=0;e<companySettings.profile.fields.length;e++){var g=companySettings.profile.fields[e].shortKey;if(companySettings.profile.fields[e].isEnabled&&(d.push(g),d.length>=2))break}for(var c=0;c<f.currentParticipants.length;c++){var h=f.currentParticipants[c],i=Object.keys(f.currentParticipants[c].profile);h.firstTwoFields={},h.firstTwoFieldsArr=[];for(var e=0;e<Math.min(2,d.length);e++)f.currentParticipants[c].profile[d[e]]?h.firstTwoFieldsArr.push(f.currentParticipants[c].profile[d[e]]):h.firstTwoFieldsArr.push("NA");void 0!=i[0]?h.firstTwoFields.first=""!=f.currentParticipants[c].profile[i[0]]?f.currentParticipants[c].profile[i[0]]:"NA":h.firstTwoFields.first="NA",void 0!=i[1]?h.firstTwoFields.second=f.currentParticipants[c].profile[i[1]]:h.firstTwoFields.second="NA"}if(0==f.start&&(f.myGroupsSection=b.data.myLeanerGroups),$.isEmptyObject(f.tagSections)){f.tagSections=b.data.aggregations;var j={};for(var k in f.tagSections){var l=[];for(var m in f.tagSections[k])m&&l.push({key:m,val:f.tagSections[k][m]});l=l.sort(function(a,b){return a.val>b.val?-1:a.val<b.val?1:0}),j[k]=l}f.tagSections=j}f.loadingTags=!1,0==f.start?f.initialParticipantsLoading=!1:f.moreParticipantsLoading=!1,f.searchQuery?f.displaySearchInfoHeader=!0:f.displaySearchInfoHeader=!1,null==a.$$phase&&a.$apply()})},this.getMedalCss=function(a){if(!this.entity)return"";var b=null;return"undefined"!=typeof getCurrentMedalCssByScore&&(b=getCurrentMedalCssByScore(a)),null!=b&&"NA"!=b?(b[0].style.width="30px",b[0].style.height="30px",b[0].height=24,b[0].width=24,b.wrap("<div></div>").parent().html()):""},this.loadNextPageParticipants=function(){this.start=this.currentParticipants.length,this.getParticipants()},this.getParticipants(),this.setCurrentMedalTag=function(a){f.currentBadgeTagValue!=a?(f.filters?f.filters.badge={}:f.filters={badge:{}},f.filters.badge.medal=a,f.currentBadgeTagValue=a):(f.currentBadgeTagValue=void 0,delete f.filters.badge),f.currentBadgeTagValue&&Game.MixPanelTracking.track("Participants_Filter",{ActiveFilterType:"medal",ActiveFilterTypeValue:f.currentBadgeTagValue}),f.start=0,f.getParticipants()},this.setGroup=function(a){a==this.group?this.isPartnerTraining?this.group=learnerJson.groups.join():this.group=void 0:this.group=a,this.group&&Game.MixPanelTracking.track("Participants_Filter",{ActiveFilterType:"group",ActiveFilterTypeValue:this.group}),f.start=0,f.getParticipants()},this.isFilterApplied=function(a,b){return!!(f.filters&&f.filters.profile&&f.filters.profile[a]&&_.indexOf(f.filters.profile[a],b)>-1)},this.setCurrentTagNew=function(a,b){f.filters||(f.filters={profile:{}}),f.filters.profile[a]||(f.filters.profile[a]=[]);var c=_.indexOf(f.filters.profile[a],b);c<0?f.filters.profile[a].push(b):f.filters.profile[a].splice(c,1),f.start=0,"undefined"!=typeof f.currentTagValue&&Game.MixPanelTracking.track("Participants_Filter",{ActiveFilterType:a,ActiveFilterTypeValue:b}),f.getParticipants()},this.setCurrentTag=function(a,b){f.currentTagValue!==b?(f.filters?f.filters.profile={}:f.filters={profile:{}},f.filters.profile[a]=b,f.currentTagValue=b):(f.currentTagValue=void 0,delete f.filters.profile),f.start=0,"undefined"!=typeof f.currentTagValue&&Game.MixPanelTracking.track("Participants_Filter",{ActiveFilterType:a,ActiveFilterTypeValue:f.currentTagValue}),f.getParticipants()},this.setCurrentGroup=function(a){f.group==a?f.group=void 0:f.group=a,f.start=0,f.getParticipants()},void("undefined"!=typeof eventManager&&eventManager.trigger("hide.series.desc")))}]).controller("DiscussionsCtrl",["$scope","$translate","$state","$stateParams","socketService","learningBoardServiceFactory","$window",function(a,b,c,d,e,f,g){var h=this;this.loadingCourseDetails=!1,this.geid=d.geid,this.fromCourse=d.fromCourse,this.pages=[],f.getEntityLevelsInfo(this.geid).then(function(a){h.pages=a;for(var b=0;b<h.pages.length;b++)null==h.pages[b].name&&(h.pages[b].name="Page "+(b+1))});var i=angular.element(g);this.height=i.height(),i.bind("resize",function(){h.height=i.height(),null==a.$$phase&&a.$apply()}),this.openQuestion=function(a){h.fromCourse?c.go("course.discussions.questions",{type:a}):c.go("root.discussions.questions",{type:a})},this.isAllActive=function(){return"all"==this.currType},this.isMyActive=function(){return"my"==this.currType},this.isTopicActive=function(a){return this.currType==a},this.currType=0,this.setCurrentTopic=function(a){this.currType=a}}]).controller("QuestionsCtrl",["$scope","$translate","$state","$stateParams","socketService","learningBoardServiceFactory",function(a,b,c,d,e,f){var g=this;this.socketService=e,this.fromCourse=d.fromCourse,this.geid=d.geid,this.type=d.type,a.$parent.discCtrl.setCurrentTopic(this.type),this.scope=a,this.$state=c,this.currentSessionDeletedQuestions=[],this.questions=[],this.start=0,this.astart=0,this.count=20,this.currentView=1,this.intialLoading=!0;var h=function(a){j(a),a.user||(a.user=learnerJson),g.questions.unshift(a),g.scope.$evalAsync()},i=function(a){for(var b=[],c=0;c<a.length;c++)!a[c].user&&b.indexOf(a[c].userId)<0&&b.push(a[c].userId);b.length<1||f.getUserInfo(b).then(function(b){for(var c=0;c<a.length;c++)a[c].user||(a[c].user=b[a[c].userId])})};this.postQuestion=function(){this.postQstPopUp&&this.postQstPopUp.remove(),this.postQstPopUp=new Game.PostQuestionPopUp(g.$state,g.geid,g.type,g.scope.$parent.discCtrl.pages,g.socketService,h),this.postQstPopUp.render()},this.getQuestions=function(){"my"==this.type?e.connect.then(function(){e.getMyQuestions(g.geid,g.start,g.count,function(a){g.loadedQuestions(a)})}):"all"==this.type?e.connect.then(function(){e.getAllQuestions(g.geid,g.start,g.count,function(a){g.loadedQuestions(a)})}):e.connect.then(function(){e.getTopicQuestions(g.geid,g.type,g.start,g.count,function(a){g.loadedQuestions(a)})})};var j=function(a){a.likes&&a.likes.indexOf(learnerJson.id)>-1?a.liked=!0:a.liked=!1,a.canDelete=a.userId==learnerJson.id||companySettings.isModerator};this.loadedQuestions=function(a){questions=a.questions,questions=questions.filter(function(a){return g.currentSessionDeletedQuestions.indexOf(a.id)==-1});for(var b=0;b<questions.length;b++)j(questions[b]);g.currentView=1,0==g.start?(g.questions=questions,g.intialLoading=!1):g.questions.concat(questions),i(this.questions),null==g.scope.$$phase&&g.scope.$apply()},this.loadMoreQuestions=function(){this.start=this.start+this.count,this.getQuestions()},this.likeQuestion=function(a){a.likes.push(learnerJson.id),a.liked=!0,e.likeQuestion(this.geid,a.id)},this.unLikeQuestion=function(a){a.likes.splice(a.likes.indexOf(learnerJson.id),1),a.liked=!1,e.unlikeQuestion(this.geid,a.id)},this.deleteQuestion=function(a){var b=this;Utils.Func.confirm(Game.Messages.CONFIRM_DELETE_QUESTION_TXT+"?",function(){var c=b.questions.indexOf(a);c>-1&&(b.currentSessionDeletedQuestions.push(a.id),b.questions.splice(c,1),e.deleteQuestion(b.geid,a.id))})},this.openAnswers=function(a){g.fromCourse?c.go("course.discussions.answers",{questionId:a.id,question:a,type:this.type,geid:this.geid}):c.go("root.discussions.answers",{questionId:a.id,question:a,type:this.type,geid:this.geid})},this.getQuestions()}]).controller("AnswersCtrl",["$scope","$translate","$state","$stateParams","socketService","learningBoardServiceFactory",function(a,b,c,d,e,f){var g=this;this.socketService=e,this.geid=d.geid,this.scope=a,this.$state=c,this.questionId=d.questionId,this.currentQst=d.question,this.type=d.type,a.learnerJson=learnerJson,this.answers=[],this.start=0,this.astart=0,this.count=20,this.currentView=1,this.intialLoading=!0;var h=function(a){for(var b=[],c=0;c<a.length;c++)!a[c].user&&b.indexOf(a[c].userId)<0&&b.push(a[c].userId);b.length<1||f.getUserInfo(b).then(function(b){for(var c=0;c<a.length;c++)a[c].user||(a[c].user=b[a[c].userId])})};this.currentQst?a.$parent.setCurrentTopic("all"):e.connect.then(function(){e.getQuestion(g.geid,g.questionId,function(a){g.currentQst=a.questions[0],i(g.currentQst),h([g.currentQst]),g.loadAnswers()})});var i=function(a){a.likes&&a.likes.indexOf(learnerJson.id)>-1?a.liked=!0:a.liked=!1,a.canDelete=a.userId==learnerJson.id||companySettings.isModerator};this.loadAnswers=function(){e.getAnsweres(g.geid,this.currentQst.id,this.astart,this.count,function(a){g.loadedAnswers(a)})},this.loadedAnswers=function(a){var b=a.answers;b.sort(function(a,b){return a.createTime>b.createTime});for(var c=0;c<b.length;c++)b[c].likes&&b[c].likes.indexOf(learnerJson.id)>-1?b[c].liked=!0:b[c].liked=!1,b[c].canDelete=b[c].userId==learnerJson.id||companySettings.isModerator;0==g.astart?(g.answers=b,g.intialLoading=!1):g.answers.concat(b),h(g.answers),null==g.scope.$$phase&&g.scope.$apply()},this.loadMoreAnswers=function(){this.astart=this.astart+this.count,this.loadAnswers(g.currentQst)},this.likeQuestion=function(a){a.likes.push(learnerJson.id),a.liked=!0,e.likeQuestion(this.geid,a.id)},this.unLikeQuestion=function(a){a.likes.splice(a.likes.indexOf(learnerJson.id),1),a.liked=!1,e.unlikeQuestion(this.geid,a.id)},this.likeAnswer=function(a){a.liked=!0,a.likes.push(learnerJson.id),e.likeAnswer(this.geid,this.currentQst.id,a.id)},this.unLikeAnswer=function(a){a.numLikes-=1,a.liked=!1,a.likes.splice(a.likes.indexOf(learnerJson.id),1),e.unlikeAnswer(this.geid,this.currentQst.id,a.id)},this.deleteAnswer=function(a){var b=this;Utils.Func.confirm(Game.Messages.CONFIRM_DELETE_ANSWER_TXT+"?",function(){var c=b.answers.indexOf(a);c>-1&&(b.answers.splice(c,1),b.currentQst.numAnswers=b.answers.length,e.deleteAnswer(b.geid,b.currentQst.id,a.id))})},this.postAnswer=function(){var a=$.trim(g.newAnswer).replace(/\n\s*\n/g,"\n");return""==a?void GameObject.alert(Game.Messages.LB_TXT_ENTER_TXT):(e.postAnswer(g.geid,{quesId:g.currentQst.id,text:a}),g.answers.push({text:a,numLikes:0,createTime:(new Date).getTime()/1e3,userId:learnerJson.id,liked:!1,likes:[],canDelete:!0,user:learnerJson}),g.newAnswer="",g.currentQst.numAnswers=this.answers.length,Game.MixPanelTracking.track("Post a answer",{Destination:"Course",Location:"Discussion page",Action:"Question","Content Id":g.geid,"Question Id":g.currentQst.id,text:a}),void 0)}}]).controller("CourseCtrl",["$scope","$translate","$state","$stateParams","learningBoardServiceFactory","socketService","$timeout",function(a,b,c,d,e,f,g){a.isLoaded=!0,a.msg="draw Now",g(function(){window.loadedFromParent=d.series,d.entityId&&($.ajaxSettings&&$.ajaxSettings.data&&delete $.ajaxSettings.data.loadedEntityVersion,appSettings.isPreview?"assessment"==c.current.name||("update"==c.current.name?a.mtgame=new Game.PreviewUpdateModel(d.entityId,loadedFromParent):a.mtgame=new Game.PreviewGameModel):"update"==c.current.name?a.mtgame=new Game.UpdateModel(d.entityId,loadedFromParent):a.mtgame=new Game.GameModel(d.entityId,loadedFromParent))},0),this.isPlayArea=function(){return"course"==c.current.name||"update"==c.current.name},this.showGetSupport=function(){this.getSupport||(this.getSupport=new Game.GetSupport(learnerJson)),this.getSupport.render()},a.$on("$destroy",function(){a.mtgame&&(a.mtgame.gameView&&a.mtgame.gameView.undelegateEvents(),delete a.mtgame)}),"undefined"!=typeof eventManager&&eventManager.trigger("hide.series.desc")}]).controller("CourseSideBarCtrl",["$scope","$translate","$state","$stateParams","mtBrodCast","socketService","learningBoardServiceFactory","$window","$timeout",function(a,b,c,d,e,f,g,h,i){this.sideBarStatus=1,Utils.Func.isiPad&&(this.sideBarStatus=0),appSettings.isPreview&&(this.sideBarStatus=0),this.currentHeader=1,this.currentTab=1,this.facto="",this.scope=a,this.discussionTopicId=0,this.discussionQuestionId=0,this.startQ=0,this.countQ=10,this.questions=null,this.question=null,this.answers=null,this.isAnswerView=!1,this.isLocked=!1,this.factoArr=[];var j=this;this.factoPlayImg=assetsBase+"/images/Play-facto.png";var k=angular.element(h);this.height=k.height(),k.bind("resize",function(){j.height=k.height(),a.$evalAsync()}),companySettings.isSupportEnabled||$(".getSupport1").remove(),a.$on("COURSE_INFO",function(b,c){a.settings=c.courseInfo,a.isDiscussion=a.settings.fixed.isDiscussion,appSettings.isPreview||(a.settings.fixed.isSupport||$(".getSupport1").remove(),a.settings.fixed.isHallofFame||(m(),a.deleteSideBar=!0),null==a.$$phase&&a.$apply(),l(a.settings.fixed.isHallofFame))});var l=function(b){if(b&&!a.lbInitialized){var c={moduleId:d.entityId,lbSubType:a.settings.fixed.leaderboard_type,domId:"leaderboard",company:{cname:cname,defaultLanguage:{code:locale},lsType:companySettings.lsSettings.lsType},user:{id:learnerJson.id,name:learnerJson.name,pic:learnerJson.pic,score:courseInfo.user.totalScore,medal:courseInfo.user.currentBadgeIdx}};a.leaderboard=new Leaderboard(c),a.leaderboard.init(),a.lbInitialized=!0}},m=function(a,b){j.sideBarStatus=0,j.isLocked=!0,j.scope.$evalAsync()};a.$on("lockSideBar",m),a.$on("destroy.lb",function(){a.leaderboard&&(a.leaderboard.destroy(),a.leaderboard=void 0)}),a.$on("$destroy",function(){if(a.leaderboard&&(a.leaderboard.destroy(),a.leaderboard=void 0),j.factoAudios&&j.factoAudios.length>0)for(var b=0;b<j.factoAudios.length;b++)j.factoAudios[b].remove();j.factoAudios=[]}),this.numTabsEnabled=function(){var b=0;return a.settings&&(companySettings.lsSettings&&companySettings.lsSettings.disabledLeaderBoardForAll&&(a.settings.fixed.isHallofFame=!1),j.factoArr.length>0&&b++,a.settings.fixed.isDiscussion&&b++,a.settings.fixed.isHallofFame&&b++,j.hideTranscription||b++),b},a.$on("CHANGED_SCORE",function(){var b={id:learnerJson.id,name:learnerJson.name,pic:learnerJson.pic,score:courseInfo.user.totalScore,medal:courseInfo.user.currentBadgeIdx};a.leaderboard&&a.leaderboard.refresh(b)}),a.$on("sidebarData",function(b,c){(companySettings.extra_config&&companySettings.extra_config.disableHOF||companySettings.lsSettings&&companySettings.lsSettings.disabledLeaderBoardForAll)&&(a.settings.fixed.isHallofFame=!1),companySettings.extra_config&&companySettings.extra_config.disableDiscussionsForAll&&(a.settings.fixed.isDiscussion=!1),j.hideTranscription=!0,j.transcriptionMixpanelData={},null!=c.hideTranscription&&(j.hideTranscription=c.hideTranscription,j.transcriptionMixpanelData=c.transcriptionMixpanelData),c.facto.length>0||a.settings.fixed.isDiscussion||a.settings.fixed.isHallofFame||!j.hideTranscription?(j.isLocked=!1,j.isAnswerView=!1,a.deleteSideBar=!1,j.currentHeader=2,j.factoArr=[],c.vpId?(a.isDiscussion=a.settings.fixed.isDiscussion,j.discussionTopicId!=c.vpId&&(j.discussionTopicId=c.vpId,j.questions=null)):a.isDiscussion=!1,j.sideBarStatus=1,Utils.Func.isiPad&&(j.sideBarStatus=0),c.facto.length>0?(j.changeCurrentTab(1),j.factoArr=c.facto,i(function(){j.sideBarStatus=1,j.isLocked=!1,j.factoAudios=[];for(var a=0;a<j.factoArr.length;a++)if(j.factoArr[a].type.toUpperCase()==Game.WebModuleTickle.MTAUDIO.toUpperCase()){var b=$("#audio_div_"+j.factoArr[a].id),c=$('<div style="width: 250px; cursor: pointer; margin: 10px auto; position: relative;"><div><div class="lineHeight18 textalign_C audioTitle"></div></div><div class="audioPlayer" style="height:180px;"></div></div>');if(b){b.html(c),$(".audioTitle",c).text(j.factoArr[a].title);var d=new Game.MTVideoPlayer($(".audioPlayer",c),j.factoArr[a],{autoPlay:!1});j.factoAudios.push(d),d.render(),d.$el.removeClass("audioThumb")}}},1e3)):a.isDiscussion?j.changeCurrentTab(2):a.settings.fixed.isHallofFame?j.changeCurrentTab(3):j.hideTranscription?(j.sideBarStatus=0,j.isLocked=!0,a.deleteSideBar=!0):(j.changeCurrentTab(4),i(function(){j.sideBarStatus=1,j.isLocked=!1,j.changeCurrentTab(4)},1e3)),null==j.scope.$$phase&&j.scope.$apply()):j.isLocked=!0}),this.isMedia=function(a){switch(a.type){case"IMAGE":case"ALBUM":case"VIDEO":case"EMBED":case"YOUTUBE":case"SLIDESHARE":case"BRAINSHARK":case"PREZI":case"IFRAME":case"LOEMBEDURL":case"SWF":case"ARCHIVE":case"DOCUMENT_PDF":case"DOCUMENT_PPT":case"DOCUMENT_WORD":case"DOCUMENT_XLS":return!0}return!1},this.getFactoThumbPath=function(a){return"IMAGE"==a.type?a.processed_path:"ALBUM"==a.type?a.imagesVoIds[0].processed_path:"VIDEO"==a.type?a.thumbPath:"EMBED"==a.type?JSON.parse(a.frame).thumbnail_url:"IFRAME"==a.type&&a.thumbPath?a.thumbPath:"ARCHIVE"==a.type?a.thumbPath:"DOCUMENT_PDF"==a.type||"DOCUMENT_PPT"==a.type||"DOCUMENT_WORD"==a.type||"DOCUMENT_XLS"==a.type?a.urls.thumb:(a.hideFactoPlayImg=!0,"//s3-ap-southeast-1.amazonaws.com/mtgame-cdn.mindtickle.com/allaboard4.0/thumb/factopediaDefaultThumbnail.png")},this.openFactoMedia=function(a){var b=new Game.PreviewContentPopUp(c,a,{isFacto:!0,viewOnly:!0});b.render()},this.downloadHandout=function(a){window.open(a)};var n=function(b){b.sideBarStatus=0,b.isLocked=!0,a.deleteSideBar=!0},o=function(b){b.sideBarStatus=1,b.isLocked=!1,a.deleteSideBar=!1};a.$on("CHANGE_HEADER",function(b,c){j.currentHeader=c.id,1==j.currentHeader?(j.factoArr=[],a.settings.fixed.isHallofFame?o(j):n(j)):2==j.currentHeader&&(a.settings.fixed.isDiscussion?o(j):n(j)),0==j.factoArr.length&&a.settings.fixed.isDiscussion?j.currentTab=2:j.currentTab=1,null==j.scope.$$phase?(console.log("applied"),j.scope.$apply()):console.log("not applied")}),this.toggleSideBar=function(){if((2!=j.currentHeader||1!=j.isLocked)&&(j.factoArr&&j.factoArr.length>0&&(a.deleteSideBar=!1),!a.deleteSideBar)){var b=1==j.currentHeader&&(a.settings.fixed.isHallofFame||a.settings.fixed.isNewsfeeds),c=2==j.currentHeader&&(a.settings.fixed.isDiscussion||null!=j.facto);(b||c)&&(0==j.sideBarStatus?j.sideBarStatus=1:j.sideBarStatus=0);try{Game.MixPanelTracking.track("Course Sidebar",{"Content Name":a.settings.fixed.name,"Content Id":a.settings.fixed.id,Show:0==j.sideBarStatus?"OFF":"ON","Series Name":a.settings.seriesVo.name,"Series Id":a.settings.seriesVo.id})}catch(d){console.error(d)}setTimeout(function(){eventManager.trigger("sideBarStateChanged")},500)}},this.changeCurrentTab=function(b){this.currentTab=b,2==b&&null===this.questions&&f.connect.then(function(){f.getTopicQuestions(a.settings.fixed.id,j.discussionTopicId,j.startQ,j.countQ,function(a){j.loadedQuestions(a)})}),4===b&&($(".tr-btn").is(":visible")&&$(".tr-btn").click(),Game.MixPanelTracking.track("media_transcript_tab_clicked",j.transcriptionMixpanelData))};var p=function(a){a.likes&&a.likes.indexOf(learnerJson.id)>-1?a.liked=!0:a.liked=!1,a.canDelete=a.userId==learnerJson.id||companySettings.isModerator},q=function(a){for(var b=[],c=0;c<a.length;c++)!a[c].user&&b.indexOf(a[c].userId)<0&&b.push(a[c].userId);b.length<1||g.getUserInfo(b).then(function(b){for(var c=0;c<a.length;c++)a[c].user||(a[c].user=b[a[c].userId])})};this.currentSessionDeletedQuestions=[],this.loadedQuestions=function(a){questions=a.questions,questions=questions.filter(function(a){return j.currentSessionDeletedQuestions.indexOf(a.id)==-1});for(var b=0;b<questions.length;b++)p(questions[b]);0==j.startQ?(j.questions=questions,j.intialLoading=!1):j.questions.concat(questions),q(j.questions),null==j.scope.$$phase&&j.scope.$apply()};var r=function(a){p(a),a.user||(a.user=learnerJson),j.questions.unshift(a),j.scope.$evalAsync()};this.postQuestion=function(){return this.currQuesText=$.trim(this.currQuesText),this.currQuesText?(f.postQuestion(a.settings.fixed.id,{topicId:j.discussionTopicId,text:this.currQuesText},r),Game.MixPanelTracking.track("Post a answer",{Destination:"Course",Location:"Side by Topic",Action:"Question","Content Id":a.settings.fixed.id,text:this.currQuesText}),void(this.currQuesText="")):void Utils.Func.alert(Game.Messages.LB_TXT_ENTER_QUESTION)},this.likeQuestion=function(b){b.likes.push(learnerJson.id),b.liked=!0,f.likeQuestion(a.settings.fixed.id,b.id)},this.unLikeQuestion=function(b){b.likes.splice(b.likes.indexOf(learnerJson.id),1),b.liked=!1,f.unlikeQuestion(a.settings.fixed.id,b.id)},this.deleteQuestion=function(b){var c=this;Utils.Func.confirm(Game.Messages.CONFIRM_DELETE_QUESTION_TXT+"?",function(){var d=c.questions.indexOf(b);d>-1&&(c.currentSessionDeletedQuestions.push(b.id),c.questions.splice(d,1),f.deleteQuestion(a.settings.fixed.id,b.id))})},this.deleteAnswer=function(b){var c=this;Utils.Func.confirm(Game.Messages.CONFIRM_DELETE_ANSWER_TXT+"?",function(){var d=c.answers.indexOf(b);d>-1&&(c.answers.splice(d,1),f.deleteAnswer(a.settings.fixed.id,c.question.id,b.id),c.question.numAnswers-=1)})},this.likeAnswer=function(b){b.liked=!0,b.likes.push(learnerJson.id),f.likeAnswer(a.settings.fixed.id,this.question.id,b.id)},this.unLikeAnswer=function(b){b.numLikes-=1,b.liked=!1,b.likes.splice(b.likes.indexOf(learnerJson.id),1),f.unlikeAnswer(a.settings.fixed.id,this.question.id,b.id)},this.postAnswer=function(){this.currQuesText=$.trim(this.currQuesText),this.currQuesText&&(f.postAnswer(a.settings.fixed.id,{quesId:this.question.id,text:this.currQuesText}),this.answers.push({text:this.currQuesText,numLikes:0,createTime:(new Date).getTime()/1e3,userId:learnerJson.id,liked:!1,likes:[],canDelete:!0,user:learnerJson}),this.question.numAnswers+=1,Game.MixPanelTracking.track("Post a answer",{Destination:"Course",Location:"Side by Topic",Action:"Question","Content Id":a.settings.fixed.id,"Question Id":this.question.id,text:this.currQuesText}),this.currQuesText="")},this.openQuestion=function(a){this.isAnswerView=!0,this.question=a,this.start=0,this.count=10,this.answers=[],
this.loadAnswers()},this.closeQuestion=function(){this.isAnswerView=!1,this.start=0,this.count=this.questions.length},this.loadAnswers=function(){f.getAnsweres(a.settings.fixed.id,this.question.id,this.start,this.count,function(a){j.loadedAnswers(a)})},this.loadedAnswers=function(a){for(var b=a.answers,c=0;c<b.length;c++)b[c].likes&&b[c].likes.indexOf(learnerJson.id)>-1?b[c].liked=!0:b[c].liked=!1,b[c].canDelete=b[c].userId==learnerJson.id||companySettings.isModerator;0==j.start?this.answers=b:j.answers.concat(b),q(j.answers)},this.openAnswers=function(){c.go("course.discussions.answers",{questionId:this.question.id,question:this.question,type:this.discussionTopicId,geid:a.settings.fixed.id}),mtBrodCastService.brodCast("CHANGE_HEADER",{id:1,name:""})},this.openQuestions=function(){c.go("course.discussions.questions",{type:this.discussionTopicId,geid:a.settings.fixed.id}),mtBrodCastService.brodCast("CHANGE_HEADER",{id:1,name:""}),eventManager.trigger("pause.jwplayer")}}]).controller("CourseLeaderBoardCtrl",["$scope","$translate","$state","$stateParams","learningBoardServiceFactory",function(a,b,c,d,e){var f=this;this.lbDetails=[],this.showLBFilters=0,this.lbType="TOP",this.start=0,this.count=20,this.medalNames=[],this.groupDDHidden=!0,this.isPartnerTraining=Utils.Func.isPartnerTraining();for(var g=courseInfo.settings.medals.badgeList.length-1;g>-1&&(courseInfo.settings.medals.badgeList[g].enabled&&this.medalNames.push({index:g,name:courseInfo.settings.medals.badgeList[g].thumbnail.title,img:courseInfo.settings.medals.badgeList[g].thumbnail.obj.original_path}),!(this.medalNames.length>=2));g--);this.lbGroupDetails=[],a.openParticipant=function(a){location.hash="/participants/"+a.id},this.currentFilterValue=void 0,this.filters=void 0,this.isPartnerTraining&&(this.filters={},this.numGroups=learnerJson.groups.length,0==this.numGroups&&($(".hofSectionForScroll").css({"border-bottom":"none"}),$(".lbMainDiv,.lbLoaderDiv").remove()),this.filters.groups=[learnerJson.groups[0]]),this.meInTopList=!1;var h=function(){if("TOP"==f.lbType){f.meInTopList=!1;var a=1,b=!1,c={rank:-1,id:learnerJson.id,medal:courseInfo.user.currentBadgeIdx,name:learnerJson.name,pic:learnerJson.pic,score:courseInfo.user.totalScore,medalDiv:""},d=null;"undefined"!=typeof getCurrentMedalCssByScore&&(d=getCurrentMedalCssByScore(c.score)),null!=d&&"NA"!=d&&(c.medalDiv=d.wrap("<div></div>").parent().html());for(var e=!0,g=0;g<f.lbDetails.length;g++)if("undefined"!=typeof courseInfo&&courseInfo.user&&f.lbDetails[g].id==courseInfo.user.userId){if(b=!0,f.lbDetails[g].score==c.score){e=!1,f.meInTopList=!0;break}f.lbDetails.splice(g,1);break}if(e&&(f.lbDetails.length<f.count||courseInfo.user.totalScore>f.lbDetails[f.lbDetails.length-1].score)){for(var h=!1,g=0;g<f.lbDetails.length;g++)if(c.score>f.lbDetails[g].score){f.lbDetails.splice(g,0,c),f.meInTopList=!0,h=!0;break}h||(f.lbDetails.push(c),f.meInTopList=!0),f.lbDetails.splice(f.count);for(var g=0;g<f.lbDetails.length;g++)f.lbDetails[g].rank=a++}}};this.setGroupFilter=function(a){this.filters.groups[0]!=a.shortKey&&(this.filters={displayName:a.value},this.filters.groups=[a.shortKey],this.fetchLB())},this.applyFilter=function(){if(this.newFilters){this.filters={displayName:this.newFilters.value},"Group"==this.newFilters.displayName?this.filters.groups=[this.newFilters.shortKey]:this.filters.profile={key:this.newFilters.shortKey,value:this.newFilters.value};try{if("undefined"!=typeof courseInfo&&!appSettings.isPreview){var a={"Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,Filters:this.newFilters.displayName,ActiveFilterValue:this.newFilters.value};Game.MixPanelTracking.track("Filter at leaderboard",a)}}catch(b){console.log(b)}}else this.filters=void 0;this.fetchLB(),this.showLBFilters=0},this.fetchScoreLB=function(){f.isPartnerTraining&&0==learnerJson.groups.length?(h(),f.callInProgress=!1):e.getLeaderBoard(d.entityId,f.lbType,f.start,f.count,f.filters).then(function(a){for(var b=0;b<a.length;b++){var c=null;"undefined"!=typeof getCurrentMedalCssByScore&&(c=getCurrentMedalCssByScore(a[b].score)),null!=c&&"NA"!=c?a[b].medalDiv=c.wrap("<div></div>").parent().html():a[b].medalDiv="","undefined"!=typeof courseInfo&&courseInfo.user&&a[b].id==courseInfo.user.userId&&(f.meInTopList=!0)}f.lbDetails=a,h(),f.callInProgress=!1,"RELATIVE"==f.lbType&&setTimeout(function(){$(".hofSectionForScroll").animate({scrollTop:$(".bg_feeddc").parent().position().top+100},0)},1e3)})},this.fetchGroupLB=function(){e.getGroupLeaderBoard(d.entityId,f.start,f.count).then(function(a){for(var b in a)if(a[b].medals)for(var c=0;c<f.medalNames.length;c++)a[b].medals[f.medalNames[c].index]||(a[b].medals[f.medalNames[c].index]=0);var d=function(a,b){for(var c=0;c<f.medalNames.length;c++){if(a.medals[f.medalNames[c].index]>b.medals[f.medalNames[c].index])return-1;if(a.medals[f.medalNames[c].index]<b.medals[f.medalNames[c].index])return 1}return 0};f.lbGroupDetails=a.sort(d);for(var c=0;c<f.lbGroupDetails.length;c++)f.lbGroupDetails[c].rank=c+1;f.callInProgress=!1})},this.fetchLB=function(){f.callInProgress=!0,courseInfo.fixed&&"GROUP"==courseInfo.fixed.leaderboard_type?this.fetchGroupLB():this.fetchScoreLB()},this.fetchLBFilters=function(){f.lbFilters=[],e.getLeaderBoardFilters(d.entityId).then(function(a){if(a.lbFilters&&(f.lbFilters=f.lbFilters.concat(a.lbFilters),f.lbFilters.sort(function(a,b){return a.value==b.value?0:a.value>b.value?-1:1}),f.filters&&0!=f.filters.groups.length))for(var b=0;b<f.lbFilters.length;b++)f.lbFilters[b].shortKey==f.filters.groups[0]&&(f.filters.displayName=f.lbFilters[b].value)})},this.fetchLB(),this.fetchLBFilters(),this.interValId=setInterval(function(){f.fetchLB(),f.fetchLBFilters()},15e4),a.$on("$destroy",function(){clearInterval(f.interValId)}),a.$on("CHANGED_SCORE",function(){"TOP"==f.lbType&&"GROUP"!=courseInfo.fixed.leaderboard_type?h():f.fetchLB(),null==a.$$phase&&a.$apply()}),this.showProfileSnippet=function(a,b){c.go("course.participants.participant",{uid:a.id})}}]).controller("NewsFeedCtrl",["$scope","$state","$stateParams","socketService","learningBoardServiceFactory",function(a,b,c,d,e){var f=this;this.currentFeeds=[];var g=function(a){var b=Game.Messages["NF_MESSAGES_TYPE_"+a.event];if("undefined"!=typeof b){var c={name:a.user.name};if("EARNED_BADGE"==a.event?courseInfo&&courseInfo.settings.medals.badgeList[a.badgeIndex]?c.entity=courseInfo.settings.medals.badgeList[a.badgeIndex].thumbnail.obj.title:c.entity="badge":"COMPLETED_TOPIC"==a.event?c.entity=getTopicNameById(a.topicId):"COMPLETED_LEVEL"==a.event?c.entity=getPageNameById(a.levelId):c.entity=courseInfo.fixed.name,Utils.Func.isPartnerTraining()&&a.user.groups&&learnerJson.id!=a.user.id){for(var d=!1,e=0;e<a.user.groups.length;e++)_.indexOf(learnerJson.groups,a.user.groups[e])!=-1&&(d=!0);if(!d)return}null!=c.entity&&(a.display=_.template(b)(c),f.currentFeeds.push(a),f.currentFeeds.sort(function(a,b){return new Date(b.timestamp)-new Date(a.timestamp)}))}};d.listenToNewsfeeds(courseInfo.fixed.id,function(b,c){if(b)return void console.log("error loading newsfeeds");for(var d=[],f=0;f<c.length;f++)d.push(c[f].value.userId);d=_.uniq(d),e.getUserInfo(d).then(function(b){for(var d=0;d<c.length;d++)c[d].value.user=b[c[d].value.userId],c[d].value.user?g(c[d].value):console.log("no user found for newsfeed");null==a.$$phase&&a.$apply()})},function(b){e.getUserInfo([b.userId]).then(function(c){b.user=c[b.userId],g(b),null==a.$$phase&&a.$apply()})}),a.$on("$destroy",function(){d.stoplisteningNewsfeeds()})}]).controller("HandoutsCtrl",["$scope","$translate","$state","$stateParams","learningBoardServiceFactory","mtBrodCast",function(a,b,c,d,e,f){var g=this;this.numNewHandouts=0,this.totalHandouts=0,this.loadingHandouts=!1,this.getHandouts=function(){appSettings.isPreview||(g.loadingHandouts=!0,e.getHandouts(d.entityId).then(function(a){g.currentHandouts=a,g.totalHandouts=Object.keys(g.currentHandouts).length,g.loadingHandouts=!1}))},a.$on("reFreshHandouts",function(){g.getHandouts()}),this.downloadHandout=function(a){window.open(a.original_path)},this.getHandouts()}]).controller("EntitySummary",["$scope","$state","$stateParams","learningBoardServiceFactory","$timeout","$modal","$rootScope","$previousState",function(a,b,c,d,e,f,g,h){var i=this;if(h.get()&&"course"!==h.get().state.names){var j=h.get().state.name;if(["mission","update","assessment"].indexOf(j)!==-1)return h.go("beforeEntitySummaryState"),void h.forget("beforeEntitySummaryState");h.memo("beforeEntitySummaryState")}if(""==c.entityId||void 0==c.entityId)return void b.go("root.courses");var k=function(){if("LOCKED"==a.entity.lockState)return void(null==c.series?Utils.Func.showOpenSeriesPrompt(a.entity.name,function(){void 0!=a.entity.parentList&&a.entity.parentList.length>0&&b.go("root.courses",{series:a.entity.parentList[0].id,query:void 0})},function(){b.go("root.courses",{series:void 0,query:void 0})}):b.go("root.courses",{series:c.series}));if(location.hash)try{var d=Game.MixPanelTracking.getQueryParams(location.hash.substr(location.hash.indexOf("?")+1));d.series&&(a.series=d.series)}catch(e){}"COACHING"==a.entity.type?i.summaryPopup=new Game.CoachingSummaryPopUp(b,a.entity,a.series,f):"ASSESSMENT"==a.entity.type?i.summaryPopup=new Game.AssessmentSummaryPopUp(b,a.entity,a.series):i.summaryPopup=new Game.EntitySummaryPopUp(b,a.entity,a.series)};c.entity?(a.entity=c.entity,a.series=c.series,g.$broadcast("refresh.achievements",a.entity),k.call(this)):"course.gamelanuch"==b.current.name&&appSettings.isPreview?e(function(){var b=Math.floor((new Date).getTime()/1e3);if(a.entity={id:courseInfo.fixed.id,type:5==courseInfo.fixed.mtentityType?"ASSESSMENT":"COURSE",name:courseInfo.fixed.name,desc:courseInfo.fixed.desc,medalName:"",medalUrl:"",isCertificateEnabled:!1,certificateUrl:"",canReattempt:!1,score:courseInfo.user.totalScore,totalScore:courseInfo.user.totalScore,thumb:courseInfo.fixed.thumbObj?courseInfo.fixed.thumbObj.obj:{url_180_120:""},dueDate:Math.floor(b+86400*courseInfo.fixed.numDaysForDueDate),state:"ADDED",percCompletion:0,availableFrom:b,completedOn:0,numberOfAllowedReattempts:courseInfo.fixed.numberOfAllowedReattempts,reattemptVersion:1,startedOn:Date.now()/1e3,timeLimit:courseInfo.settings.timeLimit,serverCurrentTime:Date.now(),remainingTimeInSeconds:courseInfo.settings.timeLimit,endTimeStamp:Date.now()/1e3+courseInfo.settings.timeLimit,showCourseOutline:courseInfo.fixed.showCourseOutline,introductionVideos:courseInfo.fixed.introductionVideos,pollConfirmBeforeSubmit:courseInfo.fixed.pollConfirmBeforeSubmit},a.entity.introductionVideos&&a.entity.introductionVideos.length>0&&a.entity.introductionVideos.map(function(a){a.object&&a.obj&&(83==a.obj.type&&(a.obj.type="VIDEO"),a.objectNode=a.obj)}),5==courseInfo.fixed.mtentityType&&(a.entity.totalLearningObjects=assessmentEntityPreviewObj.qstList.length,a.entity.totalSubmittedLearningObjects=0,a.entity.passingScore=assessmentEntityPreviewObj.assessmentEntity.settings.passingScore,a.entity.wrongAttempPanelty=assessmentEntityPreviewObj.assessmentEntity.settings.wrongAttempPanelty),null!=courseInfo.fixed.dueDate)if(a.entity.dueDateObj={dueDateExpiryAction:courseInfo.fixed.dueDate.dueDateExpiryAction},"NONE"!=courseInfo.fixed.dueDate.dueDateType)if("NUM_MINUTES_AFTER_INVITATION"==courseInfo.fixed.dueDate.dueDateType){var c=Math.round((new Date).getTime()/1e3);a.entity.dueDateObj.dueOn=c+86400*(courseInfo.fixed.dueDate.value/24/60)}else a.entity.dueDateObj.dueOn=courseInfo.fixed.dueDate.value;else a.entity.dueDateObj.dueOn=0;else a.entity.dueDateObj={dueDateExpiryAction:"NONE",dueOn:0};0==courseInfo.fixed.numDaysForDueDate&&(a.entity.dueDate=0),a.entity.thumb&&(a.entity.thumb.url_180_120=a.entity.thumb.processed_path_180_120),a.series=0,k()},10):"undefined"!=typeof appSettings&&appSettings.isPreview||d.fetchEntity(c.entityId,c.series).then(function(b){a.entity=b,a.series=null,g.$broadcast("refresh.achievements",a.entity),k.call(i)}),a.$on("$destroy",function(){i.summaryPopup&&i.summaryPopup.remove()}),"undefined"!=typeof eventManager&&eventManager.trigger("hide.series.desc")}]).controller("ReactRedirectController",["$scope","$translate","$state","$stateParams",function(a,b,c,d){location.href="/ui/"+d.path}]).controller("VossCtrl",["$scope","$rootScope",function(a,b){b.$on("$stateChangeStart",function(b,c,d,e,f,g){"root.voss.assetList"==c.name&&"root.voss.asset"==e.name&&a.destroyAsset?a.destroyAsset():"root.voss.asset"==c.name&&"root.voss.assetList"==e.name&&a.destroyAssetList&&a.destroyAssetList()})}]).controller("VossAssetCtrl",["$scope","$rootScope","$stateParams",function(a,b,c){a.destroyAsset=new Voss("voss-asset").initSME(c.assetId,c.parentTaskId);b.$on("$stateChangeStart",function(b,c,d,e,f,g){"root.voss.asset"==e.name&&a.destroyAsset&&a.destroyAsset()})}]).controller("VossAssetListCtrl",["$scope","$rootScope",function(a,b){a.destroyAssetList=new Voss("voss-asset-list").initSME(),b.$on("$stateChangeStart",function(b,c,d,e,f,g){"root.voss.assetList"==e.name&&a.destroyAssetList&&a.destroyAssetList()})}]).controller("TempMTUploader",["$scope","$rootScope","UploaderFactory","trackingEventService",function(a,b,c,d){function e(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}a.uiState={};var f=e("uploadType"),g=e("source");a.states={SELECT_UPLOAD_METHOD_STATE:-1,READY:0,RECORD_READY_STATE:3,UPLOADING_VIDEO:4,ERROR_STATE:17,UNSUPPORTED_BROWSER_STATE:27,TEM_UPLOADING_STATE:32,ERROR_STATE_MISSION:30};var h={supportingDoc:{types:[].concat(UploadeManager.TYPE_IMAGE).concat(UploadeManager.TYPE_VIDEO).concat(UploadeManager.TYPE_AUDIO).concat(UploadeManager.TYPE_CROCODOC).concat(UploadeManager.TYPE_SWFOBJ).concat(UploadeManager.TYPE_ZIP),EVENT_UPLOAD_SUCCESS:"uploaded.lo.supporting.doc",EVENT_UPLOAD_CANCEL:"cancel.lo.supporting.doc",EVENT_UPLOAD_ERROR:"error.lo.supporting.doc",EVENT_UPLOAD_STARTED:"doc.upload.started",EVENT_UPLOAD_PROGRESS:"doc.progress",EVENT_UPLOAD_ETA:"doc.eta"},video:{types:UploadeManager.TYPE_VIDEO,EVENT_UPLOAD_SUCCESS:"uploaded.video",EVENT_UPLOAD_CANCEL:"cancel.video",EVENT_UPLOAD_ERROR:"error.video",EVENT_UPLOAD_STARTED:"video.upload.started",EVENT_UPLOAD_PROGRESS:"video.progress",EVENT_UPLOAD_ETA:"video.eta"},ppt:{types:UploadeManager.TYPE_CROCODOC,EVENT_UPLOAD_SUCCESS:"uploaded.ppt",EVENT_UPLOAD_CANCEL:"cancel.ppt",EVENT_UPLOAD_ERROR:"error.ppt",EVENT_UPLOAD_STARTED:"ppt.upload.started",EVENT_UPLOAD_PROGRESS:"ppt.progress",EVENT_UPLOAD_ETA:"ppt.eta"},audio:{types:UploadeManager.TYPE_AUDIO,EVENT_UPLOAD_SUCCESS:"uploaded.audio",EVENT_UPLOAD_CANCEL:"cancel.audio",EVENT_UPLOAD_ERROR:"error.audio",EVENT_UPLOAD_STARTED:"audio.upload.started",EVENT_UPLOAD_PROGRESS:"audio.progress",EVENT_UPLOAD_ETA:"audio.eta"},videoAndImage:{types:UploadeManager.TYPE_VIDEO.concat(UploadeManager.TYPE_IMAGE),EVENT_UPLOAD_SUCCESS:"uploaded.videoAndImage",EVENT_UPLOAD_CANCEL:"cancel.videoAndImage"},"audio-video":{types:UploadeManager.TYPE_VIDEO.concat(UploadeManager.TYPE_AUDIO),EVENT_UPLOAD_SUCCESS:"uploaded.audio-video",EVENT_UPLOAD_CANCEL:"cancel.audio-video"}},i=h[f]||{};a.currentState=a.states.UPLOADING_VIDEO;var j=function(a){console.log(a),parent.postMessage({event:i.EVENT_UPLOAD_SUCCESS,mediaInfo:a},"*")},k=function(a){parent.postMessage({event:i.EVENT_UPLOAD_PROGRESS,percentage:a},"*")},l=function(a){parent.postMessage({event:i.EVENT_UPLOAD_ETA,eta:a},"*")};a.changeState=function(b){a.currentState=b,b===a.states.UPLOADING_VIDEO&&parent.postMessage({event:"uploader.home"},"*"),a.$evalAsync()},$(".cancelBtn").unbind("click").click(function(){parent.postMessage({event:i.EVENT_UPLOAD_CANCEL},"*")}),a.retryCurrentUpload=function(){$(document).trigger("retryCurrentUpload")};var m=c.getAllMediaUploader((new Date).getTime()+"_media",{types:i.types,source:g});m.successCallback(j),m.addProgressListener(k),m.addSetEtaListener(l),m.entityId="__dummy__",a.uiState.VideoUploader=m;var n=function(b){b.detail=b.detail||{},a.error={code:b.detail.code,label:b.detail.message||b.detail.code,subMessage:b.detail.subMessage,isRetryable:b.detail.isRetryable},a.changeState(a.states.ERROR_STATE_MISSION),parent.postMessage({event:i.EVENT_UPLOAD_ERROR,error:a.error},"*")},o=function(a){var b=a.detail||{};parent.postMessage($.extend({filename:b.filename},{event:i.EVENT_UPLOAD_STARTED}),"*")};document.addEventListener("uploader.error",n,!1),document.addEventListener("upload.progressbar.started",o,!1),a.$on("$destroy",function(){document.removeEventListener("uploader.error",n),document.removeEventListener("upload.progressbar.started",o)})}]),$.ajax({type:"POST",url:"/user/timezone",contentType:"application/json; charset=utf-8",data:JSON.stringify({timezoneOffset:(new Date).getTimezoneOffset()*-1})}),angular.module("learnginBoardApp").factory("clickAnywhereButHereService",["$document",function(a){var b=[];return function(c,d){var e,f,g;for(e=0,g=b.length;e<g;e++)if(f=b[e],f.expr===d&&f.scope===c)return f;var h=function(){c.$evalAsync(d)};return a.on("click",h),c.$on("$destroy",function(){a.off("click",h)}),f={scope:c,expr:d},b.push(f),f}}]);var LBAppDirectives=angular.module("learnginBoardDirectives");LBAppDirectives.directive("loaderImg",function(){return{replace:!0,restrict:"E",template:'<img style="margin:50px" src="//dnqlbe0jdvu8q.cloudfront.net/mtcdn2/allaboard4.0/images/ajax-loader.gif">'}}),LBAppDirectives.directive("newloaderImg",function(){return{replace:!0,restrict:"E",template:'<img style="margin:0px 0 0 0" src="/assets/images/loader.gif">'}}),LBAppDirectives.directive("gameIpadSidebar",function(){return{replace:!0,restrict:"A",templateUrl:templateBaseUrl+"/game-ipad-sidebar.html"}}),LBAppDirectives.directive("gameBrowserHeader",function(){return{replace:!0,restrict:"A",templateUrl:templateBaseUrl+"/game-browser-header.html"}}),LBAppDirectives.directive("smallHeader",function(){return{replace:!0,restrict:"A",templateUrl:templateBaseUrl+"/small-header.html",controller:"HeaderCtrl",controllerAs:"headerCtrl"}}),LBAppDirectives.directive("crocodoc",["$log",function(a){var b=1,c=1,d="",e=null,f=function(f){if(a.debug("ramta jogi page has changed :D ",f.data),f.data&&!(f.origin.toLowerCase().indexOf(d)<0)){var g=f.data.split(".");"A"==g[0]?(b=parseInt(g[1]),angular.isFunction(e)&&e(b)):"N"==g[0]&&(c=g[1])}},g=function(a,b,c){a.$watch(c.onPageChange,function(a){e=a}),c.$observe("ngSrc",function(a){if(a){var b=a;b=b.indexOf("://")>-1?b.split("/")[2]:b.split("/")[0]}}),window.addEventListener?window.addEventListener("message",f,!1):window.attachEvent("onmessage",f),a.$on("$destroy",function(){window.removeEventListener?window.removeEventListener("message",f,!1):window.detachEvent("onmessage",f)})};return{replace:!0,restrict:"A",link:g}}]),LBAppDirectives.directive("quickUpdateBrowserHeader",function(){return{replace:!0,restrict:"A",templateUrl:templateBaseUrl+"/quick-update-browser-header.html"}}),LBAppDirectives.directive("gameIpadHeader",function(){return{replace:!0,restrict:"A",templateUrl:templateBaseUrl+"/game-ipad-header.html"}}),LBAppDirectives.directive("courseFactoSidebar",function(){return{replace:!0,restrict:"A",templateUrl:templateBaseUrl+"/course-facto-sidebar.html"}}),LBAppDirectives.directive("privateMessage",function(){return{replace:!0,restrict:"A",scope:!0,templateUrl:templateBaseUrl+(Utils.Func.isNewDesignLanguage()?"/dashboard/recent-new/":"/")+"private-message.html",link:function(a,b,c){$(b).click(function(a){a.stopPropagation()}),a.getNiceDate=function(a){return a>0?Utils.Func.getNiceDate(a):""}}}}),LBAppDirectives.directive("profileSnippet",function(){return{replace:!0,restrict:"A",scope:!0,templateUrl:templateBaseUrl+"/profile-snippet.html",link:function(a,b,c){a.user.profile.dg||(a.user.profile.dg="NA"),a.user.profile.dp||(a.user.profile.dp="NA"),a.user.pic||(a.user.pic=assetsBase+"/images/img_80_80.png"),a.$on("UPDATED_PROFILE",function(b,c){a.user.id==c.learnerJson.id&&(c.learnerJson.name&&(a.user.name=c.learnerJson.name),c.learnerJson.pic&&(a.user.pic=c.learnerJson.pic),c.learnerJson.profile&&(a.user.profile=c.learnerJson.profile),c.learnerJson.managers&&(a.user.managers=c.learnerJson.managers),null==a.$$phase&&a.$apply())})}}}),LBAppDirectives.directive("stopEvent",function(){return{restrict:"A",link:function(a,b,c){b.bind("click",function(a){a.stopPropagation()})}}}),LBAppDirectives.directive("loading",function(){return{replace:!0,restrict:"A",transclude:!0,template:"<div ng-transclude></div>"}}),LBAppDirectives.directive("jwplayer",function(){var a=0;return function(b,c,d){a++;var e="mtng_jwmedia_"+a,f=d.controlIframeId,g=d.heightData||30;c.attr("id",e).html('<div style="line-height: 30px;background: #000;color: #fff;text-align: center;">'+Game.Messages.M_TXT_PROCESSING+"</div>");var h=null,i=function(a){var b={media:{}};97==a.media.type?(b.media=a.media.obj.audio,b.voiceOverData=a.media.obj.voiceOverData):b=a;var c=[],d="mp4PathList";90!=a.media.obj.type&&97!=a.media.obj.type||(d="mp3PathList");var i=[];!b.media.obj[d]||b.media.obj[d].length<1?i.push(b.media.obj[d.substr(0,7)]):$.isArray(b.media.obj[d])&&(i=b.media.obj[d]);for(var j=0;j<i.length;j++){var k=i[j].substr(i[j].lastIndexOf("/")+1);k=k.substr(0,k.indexOf(".")),c.push({file:i[j],label:k,type:d.substr(0,3)})}var l=[{image:b.media.obj.thumbPath,sources:c,mediaid:b.media.id}],m={height:g,width:"100%",autostart:!1,ga:{idstring:b.media.id,label:b.media.title},image:b.media.obj.thumbPath,playlist:l,controlbar:{position:"bottom"},primary:"html5",startparam:"start",skin:{name:"seven",active:"#faa651"}};if(c.length>0&&$("#"+e).length>0){h=jwplayer(e).setup(m);var n=1;h.onTime(function(a){for(var c=0;c<b.voiceOverData.length;c++){if(b.voiceOverData[c].position/1e3>a.position){if(0===c||n==b.voiceOverData[c-1].slideNum)return;return n=b.voiceOverData[c-1].slideNum,void angular.element(f).get(0).contentWindow.postMessage("page."+n,"*")}if(c===b.voiceOverData.length-1&&n!==b.voiceOverData[c].slideNum)return n=b.voiceOverData[c].slideNum,void angular.element(f).get(0).contentWindow.postMessage("page."+n,"*")}}),h.onComplete(function(){console.log("complete"),n=1,angular.element(f).get(0).contentWindow.postMessage("page.1","*")})}};b.$watch(d.jwplayer,function(a){a.$resolved?i(a):a.$promise.then(function(){i(a)})}),b.$on("$destroy",function(){h&&h.remove()})}}),app.directive("clickAnywhereButHere",["$document","clickAnywhereButHereService",function(a,b){return{restrict:"A",link:function(a,c,d,e){var f=function(a){a.stopPropagation()};c.on("click",f),a.$on("$destroy",function(){c.off("click",f)}),b(a,d.clickAnywhereButHere)}}}]),LBAppDirectives.filter("breakFilter",function(){return function(a){if(void 0!==a)return a.replace(/\n/g,"<br />")}}),LBAppDirectives.filter("titlecase",function(){return function(a){var b=a.indexOf("/");b>-1&&(a=a.replace(/\//g," / "));var c=a.replace(/\w(\S|\/)*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()});return b&&(c=c.replace(/ \/ /g,"/")),c}}),LBAppDirectives.filter("mtShortName",function(){return function(a){var b=null;b=a.name?a.name.split(" "):a.email?a.email.substr(0,a.email.indexOf("@")).split("."):[""];var c,d;return b.length>1?(c=b[0].trim(),d=b[1].trim()):(c=b[0].trim(),d=""),c.length>0&&d.length>0?(c[0]+d[0]).toUpperCase():c.length>1?(c[0]+c[1]).toUpperCase():d.length>1?(d[0]+d[1]).toUpperCase():c.length>0?c[0].toUpperCase():d.length>0?d[0].toUpperCase():"NA"}}),angular.module("learnginBoardApp").controller("GlobalCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$previousState","CoachingAppDataModel","socketService","$cookies","mtHistory","trackingEventService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a,b,c){if(a.lsSettings.rollupEnabledLS&&localStorage&&!localStorage.getItem("rollup_video")){var d=b.id;c.fetchRollupManagerData(d).then(function(a){a.data.data.isSeniorManager&&(Utils.Func.showRollupVideo(),localStorage.setItem("rollup_video",!0))})}}window.mtBrodCastService=angular.element(document.body).injector().get("mtBrodCast");var o=learnerJson,p=companySettings.profile.fields,q=companySettings.managerFields.fields,r=this;a.isNewDesignLanguage=this.isNewDesignLanguage=Utils.Func.isNewDesignLanguage,this.isProfileFilled=!0,this.kscoreChanged=!1,this.kscoreUpBy=0;var s="sidebar_close_state";this.getTeamReportTxt=Game.Messages.TXT_YOUR_TEAM_REPORT,this.testOptions=[{header:"patanahi",content:["First Item","2nd Item"]}],a.showReviewsTab=Utils.Func.showReviewsTab,a.showOtherTabs=Utils.Func.showOtherTabs,a.goToReviewDasboard=function(){var a=companySettings.lsSettings.modulesUnderMaintenance||[];companySettings.lsSettings.enabledModuleTypes.indexOf(4)>-1&&a.indexOf(4)===-1?self.location.href="/#/reviews/mission":companySettings.lsSettings.enabledModuleTypes.indexOf(13)>-1?self.location.hash="/ui/coaching/dashboard?state=ACTIVE&tab_type=COACHING":self.location.hash="/ui/coaching/dashboard?tab_type=MISSION"},a.expandtutorial=!1,a.searchTagOnly=f.params.tagonly,a.isProfileFieldAvailable=function(a){var b=!1;if(p)for(var c=0;c<p.length;c++)if(p[c].shortKey==a){b=!0;break}return b},this.scope=a,a.expandTutorialClick=function(){a.expandtutorial=!a.expandtutorial},a.showGlobalSearchIntroVideo=function(){var a=$("#global_search_intro_video");Game.MixPanelTracking.track("learner_tutorial_clicked",{tutorial_type:"global_search_intro"}),$(".closeIcon",a).click(function(){Game.MixPanelTracking.track("learner_tutorial_viewed",{tutorial_type:"global_search_intro"}),$.modal.close()}),$("#global_search_intro_video").modal({close:!1,containerCss:{height:"auto"}})},a.sideBarOpen=this.sideBarOpen=null==Utils.Func.isiPad&&!Utils.cookieStore(s),this.defaultImage=assetsBase+"/images/img_80_80.png",this.csDataModel=i,Utils.Func.pingAA(d,b,c),e.use(locale),"undefined"==typeof kScoreUpdatedKey&&(window.kScoreUpdatedKey=learnerJson.id+"|updated_company_score");try{Modernizr.localstorage&&!localStorage.getItem(kScoreUpdatedKey)&&localStorage.setItem("initial_comapny_score",learnerJson.company_score)}catch(t){console.log(t),navigator.cookieEnabled&&(document.cookie="initial_comapny_score="+learnerJson.company_score)}a.lsDisplayName=companySettings.displayName,this.setSideBarState=function(b){a.sideBarOpen=b,Utils.cookieStore(s,!b),Game.MixPanelTracking.track("learner_activity_tab_"+(b?"opened":"closed"),{})},this.dashboardSearchType=Game.Settings.searchType,this.getSearchPlaceHolderText=function(){return Game.Messages.SEARCH},a.hideTopSearchBox=function(){return _.indexOf(["root.participant","root.reviews.missions","root.reviews.coaching"],f.current.name)!=-1},a.showLSHomeImg=function(){return!("undefined"==typeof companySettings||!companySettings.lsSettings||null==companySettings.lsSettings.learningSiteLogo)},a.getLSHomeImg=function(){return"undefined"!=typeof companySettings&&companySettings.lsSettings&&null!=companySettings.lsSettings.learningSiteLogo?companySettings.lsSettings.learningSiteLogo.obj.processed_path:"#"},this.openVideoWalk=function(){window.initializeWalkthroughObject(),companySettings.extra_config&&companySettings.extra_config.cantShowVideo?(Game.MixPanelTracking.track("learner_tutorial_clicked",{tutorial_type:"dashboard_walkthrough"}),r.openWalkthrough()):(Game.MixPanelTracking.track("learner_tutorial_clicked",{tutorial_type:"dashboard_intro_video"}),window.showIntroVideo())},a.isParticipantsDisabled=function(){return Utils.Func.isParticipantsDisabled()},this.gotoHome=function(a){Game.MixPanelTracking.track("learner_dashboard_clicked",{from:a,location:f.current.name}),f.go("root.courses.recents",{series:null,query:null,moduleRelevance:void 0},{reload:!0})},this.gotoAssets=function(){Game.MixPanelTracking.track("learner_asset_tab_clicked",{}),f.go("root.contents",{query:null},{reload:!0})},this.gotoPeers=function(){Game.MixPanelTracking.track("learner_peers_tab_clicked",{}),f.go("root.participants",{query:null},{reload:!0})},this.gotoVoss=function(){Game.MixPanelTracking.track("SME VOSS Clicked",{}),f.go("root.voss.assetList",{query:null},{reload:!1})},a.$on("CHANGE_HEADER",function(b,c){a.headerType=c.id,a.topicName=c.name,2==c.id?(eventManager.trigger("render.ScoreBar",$(".tickleScoreBar"),Game.ScoreBar.NO_BG),$(".courseMainContainer").addClass("loginPage_Bg"),$(".courseHeaderContainer").removeClass("bg_f9 borderB_ee").addClass("bg_1d borderB_00")):($(".courseMainContainer").removeClass("loginPage_Bg"),$(".courseHeaderContainer").addClass("bg_f9 borderB_ee").removeClass("bg_1d borderB_00")),a.$evalAsync(),mtBrodCastService.brodCast("HEADER_CHANGED",c)}),this.getMyId=function(){return learnerJson.id},this.getLearnerObj=function(){return learnerJson},this.getProfileFields=function(){return p},this.openHelpDesk=function(){window.open("/help-center-url")},this.showGetSupport=function(){this.getSupport||(this.getSupport=new Game.GetSupport(learnerJson)),setTimeout(function(){Game.MixPanelTracking.track("learner_get_support_clicked",{location:f.current.name})},10),this.getSupport.render()},this.openParticipants=a.openViewProfile=function(b){b||(b=learnerJson.id),Game.MixPanelTracking.track(learnerJson.id===b?"learner_profile_viewed":"learners_peer_list_profile_page_viewed",{learner_id:b,location:f.current.name}),f.go("root.participant",{uid:b}),a.showProfileDD=0};var u=function(){Game.MixPanelTracking.track("Sign out",{}),setTimeout(function(){window.location.href="/logout"},100)};a.signOut=function(){a.showProfileDD=0,d.isRecording?Utils.Func.confirm("Navigating out of this page would delete the draft you just recorded, do you want to move out of this page?",function(){u()}):u()},this.getProfileFieldName=function(a){for(var b="NA",c=0;c<p.length;c++)if(a==p[c].shortKey){b=p[c].displayName,Game.Messages[p[c].displayName]&&(b=Game.Messages[p[c].displayName]);break}return b},this.isMindTickleLoginEnabled=function(){for(var a=!1,b=0;b<companySettings.loginMethods.length;b++)if("MINDTICKLE"==companySettings.loginMethods[b].type&&companySettings.loginMethods[b].isEnabled){a=!0;break}return a},this.openEditProfile=function(){this.editProfileView=new Game.EditProfileView(learnerJson,(!0)),this.editProfileView.render()},a.hasNotSeenNewSearch=function(){return!window.walkThroughStates.hasSeenNewSearch},a.setSeenNewSearch=function(){window.walkThroughStates.hasSeenNewSearch=!0,setWtAfterCancel(window.walkThroughStates)},this.openChangePassword=function(){this.changePasswordPopUp||(this.changePasswordPopUp=new Game.ChangePasswordPopUp),this.changePasswordPopUp.render()},this.sendPrivateMessage=function(a){this.sendMsgView&&this.sendMsgView.remove(),this.sendMsgView=new Game.SendMessagePopUp(a,j),Game.MixPanelTracking.track("learners_peer_list_message_clicked",{learner_id:a.id}),this.sendMsgView.render()},this.showAlertDialog=function(a){GameObject.alert(a)},this.isTabActive=function(a){return f.current.name.indexOf(a)!=-1};var v=function(){var a=!0;o.name&&""!=o.name&&o.name.toLowerCase().indexOf("guest_")==-1||(a=!1);for(var b=0;b<p.length;b++)if(p[b].learnersCanEdit&&p[b].isRequired)if("undefined"==typeof o.profile[p[b].shortKey]||""===o.profile[p[b].shortKey]||null===o.profile[p[b].shortKey])a=!1,r.isProfileFilled=!1;else if("DROPDOWN"==p[b].displayType){for(var c=!1,d=0;d<p[b].displayParams.length;d++)if(p[b].displayParams[d]=$.trim(p[b].displayParams[d]),o.profile[p[b].shortKey]&&_.unescape(o.profile[p[b].shortKey].toLowerCase())==p[b].displayParams[d].toLowerCase()){c=!0;break}p[b].displayParams;c||(a=!1,r.isProfileFilled=!1)}o.managers=o.managers||{};for(var b=0;b<q.length;b++)q[b].learnersCanEdit&&q[b].isRequired&&("undefined"!=typeof o.managers[q[b].shortKey]&&""!==o.managers[q[b].shortKey]&&null!==o.managers[q[b].shortKey]||(a=!1,r.isProfileFilled=!1));return a&&(r.isProfileFilled=!0),a};this.openNotif=function(a){a.quesId?f.go("root.discussions.answers",{questionId:a.quesId,type:"all",geid:a.entityId}):f.go("root.discussions.answers",{questionId:a.sourceId,type:"all",
geid:a.entityId})},this.introVideoShown=!1,$(document).on("openWalkThrough",function(){r.openWalkthrough()}),this.openIntro=function(){"root.courses.gamelanuch"!==f.$current.name&&(r.isProfileInComplete||(window.walkThroughStates||window.initializeWalkthroughObject(),window.walkThroughStates.videoShown||companySettings.extra_config&&companySettings.extra_config.cantShowVideo?r.openWalkthrough():(r.introVideoShown=!0,showIntroVideo())))},this.openWalkthrough=function(){companySettings.extra_config&&companySettings.extra_config.disable_welcome_popup||setTimeout(function(){var a=1;f.current.name.indexOf("root.contents")===-1?a=f.current.name.indexOf("root.courses.series")===-1?window.walkThroughStates.homePageState:window.walkThroughStates.seriesPageState:f.current.name.indexOf("root.contents")!=-1&&(a=window.walkThroughStates.assetsPageState)},100)},d.$on("$stateChangeStart",function(b,c,d,e,f){"function"==typeof a.walkThroughActive&&a.walkThroughActive()&&"function"==typeof a.cancelWalkthrough&&a.cancelWalkthrough(!1)}),d.takeNextStep=null,v()?r.openIntro():"root.courses.gamelanuch"==f.current.name?f.params.isProfileInComplete=!0:(this.editProfileView=new Game.EditProfileView(learnerJson,(!1)),this.popupDeferred=this.editProfileView.render(),this.popupDeferred.promise().then(function(){r.openIntro(),v(),null==a.$$phase&&a.$apply()},function(){console.error("Error in popup close! Thanks!"),r.openIntro()})),"root"==f.current.name&&f.go("root.courses"),a.showProfileDD=0,this.pic=learnerJson.pic,a.showHelpMenu=0,this.toggleHelpDropDown=function(){appSettings.isPreview||(1==a.showHelpMenu?a.showHelpMenu=0:(a.activeMenu=0,this.hideProfileDD(),a.showHelpMenu=1))},this.hideHelpMenu=function(){a.showHelpMenu=0},this.toggleProfileDD=function(){appSettings.isPreview||(Game.MixPanelTracking.track("Profile Toggled",{}),a.activeMenu=0,a.showHandoutsDD=0,1==a.showProfileDD?a.showProfileDD=0:(a.showProfileDD=1,this.hideHelpMenu()))},this.hideProfileDD=function(){a.showProfileDD=0},this.getAcronym=function(){var a=learnerJson.name;if("undefined"==typeof a)return"";var b=a.match(/\b(\w)/g),c=b.join("").substr(0,2);return c.toUpperCase()},this.getMyKscore=function(){return Utils.Func.convertScoreToKscore(learnerJson.company_score)},this.toggleMessages=function(){Game.MixPanelTracking.track("platform_messages_center_clicked",{}),a.showProfileDD=0,a.showHandoutsDD=0,1==a.activeMenu?a.activeMenu=0:a.activeMenu=1},this.hideMessages=function(){a.activeMenu=0},d.$on("$stateChangeStart",function(b,c,d,e,f){a.searchQuery=d.query?d.query:null,a.searchText=d.query?d.query:null}),a.searchText=null,a.searchQuery=f.params.query||null;var w={SERIES:"SERIES",MODULE:"MODULES",CONTENT:"FILES",USER:"PEERS"};companySettings.disableParticipants&&delete w.USER;var x=2,y=5;if(a.isSuggestionsEmpty=function(){var b=0;for(var c in w)g.typeWiseSuggestQueries[w[c]]&&g.typeWiseSuggestQueries[w[c]].$resolved&&(b+=1);return b===Object.keys(w).length&&a.suggestions&&0===a.suggestions.length},a.trackSuggestionsShown=function(){var b=0;for(var c in w)g.typeWiseSuggestQueries[w[c]]&&g.typeWiseSuggestQueries[w[c]].$resolved&&(b+=1);1==a.clickInPreviewDD&&b===Object.keys(w).length&&Game.MixPanelTracking.track("global_search_suggestions_shown",{text:a.searchQuery,results_returned:a.suggestions.length,results_entities:a.suggestions})},a.$watch("searchQuery",_.debounce(function(){if(a.searchQuery&&!a.fetchingContent&&!a.fetchingParticipants&&!a.fetchingModules){a.suggestions=[],a.$evalAsync(),a.currentKBActiveItem=-1;var b=function(b){if(b.entities&&b.type&&b.searchQuery===a.searchQuery){a.trackSuggestionsShown(),b.entities.map(function(a){return a.searchType=b.type,a});var c=b.entities;a.suggestions=a.suggestions.concat(c),c.forEach(function(a){a.entityEndPoint=b.type}),a.searchQuery&&a.searchQuery.length>=3&&a.suggestions.length>0?a.noResultFound=!0:a.noResultFound=!1}};for(var c in w)a.fetchingContent=!0,g.getSuggestions(w[c],a.searchQuery,0,x).$promise.then(function(d){a.fetchingContent=!1,b(d,w[c])})}},200)),f.params.tagonly)for(var z in w)g.getSuggestions(w[z],a.searchQuery,0,x,!0);a.getContentClass=function(b){a.contentClass=""},a.clearSearch=function(b){a.searchQuery="",setTimeout(function(){a.onClickIn(),$(".global-search-input").eq(0).focus()},200)},a.currentKBActiveItem=-1,a.focusOnSearchInput=function(){a.currentKBActiveItem=-1},a.handleKeyDown=function(b){38!=b.keyCode&&40!=b.keyCode||(b.stopImmediatePropagation(),b.stopPropagation(),$(".highlightThis").removeClass("imactive").css({background:""}),$(".highlightThis:visible").length<1&&(a.currentKBActiveItem=-1),38==b.keyCode?a.currentKBActiveItem>0?a.currentKBActiveItem-=1:a.currentKBActiveItem=$(".highlightThis:visible").length-1:40==b.keyCode&&(a.currentKBActiveItem+=1),$(".highlightThis:visible").eq(a.currentKBActiveItem).length?$(".highlightThis:visible").eq(a.currentKBActiveItem).addClass("imactive").css({background:"#f5f5f5"}):(a.currentKBActiveItem=0,$(".highlightThis:visible").eq(a.currentKBActiveItem).addClass("imactive").css({background:"#f5f5f5"})))},a.triggerSearch=function(b,d){if(a.searchQuery=d||a.searchQuery,a.currentKBActiveItem>-1)return void c(function(){var b=angular.copy(a.currentKBActiveItem);a.currentKBActiveItem=-1,angular.element($(".highlightThis:visible").eq(b)).triggerHandler("click")});if(null!=a.searchQuery||"root.searchnew"===f.current.name){if(""===a.searchQuery)return Utils.Func.goBackAngular(f,h),void Game.MixPanelTracking.track("global_search_reset",{location:e.hash});var e="recents";"root.searchnew"!==f.current.name&&h.set("beforeSearchState",f.current.name,f.params),"GLOBAL"===Game.Settings.searchType?(a.updateRecentSearches(a.searchQuery,"ADD"),Game.MixPanelTracking.track("global_search_page_triggered",{tab_type:Utils.Func.TYPES_OF_SEARCH.ALL,text:a.searchQuery,from:b,location:f.current.name}),f.go("root.searchnew",{query:a.searchQuery,type:void 0,content_type:void 0,module:void 0,series:void 0,module_types:void 0,tags:void 0,tagonly:void 0},{reload:!0})):f.current.name.indexOf("root.contents")!==-1?(e="contents",f.go("root.contents",{query:a.searchQuery},{reload:!0})):f.current.name.indexOf("root.participants")!==-1?(e="participants",f.go("root.participants",{query:a.searchQuery},{reload:!0})):f.go("root.search",{query:a.searchQuery},{reload:!0})}},a.getResultReasonPriority=Utils.Func.getResultReasonPriority,a.getIconClassForItem=function(a){var b={};return a.searchType==w.MODULE?"COURSE"===a.type?(b.tag="cBG_L",b.type="C"):"UPDATE"===a.type?(b.tag="qBG_L",b.type="Q"):"MISSION"===a.type?(b.tag="mBG_L",b.type="M"):Utils.Func.isMission(a.type)?(b.tag="mBG_L",b.type="M"):"ASSESSMENT"===a.type?(b.tag="aBG_L",b.type="A"):"COACHING"===a.type?(b.tag="sBG_L",b.type="S"):"ONE_TO_ONE_COACHING"===a.type||"PERFORMANCE_EVALUATION_COACHING"==a.type?(b.tag="sBG_L",b.type="S"):"CHECKLIST"===a.type?(b.tag="clBG_L",b.type="T"):"ILT"===a.type&&(b.tag="iltBG_L",b.type="I"):a.searchType==w.SERIES?(b.tag="icon-seriesOld color00 F16_imp",Utils.Func.isNewDesignLanguage()&&(b.tag="icon-seriesLine textalign_C")):a.searchType==w.CONTENT?Utils.Func.isNewDesignLanguage()?"VIDEO"==a.type?b.tag="icon-video_Search marginT2 textalign_C":"IMAGE"==a.type||"ALBUM"==a.type?b.tag="icon-image_Search marginT1 textalign_C":"DOCUMENT_PDF"==a.type?b.tag="icon-pdf_Search marginT1 textalign_C":"DOCUMENT_PPT"==a.type?b.tag="icon-ppt_Search marginT1 textalign_C":"DOCUMENT_WORD"==a.type?b.tag="icon-doc_Search marginT1 textalign_C":"DOCUMENT_XLS"==a.type?b.tag="icon-xls_Search marginT1 textalign_C":"AUDIO"==a.type?b.tag="icon-audio_Search marginT1 textalign_C":"IMG_MASH_UP"==a.type?b.tag="icon-video_Search marginT1 textalign_C":"NOTE"==a.type?b.tag="icon-text_Search marginT1 textalign_C":a.type="icon-embeddedLink_Search marginT1 textalign_C":"VIDEO"===a.type?b.tag="icon-video colorf07878":"IMAGE"===a.type||"ALBUM"==a.type?b.tag="icon-image color90cac0":"DOCUMENT_PDF"===a.type?b.tag="icon-pdf colord5605f":"DOCUMENT_PPT"===a.type?b.tag="icon-ppt colorf5b175":"DOCUMENT_WORD"===a.type?b.tag="icon-doc color83a6d4":"DOCUMENT_XLS"===a.type?b.tag="icon-xls color61bd87":"AUDIO"===a.type?b.tag="icon-audio colore2cc63":"IMG_MASH_UP"===a.type?b.tag="icon-video colorf07878":"NOTE"===a.type?b.tag="icon-note colorf07878":"EMBED"===a.type&&(b.tag="icon-embeded colora28bc0"):a.searchType==w.USER&&(b.pic=a.pic?a.pic:void 0),b},a.updateRecentSearches=function(b,c){var d=$.map(recentSearches,function(a,c){if(a.query===b)return c});d.length>0&&recentSearches.splice(d[0],1),"ADD"===c?(recentSearches.splice(0,0,{query:b,timestamp:Math.round((new Date).getTime()/1e3)}),recentSearches.splice(y)):"CLEAR"===c&&(recentSearches=[]),g.saveRecentSearches(recentSearches).$promise.then(function(){a.recentSearches=window.recentSearches})},companySettings.disableParticipants&&delete Utils.Func.TYPES_OF_SEARCH_TXT.PEER,a.searchSections=Utils.Func.TYPES_OF_SEARCH_TXT,a.gotoSearchSec=function(b){"root.searchnew"!==f.current.name&&h.set("beforeSearchState",f.current.name,f.params),a.updateRecentSearches(a.searchQuery,"ADD"),Game.MixPanelTracking.track("global_search_page_triggered",{tab_type:b.type,text:a.searchQuery,from:"entity_category",location:f.current.name}),f.go("root.searchnew",{query:a.searchQuery,type:b.type,content_type:void 0,module:void 0,series:void 0,module_types:void 0,tags:void 0,tagonly:void 0},{reload:!0})},a.searchWithTag=function(b){"root.searchnew"!==f.current.name&&h.set("beforeSearchState",f.current.name,f.params),a.updateRecentSearches(a.searchQuery,"ADD"),f.go("root.searchnew",{query:a.searchQuery,type:"all",content_type:void 0,module:void 0,series:void 0,module_types:void 0,tags:void 0,tagonly:!0},{reload:!0})},a.openEntity=function(b){a.searchQuery&&a.updateRecentSearches(a.searchQuery,"ADD");var c={Type:b.searchType};if(b.searchType===w.CONTENT){if(b.locked===!0)return void GameObject.alert("This content belongs to a course which is not yet complete.<br/> You must complete the course to access it here.");f.go("root.contents.viewsingle",{contentId:b.id,entityId:b.entity_id}),c.contentId=b.id,c.title=b.title,c.mediaType=b.type}else if(b.searchType===w.USER)f.go("root.participant",{uid:b.id}),c.peerId=b.id,c.peerName=b.name,Game.MixPanelTracking.track("learners_peer_list_clicked",{from:"search_suggestions",learner_id:b.id,learner_name:b.name,location:f.current.name});else if("SERIES"===b.searchType)Game.MixPanelTracking.track("series_clicked",{series_id:b.id,series_name:b.name,from:"search_suggestions",location:f.current.name}),f.go("root.courses.series",{series:b.id,state:void 0,entityType:void 0,tags:void 0}),c.seriesId=b.id;else{if("LOCKED"===b.lockState){var d=function(){f.go("root.courses.series",{series:b.seriesID})},e=_.template(Game.Messages.SU_LOCKED_MODULE_WARNING)({a:b.name+" "});return void Utils.Func.confirm(e,d,Game.Messages.GO_TO_SERIES,Game.Messages.CANCEL)}Game.MixPanelTracking.track("module_clicked",{from:"search_suggestions",location:f.current.name,module_id:b.id,module_name:b.name,module_status:b.state,module_type:b.type,series_id:b.seriesId,series_name:b.seriesName}),f.go("root.courses.gamelanuch",{entityId:b.id}),c.moduleId=b.id,c.moduleName=b.name,c.moduleType=b.type}Game.MixPanelTracking.track("global_search_suggestion_clicked",{entity_type:b.searchType,entity_id:b.id,entity_name:b.name,location:f.current.name})},a.onClickOut=function(){a.clickInPreviewDD=!1},a.onClickIn=function(){if(1!=a.clickInPreviewDD){var b=a.recentSearches?a.recentSearches.map(function(a){return a.query}):[];Game.MixPanelTracking.track("global_search_clicked",{recent_searches:b,recent_searches_count:b.length})}a.clickInPreviewDD=!0},a.hideText=function(){setTimeout(function(){a.onClickIn(),$(".global-search-input").eq(0).focus()},50)},a.recentSearches=window.recentSearches,a.clearRecentSearches=function(){recentSearches.length>0&&a.updateRecentSearches(void 0,"CLEAR")},a.showPreviewDD=function(){return a.searchQuery?(a.showDropDown=!0,a.suggestions&&a.suggestions.length>0&&a.showDropDown&&a.clickInPreviewDD&&a.searchQuery.length>0):(a.showDropDown=!1,!1)},this.trackNotificationPage=function(){Game.MixPanelTracking.track("notification_page_viewed",{})},this.toggleNotifications=function(b){b||(b=0),Game.MixPanelTracking.track("platform_notification_center_clicked",{}),a.showProfileDD=0,2==a.activeMenu?a.activeMenu=0:a.activeMenu=2},this.hideNotifications=function(){a.activeMenu=0};var A=function(){function a(){setTimeout(function(){$("#tasks_icon").removeClass("hide")},100)}companyUser.isVossLoaded&&a(),companySettings.lsSettings.enableVossCollaboration&&!companyUser.isVossLoaded&&$.ajax({type:"GET",url:"/v1/ccag/user/isCollaborator",dataType:"json",contentType:"application/json; charset=utf-8",success:function(b){b.isCollaborator&&(companyUser.isVossLoaded=!0,a())},error:function(){}})},B=0;a.reviewTabTimerId=0;var C=function(){function b(){setTimeout(function(){$("#review_icon").removeClass("hide")},1e3)}var c=(new Date).getTime();if(!(c-B<1e4)){B=c,a.reviewTabTimerId&&clearInterval(a.reviewTabTimerId);var d=companySettings.lsSettings.enabledModuleTypes.indexOf(4)>-1,e=!1;if([9,10,11,12,13].forEach(function(a){companySettings.lsSettings.enabledModuleTypes.indexOf(a)>-1&&(e=!0)}),d||e)if(appSettings&&appSettings.isPreview);else{var f=companyUser.reviewStats&&companyUser.reviewStats.assigned>0;f&&d&&b();var g={filter:{reviewer:learnerJson.id,entity_learner_state:["COMPLETED","SUBMITTED"],reviewer_state_allowed:["PENDING","SCHEDULED"]}};$.ajax({type:"POST",url:"/"+cname+"/reviews?doCount=true",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(g),success:function(a){i.tabCounts={CS:0,RP:0,NC:0,total:0},void 0!=a.entityLearnersCount.MISSION&&(i.tabCounts.RP=a.entityLearnersCount.MISSION),void 0!=a.entityLearnersCount.COACHING&&(i.tabCounts.CS=a.entityLearnersCount.COACHING),void 0!=a.entityLearnersCount.NewCoaching&&(i.tabCounts.NC=a.entityLearnersCount.NewCoaching),i.tabCounts.total=a.entityLearnersCount.total;var c=a.entityLearnersCount;companySettings.lsSettings.enabledModuleTypes.indexOf(6)===-1&&(companySettings.lsSettings.enabledModuleTypes.indexOf(13)>-1||companySettings.lsSettings.enabledModuleTypes.indexOf(13)>-1)&&(a.ONE_TO_ONE_COACHING&&(i.tabCounts.CS=c.ONE_TO_ONE_COACHING.pending+c.ONE_TO_ONE_COACHING.closed),a.PERFORMANCE_EVALUATION_COACHING&&(i.tabCounts.CS=c.PERFORMANCE_EVALUATION_COACHING.pending+c.PERFORMANCE_EVALUATION_COACHING.closed));var d=0;c.ONE_TO_ONE_COACHING&&(d+=c.ONE_TO_ONE_COACHING.pending,d+=c.ONE_TO_ONE_COACHING.closed),c.PERFORMANCE_EVALUATION_COACHING&&(d+=c.PERFORMANCE_EVALUATION_COACHING.pending,d+=c.PERFORMANCE_EVALUATION_COACHING.closed),c.SCREEN_CAPTURE_COACHING&&(d+=c.SCREEN_CAPTURE_COACHING.pending,d+=c.SCREEN_CAPTURE_COACHING.closed),c.TASK_EVALUATION_COACHING&&(d+=c.TASK_EVALUATION_COACHING.pending,d+=c.TASK_EVALUATION_COACHING.closed),c.VIDEO_PITCH_COACHING&&(d+=c.VIDEO_PITCH_COACHING.pending,d+=c.VIDEO_PITCH_COACHING.closed),c.VOICE_OVER_PPT_COACHING&&(d+=c.VOICE_OVER_PPT_COACHING.pending,d+=c.VOICE_OVER_PPT_COACHING.closed),e&&d>0&&b(),a.entityLearnersCount.total>0?$(".reviewerSection_Tab .bgCircle_0072bc").text(a.entityLearnersCount.total):$(".reviewerSection_Tab .bgCircle_0072bc").text("")},error:function(){$(".reviewerSection_Tab .bgCircle_0072bc").text(""),$(".normalButton.missionsTab .bgCircle_0072bc").text("0")}})}}};if(d.$on("update.reviews.count",C),C(),A(),setTimeout(function(){if(Modernizr.localstorage){var b=null,c=null;try{b=Utils.Func.convertScoreToKscore(parseInt(localStorage.getItem("initial_comapny_score"),10)),c=Utils.Func.convertScoreToKscore(parseInt(localStorage.getItem(kScoreUpdatedKey),10))}catch(d){if(navigator.cookieEnabled)for(var e=document.cookie,f=e.split(";"),g=0;g<f.length;g++){var h=f[g].substr(0,str.indexOf("=")),i=f[g].substr(str.indexOf("=")+1);"initial_comapny_score"==h&&(b=Utils.Func.convertScoreToKscore(parseInt(i,10))),h==kScoreUpdatedKey&&(c=Utils.Func.convertScoreToKscore(parseInt(i,10)))}}if(c>b){var j={val:!0,kscoreUpBy:c-b};1==j.val&&(r.kscoreChanged=j.val,r.kscoreUpBy=j.kscoreUpBy,null==a.$$phase&&a.$apply()),localStorage.removeItem(kScoreUpdatedKey)}}},1e3),this.goback=function(){l.goback()||f.go("root.courses")},a.$on("GO_BACK",function(b){a.globalCtrl.goback()}),companySettings.extra_config&&companySettings.extra_config.enabledExternalAnalytics&&g.getAnalyticsCreds().then(function(b){b.data&&b.data.body&&200==b.data.body.statusCode&&b.data.body.link&&(a.showAnalyticsLink="/analytics/custom-report")}),a.goToManagerAnalytics=function(){var a=learnerJson.name,b=learnerJson.id,c="/analytics/managers/"+b+"/members?name="+a;window.location=c,Game.MixPanelTracking.track("learner_team_report_clicked",{})},a.userIsManager=!1,companySettings.lsSettings&&companySettings.lsSettings.managerAnalyticsEnabled)if("undefined"!=typeof rolesData)for(var D in rolesData.roles){var E=rolesData.roles[D];if(E.permissions.MANAGE_SUBORDINATES&&_.indexOf(companyUser.learner.roles,E.id)!=-1){a.userIsManager=!0,n(companySettings,learnerJson,g);break}}else g.getManagers().then(function(b){var c,d=b.data;if(d&&d.length)for(var e=0;e<d.length;e++)c=b.data[e],c.id===learnerJson.id&&(n(companySettings,learnerJson,g),a.userIsManager=!0)});setTimeout(function(){v()&&!companyUser.user.timezone_new&&Utils.Func.showTimezoneSelection()},1e3)}]).controller("ModuleSearchCtrlNew",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$previousState",function(a,b,c,d,e,f,g,h){console.log(f),a.entities=[],a.loader=loaderGif,a.TYPES_OF_SEARCH=Utils.Func.TYPES_OF_SEARCH,a.smallLoader=loaderSmall,a.searchText=f.params.query,a.typeOfSearch=f.params.type||a.TYPES_OF_SEARCH.ALL,a.searchTagOnly=f.params.tagonly,a.isNewDesignLanguage=Utils.Func.isNewDesignLanguage,a.selectType=function(b){Game.MixPanelTracking.track("global_search_page_triggered",{tab_type:b,text:a.searchText,from:"tab_clicked",location:f.current.name,total_results:a.searchTypesCounts[b],filter_obj:Utils.Func.getSearchFilters(f.params)}),f.go(".",{type:b,content_type:void 0,module:void 0,series:void 0,module_types:void 0,tags:void 0,tagonly:a.searchTagOnly},{reload:!0})},g.constructSearchQueryWiseCount(a.searchText),a.searchTagOnly?a.searchTypesCounts=g.searchTypeCount[a.searchText].tags:a.searchTypesCounts=g.searchTypeCount[a.searchText],a.searchResult=g.dataStore.searchResult,a.clearSearch=function(){Utils.Func.goBackAngular(f,h)}}]).controller("SidebarController",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory",function(a,b,c,d,e,f,g){a.seriesList=g.dataStore.series,g.getSeriesNames(),a.isNewDesignLanguage=Utils.Func.isNewDesignLanguage,a.isDashboard=function(){return!(f.params&&f.params.series)},a.gotoHome=function(a){Game.MixPanelTracking.track("learner_dashboard_clicked",{from:a,location:f.current.name}),f.go("root.courses.recents",{series:null,moduleRelevance:void 0},{reload:!0})},a.isReinforcement=function(){return f.params&&f.params.series===reinforcementDefaultSeries.id},a.isReinforcementEnabled=!!reinforcementDefaultSeries,a.gotoReinforcement=function(){Game.MixPanelTracking.track("learner_all_quests_click",{from:"sidebar"}),f.go("root.courses.reinforcement",{series:reinforcementDefaultSeries.id},{reload:!0})}}]).controller("entityThCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$previousState",function(a,b,c,d,e,f,g,h){function i(){if(g.dataStore.series&&g.dataStore.series.all[a.entity.data.seriesID]&&"OPEN"==g.dataStore.series.all[a.entity.data.seriesID].visibility)for(var b=0;b<g.dataStore.series.OPEN.length;b++)if(g.dataStore.series.OPEN[b].id==a.entity.data.seriesID)return!0;return!1}function j(){var b=1e3*a.entity.data.availableFrom;if("ADDED"==a.entity.data.state||"CHALLENGE_ADDED"==a.entity.data.state){if(moment().isBefore(moment(b)))return"Next challenge for this Quest is coming "+moment(b).from(moment());var c=moment().startOf("day").isBefore(moment(b)),d=c?"Today's":"Your",e=a.entity.data.totalLearningObjects+" question"+(a.entity.data.totalLearningObjects>1?"s":""),f=c?"ready":"pending";return d+" challenge with "+e+" is "+f+"."}return"COMPLETED"==a.entity.data.state?"All challenges in this Quest are completed.":""}a.entity=g.createEntity(a.entity,a.month,function(){a.entity=g.dataStore.entitiesMap[a.entity.data.id],"MISSION"==a.entity.data.type&&a.getMissionReviewsStatus(),a.$evalAsync()}),a.seriesId=f.params.series,a.Game=Game,a.isMission=Utils.Func.isMission,a.getReviewScoreText=function(a){var b="",c="",d="",e=!0,f=a.passingScore&&a.passingScore.value;return f&&(e=a.percentageScore>=f),f&&!e?(b="Score: "+a.percentageScore+"% | Failed",c="Failed | Score: "+a.percentageScore+"%",d="critical"):f&&!a.certificateScore&&e?(b="Score: "+a.percentageScore+"% | Passed",c="Passed | Score: "+a.percentageScore+"%"):e&&(b=c="Score: "+a.percentageScore+"%"),{text:Utils.Func.isNewDesignLanguage()?c:b,kClass:d}};a.hasDueDatePassed=function(){var b=(new Date).getTime()/1e3;return!!(a.entity.data.dueDateObj&&"NONE"!==a.entity.data.dueDateObj.dueDateExpiryAction&&b>a.entity.data.dueDateObj.dueOn)},a.isNotLoading=function(){return a.entity.request&&a.entity.request.$resolved||!a.entity.request},a.loaderGif=loaderSmall,a.isInSeries=function(){return f.current.name.indexOf(".series")!==-1||f.current.name.indexOf(".reinforcement")!==-1},a.isCourseActive=function(){var b=NTP.fixTime()/1e3;return!(null!==a.entity.data.startTime&&a.entity.data.startTime>0&&b<a.entity.data.startTime)&&(null===a.entity.data.expiryTime||a.entity.data.expiryTime<=0||b<=a.entity.data.expiryTime)},a.hideRedo=function(){var b=companySettings&&companySettings.orgId;return!!(["1006260301411396905"].indexOf(b)>-1&&a.entity.data.hideCertificate)};a.entity.data.completionStateTxt=Utils.Func.getCompletionStateText(a.entity.data.completionState,a.entity.data.completionCertificateEnabled),a.$on("$destroy",function(){console.log("stopping timer",a.entity.data.stop),angular.isDefined(a.entity.data.stop)&&(b.cancel(a.entity.data.stop),console.log("stopped timer",a.entity.data.stop),a.entity.data.stop=void 0)}),a.entity.data.timeLimit>0&&a.$on("CLEAR_TIMEOUT_TIMER_"+a.entity.data.id,function(){b.cancel(a.entity.data.stop)}),this.selectSeries=function(a,b){},a.getCoachingStatus=Utils.Func.getCoachingStatus;var k=i();a.getILTStatus=function(){if(a.entity.data.iltData){var b="";if(a.entity.data.iltData.sessionDetails&&(a.entity.data.iltData.sessionDetails.endTimeEpoch<(new Date).getTime()?(delete a.entity.data.iltData.attendanceStatus,delete a.entity.data.iltData.enrolmentStatus):b=Utils.Func.getNiceDateWithTimezone(a.entity.data.iltData.sessionDetails.startTimeEpoch,a.entity.data.iltData.sessionDetails.timezone,a.entity.data.iltData.showLearnerTimezone,companyUser.user.timezone,companyUser.user.timezone_new)),a.entity.data.iltData.attendanceStatus&&"ATTENDANCE_NOT_MARKED"!=a.entity.data.iltData.attendanceStatus){if("ATTENDED"==a.entity.data.iltData.attendanceStatus)return Game.Messages.TXT_ATTENDED+": "+b;if("NOT_ATTENDED"==a.entity.data.iltData.attendanceStatus)return Game.Messages.TXT_DID_NOT_ATTEND+": "+b}if(a.entity.data.iltData.enrolmentStatus&&"ENROLLED"==a.entity.data.iltData.enrolmentStatus)return Game.Messages.TXT_ENROLLED_FOR+": "+b;if(a.entity.data.iltData.enrolmentStatus&&"WAITING"==a.entity.data.iltData.enrolmentStatus)return Game.Messages.TXT_WAITING_FOR+": "+b;if(a.entity.data.iltData.hasOwnProperty("upcomingSessions"))return a.entity.data.iltData.upcomingSessions+" "+Game.Messages.UPCOMING_SESSIONS}return""},a.getDueDateText=function(){NTP.fixTime()/1e3;return"ADDED"===a.entity.data.state&&k?"":Utils.Func.isMission(a.entity.data.type)&&a.entity.data.reattemptVersion>1?"":Utils.Func.isMission(a.entity.data.type)&&1===a.entity.data.reattemptVersion&&["COMPLETED","SUBMITTED"].indexOf(a.entity.data.state)>0?"":a.entity.data.dueDateObj?Utils.Func.getDueDateText(a.entity.data.dueDateObj):""},a.isDueToday=function(){return"COACHING"==a.entity.data.type?0!=a.entity.data.scheduledOn&&Utils.Func.isDueTodayOrTomorrow("ACTIVE",{dueOn:a.entity.data.scheduledOn,dueDateExpiryAction:"NONE"}):Utils.Func.isDueTodayOrTomorrow(a.entity.data.state,a.entity.data.dueDateObj)},a.loaderGif=loaderSmall,a.getCompletionDateText=function(){if("ASSESSMENT"==a.entity.data.type||"COURSE"==a.entity.data.type||Utils.Func.isMission(a.entity.data.type)){if(null!=a.entity.data.certificateExpiringOn&&a.entity.data.isCertificateExpired)return _.template(Game.Messages.ASSESSMENT_TXT_CERT_EXPIRED)({dt:Utils.Func.getNiceDate(a.entity.data.certificateExpiringOn)});if(a.entity.data.recertify)return _.template(Game.Messages.ASSESSMENT_TXT_CERT_EXPIRING)({dt:Utils.Func.getNiceDate(a.entity.data.certificateExpiringOn)})}return Utils.Func.isMission(a.entity.data.type)||"MISSION"==a.entity.data.type?"COMPLETED"===a.entity.data.state?Game.Messages.LB_TXT_ALL_REVIEWS_COMPLETE:"SUBMITTED"===a.entity.data.state?Game.Messages.TXT_SUBMITTED:void 0:a.entity.data.completedOn>0?Game.Messages.LB_TXT_COMPLETED_ON+" "+Utils.Func.getNiceDate2(a.entity.data.completedOn)+", "+Utils.Func.getTimeText({dueOn:a.entity.data.completedOn}):Game.Messages.COMPLETED},a.isCourseActive=function(){var b=NTP.fixTime()/1e3;return!(null!=a.entity.data.startTime&&a.entity.data.startTime>0&&b<a.entity.data.startTime)&&!(null!=a.entity.data.expiryTime&&a.entity.data.expiryTime>0&&b>a.entity.data.expiryTime)},a.redoMission=function(){Utils.Func.confirm(Game.Messages.LB_TXT_R_U_SURE,function(){g.reattemptMission(a.entity.data.id).$promise.then(function(b){learnerJson.company_score-=a.entity.data.score,mtBrodCastService.brodCast("UPDATED_PROFILE",{learnerJson:learnerJson}),localStorage&&!localStorage.getItem(kScoreUpdatedKey)&&localStorage.setItem("initial_comapny_score",learnerJson.company_score),a.openEntity()},function(){Utils.Func.alert(Game.Messages.UNABLE_TO_REATTEMPT)})})},a.isEntityCanBeReattempted=function(){var b=Utils.Func.getRemainingReAttempsForLearner(a.entity.data.numberOfAllowedReattempts,a.entity.data.originalReattemptVersion,a.entity.data.graceReattempts);return 9999==a.entity.data.numberOfAllowedReattempts||0!=b},a.reAttemptEntity=function(){var b=Utils.Func.getRemainingReAttempsForLearner(a.entity.data.numberOfAllowedReattempts,a.entity.data.originalReattemptVersion,a.entity.data.graceReattempts);return 9999!=a.entity.data.numberOfAllowedReattempts&&0==b?void Utils.Func.alert(Game.Messages.LB_TXT_ZEROREATTEMPTS):void Utils.Func.confirm(_.template(Game.Messages.TXT_REATTEMPT_CONFIRM)({type:Utils.Func.getEntityTypeObjByNum(5).name}),function(){g.reAttemptEntity(a.entity.data.id).then(function(b){b.reattemped?(learnerJson.company_score-=a.entity.data.score,mtBrodCastService.brodCast("UPDATED_PROFILE",{learnerJson:learnerJson}),localStorage&&!localStorage.getItem(kScoreUpdatedKey)&&localStorage.setItem("initial_comapny_score",learnerJson.company_score),f.go("assessment",{entityId:a.entity.data.id,entity:a.entity.data.type,series:a.entity.data.seriesId},{reload:!0}),Game.MixPanelTracking.track("Restart Content",{"Content Type":a.entity.data.type,"Content Name":a.entity.data.name,"Content ID":a.entity.data.id})):Utils.Func.alert(Game.Messages.UNABLE_TO_REATTEMPT)},function(){Utils.Func.alert(Game.Messages.UNABLE_TO_REATTEMPT)})})},a.downloadCertificate=function(){"ONE_TO_ONE_COACHING"===a.entity.data.type||"PERFORMANCE_EVALUATION_COACHING"===a.entity.data.type||Utils.Func.isMission(a.entity.data.type)||a.entity.data.isCertificateAchived&&Utils.Func.downloadCertificate(a.entity.data.id,a.entity.data.certificateUrl,a.entity.data.name,a.entity.data.type)},a.hasDueDatePassed=function(){var b=(new Date).getTime()/1e3;return!(!(a.entity.data.dueDateObj&&"NONE"!==a.entity.data.dueDateObj.dueDateExpiryAction&&a.entity.data.dueDateObj.dueOn>0&&b>a.entity.data.dueDateObj.dueOn)||k)},a.gotoSeries=function(){var b=a.entity.data.seriesID,c=reinforcementDefaultSeries&&reinforcementDefaultSeries.id==b;Utils.Func.resetPagePerformanceMetrics(null,null,f.current.name),f.go(c?"root.courses.reinforcement":"root.courses.series",{series:b})},a.openEntity=function(){if(a.isNotLoading()){if("REINFORCEMENT"==a.entity.data.type)return void(location.href="/ui/reinforcement/learner/"+reinforcementDefaultSeries.id+"/"+a.entity.data.id);Game.MixPanelTracking.track("module_clicked",{from:"thumbnail",location:f.current.name,module_id:a.entity.data.id,module_name:a.entity.data.name,module_status:a.entity.state,module_type:a.entity.data.type,series_id:a.entity.data.seriesId,series_name:a.entity.data.seriesName}),f.go("root.courses.gamelanuch",{entity:a.entity.data,series:a.seriesId,entityId:a.entity.data.id})}},a.noAction=function(){},a.openSeries=function(a){var b=a.data.parentList[0].id;Game.MixPanelTracking.track("series_clicked",{series_id:b,location:f.current.name,from:"thumbnail"}),f.go("root.courses.series",{series:b})},a.getMissionReviewsStatus=function(){var b=0;if(0==a.entity.data.reviewers.length)return Game.Messages.M_TXT_NO_REVIEWERS_ADDED;for(var c=0;c<a.entity.data.reviewers.length;c++)"COMPLETED"!=a.entity.data.reviewers[c].status&&b++;return a.entity.data.numPending=b,a.entity.data.totalReviews=a.entity.data.reviewers.length,b>1?b+"/"+a.entity.data.reviewers.length+" "+Game.Messages.M_TXT_REVIEW_PENDING_SPACE:b+"/"+a.entity.data.reviewers.length+" "+Game.Messages.M_TXT_REVIEW_PENDING_SPACE_ONE},("MISSION"==a.entity.data.type||Utils.Func.isMission(a.entity.data.type))&&a.getMissionReviewsStatus(),a.getReinforcementCompletionText=function(){return Game.Messages.LB_TXT_COMPLETED_ON+" "+Utils.Func.getNiceDate2(a.entity.data.completedOn)+", "+Utils.Func.getTimeText({dueOn:a.entity.data.completedOn})},"REINFORCEMENT"==a.entity.data.type&&(a.reinforcementEntityStatus=j(),a.showReinStartIcon=("ADDED"===a.entity.data.state||"CHALLENGE_ADDED"===a.entity.data.state)&&moment().isAfter(1e3*a.entity.data.availableFrom)||"ACTIVE"===a.entity.data.state,a.startIcon=assetsBase+"/images/smallStart.svg")}]).controller("SidebarControllerList",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory",function(a,b,c,d,e,f,g){a.list=g.dataStore.series[a.listType],a.request=g.dataStore.series.request,a.isNewDesignLanguage=this.isNewDesignLanguage=Utils.Func.isNewDesignLanguage,a.$stateParam=f.params;var h=function(){a.list=Utils.Func.sortArrayOnAField(g.dataStore.series[a.listType],"name"),a.request=g.dataStore.series.request;var b=a.list.slice();if(a.shortList1=b.splice(0,8),a.shortList2=b,f.params.series)for(var c=0;c<a.shortList2.length;c++)a.shortList2[c].id==f.params.series&&(a.expanded=!0,a.$evalAsync())};g.attachSeriesSidebarChangeListeners(function(){h(),a.$evalAsync()}),a.request.$promise.then(h,function(a){console.error(a)}),"PINNED"===a.listType?a.listTitle=Game.Messages.LB_PINNED_SERIES:"INVITE_ONLY"===a.listType?a.listTitle=Game.Messages.LB_ASSIGNED_SERIES:"OPEN"===a.listType&&(a.listTitle=Game.Messages.LB_TXT_OPEN_CHANNEL.toUpperCase()),a.togglePin=function(a){var b=g.dataStore.series.all[a];Game.MixPanelTracking.track("learner_pin_series_clicked",{action:b.pinned?"unpin":"pin",series_id:b.id,series_name:b.name}),g.addToPinned(a)},a.gotoSeries=function(b){var c="Click Series";"PINNED"===a.listType&&(c="click pinned series");var d={series:b.id,entityType:void 0,state:void 0,moduleRelevance:void 0};a.$stateParam.series&&a.$stateParam.series==b.id&&(g.resetSeriesStore(b,{from:0}),d=_.extend({},d,f.params)),Game.MixPanelTracking.track("series_clicked",{series_id:b.id,series_name:b.name,location:f.current.name,from:"PINNED"===a.listType?"pinned_series":"OPEN"===a.listType?"public_series":"assigned_series"}),Utils.Func.resetPagePerformanceMetrics(null,null,"root.courses.series"),f.go("root.courses.series",{series:b.id,entityType:void 0,state:void 0,tags:void 0,moduleRelevance:void 0},{notify:!0,reload:!0})},a.loaderGif=loaderSmall,a.expanded=g.dataStore.sidebarStates[a.listType],a.expandList=function(){a.expanded=!g.dataStore.sidebarStates[a.listType],
g.dataStore.sidebarStates[a.listType]=a.expanded,a.$evalAsync()}}]).controller("DashboardContentCtrl",["$scope","$state","$stateParams","learningBoardServiceFactory",function(a,b,c,d){var e=this;this.viewLoading=!1,this.initialContentLoading=!0,this.moreContentsLoading=!1,a.showDropDown=!1,$.ajaxSettings&&$.ajaxSettings.data&&delete $.ajaxSettings.data.loadedEntityVersion,this.isStared="true"==c.starred,this.setIsStarted=function(a){this.isStared=a,1==this.isStared?this.currentContentsTitle=Game.Messages.LB_TXT_STARRED_FILES:this.currentContentsTitle=Game.Messages.LB_TXT_ALL_FILES,this.start=0,this.getContents(),this.updateCurrentRouteUrl("starred",this.isStared)},this.contentType=c.type?c.type:"ALL",this.searchQuery=c.query?c.query:void 0,this.start=0,this.count=10,this.totalContents=0,this.currentContents=[],a.isNotContentSingle=function(){return"root.contents.viewsingle"!==b.$current.name},a.Game=Game,this.currentContentsTitle=Game.Messages.LB_TXT_ALL_FILES,1==this.isStared&&(this.currentContentsTitle=Game.Messages.LB_TXT_STARRED_FILES),this.searchQuery&&(this.currentContentsTitle=_.template(Game.Messages.LB_TXT_SEARCH_RESULT_FOR)({query:decodeURIComponent(encodeURIComponent(this.searchQuery))})),this.setContentType=function(a){this.moreContentsLoading||this.initialCoursesLoading||(a==this.contentType?this.contentType="ALL":this.contentType=a,this.start=0,this.getContents(),this.updateCurrentRouteUrl("type",this.contentType))},a.showPreviewDD=function(){return e.searchquery==e.searchQuery?(a.showDropDown=!1,!1):(a.showDropDown=!0,e.suggestions&&e.suggestions.length>0&&a.showDropDown&&a.clickInPreviewDD&&e.searchquery.length>0)},a.$on("SEARCH_CONTENTS",function(a,b){""==b.query&&(b.query=void 0),e.searchQuery=b.query,e.start=0,e.getContents(),e.updateCurrentRouteUrl("query",e.searchQuery)}),a.onClickOut=function(){a.clickInPreviewDD=!1},a.onClickIn=function(){a.clickInPreviewDD=!0},a.decodeURIComponent=function(a){return decodeURIComponent(encodeURIComponent(a))},a.clearTheSearch=function(){a.contentsCtrl.searchquery=void 0,e.suggestions=[],e.searchQuery&&mtBrodCastService.brodCast("CLEAR_SEARCH")},a.triggerSearch=function(){return""==a.contentsCtrl.searchquery?(e.searchQuery&&""!=e.searchQuery&&(e.searchQuery="",e.getContents()),void(a.contentsCtrl.searchquery=void 0)):(e.searchQuery=a.contentsCtrl.searchquery,e.suggestions=[],e.start=0,void("GLOBAL"===Game.Settings.searchType?(a.updateRecentSearches(e.searchQuery,"ADD"),b.go("root.searchnew",{query:a.searchQuery,type:void 0,content_type:void 0,module:void 0,series:void 0,module_types:void 0,tags:void 0,tagonly:void 0},{reload:!0})):(b.current.name.indexOf("root.courses")!==-1&&("GLOBAL"===Game.Settings.searchType?b.go("root.searchnew",{query:a.searchQuery,type:void 0,content_type:void 0,module:void 0,series:void 0,module_types:void 0,tags:void 0,tagonly:void 0},{reload:!0}):b.go("root.search",{query:e.searchQuery})),e.searchQuery&&""!=e.searchQuery&&Game.MixPanelTracking.track("Search content File",{"Search term":e.searchQuery,"Search at":"Content File"}))))},a.resultFound=!0,a.$watch("contentsCtrl.searchquery",_.debounce(function(){e.initialContentLoading&&e.moreContentsLoading&&e.searchquery==e.searchQuery||(e.searchquery?(e.start=0,e.sortorder="asc",a.resultFound=!0,d.getContentsSuggestion(e.start,e.count,e.searchquery,e.entity).then(function(b){e.initialContentLoading&&e.moreContentsLoading||(e.suggestions=b.data.contents,a.contentsCtrl.searchquery.length>=3&&e.suggestions.length>0?a.resultFound=!0:a.resultFound=!1,null==a.$$phase&&a.$apply(),e.searchQuery&&""!=e.searchQuery&&Game.MixPanelTracking.track("Search content File",{"Search term":e.searchQuery,"Search at":"Content File"}))})):(e.suggestions=[],null==a.$$phase&&a.$apply()))},200),!0),a.getContentClass=function(a){var b="";return b="VIDEO"==a?"videoIcon":"IMAGE"==a||"ALBUM"==a?"imageIcon":"DOCUMENT_PDF"==a?"pdfIcon":"DOCUMENT_PPT"==a?"pptIcon":"DOCUMENT_WORD"==a?"docIcon":"DOCUMENT_XLS"==a?"xlsIcon":"AUDIO"==a?"audioIcon":"IMG_MASH_UP"==a?"mashupIcon":"NOTE"==a?"noteIcon":"embedIcon"},a.getContentClassNew=function(a){var b="";return b="VIDEO"==a?"videoSelected":"IMAGE"==a||"ALBUM"==a?"imageSelected":"DOCUMENT_PDF"==a?"pdfSelected":"DOCUMENT_PPT"==a?"pptSelected":"DOCUMENT_WORD"==a?"docSelected":"DOCUMENT_XLS"==a?"sheetSelected":"AUDIO"==a?"audioSelected":"IMG_MASH_UP"==a?"videoSelected":"NOTE"==a?"textSelected":"linkSelected"},a.previewSuggestedContent=function(a){1==a.locked?GameObject.alert("This content belongs to a course which is not yet complete.<br/> You must complete the course to access it here."):b.go(".viewsingle",{contentId:a.id,entityId:a.entity_id})},a.getNiceDate=function(a){return Utils.Func.getNiceDate2(a)},this.getContents=function(){0==e.start?e.initialContentLoading=!0:(e.moreContentsLoading=!0,this.start=this.currentContents.length),d.getContents(this.start,this.count,this.isStared,this.contentType,this.searchQuery,!0).then(function(b){e.totalContents=b.data.total,0==e.start?e.currentContents=b.data.contents:e.currentContents=e.currentContents.concat(b.data.contents),0==e.start?e.initialContentLoading=!1:e.moreContentsLoading=!1,e.searchQuery?e.displaySearchInfoHeader=!0:e.displaySearchInfoHeader=!1,e.suggestions=[],e.showDropDown=!1,null==a.$$phase&&a.$apply()})},this.loadNextPageContents=function(){this.start=this.currentContents.length,this.getContents()},this.updateCurrentRouteUrl=function(a,d){var e=c;"undefined"==typeof d?delete e[a]:e[a]=d,b.go(b.current.name,e,{relative:b.$current,reload:!1,inherit:!1,notify:!0})},this.getContents(),eventManager.trigger("hide.series.desc")}]).controller("EntitySummary",["$scope","$state","$stateParams","learningBoardServiceFactory","$timeout","$modal",function(a,b,c,d,e,f){a.hasDueDatePassed=function(){var b=(new Date).getTime()/1e3;return!!(a.entity.dueDateObj&&"NONE"!=a.entity.dueDateObj.dueDateExpiryAction&&b>a.entity.dueDateObj.dueOn)},a.getMissionReviewsStatus=function(){var b=0;if(0==a.entity.reviewers.length)return Game.Messages.M_TXT_NO_REVIEWERS_ADDED;for(var c=0;c<a.entity.reviewers.length;c++)"COMPLETED"!=a.entity.reviewers[c].status&&b++;return a.entity.numPending=b,a.entity.totalReviews=a.entity.reviewers.length,b>1?b+"/"+a.entity.reviewers.length+" "+Game.Messages.M_TXT_REVIEW_PENDING_SPACE:b+"/"+a.entity.reviewers.length+" "+Game.Messages.M_TXT_REVIEW_PENDING_SPACE_ONE},"MISSION"==a.entity.type&&a.getMissionReviewsStatus()}]).controller("EntitySummary",["$scope","$state","$stateParams","learningBoardServiceFactory","$timeout","$modal","$rootScope","$previousState",function(a,b,c,d,e,f,g,h){var i=this;if(h.get()&&"course"!==h.get().state.name){var j=h.get().state.name;if(appSettings.fromNextModulePopUp&&(j+="_dummy",delete appSettings.fromNextModulePopUp),["mission","update"].indexOf(j)!==-1)return h.go("beforeEntitySummaryState"),void h.forget("beforeEntitySummaryState");h.memo("beforeEntitySummaryState")}if(""==c.entityId||void 0==c.entityId)return void b.go("root.courses");var k=function(){if("LOCKED"==a.entity.lockState)return void("root.courses.gamelanuch"==b.current.name?Utils.Func.showOpenSeriesPrompt(a.entity.name,function(){void 0!=a.entity.parentList&&a.entity.parentList.length>0&&b.go("root.courses",{series:a.entity.parentList[0].id,query:void 0})},function(){b.go("root.courses",{series:void 0,query:void 0})}):b.go("root.courses",{series:c.series}));if(location.hash)try{var d=Game.MixPanelTracking.getQueryParams(location.hash.substr(location.hash.indexOf("?")+1));d.series&&(a.series=d.series)}catch(e){}"COACHING"==a.entity.type?i.summaryPopup=new Game.CoachingSummaryPopUp(b,a.entity,a.series,f):"ASSESSMENT"==a.entity.type?i.summaryPopup=new Game.AssessmentSummaryPopUp(b,a.entity,a.series):i.summaryPopup=new Game.EntitySummaryPopUp(b,a.entity,a.series)};c.entity?(a.entity=c.entity,a.series=c.series,g.$broadcast("refresh.achievements",a.entity),k.call(this)):"course.gamelanuch"==b.current.name&&appSettings.isPreview?e(function(){var b=Math.floor((new Date).getTime()/1e3);if(a.entity={id:courseInfo.fixed.id,type:5==courseInfo.fixed.mtentityType?"ASSESSMENT":"COURSE",name:courseInfo.fixed.name,desc:courseInfo.fixed.desc,medalName:"",medalUrl:"",isCertificateEnabled:!1,certificateUrl:"",canReattempt:!1,score:courseInfo.user.totalScore,totalScore:courseInfo.user.totalScore,thumb:courseInfo.fixed.thumbObj?courseInfo.fixed.thumbObj.obj:{url_180_120:""},dueDate:Math.floor(b+86400*courseInfo.fixed.numDaysForDueDate),state:"ADDED",percCompletion:0,availableFrom:b,completedOn:0,numberOfAllowedReattempts:courseInfo.fixed.numberOfAllowedReattempts,reattemptVersion:1,startedOn:Date.now()/1e3,timeLimit:courseInfo.settings.timeLimit,serverCurrentTime:Date.now(),remainingTimeInSeconds:courseInfo.settings.timeLimit,endTimeStamp:Date.now()/1e3+courseInfo.settings.timeLimit},5==courseInfo.fixed.mtentityType&&(a.entity.totalLearningObjects=assessmentEntityPreviewObj.qstList.length,a.entity.totalSubmittedLearningObjects=0,a.entity.passingScore=assessmentEntityPreviewObj.assessmentEntity.settings.passingScore,a.entity.wrongAttempPanelty=assessmentEntityPreviewObj.assessmentEntity.settings.wrongAttempPanelty),null!=courseInfo.fixed.dueDate)if(a.entity.dueDateObj={dueDateExpiryAction:courseInfo.fixed.dueDate.dueDateExpiryAction},"NONE"!=courseInfo.fixed.dueDate.dueDateType)if("NUM_MINUTES_AFTER_INVITATION"==courseInfo.fixed.dueDate.dueDateType){var c=Math.round((new Date).getTime()/1e3);a.entity.dueDateObj.dueOn=c+86400*(courseInfo.fixed.dueDate.value/24/60)}else a.entity.dueDateObj.dueOn=courseInfo.fixed.dueDate.value;else a.entity.dueDateObj.dueOn=0;else a.entity.dueDateObj={dueDateExpiryAction:"NONE",dueOn:0};0==courseInfo.fixed.numDaysForDueDate&&(a.entity.dueDate=0),a.entity.thumb&&(a.entity.thumb.url_180_120=a.entity.thumb.processed_path_180_120),a.series=0,k()},10):"undefined"!=typeof appSettings&&appSettings.isPreview||d.fetchEntity(c.entityId,c.series).then(function(b){a.entity=b,g.$broadcast("refresh.achievements",a.entity),a.series=null,k.call(i)}),a.$on("$destroy",function(){i.summaryPopup&&i.summaryPopup.remove()}),eventManager.trigger("hide.series.desc")}]).controller("HeaderCtrl",["$scope","$rootScope","$state","$stateParams","learningBoardServiceFactory","mtBrodCast","$timeout","CoachingAppDataModel",function(a,b,c,d,e,f,g,h){var i=this;a.headerType=1,a.activeMenu=0,a.activeTab=1,i.state=c,a.searchPlaceHolder="Search",a.showProfileDD=0,this.searchquery="",a.showHandoutsDD=0,a.learnerJson=learnerJson,this.Math=window.Math,a.isPreview=appSettings.isPreview,a.isNewDashboard=!1,a.showReviewsTab=Utils.Func.showReviewsTab,a.showOtherTabs=Utils.Func.showOtherTabs,a.goToReviewDasboard=function(){var a=companySettings.lsSettings.modulesUnderMaintenance||[];companySettings.lsSettings.enabledModuleTypes.indexOf(4)>-1&&a.indexOf(4)===-1?self.location.href="/#/reviews/mission":companySettings.lsSettings.enabledModuleTypes.indexOf(13)>-1?self.location.hash="/ui/coaching/dashboard?state=ACTIVE&tab_type=COACHING":self.location.hash="/ui/coaching/dashboard?tab_type=MISSION"},a.isMission=function(){return"undefined"!=typeof courseInfo&&null!=courseInfo&&"undefined"!=typeof courseInfo.fixed&&null!=courseInfo.fixed&&(4==courseInfo.fixed.mtentityType&&!a.isPreview)},a.isMission()&&(a.practice=a.$parent.$$childHead.practice),a.showOtherTabs=function(){return!0},a.showLSHomeImg=function(){return!("undefined"==typeof companySettings||!companySettings.lsSettings||null==companySettings.lsSettings.learningSiteLogo)},a.getLSHomeImg=function(){return"undefined"!=typeof companySettings&&companySettings.lsSettings&&null!=companySettings.lsSettings.learningSiteLogo?companySettings.lsSettings.learningSiteLogo.obj.processed_path:"#"},a.isParticipantsDisabled=function(){return Utils.Func.isParticipantsDisabled()},a.getTagClass=function(a){return"COURSE"==a?{tag:"C",typeClass:"cBG_L"}:"UPDATE"==a?{tag:"Q",typeClass:"qBG_L"}:"ASSESSMENT"==a?{tag:"A",typeClass:"aBG_L"}:void 0},this.getMyKscore=function(){return Utils.Func.convertScoreToKscore(learnerJson.company_score)},a.$on("UPDATED_PROFILE",function(b,c){null==a.$$phase&&a.$apply()}),this.isParticipantsActive=function(){return _.indexOf(["course.participants","root.participants","course.participants.participant","root.participants.participant"],c.current.name)>-1&&(a.searchPlaceHolder=Game.Messages.LB_TXT_SEARCH_PARTICIPANTS,!0)},this.isCoursesActive=function(){return _.indexOf(["root.courses"],c.current.name)>-1&&(a.searchPlaceHolder=Game.Messages.LB_TXT_SEARCH,!0)},this.isContentsActive=function(){return _.indexOf(["root.contents"],c.current.name)>-1&&(a.searchPlaceHolder=Game.Messages.LB_TXT_SEARCH_CONTENTS,!0)},this.isReviewsActive=function(){return _.indexOf(["root.reviews.missions","root.reviews.coaching"],c.current.name)>-1&&(a.searchPlaceHolder=Game.Messages.LB_TXT_SEARCH_CONTENTS,!0)},this.isDiscussionsActive=function(){return _.indexOf(["root.discussions","root.discussions.questions","root.discussions.answers","course.discussions","course.discussions.questions","course.discussions.answers"],c.current.name)>-1},this.showSearchBar=function(){return!(_.indexOf(["root.courses","root.contents","root.participants","course.participants","root.participants.participant","root.discussions","root.discussions.questions","root.discussions.answers","course.discussions","course.discussions.questions","course.discussions.answers"],c.current.name)>-1)},a.Game=Game,a.$on("COURSE_INFO",function(b,c){a.settings=c.courseInfo,"undefined"!=courseInfo&&courseInfo.fixed.numberOfAllowedReattempts&&9999!==courseInfo.fixed.numberOfAllowedReattempts&&(a.replayBtnTxt=Game.Messages.MSG_REPLAY_BTN+" ("+Utils.Func.getRemainingReAttempsForLearner(courseInfo.fixed.numberOfAllowedReattempts,courseInfo.user.reattemptVersion)+")"),a.$evalAsync()}),a.$on("CHANGE_HEADER",function(b,c){a.headerType=c.id,a.topicName=c.name,2==c.id?(eventManager.trigger("render.ScoreBar",$(".tickleScoreBar"),Game.ScoreBar.NO_BG),$(".courseMainContainer").addClass("loginPage_Bg"),$(".courseHeaderContainer").removeClass("bg_f9 borderB_ee").addClass("bg_1d borderB_00")):($(".courseMainContainer").removeClass("loginPage_Bg"),$(".courseHeaderContainer").addClass("bg_f9 borderB_ee").removeClass("bg_1d borderB_00")),a.$evalAsync(),mtBrodCastService.brodCast("HEADER_CHANGED",c)}),a.replayBtnTxt=Game.Messages.MSG_REPLAY_BTN,a.reAttemptEntity=function(){var b=Utils.Func.getRemainingReAttempsForLearner(courseInfo.fixed.numberOfAllowedReattempts,courseInfo.user.reattemptVersion);return courseInfo&&9999!=courseInfo.fixed.numberOfAllowedReattempts&&0==b?void Utils.Func.alert(Game.Messages.LB_TXT_ZEROREATTEMPTS):void Utils.Func.confirm("Are you sure?",function(){e.reAttemptEntity(a.settings.fixed.id).then(function(a){a.reattemped?c.reload():Utils.Func.alert(Game.Messages.UNABLE_TO_REATTEMPT)},function(){Utils.Func.alert(Game.Messages.UNABLE_TO_REATTEMPT)})})},a.getBackButtonName=function(){return"undefined"!=typeof appSettings&&appSettings.isPreview?"Exit Preview":!a.settings||!a.settings.entityLearner||appSettings&&appSettings.isPreview?Game.Messages.MY_BOARD:"_default"==a.settings.entityLearner.invited_from[a.settings.entityLearner.invited_from.length-1]?(a.isNewDashboard=!1,Game.Messages.MY_BOARD):a.settings.seriesVo?("DASHBOARD"==companySettings.lsSettings.lsView&&(a.isNewDashboard=!0),a.settings.seriesVo.name):void 0},a.exitUpdate=function(){mtBrodCastService.brodCast("destroy.lb",{}),window.onbeforeunload=null,eventManager.trigger(Game.CONST.GOBACK_FROM_TICKLE);var a;a=courseInfo.seriesVo?courseInfo.seriesVo.id:courseInfo.entityLearner.invited_from[courseInfo.entityLearner.invited_from.length-1],"undefined"!=typeof loadedFromParent&&_.indexOf(courseInfo.entityLearner.invited_from,loadedFromParent)!=-1&&(a=loadedFromParent),setTimeout(function(){mtBrodCastService.gotoState("root.courses",{series:a})},800)},a.exitToHome=function(){mtBrodCastService.brodCast("destroy.lb",{}),window.onbeforeunload=null,eventManager.trigger(Game.CONST.GOBACK_FROM_TICKLE),setTimeout(function(){mtBrodCastService.gotoState("root.courses",{series:void 0})},800)},a.goBackToCourse=function(){eventManager.trigger(Game.CONST.GOBACK_FROM_TICKLE)},a.toggleProfileDD=function(){appSettings.isPreview||(Game.MixPanelTracking.track("Profile Toggled",{entity:d.entityId,series:d.series}),a.activeMenu=0,a.showHandoutsDD=0,1==a.showProfileDD?a.showProfileDD=0:a.showProfileDD=1)},a.hideProfileDD=function(){a.showProfileDD=0},a.$on("CLEAR_SEARCH",function(b,c){i.searchquery="",a.gotoSearchResults()}),a.$on("CLEAR_SEARCH_TEXT",function(b,c){i.searchquery="",i.prevSearch="",null==a.$$phase&&a.apply()}),a.resetSearchQuery=function(){i.searchquery="",a.gotoSearchResults()},a.toggleMessages=function(){Game.MixPanelTracking.track("platform_messages_center_clicked",{}),a.showProfileDD=0,a.showHandoutsDD=0,1==a.activeMenu?a.activeMenu=0:a.activeMenu=1},a.hideMessages=this.hideMessages=function(){a.activeMenu=0},a.toggleHandouts=function(){a.showProfileDD=0,a.activeMenu=0,1==a.showHandoutsDD?a.showHandoutsDD=0:a.showHandoutsDD=1},a.hideHandouts=function(){a.showHandoutsDD=0},a.showPopop=function(){alert(1)},a.toggleNotifications=function(){Game.MixPanelTracking.track("platform_notification_center_clicked",{}),a.showProfileDD=0,2==a.activeMenu?a.activeMenu=0:a.activeMenu=2},a.hideNotifications=function(){a.activeMenu=0},a.getAcronym=function(){var a=learnerJson.name;if("undefined"==typeof a)return"";var b=a.match(/\b(\w)/g),c=b.join("").substr(0,2);return c.toUpperCase()},a.openViewProfile=function(b){b||(b=learnerJson.id),Game.MixPanelTracking.track(learnerJson.id===b?"learner_profile_viewed":"learners_peer_list_profile_page_viewed",{learner_id:b,location:c.current.name}),c.go("root.participant",{uid:b}),a.showProfileDD=0},a.showStartedContents=function(){a.showProfileDD=0,a.activeTab=2,c.go("root.contents",{starred:!0})},a.exitGame=function(){c.go("root.courses")};var j=function(){Game.MixPanelTracking.track("Sign out",{}),setTimeout(function(){window.location.href="/logout"},100)};a.signOut=function(){a.showProfileDD=0,b.isRecording?Utils.Func.confirm("Navigating out of this page would delete the draft you just recorded, do you want to move out of this page?",function(){j()}):j()},a.showCourses=function(){Game.MixPanelTracking.track("Learning Board",{}),a.activeTab=1,c.go("root.courses",{},{relative:c.$current,reload:!1,inherit:!1,notify:!0}),a.searchPlaceHolder="Search Content"},a.showContents=function(){a.activeTab=2,c.go("root.contents"),a.searchPlaceHolder="Search Content"},a.showReviews=function(){a.activeTab=5,c.go("root.reviews.missions")},a.showParticipants=function(){a.activeTab=3,a.searchPlaceHolder="Search Participants",d.entityId?c.go("course.participants",{entityId:d.entityId},{reload:!0}):c.go("root.participants",{},{reload:!0})},a.showDiscussion=function(){a.activeTab=4,d.entityId?c.go("course.discussions.questions",{geid:d.entityId,type:"all"}):(this.selectEntityForQNAPopUp||(this.selectEntityForQNAPopUp=new Game.SelectEntityPopUP(c)),this.selectEntityForQNAPopUp.render())},a.$watch("headerCtrl.searchquery",_.debounce(function(){},1e3),!0),a.gotoSearchResults=function(){var a=$.trim(i.searchquery);if(""!=a&&a.length<3)return void $(".searchMinTxtErr").text(_.template(Game.Messages.ERR_MINCHAR)({n:3})).show(0).delay(3e3).hide(0);var b="Learing Board";i.isParticipantsActive()?(f.brodCast("SEARCH_PARTICIPANTS",{query:a}),b="Participants"):i.isContentsActive()?(f.brodCast("SEARCH_CONTENTS",{query:a}),b="Content File"):i.isCoursesActive()&&(f.brodCast("SEARCH_COURSES",{query:a}),b="Learing Board"),i.prevSearch=a},learnerJson.pic?a.pic=learnerJson.pic:a.pic=assetsBase+"/images/img_80_80.png",a.$on("UPDATED_PROFILE",function(b,c){c.learnerJson.pic&&(a.pic=c.learnerJson.pic)}),g(function(){$(".lsName").text(companySettings.displayName)},500),a.$on("$destroy",function(){clearInterval(a.reviewTabTimerId)})}]),angular.module("learnginBoardApp").directive("appSeriesSidebar",function(){return{templateUrl:templateBaseUrl+"/dashboard/app-series-sidebar.html",controller:"SidebarController"}}).directive("completionFilter",function(){return{template:"<div class='floatL pos_rel dropdown' ng-class='{ disable : disableFilter, borderL_dd: !isOnlyFilter, paddingL20: !isOnlyFilter }'> <div class='dropdown-toggle color99' style='border: none;'><div style='padding:0 25px 0 0px;background:transparent;color:#999;' class='dropdown-text lineHeight20'>{{completionTypes[selectedFilter()]}}</div><div class='icon-ddArrowBottom F7 color99 pos_abs' style='top:7px;right:2px'></div></div><div class='dropdown-menu' style='width:210px;top:30px;left:-11px;padding: 0;margin:0;border:0'><ul class='newBoxShadow' style='max-height:152px;'><li class='ellipsis' ng-repeat='(key, value) in completionTypes' ng-click='selectFunction(key)' ng-class='{color00:selectedFilter() == key}'>{{value}}</li></ul></div></div>",scope:{selectFunction:"=",selectedFilter:"=",completionTypes:"=",disableFilter:"=",isOnlyFilter:"="}}}).directive("entityFilter",function(){return{template:"<div class='floatL pos_rel dropdown  marginR15'><div class='dropdown-toggle' style='border: none;'> <div style='padding:0 25px 0 0px;background:transparent;color:#999;' class='dropdown-text lineHeight20'>{{selectedFilter()}}</div><div class='icon-ddArrowBottom F7 color99 pos_abs' style='top:7px;right:2px'></div></div><div class='dropdown-menu' style='width:260px;top:30px;left:-15px;padding: 0;margin:0;border:0'><ul class='newBoxShadow' style='max-height:205px;'><li ng-repeat='(key, value) in entityTypes' ng-click='selectFunction(key);'><div class='floatL marginT7 marginR5 entity_sml borderR2' ng-if='entityTypes[key].icon.length > 0' ng-class='entityTypes[key].icon'>{{entityTypes[key].shortKey}}</div><div class='floatL ellipsis' ng-style='{width: entityTypes[key].icon.length <= 0? 220 : 194 }' ng-class='{color00:entityTypes[key].name == selectedFilter()}'style='width1: 200px;'>{{entityTypes[key].name}}</div><div class='clear'></div></li></ul></div></div>",scope:{selectFunction:"=",selectedFilter:"=",entityTypes:"="}}}).directive("moduleRelevanceFilter",function(){return{template:"<div class='floatL pos_rel dropdown  marginR15 borderL_dd paddingL15 marginL15' ng-class='{ disable : disableFilter }'><div class='dropdown-toggle' style='border: none;'> <div ng-if='selectedFilter().length==1' style='padding:0 25px 0 0px;background:transparent;color:#999;' class='dropdown-text lineHeight20'>{{moduleRelevanceTypes[selectedFilter()[0]]}}</div><div ng-if='selectedFilter().length>1' style='padding:0 25px 0 0px;background:transparent;color:#999;' class='dropdown-text lineHeight20'>{{moduleRelevanceTypes[selectedFilter()[0]] + ' + ' +(selectedFilter().length - 1)}}</div><div class='icon-ddArrowBottom F7 color99 pos_abs' style='top:7px;right:2px'></div></div><div class='dropdown-menu' style='width:180px;top:30px;left:0px;padding: 0;margin:0;border:0'><ul class='newBoxShadow' style='max-height:205px;'><li ng-hide='key==\"all\"' ng-repeat='(key, value) in moduleRelevanceTypes' ng-click='selectFunction(key);$event.stopPropagation();'><span><span class=\"icon-checkbox F14 cursor color99 floatL marginT8\"ng-class=\"{'icon-checkboxFilled': selectedFilter().indexOf(key)!=-1}\"style=\"display: inline-block;vertical-align: middle;\"></span>"+'<div class="marginL20" ng-class="{\'color00\':selectedFilter().indexOf(key)!=-1}" style="white-space:normal;">{{moduleRelevanceTypes[key]}}</div><div class="clear"></div></span></li></ul></div></div>',scope:{selectFunction:"=",selectedFilter:"=",disableFilter:"=",moduleRelevanceTypes:"="}}}).directive("appSeriesSidebarList",function(){return{templateUrl:templateBaseUrl+"/dashboard/app-series-sidebar-list.html",controller:"SidebarControllerList",scope:{listType:"="}}}).directive("appProfileSidebar",function(){return{templateUrl:templateBaseUrl+"/dashboard/app-profile-sidebar.html",controller:"profileSidebarController",controllerAs:"profileSC"}}).directive("appGamificationEntityThumb",function(){return{templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/recent-new/":"/")+"app-gamification-entity-thumb.html",controller:"entityThCtrl",controllerAs:"entityThCtrl",scope:{entity:"=",month:"="}}}).directive("loadingEntityThumb",function(){return{templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/recent-new/":"/")+"app-gamification-loading-entity-thumb.html"}}).directive("appSeriesThumb",function(){return{templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/recent-new/":"/")+"app-series-thumb.html",controller:"SeriesThumbCtrl",controllerAs:"seriesTh",scope:{series:"=",month:"="}}}).directive("dashboardHeader",function(){return{templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/recent-new/":"/")+"app-dashboard-header.html",controller:"dashboardHeaderCtrl",controllerAs:"dashboardHeader"}}).directive("globalSearchSuggestions",function(){return{templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/search-new/":"/")+"global-search-suggestions.html"}}).directive("mtPostRepeatDirective",function(){return function(a,b,c){if(a.$last){var d=23;c.computedwidth&&(d=parseInt(c.computedwidth,10));var e=$(b.parent()),f=0;setTimeout(function(){$("div",b.parent()).each(function(){$(this).hasClass("tagText")&&(f+=$(this).width()+d)}),e.css({width:f+34+"px"}),a.pplearnsl=f+34,a.checkIsLargeContent(f+34)},500)}}}),$.ajaxPrefilter(function(a,b,c){a.url.match(/.html/)||"undefined"==typeof appVersion||c.setRequestHeader("appVersion",appVersion),c.error(function(){c.status>=300&&Utils.Func.trackError({status:c.status,url:a.url,headers:c.getResponseHeader,data:c.responseText}),403==c.status&&Utils.Func.handleErrorResponse(403,c.responseText,a.url)})}),appSettings.cookie&&$.ajaxSetup({beforeSend:function(a){a.setRequestHeader("MtCookie",appSettings.cookie)}});var LBAppCacheService=angular.module("learnginBoardCacheServices",[]);LBAppCacheService.factory("learnginBoardCacheService",["$cacheFactory",function(a){var b=a("mtcacheService");return b}]);var LBAppServices=angular.module("learnginBoardServices",["learnginBoardCacheServices","ngResource"]);LBAppServices.factory("mtHistory",["$rootScope","$state","$location","$timeout",function(a,b,c,d){var e=[],f=[],g=!1,h="/course/"==c.path().substr(0,8);a.$on("$stateChangeSuccess",function(a,b,c,d,f){if("undefined"!=typeof appSettings&&appSettings.isPreview&&b&&"root.courses"==b.name)return void $(".previewBackBtn").click();if(h="course"==b.name,!g){var i=e.length;return i<1?void e.push({state:d,params:f}):void(d.name!=e[i-1].state.name?e.push({state:d,params:f}):e[i-1]={state:d,params:f})}});var i=null;a.$on("HEADER_CHANGED",function(a,b){d(function(){h&&(i=b)},100)});var j=function(){if(e.length>0){var a=e.pop();return f.unshift(a),g=!1,b.go(a.state.name,a.params,{},!0),"course"==a.state.name&&i&&mtBrodCastService.brodCast("CHANGE_HEADER",i),!0}return!1},k=function(){return e.length>0},l=function(a,c,d,e){return c=c||{},h="course"==a,g=e,b.transitionTo(a,c,angular.extend({inherit:!0,relative:b.$current},d))};return b.go=l,{goback:j,hasPrevious:k}}]),LBAppServices.factory("mtBrodCast",["$rootScope","$state","$previousState",function(a,b,c){var d={};return d.showSurvey=function(a,b){if(a[b]&&a[b].isActive&&a[b].formUrl){var c=$('<div class="pos_rel bg_ff"><div style="padding:20px 0;"><div class="crossIcon_20_20 pos_abs closeMe" style="right:10px; top:10px"></div><div class="textalign_C color36 F18 lineHeight28">Survey</div><div class="textalign_C pos_abs" style="width: 100%; top: 30px; bottom: 0px; overflow-y: auto;"><iframe src="'+a[b].formUrl+'" style="width:100%;height:100%;" frameborder="0" marginheight="0" marginwidth="0">'+Game.Messages.MSG_LOADING+"</iframe></div></div></div>"),e=Game.FullScreenPopupManager.open(c);$(".closeMe",c).one("click",function(){Game.FullScreenPopupManager.close(e),d.showSurvey(a,b+1)})}},d.brodCast=function(b,c){if("SHOW_SURVEY"==b){null!=c.surveys&&c.surveys.length>0&&d.showSurvey(c.surveys,0)}else a.$broadcast(b,c)},d.gotoState=function(a,c){c?b.go(a,c):b.go(a)},d.saveEntryState=function(){c.memo("workflowEntryState")},d.gotoPreviousState=function(){c.go("workflowEntryState")},d.hasWorkflowEntryPoint=function(){return!!c.get("workflowEntryState")&&c.get("workflowEntryState").state},d.getPreviousState=function(){return c.get()},d}]),LBAppServices.factory("learningBoardServiceFactory",["$state","$http","$q","learnginBoardCacheService","$log","$resource","$rootScope","$interval",function(a,b,c,d,e,f,g,h){function i(){m.TODAY_LIMIT=new Date,m.TODAY_LIMIT.setHours(23,59,0,0),m.TODAY_LIMIT=m.TODAY_LIMIT.setDate(m.TODAY_LIMIT.getDate()-1),m.LAST_SEVEN_DAY_TIMESTAMPT=new Date,m.LAST_SEVEN_DAY_TIMESTAMPT.setHours(0,0,0,0),m.LAST_SEVEN_DAY_TIMESTAMPT=m.LAST_SEVEN_DAY_TIMESTAMPT.setDate(m.LAST_SEVEN_DAY_TIMESTAMPT.getDate()-q),m.NEXT_FIFTEEN_DAY_TIMESTAMP=new Date,m.NEXT_FIFTEEN_DAY_TIMESTAMP=m.NEXT_FIFTEEN_DAY_TIMESTAMP.setDate(m.NEXT_FIFTEEN_DAY_TIMESTAMP.getDate()+r),m.queryModels.dueQuery=_.extend({},m.queryModels.mtElementsDefaults),l(),m.dataStore.dueMtElements={queryState:s.overDue}}function j(a,b){m.dataStore.series[a].push(b)}function k(a){var b=new Date(1e3*a.addedOnTimeMin),c=b.toLocaleString(locale,{month:"long"})+" "+b.getFullYear();return console.log(c),b.getMonth()==m.queryModels.presentMonth&&b.getFullYear()===m.queryModels.presentYear?Game.Messages.LB_THIS_MONTH:c}function l(){m.queryModels.dueQuery=_.extend({},m.queryModels.mtElementsDefaults),m.queryModels.dueQuery.fieldToSort="due_on",m.queryModels.dueQuery.dueOnTimeMin=Math.floor(m.LAST_SEVEN_DAY_TIMESTAMPT/1e3),m.queryModels.dueQuery.dueOnTimeMax=Math.floor(m.TODAY_LIMIT/1e3)}var m={},n=d;m.dataStore={},companySettings.lsSettings.seriesMilestonesEnabled&&(m.dataStore.milestones={}),appSettings.cookie&&(b.defaults.headers.common.MtCookie=appSettings.cookie),m.dataStore.stopMtElementsRequest=c.defer();var o=f("/",{},{reattempt:{url:"/entity/:missionId/reattempt",method:"POST"},getSeriesNames:{url:"/mtelements/learner_all_series",method:"GET",cache:!0},getMTElements:{url:"/mtelements/list_learner_recent_entities",method:"POST",cancellable:!0},searchMTElements:{url:"/mtelements/search_modules",method:"POST",cancellable:!0},searchMTElementsAggs:{url:"/mtelements/search_modules_aggs",method:"GET",cancellable:!0},getSeriesElement:{url:"/mtelements/:seriesId/list_series_elements",method:"GET",cancellable:!0},getAchivements:{url:"/mtelements/profile_sidebar_data",method:"GET"},setPin:{url:"/series/toggle_pins",method:"POST"},fetchContents:{url:"/content",method:"GET",cancellable:!0},fetchContentsAggs:{url:"/contents/aggs",method:"GET",cancellable:!0,cached:!0},fetchEntity:{url:"/mtelements/entity/:entityId",method:"GET",cancellable:!0},searchSeries:{url:"/mtelements/search_series",method:"GET"},suggestMTEntities:{url:"/suggest",method:"GET",cancellable:!0},saveRecentSearches:{url:"/recent_searches",method:"POST"},getMilestones:{url:"/mtelements/:seriesId/milestones",method:"GET"},getMediaTags:{url:"/media/tags",method:"GET"}});m.reattemptMission=function(a){return o.reattempt({missionId:a},{a:1})},m.searchSeries=function(a,b,c){return o.searchSeries({searchText:a,start:b,count:c})},m.getMediaTags=function(){return o.getMediaTags({})},m.dataStore.series={INVITE_ONLY:[],OPEN:[],PINNED:[],all:{},request:{resolved:!1}},m.dataStore.entitiesMap={},m.checkTimeRemaining=function(a){a.data.timeRemaining=a.data.timeLimit,"ADDED"!=a.data.state&&(a.data.timeRemaining=0!=a.data.endTimeStamp?a.data.endTimeStamp-NTP.fixTime()/1e3:a.data.timeLimit)},g.$on("$stateChangeSuccess",function(b,c,d,e,f){if(e.url.indexOf(":entityId")!==-1&&c.name.indexOf("root.courses")!==-1){if(d.series&&m.dataStore.series.all[d.series]&&m.dataStore.series.all[d.series].sequentialUnlockingEnabled){var g=m.createSeriesQueryStore(d.series,{},!0);return m.fetchSeriesElements(g,!1,!0),m.triggerSeriesListeners(d.series),void a.go("root.courses.series",{state:void 0,
entityType:void 0,series:d.series},{reload:!0})}var h=m.dataStore.entitiesMap[f.entityId];h&&(h.request={$resolved:!1},h.evalAsync&&h.evalAsync(),setTimeout(function(){["VOICE_OVER_PPT_COACHING","VIDEO_PITCH_COACHING","TASK_EVALUATION_COACHING","SCREEN_CAPTURE_COACHING"].indexOf(h.data.type)===-1?h.refresh():h.request={$resolved:!0}},200))}}),m.configureEntity=function(a){if("ASSESSMENT"===a.data.type&&(a.data.percCompletion=100*a.data.totalSubmittedLearningObjects/a.data.totalLearningObjects),a.data.timeLimit>0&&m.checkTimeRemaining(a),a.data.timeRemaining>0&&a.data.timeRemaining<a.data.timeLimit&&"COMPLETED"!==a.data.state){a.data.clock=Utils.Func.getClock(a.data.timeRemaining);var b=0;a.data.stop&&h.cancel(a.data.stop),a.data.stop=h(function(){a.data.timeRemaining-=1,b+=1,2===b&&(a.data.timeRemaining=a.data.endTimeStamp-NTP.fixTime()/1e3,b=0),a.data.timeRemaining>0&&"COMPLETED"!==a.data.state?a.data.clock=Utils.Func.getClock(a.data.timeRemaining):(a.data.clock={mmss:Game.Messages.LB_TXT_TIMEUP,isRed:!0},h.cancel(a.data.stop))},1e3)}else a.data.timeLimit>0&&"COMPLETED"===a.data.state?a.data.clock=Utils.Func.getClock(a.data.endTimeStamp-a.data.completedOn):a.data.timeLimit>0&&("TIMEDOUT"===a.data.state||a.data.timeRemaining<0)?a.data.clock={mmss:Game.Messages.LB_TXT_TIMEUP,isRed:!0}:a.data.timeLimit>0&&"ADDED"===a.data.state&&(a.data.clock={mmss:Utils.Func.getClock(a.data.timeRemaining).mmss,isRed:!1});return a},m.dataStore.entityList=[],m.createEntity=function(a,b,c){a.month=b,m.dataStore.entityList.indexOf(a.id)&&m.dataStore.entityList.push(a.id);var d=null;return d={data:a,request:null,evalAsync:c,nextEntity:a.nextEntity},m.dataStore.entitiesMap[a.id]=d,d.refresh=function(){var a=this;a.request=m.fetchEntityByResource(a.data.id),"function"==typeof a.evalAsync&&a.evalAsync(),a.request.$promise.then(function(){"function"==typeof a.evalAsync&&a.evalAsync()})},m.configureEntity(d)},m.attachedMtelementsFetchListeners={},m.dataStore.achievements={entities:[]},m.moduleListHeaderValue={recents:1,due:2},m.moduleListHeader=m.moduleListHeaderValue.recents,m.queryModels={},m.queryModels.size=12,m.queryModels.mtElementsDefaults={from:0,size:m.queryModels.size,fieldToSort:void 0,order:void 0,mtelemTypes:void 0,elemQT:void 0,missionLoTypes:void 0,searchText:void 0,userId:learnerJson.id,seriesId:void 0,lastUpdatedTime:void 0,visibility:void 0,incSyncType:void 0,searchInRecent:void 0,addedOnTimeMin:void 0,addedOnTimeMax:void 0,userState:void 0,userStateQueryType:void 0,dueOnTimeMin:void 0,dueOnTimeMax:void 0,dueDateExpiryAction:void 0,searchFields:void 0,moduleRelevances:void 0},m.queryModels.lastMtElementsQuery=_.extend({},m.queryModels.mtElementsDefaults);var p=new Date;m.queryModels.presentYear=p.getFullYear(),m.queryModels.presentMonth=p.getMonth(),m.dataStore.serieses={totalEntityCount:0},m.dataStore.sidebarStates={INVITE_ONLY:!1,OPEN:!1,PINNED:!1};var q=30,r=15;m.THUMB_WIDTH=222,m.THUMB_HEIGHT=322,m.ROWS_TO_FETCH=2,m.setFetchWindowSize=function(a,b){m.screenWidth=a,m.screenHeight=b,m.num_in_a_row=Math.floor(a/m.THUMB_WIDTH),m.num_of_rows=Math.ceil(b/m.THUMB_HEIGHT),m.first_fetch=m.num_in_a_row*m.num_of_rows,m.batch=m.ROWS_TO_FETCH*m.num_in_a_row},"undefined"!=typeof companySettings&&companySettings.lsSettings&&companySettings.lsSettings.overDuePeriod&&7!=companySettings.lsSettings.overDuePeriod.value&&(q=companySettings.lsSettings.overDuePeriod.value),"undefined"!=typeof companySettings&&companySettings.lsSettings&&companySettings.lsSettings.toBeDuePeriod&&(r=companySettings.lsSettings.toBeDuePeriod.value);var s=m.DUE_QUERY_STATES={due:1,overDue:2,bothDone:3};m.OVER_DUE_PERIOD=q,m.TO_BE_DUE_PERIOD=r,m.isMilestone={},m.dataStore.milestoneResults={},m.getAchievements=function(a){if(!m.dataStore.achievements.request||a){var b=o.getAchivements();m.dataStore.achievements.request=b,b.$promise.then(function(a){m.dataStore.achievements.entities.push.apply(m.dataStore.achievements.entities,a.achievements.achievements),m.dataStore.achievements.entities=m.dataStore.achievements.entities.slice(0,4),m.dataStore.achievements.total=a.achievements.total,a.reviewesRecevied||(a.reviewesRecevied={total:0,modules:[]}),m.dataStore.achievements.reviewesRecevied=a.reviewesRecevied,m.dataStore.achievements.recentModules=a.recentModules.reverse(),m.dataStore.achievements.nextCoachingSession=a.nextCoaching},function(){})}},i(),m.attachMtElementsRequestChangeListeners=function(a,b){m.attachedMtelementsFetchListeners[a]=b},m.triggerListeners=function(a){for(var b in m.attachedMtelementsFetchListeners)m.attachedMtelementsFetchListeners[b](a)},m.initializeMonthAndYear=function(a){m.queryModels.lastMtElementsQuery=_.extend({},m.queryModels.mtElementsDefaults,a),p=new Date,m.queryModels.currentYear=p.getFullYear(),m.queryModels.currentMonth=p.getMonth(),m.dataStore.mtElements={timestampsFetched:[],totalEntityCount:0},m.dataStore.noOfEntitiesThisMonth=-1,m.infinityCountRecents=0,m.dataStore.currentMtElementsRequest&&m.dataStore.currentMtElementsRequest.$cancelRequest()},m.initializeMonthAndYear(),m.constructConfigOptionsForSeries=function(a,b,c,d){var e={};return a&&("ALL"==a?e.type=void 0:e.type=a),b&&("ALL"==b?e.status=void 0:"incomplete"==b?e.status="ADDED,ACTIVE":e.status=b),c&&(c&&c.length>0?e.tags=c.join(","):e.tags=void 0),d&&d.length>0&&(e.moduleRelevances=d),e},m.attachedDueFetchListeners=[],m.attachSeriesRequestChangeListeners=function(a,b){var c=m.dataStore.serieses[a];c.attachedMtelementsFetchListeners=c.attachedMtelementsFetchListeners||[],c.attachedMtelementsFetchListeners.push(b)},m.triggerSeriesListeners=function(a,b){var c=m.dataStore.serieses[a];if(c)for(var d=c.attachedMtelementsFetchListeners,e=0;e<d.length;e++)d[e](b)},m.dataStore.seriesSidebarChangeListeners=[],m.attachSeriesSidebarChangeListeners=function(a){m.dataStore.seriesSidebarChangeListeners.push(a)},m.triggerSeriesSidebarChangeListeners=function(){for(var a=0;a<m.dataStore.seriesSidebarChangeListeners.length;a++)m.dataStore.seriesSidebarChangeListeners[a]()},m.attachSeriesSidebarChangeListeners(function(){u()});var t=function(a){a.sort(function(a,b){return a.name>b.name?1:-1})},u=function(){for(var a=["INVITE_ONLY","OPEN","PINNED"],b=0;b<a.length;b++)t(m.dataStore.series[a[b]])};m.getSeriesNames=function(){var a={start:0,count:200};if((m.dataStore.series.INVITE_ONLY.length>0||m.dataStore.series.OPEN.length>0||m.dataStore.series.PINNED.length>0)&&m.dataStore.series.request)return m.dataStore.series.request;var b=o.getSeriesNames(a);return m.dataStore.series.request=b,b.$promise.then(function(a){m.dataStore.series.OPEN=[],m.dataStore.series.PINNED=[],m.dataStore.series.INVITE_ONLY=[];for(var b in a.INVITE_ONLY)a.INVITE_ONLY[b].pinned?j("PINNED",a.INVITE_ONLY[b]):j("INVITE_ONLY",a.INVITE_ONLY[b]),m.dataStore.series.all[b]=a.INVITE_ONLY[b];for(var b in a.OPEN)m.dataStore.series.all[b]=a.OPEN[b],a.OPEN[b].pinned?j("PINNED",a.OPEN[b]):j(m.getSeriesVisibility(b),a.OPEN[b]);m.triggerSeriesSidebarChangeListeners()},function(a){}),b},m.getSeriesVisibility=function(a){return"INVITE_ONLY"==m.dataStore.series.all[a].visibility||learnerJson.series.find(function(b){return b.id==a&&"FULL"==b.invite_type})?"INVITE_ONLY":"OPEN"},m.addToPinned=function(a){m.dataStore.series.all[a].pinned=!m.dataStore.series.all[a].pinned,m.dataStore.series.PINNED=m.dataStore.series.PINNED.filter(function(b){return b.id!==a}),m.dataStore.series.all[a].pinned?(j("PINNED",m.dataStore.series.all[a]),m.dataStore.series[m.getSeriesVisibility(a)]=m.dataStore.series[m.getSeriesVisibility(a)].filter(function(b){return b.id!==a})):j(m.getSeriesVisibility(a),m.dataStore.series.all[a]);var b={cname:cname,uid:learnerJson.id,seriesId:a,pin:m.dataStore.series.all[a].pinned};m.triggerSeriesSidebarChangeListeners();var c=o.setPin({},b);return c.$promise.then(function(){m.triggerSeriesSidebarChangeListeners()},function(){m.dataStore.series.all[a].pinned=!m.dataStore.series.all[a].pinned,m.dataStore.series.all[a].pinned?j("PINNED",m.dataStore.series.all[a]):j(m.getSeriesVisibility(a),m.dataStore.series.all[a]),m.triggerSeriesSidebarChangeListeners()}),c},m.addOpenSeriesToLearnerBoard=function(a){var c=b({method:"POST",url:"/"+a+"/add_open_series_to_my_board"});return c.then(function(b){m.dataStore.series.OPEN=m.dataStore.series.OPEN.filter(function(b){return b.id!==a});var c={id:a,invite_type:"FULL"};learnerJson.series.push(c),m.dataStore.series.all[a].visibility="INVITE_ONLY",m.dataStore.series.all[a].pinned||(j("INVITE_ONLY",m.dataStore.series.all[a]),m.triggerSeriesSidebarChangeListeners())}),c},m.setNextMonth=function(){1*m.queryModels.currentMonth>0?m.queryModels.currentMonth-=1:(m.queryModels.currentMonth=11,m.queryModels.currentYear-=1)},m.moveToNextMonth=function(){m.setNextMonth(),m.fetchMtElements()},m.constructMonthwiseQueryObject=function(){m.queryModels.lastMtElementsQuery.addedOnTimeMax?m.queryModels.lastMtElementsQuery.addedOnTimeMax=m.queryModels.lastMtElementsQuery.addedOnTimeMin:m.queryModels.lastMtElementsQuery.addedOnTimeMax=Math.floor(p.getTime()/1e3),m.queryModels.lastMtElementsQuery.addedOnTimeMin=Math.floor(new Date(m.queryModels.currentYear,m.queryModels.currentMonth,1).getTime()/1e3),m.queryModels.lastMtElementsQuery.fieldToSort="added_on"},m.dataStore.currentMtElementsRequest=null,m.checkIfAlreadyFetchingMtElements=function(){if(m.dataStore.currentMtElementsRequest&&!m.dataStore.currentMtElementsRequest.$resolved)return!0;var a=m.dataStore.mtElements.timestampsFetched.length;if(a>0){var b=m.dataStore.mtElements.timestampsFetched[m.dataStore.mtElements[a]];if(b&&b.request&&!b.request.$resolved)return!0}return!1},m.dataStore.noOfEntitiesThisMonth=-1,m.addEntity=function(a){return b.post("/learner/addEntity?"+$.param(a))},m.startEntity=function(a){return b.post("/entity/"+a+"/start")};var v=5;m.infinityCountRecents=0;var w=10;m.dataStore.noOfEntitiesRequest=null,m.getNoOfEntitiesThisMonth=function(){if(m.dataStore.noOfEntitiesThisMonth===-1){var a=_.extend({},m.queryModels.lastMtElementsQuery);a.from=0,a.size=0,a.addedOnTimeMin=Math.floor(new Date(m.queryModels.presentYear,m.queryModels.presentMonth,1).getTime()/1e3),a.addedOnTimeMax=Math.floor(p.getTime()/1e3),a.searchInRecent=!0,a.fieldToSort="added_on",a.mtelemTypes&&a.mtelemTypes.indexOf("6")>-1&&a.mtelemTypes.indexOf("13")===-1&&(a.mtelemTypes=a.mtelemTypes.concat(["13"])),a.mtelemTypes&&a.mtelemTypes.indexOf("4")>-1&&(a.mtelemTypes=a.mtelemTypes.concat([9,10,11,12])),m.dataStore.noOfEntitiesRequest=o.getMTElements({},a)}return m.dataStore.noOfEntitiesRequest},m.dataStore.searchResult={entities:[]},m.getNoOfEntitiesThisMonth();var x=function(a,b){for(var c=b;c<a.length;c++)m.dataStore.entitiesMap[a[c].id]&&(m.dataStore.entitiesMap[a[c].id].data=a[c],m.dataStore.entitiesMap[a[c].id].nextEntity=m.dataStore.entitiesMap[a[c].id].nextEntity||a[c].nextEntity)};m.fetchSearchMtElements=function(a,b,c){var d=m.dataStore.searchResult.queryModel||_.extend({},m.queryModels.mtElementsDefaults);d.searchText===b&&a||(m.dataStore.searchResult.entities=[],d.from=0);var e=m.dataStore.searchResult;if(d.searchText=b,d.seriesId=c,a||!(e.entities.length>w)){c&&(d.mtelemTypes=[1],d.elemQT="EXCLUDE"),a&&(d.from=e.entities.length),m.dataStore.searchResult.queryModel=d;var f=o.getMTElements({},d);return e.request=f,m.dataStore.searchResult.request=f,f.$promise.then(function(a){m.dataStore.searchResult.entities.push.apply(m.dataStore.searchResult.entities,a.entities),a.total>w&&m.dataStore.searchResult.entities.length<w&&m.fetchSearchMtElements(!0,b,c)},function(a){var b=_.extend({"request-id":a.headers("request-id"),errorCode:a.status,errorMessage:a.statusText,location:"Search MTE Elements"},e.queryModel);Game.MixPanelTracking.track("Learning Site Errors",b)}),f}},m.fetchNewSearchMtElements=function(a,b,c,d,e){var f=m.dataStore.searchResult.queryModel||_.extend({},m.queryModels.mtElementsDefaults);return f.searchText===b&&a||(f.from=0),f.searchText=b,f.size=d||f.size,f.from=c,f.mtelemTypes=[2,3,4,5,6,7],f.elemQT="INCLUDE",f=_.extend({},f,e),(f.mtelemTypes.indexOf(4)>-1||f.mtelemTypes.indexOf("4")>-1)&&(f.mtelemTypes=f.mtelemTypes.concat([9,10,11,12])),o.searchMTElements({},f)};var y={};m.searchMTElementsAggs=function(a,b,d,e){var f=c.defer();return y[a]?f.resolve(y[a]):o.searchMTElementsAggs({searchText:a,seriesId:b,moduleTypes:d?d.join(","):void 0,tagIds:e?e.join(","):void 0}).$promise.then(function(b){y[a]=b,f.resolve(b)},function(a){f.reject(a)}),f},m.setRecentsModuleRelevanceFilter=function(a,b){return b.moduleRelevances=a,a!=m.queryModels.currentRecentModuleRelevanceFilter&&(m.queryModels.currentRecentModuleRelevanceFilter=a,!0)},m.setRecentsCompletionFilter=function(a,b){return"incomplete"==a?(b.userStateQueryType="EXCLUDE",b.userState=["COMPLETED","DEACTIVATED","TIMEDOUT"]):"completed"==a?(b.userStateQueryType="INCLUDE",b.userState=["COMPLETED","TIMEDOUT"]):(b.userStateQueryType=void 0,b.userState=void 0),a!=m.queryModels.currentRecentCompletionFilter&&(m.queryModels.currentRecentCompletionFilter=a,!0)},m.setRecentsEntityTypeFilter=function(a,b){return"0"==a?(b.elemQT=void 0,b.mtelemTypes=void 0,b.searchInRecent=!0):(b.elemQT="INCLUDE",b.mtelemTypes=[a],b.searchInRecent=void 0),"all"!=m.queryModels.currentRecentCompletionFilter&&"0"==a&&(b.elemQT="EXCLUDE",b.mtelemTypes=["1"],b.searchInRecent=void 0),m.queryModels.currentRecentEntityTypeFilter!=a&&(m.queryModels.currentRecentEntityTypeFilter=a,!0)};var z=function(a,b,c){if(!(m.infinityCountRecents>=v)){var d=!1;0==c.entities.length?m.infinityCountRecents+=1:m.infinityCountRecents=0,a.monthName=k(a.queryModels),m.dataStore.noOfEntitiesThisMonth==-1&&(m.dataStore.noOfEntitiesThisMonth=c.total,m.dataStore.noOfEntitiesRequest.total=c.total,m.dataStore.noOfEntitiesRequest.$resolved=!0),m.dataStore.mtElements.totalEntityCount+=c.entities.length;var e=a.entities.length;a.entities.push.apply(a.entities,c.entities),x(a.entities,e>0?e-1:0),m.dataStore.mtElements.timestampsFetched.indexOf(b)==-1&&a.entities.length>0&&m.dataStore.mtElements.timestampsFetched.push(b),(c.entities.length<m.queryModels.size||a.entities.length>=c.total)&&(m.setNextMonth(),d=!0),m.dataStore.mtElements.totalEntityCount<w&&m.fetchMtElements(!d,!1),a.monthName==Game.Messages.LB_THIS_MONTH,m.dataStore.mtElements[b]=a,m.triggerListeners(c)}};m.fetchMtElements=function(b,c,d){if(m.checkIfAlreadyFetchingMtElements())return!0;if(!(m.infinityCountRecents>=v)){m.constructMonthwiseQueryObject(),console.log("adding fetch");var e=d||m.queryModels.lastMtElementsQuery.addedOnTimeMin;if(!m.dataStore.mtElements[e]){var f=m.dataStore.mtElements[e]={entities:[],id:e,from:e};f.queryModels=f.queryModels||_.extend({},m.queryModels.lastMtElementsQuery),f.to=f.queryModels.addedOnTimeMax}var g=m.dataStore.mtElements[e];if(b||c)c?(g.queryModels.from+=g.queryModels.size,g.queryModels.size=g.queryModels.from,g.queryModels.from=0):b&&g.entities.length>0&&(g.queryModels.from=g.entities.length);else if(g.entities.length>w)return;g.queryModels.mtelemTypes&&g.queryModels.mtelemTypes.indexOf("6")>-1&&g.queryModels.mtelemTypes.indexOf("13")===-1&&(g.queryModels.mtelemTypes=g.queryModels.mtelemTypes.concat(["13"])),g.queryModels.mtelemTypes&&g.queryModels.mtelemTypes.indexOf("4")>-1&&(g.queryModels.mtelemTypes=g.queryModels.mtelemTypes.concat([9,10,11,12]));var h=o.getMTElements({},g.queryModels);return g.request=h,m.dataStore.currentMtElementsRequest=g.request,m.triggerListeners(),h.$promise.then(function(c){console.log(c),z(g,e,c),0==b&&Utils.Func.sendPagePerformanceMetrics(a.current.name,"Readiness")},function(c){var d=_.extend({"request-id":c.headers("request-id"),errorCode:c.status,errorMessage:c.statusText,location:"Loading MTE Entities"},g.queryModels);Game.MixPanelTracking.track("Learning Site Errors",d),0==b&&Utils.Func.sendPagePerformanceMetrics(a.current.name,"Readiness")}),h}},m.initializeDueQueryObject=function(a){function b(a){a.overDue=[],a.due=[],a.totalEntityCount=0,a.queryState=s.overDue,l(),a.queryModel=_.extend({},m.queryModels.dueQuery)}var c=null;return c=m.dataStore.dueMtElements,(!m.dataStore.dueMtElements.overDue&&!m.dataStore.dueMtElements.due||a)&&b(c),c.queryModel=c.queryModel||_.extend({},m.queryModels.dueQuery),c.queryModel.mtelemTypes||(c.queryModel.mtelemTypes=[1]),c.queryModel.elemQT||(c.queryModel.elemQT="EXCLUDE"),c.request&&c.request.$cancelRequest(),m.dataStore.dueMtElements=c,c},m.setDueCompletionFilter=function(a){var b=null;b="incomplete"==a?{userStateQueryType:"EXCLUDE",userState:["COMPLETED","DEACTIVATED","TIMEDOUT"]}:"completed"==a?{userStateQueryType:"INCLUDE",userState:["COMPLETED","TIMEDOUT"]}:{userStateQueryType:void 0,userState:void 0};var c=m.dataStore.dueMtElements;c.queryModel=_.extend({},c.queryModel,b),m.queryModels.currentDueCompletionFilter=a},m.setDueEntityTypeFilter=function(a){var b=null;b="0"!=a?{elemQT:"INCLUDE",mtelemTypes:[a]}:{mtelemTypes:[1],elemQT:"EXCLUDE"};var c=m.dataStore.dueMtElements;c.queryModel=_.extend({},c.queryModel,b),m.queryModels.currentDueEntityTypeFilter=a},m.checkIfAlreadyFetchingMtElements=function(){if(m.dataStore.currentMtElementsRequest&&!m.dataStore.currentMtElementsRequest.$resolved)return!0;var a=m.dataStore.mtElements.timestampsFetched.length;if(a>0){var b=m.dataStore.mtElements.timestampsFetched[m.dataStore.mtElements[a]];if(b&&b.request&&!b.request.$resolved)return!0}return!1},m.dataStore.noOfDueTodayReq=null,m.getNoOfDueToday=function(){if(!m.dataStore.noOfDueTodayReq){var a=_.extend({},m.queryModels.mtElementsDefaults);a.size=0,a.from=0,a.fieldToSort="due_on",a.dueDateExpiryAction="FREEZE";var b=new Date,c=Math.floor(b.getTime()/1e3)-1;a.dueOnTimeMin=Math.floor(c);var d=new Date;d.setHours(23,59,59,0);var e=Math.floor(d.getTime()/1e3);a.dueOnTimeMax=Math.floor(e),a.mtelemTypes=[1],a.elemQT="EXCLUDE",a.userStateQueryType="EXCLUDE",a.userState=["COMPLETED","DEACTIVATED","TIMEDOUT"],m.dataStore.noOfDueTodayReq=o.getMTElements({},a)}return m.dataStore.noOfDueTodayReq},m.getNoOfDueToday(),m.initializeDueQueryObject(),m.fetchDueElementsSuccess=function(a,b,c){console.log(b),a.totalEntityCount=a.totalEntityCount||0,a.totalEntityCount+=b.entities.length,c&&(a.due=[]);var d=!1,e=a.queryState;if(b.entities.length<m.queryModels.size?a.queryState==s.due?a.queryState=s.bothDone:a.queryState==s.overDue&&(a.queryModel.dueOnTimeMin=Math.floor(m.TODAY_LIMIT/1e3)+1,a.queryModel.dueOnTimeMax=Math.floor(m.NEXT_FIFTEEN_DAY_TIMESTAMP/1e3),a.queryState=s.due,a.queryModel.from=0,a.queryModel.size=m.queryModels.size,d=!1):d=!0,a.totalEntityCount<w&&!c&&m.fetchDueElements(d,!1),0!=b.entities.length){if(e==s.due){c&&(a.due=[]);var f=a.due.length;a.due.push.apply(a.due,b.entities),x(a.due,f>0?f-1:0)}else if(e==s.overDue){c&&(a.overDue=[]);var f=a.overDue.length;a.overDue.push.apply(a.overDue,b.entities),x(a.overDue,f>0?f-1:0)}m.triggerDueListeners()}},m.fetchDueElements=function(b,c){var d=m.dataStore.dueMtElements;if((!d.request||d.request.$resolved)&&(console.log("adding fetch"),m.dataStore.dueMtElements.queryState!=s.bothDone||c)){if(b)c?(d.queryModel.from+=d.queryModel.size,d.queryModel.size=d.queryModel.from,d.queryModel.from=0):b&&d.totalEntityCount>0&&(d.queryState===s.due?d.queryModel.from=d.due.length:d.queryState===s.overDue&&(d.queryModel.from=d.overDue.length));else if(d.totalEntityCount>w)return;var e=o.getMTElements({},d.queryModel);d.request=e,m.triggerDueListeners(),e.$promise.then(function(e){m.fetchDueElementsSuccess(d,e,c),0==b&&Utils.Func.sendPagePerformanceMetrics(a.current.name,"Readiness")},function(c){var e=_.extend({"request-id":c.headers("request-id"),errorCode:c.status,errorMessage:c.statusText,location:"Loading Due Entities"},d.queryModels);Game.MixPanelTracking.track("Learning Site Errors",e),0==b&&Utils.Func.sendPagePerformanceMetrics(a.current.name,"Readiness")})}},m.attachDueDateRequestChangeListeners=function(a){m.attachedDueFetchListeners.push(a)},m.triggerDueListeners=function(){for(var a=0;a<m.attachedDueFetchListeners.length;a++)m.attachedDueFetchListeners[a]()},m.resetSeriesStore=function(a,b){if("object"!=typeof a)try{if(a=m.dataStore.serieses[a]=m.dataStore.serieses[a]||{},!a)throw"no series exist"}catch(c){return null}a.request&&a.request.$cancelRequest();var d=a.queryModel||_.extend({},m.queryModels.mtElementsDefaults);return d=_.extend({},m.queryModels.mtElementsDefaults,b),a.dontFetchNext=!1,a.entities=[],m.dataStore.serieses[a.id]=a,d};var A=function(a,b,c){if(b){if(null===c||void 0===c)throw"Error: 'milestoneId' without 'from' is not allowed";var d=m.dataStore.milestones[a].milestoneResults=m.dataStore.milestones[a].milestoneResults||{};d[b]=d[b]||{},d[b][c]=d[b][c]||{entities:[]},null===c&&void 0===c||m.dataStore.milestones[a].milestoneResults[c]||(m.dataStore.milestones[a].milestoneResults[c]={entities:[]})}};m.createSeriesData=function(a,b){b||(b={}),m.dataStore.milestones[a]={queryModel:_.extend({},m.queryModels.mtElementsDefaults,b),milestoneResults:{},milestones:{}}},m.createMilestone=function(a,b,c){return m.dataStore.milestones[a]?(A(a,b,c),m.dataStore.milestones[a]):(m.createSeriesData(a),A(a,b,c),m.dataStore.milestones[a])},m.fetchMilestones=function(a,b){m.isMilestone[a]=companySettings.lsSettings.seriesMilestonesEnabled;var c=m.createMilestone(a),d=c.request=o.getMilestones(_.extend({},{seriesId:a},b||{}));return d.$promise.then(function(b){var d=Object.keys(b.milestones);0===d.length&&(m.isMilestone[a]=!1),d.forEach(function(a){var d=b.milestones[a],e=d.displayOrder||0;c.milestones[e]=d})},function(b){if(b.data&&"SERIES_NOT_ASSIGNED"==b.data.errorCode){var c=Game.Messages.SERIES_NOT_ASSIGNED;"1151897693056398981"==a&&(c="We apologize for the inconvenience, but you have reached this site from an email that was sent in error. Please disregard."),Utils.Func.alert(c,function(){mtBrodCastService.gotoState("root.courses.recents",{series:null,query:null},{reload:!0})})}}),d},m.createSeriesQueryStore=function(a,b,c){if(companySettings.lsSettings.seriesMilestonesEnabled&&m.isMilestone[a]){c&&(m.dataStore.entitiesMap={},m.dataStore.milestones[a]=void 0);var d=m.createMilestone(a);return d.queryModel=d.queryModel||_.extend({},m.queryModels.mtElementsDefaults),d.queryModel.seriesId=a,d.queryModel.series=a,_.keys(b).length>0&&m.createSeriesData(a,b),d}var d=m.dataStore.serieses[a]=m.dataStore.serieses[a]||{},e=d.queryModel||_.extend({},m.queryModels.mtElementsDefaults);return _.keys(b).length>0&&(e=m.resetSeriesStore(d,b)),d.queryModel=e,e.seriesId=a,e.series=a,d.entities=d.entities||[],d},m.fetchMilestoneEntities=function(a,b,c,d,e){var a=m.createMilestone(e,d,b);if(!a.milestoneResults[d][b].request){a.milestoneResults[d][b].request||setTimeout(function(){m.fetchMilestoneEntities(a,b,c,d,e)},500);var f=a.milestoneResults[d][b];a.queryModel.seriesId=e,a.queryModel.series=e;var g=f.queryModel=_.extend({},a.queryModel);g.from=b,g.start=b,g.size=c,g.milestone=d,"COACHING"===g.type&&(g.type="ONE_TO_ONE_COACHING"),"MISSION"===g.type&&(g.type="SCREEN_CAPTURE_COACHING,VIDEO_PITCH_COACHING,VOICE_OVER_PPT_COACHING,TASK_EVALUATION_COACHING");var h=f.request=o.getSeriesElement(g);h.$promise.then(function(c){a.milestoneResults[d][b].entities.push.apply(a.milestoneResults[d][b].entities,c.entities)})}},m.fetchSeriesElements=function(b,c,d){if(!b.request||b.request.$resolved){if(!c||b.dontFetchNext){if(b.entities>w||b.dontFetchNext)return}else d?(b.queryModel.from+=b.queryModel.size,b.queryModel.size=b.queryModel.from,b.queryModel.from=0):c&&b.entities.length>0&&(b.queryModel.from=b.entities.length);b.queryModel.start=b.queryModel.from;var e=angular.copy(b.queryModel);"COACHING"===e.type&&(e.type="ONE_TO_ONE_COACHING"),"MISSION"===e.type&&(e.type="VOICE_OVER_PPT_COACHING,VIDEO_PITCH_COACHING,TASK_EVALUATION_COACHING,SCREEN_CAPTURE_COACHING");var f=b.request=o.getSeriesElement(e);f.$promise.then(function(e){if(0==c&&Utils.Func.sendPagePerformanceMetrics(a.current.name,"Readiness"),b.entities||(b.entities=[]),b.totalEntityCount+=e.entities.length,b.entities.length<w&&e.entities.length>m.queryModels.size&&setTimeout(function(){m.fetchSeriesElements(b,!0,!1)},5),(e.entities.length<m.queryModels.size||b.entities.length+e.entities.length>=e.total)&&(b.dontFetchNext=!0),0!=e.entities.length){d&&(b.entities=[]);var f=b.entities.length;b.entities.push.apply(b.entities,e.entities);for(var g=0==f?0:f-1;g<b.entities.length;g++){b.entities[g].nextEntity=null;for(var h=g+1;h<b.entities.length&&["COMPLETED","TIMEDOUT","SUBMITTED","SUBMITTED_ON_TIMEOUT"].indexOf(b.entities[g].state)==-1;h++){var i=b.entities[h];if("LOCKED"==i.lockState){b.entities[g].nextEntity=i.id,g=h-1;break}}}x(b.entities,0==f?0:f-1),m.triggerSeriesListeners(b.queryModel.seriesId,e)}},function(a){if(a.data&&"SERIES_NOT_ASSIGNED"==a.data.errorCode){b.dontFetchNext=!0;var c=Game.Messages.SERIES_NOT_ASSIGNED;"1151897693056398981"==b.queryModel.seriesId&&(c="We apologize for the inconvenience, but you have reached this site from an email that was sent in error. Please disregard."),Utils.Func.alert(c,function(){mtBrodCastService.gotoState("root.courses.recents",{series:null,query:null},{reload:!0})})}}),m.dataStore.serieses[b.id]=b}},m.getMTElementsCount=function(a,c,d){var e="courses#"+a+"#"+c+"#"+d+"#counts",f={start:a,count:c,series:d},g="";d&&(g="/mtelements/"+d+"/list_series_elements_count");var h=b({method:"GET",url:g,dataType:"json",contentType:"application/json; charset=utf-8",params:f});return h.then(function(a){n.put(e,a)}),h};var B={};m.currentContentRequest={$resolved:!1,dummy:!0},m.getContents=function(a,b,c,d,e,f,g,h,i,j){0==c&&(c=null);var k=null;m.currentContentRequest&&!m.currentContentRequest.dummy&&m.currentContentRequest.$cancelRequest();var l={start:a,count:b,starred:c,query:e,includeSeriesInfo:h};if(d.length>0&&_.indexOf(d,"ALL")==-1){var k=d.join();_.indexOf(d,"EMBED")!=-1&&(k+=",SLIDESHARE,BRAINSHARK,SWF,ARCHIVE,YOUTUBE,PREZI,IFRAME"),_.indexOf(d,"IMAGE")!=-1&&(k+=",ALBUM"),_.indexOf(d,"VIDEO")!=-1&&(k+=",IMG_MASH_UP"),l.contentType=k}"ALL"!=f&&(l.seriesId=f),"ALL"!=g&&(l.moduleId=g),i&&(l.tagList=i.join(",")),j&&(l.searchFields=["TAG"]),i=i||[];var p="contents#"+a+"#"+b+"#"+c+"#"+k+"#"+e+"#"+h+"#"+f+"#"+g+"#"+i.join(",")+"#"+j;if(B[p])return B[p];var q=m.currentContentRequest=o.fetchContents(l);return q.$promise.then(function(a){n.put(p,a),delete B[p]},function(){delete B[p]}),B[p]=q.$promise,q.$promise};var C={};m.fetchContentsAggs=function(a){var b=c.defer();return C[a]?b.resolve(C[a]):o.fetchContentsAggs({searchText:a}).$promise.then(function(c){C[a]=c,b.resolve(c)},function(a){b.reject(a)}),b},m.getParticipants=function(a,c,d,e,f,g,h,i){var j="/learners/search?start="+a+"&count="+c;h&&(j="/learners/search/"+h+"?start="+a+"&count="+c);var k={filters:d,sort_on:e,sort_order:f,query:g,entity:h,group:i},l=b({method:"POST",url:j,dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(k)});return l.then(function(a){for(var b=0;b<a.data.learners;b++){var c=a.data.learners[b];n.put("learnerInfo#"+c.id,c)}}),l},m.getParticipantsSuggestion=function(a,c,d,e,f){var g="/learners/suggest?start="+a+"&count="+c;e&&(g+="&entity="+e),d&&(g+="&searchQuery="+encodeURIComponent(d)),f&&(g+="&group="+f);var h=b({method:"GET",url:g,dataType:"json",contentType:"application/json; charset=utf-8"});return h.then(function(a){for(var b=0;b<a.data.learners;b++){var c=a.data.learners[b];n.put("learnerInfo#"+c.id,c)}}),h},m.getAssingedModules=function(a,c,d){var e="/mtelements/list_all_modules?start="+a+"&count="+c;d&&"ALL"!=d&&(e+="&series="+d);var f=b({method:"GET",url:e,dataType:"json",contentType:"application/json; charset=utf-8",cache:!0});return f.then(function(a){for(var b=0;b<a.data.contents;b++){var c=a.data.contents[b];n.put("assingedModules#"+c.id,c)}}),f},m.constructSearchQueryWiseCount=function(a){if(m.searchTypeCount[a])return m.searchTypeCount[a];var b={ALL:0,SERIES:0,MODULES:0,FILES:0,PEERS:0};return m.searchTypeCount[a]=Object.assign({},b),m.searchTypeCount[a].tags=Object.assign({},b),m.searchTypeCount[a]},m.typeWiseSuggestQueries={},m.searchTypeCount={},m.getSuggestions=function(a,b,c,d,e){m.constructSearchQueryWiseCount(b);var f=o.suggestMTEntities({type:a,searchText:b,from:c,size:d,tagonly:e});return m.typeWiseSuggestQueries[a]=f,f.$promise.then(function(c){if(e){var d="tags";m.searchTypeCount[b][d][a]=c.total,m.searchTypeCount[b][d].ALL=0;for(var f in m.searchTypeCount[b][d])"ALL"!==f&&m.searchTypeCount[b][d][f]>0&&(m.searchTypeCount[b][d].ALL+=m.searchTypeCount[b][d][f])}else{m.searchTypeCount[b][a]=c.total,m.searchTypeCount[b].ALL=0;for(var f in m.searchTypeCount[b])"ALL"!==f&&m.searchTypeCount[b][f]>0&&(m.searchTypeCount[b].ALL+=m.searchTypeCount[b][f])}},function(a){console.log(a)}),f},m.getCoursesSuggestion=function(a,c,d,e,f){var g="/mtelements/suggest?start="+a+"&count="+c+"&visibility="+f;e&&(g+="&entity="+e),d&&(g+="&searchQuery="+d);var h=b({method:"GET",url:g,dataType:"json",contentType:"application/json; charset=utf-8"});return h.then(function(a){for(var b=0;b<a.data.contents;b++){var c=a.data.contents[b];n.put("contentInfo#"+c.id,c)}}),h},m.getContentsSuggestion=function(a,c,d,e){var f="/contents/suggest?start="+a+"&count="+c;e&&(f+="&entity="+e),d&&(f+="&searchQuery="+d);var g=b({method:"GET",url:f,dataType:"json",contentType:"application/json; charset=utf-8"});return g.then(function(a){for(var b=0;b<a.data.contents;b++){var c=a.data.contents[b];n.put("contentInfo#"+c.id,c)}}),g},m.getLearnerAchivements=function(a,d,e){var f={from:a,size:d};"WITH_CERT"==e?f.onModulesWithCertificate=!0:"WITH_MEDAL"==e?f.onModulesWithMedal=!0:"ALL"!=e&&(f.entityTypes=[e],4===e&&(f.entityTypes=f.entityTypes.concat([9,10,11,12]),companySettings.lsSettings.enabledModuleTypes.indexOf(4)===-1&&(f.entityTypes=[9,10,11,12])));var g=c.defer(),h=b({method:"POST",url:"/mtelements/achivements",dataType:"json",contentType:"application/json; charset=utf-8",data:f});return h.then(function(a){g.resolve(a.data)}),g.promise},m.getLearnerEntityTypeStateAggs=function(a){"ALL"==a&&(a=void 0);var d=c.defer(),e=b({method:"GET",url:"/mtelements/entityTypeStateAgg",params:{invitedFrom:a}});return e.then(function(a){d.resolve(a.data)}),d.promise},m.getLearnerTrackPerformance=function(a){var d=c.defer(),e=b({method:"GET",url:"/mtelements/track_performance",params:{parents:a}});return e.then(function(a){d.resolve(a.data)}),d.promise},m.getUserInfo=function(a){for(var d={},e=[],f=0;f<a.length;f++){var g="learnerInfo#"+a[f],h=n.get(g);h?d[h.id]=h:_.indexOf(e,a[f])==-1&&e.push(a[f])}var i=c.defer();if(0==e.length)return i.resolve(d),i.promise;var j=b({method:"GET",url:"/learners",params:{users:e.join()}});return j.then(function(a){for(var b in a.data.learners)learnerJson.id!=b&&n.put("learnerInfo#"+b,a.data.learners[b]),d[b]=a.data.learners[b];i.resolve(d)}),i.promise},m.reAttemptEntity=function(a){var d=c.defer(),e=b({method:"POST",url:"/entity/"+a+"/reattempt"});return e.then(function(a){"undefined"!=typeof courseInfo&&(learnerJson.company_score-=courseInfo.user.totalScore,mtBrodCastService.brodCast("UPDATED_PROFILE",{learnerJson:learnerJson})),d.resolve(a.data)},function(){d.reject()}),d.promise},m.getEntityLevelsInfo=function(a){var d="entityLevelsInfo#"+a,e=c.defer(),f=b({method:"GET",url:"/entity/"+a+"/qnaLevels"});return f.then(function(a){n.put(d,a.data.levels),e.resolve(a.data.levels)}),e.promise},m.getGroupLeaderBoard=function(a,d,e,f){var g="groupLeaderBoard#"+a,h={start:d,count:e},i=c.defer();if("undefined"==typeof a)return void i.resolve([]);if(n.get(g))return i.resolve(n.get(g)),i.promise;var j=b({method:"POST",url:"/entity/"+a+"/groupleaderboard",dataType:"json",contentType:"application/json; charset=utf-8",data:h});return j.then(function(a){n.put(g,a.data.lbDetails),i.resolve(a.data.lbDetails)}),i.promise},m.getLeaderBoard=function(a,d,e,f,g){var h="leaderBoard#"+a+"#"+e+"#"+f+"#"+JSON.stringify(g),i={start:e,count:f,type:d};g&&(g.groups&&(i.groupIds=g.groups),g.profile&&(i.profiles=[g.profile]));var j=c.defer();if("undefined"==typeof a)return void j.resolve([]);var k=b({method:"POST",
url:"/entity/"+a+"/leaderboard",dataType:"json",contentType:"application/json; charset=utf-8",data:i});return k.then(function(a){a.data.lbDetails&&0!=a.data.lbDetails.length||(learnerJson.score=courseInfo.user.totalScore,a.data.lbDetails.push(learnerJson)),n.put(h,a.data.lbDetails),j.resolve(a.data.lbDetails)}),j.promise},m.getLeaderBoardFilters=function(a){var d="leaderBoardFilters#"+a,e=c.defer();if("undefined"==typeof a)return void e.resolve([]);var f=b({method:"GET",url:"/entity/"+a+"/leaderboard/filters"});return f.then(function(a){n.put(d,a.data),e.resolve(a.data)}),e.promise},m.getHandouts=function(a){var d=c.defer(),e=b({method:"GET",url:"/entity/"+a+"/handouts"});return e.then(function(a){d.resolve(a.data.handouts)}),d.promise};var D=function(a){var b=appSettings.sessionId+"t-*(b`.:#H$^[)7M^p&*@E]";if(""==b)return a;if(b.length<8)return a;var c=b.length<32?b.length:32,d=[],e=0;for(e=0;e<c;e++)d[e]=31&b.charCodeAt(e);var f=0,g=[];for(e=0;e<a.length;e++){var h=a.charCodeAt(e),i=224&h;g[e]=String.fromCharCode(0!==i?h^d[f]:h),f++,f=f==c?0:f}return g.join("")};m.submitAssessment=function(a,d){var e=c.defer(),f=b({method:"POST",url:"/entity/"+a+"/submit_assessment?_="+Date.now(),dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({finalState:d})});return f.then(function(a){e.resolve(a.data)},function(b){Game.MixPanelTracking.track("Learning Site Errors",{"request-id":b.headers("request-id"),errorCode:b.status,errorMessage:b.statusText,finalState:d,entityId:a,entityName:courseInfo.fixed.name,seriesId:courseInfo.fixed.parentList.length>0?courseInfo.fixed.parentList[0].series:"",location:"Submit Assessment"})}),e.promise},m.getAssessmentResult=function(a){var d=c.defer(),e=b({method:"GET",url:"/entity/"+a+"/assessment_result?_="+Date.now()});return e.then(function(a){d.resolve(a.data)}),d.promise},m.getAssessmentStats=function(a){var d=c.defer(),e=b({method:"GET",url:"/entity/"+a+"/assessment_stats?_="+Date.now()});return e.then(function(a){d.resolve(a.data)}),d.promise},m.saveTickle=function(a,d,e){var f=JSON.stringify(e.updatedFieldsAndValues),g=Utils.Func.generateChecksum([learnerJson.id,cname,d,f]);e.updatedFieldsAndValuesStr=f,e.checksum=g,e.protocol="v2";var h=courseInfo?courseInfo.user.version:void 0;"undefined"!=typeof loadedEntityVersion&&(h=loadedEntityVersion);var i=c.defer(),j=b({method:"POST",url:"/entity/"+a+"/"+d+"?_="+Date.now()+"&loadedEntityVersion="+h,dataType:"json",contentType:"application/json; charset=utf-8",data:e});return j.then(function(a){i.resolve(a)},function(a){i.reject(a)}),i.promise},m.loadTickle=function(d,e){var f=c.defer(),g=e,h=b({method:"GET",url:"/entity/"+d+"/"+e+"?_="+Date.now()});return h.then(function(a){var b=D(a.data),c={};try{c=$.parseJSON(b)}catch(d){c={}}f.resolve(c)},function(b){Game.MixPanelTracking.track("Learning Site Errors",{contentId:courseInfo.fixed.id,contentName:courseInfo.fixed.name,playableId:g,seriesId:void 0===courseInfo.seriesVo?"":courseInfo.seriesVo.id,seriesName:void 0===courseInfo.seriesVo?"":courseInfo.seriesVo.name,errorCode:b.status,errorMessage:b.statusText,requestId:b.headers("Request-Id"),location:a.current.name,errorType:"Error loading learning object"})}),f.promise},m.fetchEntityByResource=function(a,b){var c=o.fetchEntity({entityId:a,series:b,forDisplay:!0});return c.$promise.then(function(b){var c=m.dataStore.entitiesMap[a];c?(b.stop=c.data.stop,c.data=b,m.configureEntity(c)):c=m.createEntity(b,null),c.evalAsync&&c.evalAsync(),c.data.completionStateTxt=Utils.Func.getCompletionStateText(c.data.completionState,c.data.completionCertificateEnabled)},function(a){a.data&&a.data.errorCode&&"MODULE_NOT_ASSIGNED"==a.data.errorCode&&Utils.Func.alert(Game.Messages.MODULE_NOT_ASSIGNED,function(){mtBrodCastService.gotoState("root.courses.recents",{series:null,query:null},{reload:!0})}),console.log("err sand",a)}),c},m.fetchEntity=function(b,c){if(""!=b&&void 0!=b){var d=m.fetchEntityByResource(b,c);return d.$promise.then(function(a){},function(d){console.log(d),Game.MixPanelTracking.track("Learning Site Errors",{"request-id":d.headers("request-id"),errorCode:d.status,errorMessage:d.statusText,entityId:b,seriesId:c,location:a.current.name})}),d.$promise}};var E=f("/",{},{fetchEntityData:{url:"/entity/:entityId",method:"get",cache:!1}});return m.fetchEntityData=function(a){return"undefined"!=typeof loadedFromParent?E.fetchEntityData({entityId:a,series:loadedFromParent}):E.fetchEntityData({entityId:a})},m.getAnalyticsCreds=function(a){return b.get("/analytics_creds")},m.getManagers=function(){return b.get("/fetch_managers")},m.saveRecentSearches=function(a){return o.saveRecentSearches({},a)},m.fetchRollupManagerData=function(a){return b.get("/api/node/managers/"+a+"/hierarchy-details")},m}]),angular.module("learnginBoardApp").controller("DashboardContentCtrl",["$scope","$state","$stateParams","learningBoardServiceFactory","$previousState",function(a,b,c,d,e){window.onbeforeunload=null,a.labelSeriesFilter=Game.Messages.DASHBOARD_PROFILE_SELECT_SERIES,a.labelModuleFilter=Game.Messages.DASHBOARD_CONTENT_SELECT_MODULE,a.labelTagsFilter=Game.Messages.DASHBOARD_CONTENT_SELECT_TAGS,a.filteTypeFilters={videos:Game.Messages.LB_TXT_VIDEOS,images:Game.Messages.LB_TXT_IMAGES,ppts:Game.Messages.LB_TXT_PPTS,docs:Game.Messages.LB_TXT_DOCS,pdfs:Game.Messages.LB_TXT_PDFS,sheets:Game.Messages.LB_TXT_XLSS,embed:Game.Messages.LB_TXT_EMBEDED,audio:Game.Messages.LB_TXT_AUDIO,note:Game.Messages.LB_TXT_NOTE};var f=this;this.viewLoading=!1,this.initialContentLoading=!0,this.moreContentsLoading=!1,a.menuPortal=document.body,a.loaderImg=Game.Settings.loaderPic,a.smallLoader=loaderSmall,a.showDropDown=!1,$.ajaxSettings&&$.ajaxSettings.data&&delete $.ajaxSettings.data.loadedEntityVersion,this.isStared="undefined"!=typeof c.starred&&"false"!=c.starred,this.setIsStarted=function(a){this.isStared=a;var b=this.isStared?"starred files":"all files";1==this.isStared?this.currentContentsTitle=Game.Messages.LB_TXT_STARRED_FILES:this.currentContentsTitle=Game.Messages.LB_TXT_ALL_FILES,Game.MixPanelTracking.track("Content Files Filter",{"filter type":b,"filter type values":a}),this.start=0,this.updateCurrentRouteUrl({starred:this.isStared})},this.contentTypes=c.type?c.type.split(","):[],this.searchQuery=c.query?c.query:void 0,this.tags=c.tags?c.tags.split(","):[],this.start=0,this.count=12,this.totalContents=0,this.currentContents=[],a.Game=Game,this.currentContentsTitle=Game.Messages.LB_TXT_ALL_FILES,1==this.isStared&&(this.currentContentsTitle=Game.Messages.LB_TXT_STARRED_FILES),this.searchQuery&&(this.currentContentsTitle=_.template(Game.Messages.LB_TXT_SEARCH_RESULT_FOR)({query:decodeURIComponent(this.searchQuery)}),this.isStared=!1),this.isAnyFilterApplied=function(){return!!(this.contentTypes.length>0||"ALL"!=this.seriesFilter.id||"ALL"!=this.moduleFilter.id||this.tags&&this.tags.length)},a.isNotContentSingle=function(){return"root.contents.viewsingle"!==b.$current.name},this.resetFilters=function(){this.contentTypes=[],this.seriesFilter={id:"ALL",name:Game.Messages.DASHBOARD_PROFILE_SELECT_SERIES},this.moduleFilter={id:"ALL",name:Game.Messages.DASHBOARD_CONTENT_SELECT_MODULE},this.tags=[],this.start=0,b.go(b.current.name,{series:void 0,module:void 0,tags:void 0},{relative:b.$current,reload:!0,inherit:!1,notify:!0})},this.isInCurrentFilter=function(a){return _.indexOf(this.contentTypes,a)!=-1},this.setContentType=function(a){this.moreContentsLoading||this.initialCoursesLoading||(_.indexOf(this.contentTypes,a)!=-1?(this.contentTypes.splice(_.indexOf(this.contentTypes,a),1),Game.MixPanelTracking.track("Content Files Filter Removal",{"filter type":"file type","filter type values":a})):(this.contentTypes.push(a),Game.MixPanelTracking.track("Content Files Filter",{"filter type":"file type","filter type values":a})),this.start=0,this.updateCurrentRouteUrl({type:this.contentTypes.join()}))},a.showPreviewDD=function(){return f.searchquery==f.searchQuery?(a.showDropDown=!1,!1):(a.showDropDown=!0,f.suggestions&&f.suggestions.length>0&&a.showDropDown&&a.clickInPreviewDD&&f.searchquery.length>0)},a.onClickOut=function(){a.clickInPreviewDD=!1},a.onClickIn=function(){a.clickInPreviewDD=!0},a.decodeURIComponent=decodeURIComponent,a.getContentClass=function(a){var b="";return b="VIDEO"==a?"videoIcon":"IMAGE"==a||"ALBUM"==a?"imageIcon":"DOCUMENT_PDF"==a?"pdfIcon":"DOCUMENT_PPT"==a?"pptIcon":"DOCUMENT_WORD"==a?"docIcon":"DOCUMENT_XLS"==a?"xlsIcon":"AUDIO"==a?"audioIcon":"IMG_MASH_UP"==a?"mashupIcon":"NOTE"==a?"noteIcon":"embedIcon"},a.getContentClassNew=function(a){var b="";return b="VIDEO"==a?"videoSelected":"IMAGE"==a||"ALBUM"==a?"imageSelected":"DOCUMENT_PDF"==a?"pdfSelected":"DOCUMENT_PPT"==a?"pptSelected":"DOCUMENT_WORD"==a?"docSelected":"DOCUMENT_XLS"==a?"sheetSelected":"AUDIO"==a?"audioSelected":"IMG_MASH_UP"==a?"videoSelected":"NOTE"==a?"textSelected":"linkSelected"},a.previewSuggestedContent=function(a){1==a.locked?GameObject.alert("This content belongs to a course which is not yet complete.<br/> You must complete the course to access it here."):b.go(".viewsingle",{contentId:a.id,entityId:a.entity_id})},a.getNiceDate=function(a){return Utils.Func.getNiceDate2(a)},a.reactSeriesFilter=[],a.seriesList=d.dataStore.series;var g=d.getSeriesNames();if(this.seriesFilter={id:"ALL",name:Game.Messages.DASHBOARD_PROFILE_SELECT_SERIES},c.series&&(this.seriesFilter={id:c.series,name:"Loading..."}),a.selectedSeriesFilter=function(){return f.seriesFilter.id},g.$promise.then(function(b){if(b.INVITE_ONLY)for(var c in b.INVITE_ONLY)b.INVITE_ONLY[c].label=b.INVITE_ONLY[c].name,b.INVITE_ONLY[c].value=b.INVITE_ONLY[c].id,a.reactSeriesFilter.push(b.INVITE_ONLY[c]),null==a.$$phase&&a.$apply();b.OPEN[f.seriesFilter.id]?f.seriesFilter.name=b.OPEN[f.seriesFilter.id].name:b.INVITE_ONLY[f.seriesFilter.id]&&(f.seriesFilter.name=b.INVITE_ONLY[f.seriesFilter.id].name)}),this.getContents=function(){0==f.start?f.initialContentLoading=!0:(f.moreContentsLoading=!0,this.start=this.currentContents.length);var b=d.getContents(this.start,this.count,this.isStared,this.contentTypes,this.searchQuery,this.seriesFilter.id,this.moduleFilter.id,!0,this.tags);b.then(function(b){var c=b.resourceTagsResponse.resourceTagDetailsList.reduce(function(a,b){return a[b.resourceId]=b.tagAndCategoryDetailsList,a},{}),d=b.contents.map(function(a){return Object.assign({},a,{tagList:c[a.media.id]||[]})});f.totalContents=b.total,0==f.start?f.currentContents=d:f.currentContents=f.currentContents.concat(d),0==f.start?f.initialContentLoading=!1:f.moreContentsLoading=!1,f.searchQuery?f.displaySearchInfoHeader=!0:f.displaySearchInfoHeader=!1,f.suggestions=[],f.showDropDown=!1,null==a.$$phase&&a.$apply()})},a.noneSLabelReact=Game.Messages.DASHBOARD_PROFILE_SELECT_SERIES,this.updateContentSeriesFilter=function(a){if(a.value&&"none"==a.value.toLowerCase()&&(a.id="ALL"),f.seriesFilter.id!=a.id){var b={};if(Game.MixPanelTracking.track("Content Files Filter",{"filter type":"series","filter type values":a.id}),"ALL"==a.id)f.seriesFilter={id:"ALL",name:Game.Messages.DASHBOARD_PROFILE_SELECT_SERIES};else if(f.seriesFilter=a,"ALL"!=f.moduleFilter.id){var c=!1;if(f.moduleFilter.parentList)for(var d=0;d<f.moduleFilter.parentList.length;d++)if(f.moduleFilter.parentList[d].id==f.seriesFilter.id){c=!0;break}c||(f.moduleFilter={id:"ALL",name:Game.Messages.DASHBOARD_CONTENT_SELECT_MODULE},b.module=void 0)}f.start=0,"ALL"!=a.id?b.series=a.id:b.series=void 0,f.updateCurrentRouteUrl(b),f.loadAssignedModules()}},this.moduleFilter={id:"ALL",name:Game.Messages.DASHBOARD_CONTENT_SELECT_MODULE},c.module&&(this.moduleFilter={id:c.module,name:"Loading..."}),a.noneMLabelReact=Game.Messages.DASHBOARD_CONTENT_SELECT_MODULE,a.selectedModuleFilter=function(){return f.moduleFilter.id},this.updateModuleNameInModuleFilter=function(){if("ALL"!=this.moduleFilter.id)for(i=0;i<f.moduleList.length;i++)if(f.moduleList[i].id==this.moduleFilter.id){this.moduleFilter.name=f.moduleList[i].name,this.moduleFilter.parentList=f.moduleList[i].parentList;break}},this.moduleList=[],this.reactModuleList=[],this.seriesModuleMap={},this.loadAssignedModules=function(){f.seriesModuleMap[f.seriesFilter.id]?(f.moduleList=f.reactModuleList=f.seriesModuleMap[f.seriesFilter.id],a.customModuleList=f.moduleList.slice(),a.customModuleList=Utils.Func.sortArrayOnAField(a.customModuleList,"name"),f.updateModuleNameInModuleFilter()):(f.moduleList=[],d.getAssingedModules(0,100,this.seriesFilter.id).then(function(a){if(200==a.status){for(var b in a.data.entities)a.data.entities[b].value=a.data.entities[b].id,a.data.entities[b].label=a.data.entities[b].name;a.data.series?f.seriesModuleMap[a.data.series]=a.data.entities:f.seriesModuleMap.ALL=a.data.entities,f.loadAssignedModules(),f.updateModuleNameInModuleFilter()}}))},this.loadAssignedModules(),this.updateContentModuleFilter=function(a){a.value&&"none"==a.value.toLowerCase()&&(a.id="ALL"),a.id!=f.moduleFilter.id&&(Game.MixPanelTracking.track("Content Files Filter",{"filter type":"modules","filter type values":a.id}),"ALL"==a.id?f.moduleFilter={id:"ALL",name:Game.Messages.DASHBOARD_CONTENT_SELECT_MODULE}:f.moduleFilter=a,f.start=0,"ALL"!=a.id?f.updateCurrentRouteUrl({module:a.id}):f.updateCurrentRouteUrl({module:void 0}))},this.loadNextPageContents=function(){this.start=this.currentContents.length,this.getContents()},this.updateCurrentRouteUrl=function(a){var d=c;for(var e in a)"undefined"==typeof a[e]?delete d[e]:d[e]=a[e];b.go(b.current.name,d,{relative:b.$current,reload:!0,inherit:!1,notify:!0})},this.getContents(),eventManager.trigger("hide.series.desc"),f.seriesSearchText="",a.$watch("seriesList",function(){a.customSeriesList=[];for(var b in a.seriesList.all)a.seriesList.all[b].label=a.seriesList.all[b].name,a.seriesList.all[b].value=a.seriesList.all[b].id,a.customSeriesList.push(a.seriesList.all[b]);a.customSeriesList=Utils.Func.sortArrayOnAField(a.customSeriesList,"name")},!0),a.$watch("dashboardContentsCtrl.seriesSearchText",function(b,c){if(c!=b){a.customSeriesList=[];var d=a.seriesList.all;if(f.seriesSearchText&&""!=f.seriesSearchText)for(var e in d)d[e].name.toLowerCase().indexOf(f.seriesSearchText.toLowerCase())!=-1&&a.customSeriesList.push(d[e]);else a.customSeriesList=d;a.$evalAsync()}}),f.moduleSearchText="",a.$watch("moduleList",function(){a.customModuleList=f.moduleList.slice(),a.customModuleList=Utils.Func.sortArrayOnAField(a.customModuleList,"name")},!0),a.$watch("dashboardContentsCtrl.moduleSearchText",_.debounce(function(){a.customModuleList=[];var b=f.moduleList.slice();if(f.moduleSearchText&&""!=f.moduleSearchText)for(var c=0;c<b.length;c++)b[c].name.toLowerCase().indexOf(f.moduleSearchText.toLowerCase())!=-1&&a.customModuleList.push(b[c]);else a.customModuleList=b;a.$evalAsync()},200),!0),a.tagDropdownStyles={menu:function(a){return a.width="350px",a},menuPortal:function(a){return a.zIndex="9990",a}},a.taggingEnabled=!1,a.reactTagList=[],companySettings.lsSettings.moduleTaggingEnabled){a.taggingEnabled=!0,f.tagSearchText="",f.isTagListLoading=!0;var h=d.getMediaTags();a.customTagList=[],a.currentlyAppliedTagList=[],a.getCurrentlyAppliedTagList=function(){return a.currentlyAppliedTagList},c.tags&&(a.currentlyAppliedTagList=c.tags.split(",")),f.initialTagList=[],a.reactTagList=[],a.tagFilterTxt=Game.Messages.DASHBOARD_CONTENT_SELECT_TAGS,h.$promise.then(function(b){f.isTagListLoading=!1,f.tagDetailsMap={};var c=[];if(b.tagList.forEach(function(b){b.label=b.tagName,b.value=b.tagId,c.push(b),f.tagDetailsMap[b.tagId]=b,a.currentlyAppliedTagList.indexOf(b.tagId)===-1&&f.initialTagList.push(b.tagId)}),a.reactTagList=c,null==a.$$phase&&a.$apply(),a.$evalAsync(),a.currentlyAppliedTagList.length){var d=a.currentlyAppliedTagList.filter(function(a){return f.tagDetailsMap[a]});d.length!==a.currentlyAppliedTagList.length&&(a.currentlyAppliedTagList=d,f.updateCurrentRouteUrl({tags:d.join(",")}))}var d=[];a.customTagList=f.initialTagList.slice()}),a.dropdownSelectedTagList=[],f.dropdownSelectedTagList=a.dropdownSelectedTagList,a.$watch("dashboardContentsCtrl.tagSearchText",_.debounce(function(){if(h.$resolved){a.customTagList=[];var b=f.initialTagList;f.tagSearchText&&""!=f.tagSearchText?b.forEach(function(b){f.tagDetailsMap[b].tagName.toLowerCase().indexOf(f.tagSearchText.toLowerCase())!=-1&&a.customTagList.push(b)}):a.customTagList=b.slice()}a.$evalAsync()},200)),a.applyTags=function(b){a.dropdownSelectedTagList=[],b&&b.map(function(b){a.dropdownSelectedTagList.push(b.tagId)}),a.onApplyTags()},a.onApplyTags=function(){var b="";if(a.dropdownSelectedTagList.length){var c=a.currentlyAppliedTagList.concat(a.dropdownSelectedTagList);Utils.Func.isNewDesignLanguage()&&(c=a.dropdownSelectedTagList),b=c.join(",");var d=c.length?c.map(function(a){return f.tagDetailsMap[a].tagName}):void 0;Game.MixPanelTracking.track("Content Files Filter",{"filter type":"tag","filter type values":d})}f.updateCurrentRouteUrl({tags:b})},a.resetSelection=function(){a.dropdownSelectedTagList=[],f.dropdownSelectedTagList=a.dropdownSelectedTagList},a.onRemoveTag=function(b){var c=a.currentlyAppliedTagList.filter(function(a){return b!==a}),d=c.length?c.join(","):void 0,e=c.length?c.map(function(a){return f.tagDetailsMap[a].tagName}):void 0;Game.MixPanelTracking.track("Content Files Filter",{"filter type":"tag","filter type values":e}),f.updateCurrentRouteUrl({tags:d})},a.toggleTagSelection=function(b){a.dropdownSelectedTagList.indexOf(b)===-1?(a.dropdownSelectedTagList.push(b),f.dropdownSelectedTagList=a.dropdownSelectedTagList):(a.dropdownSelectedTagList=a.dropdownSelectedTagList.filter(function(a){return a!==b}),f.dropdownSelectedTagList=a.dropdownSelectedTagList)}}a.seriesList=d.dataStore.series;var g=d.getSeriesNames();this.seriesFilter={id:"ALL",name:Game.Messages.DASHBOARD_PROFILE_SELECT_SERIES},c.series&&(this.seriesFilter={id:c.series,name:"Loading..."}),g.$promise.then(function(a){a.OPEN[f.seriesFilter.id]?f.seriesFilter.name=a.OPEN[f.seriesFilter.id].name:a.INVITE_ONLY[f.seriesFilter.id]&&(f.seriesFilter.name=a.INVITE_ONLY[f.seriesFilter.id].name)}),this.getContents=function(){0==f.start?f.initialContentLoading=!0:(f.moreContentsLoading=!0,this.start=this.currentContents.length);var b=d.getContents(this.start,this.count,this.isStared,this.contentTypes,this.searchQuery,this.seriesFilter.id,this.moduleFilter.id,!0);b.then(function(b){f.totalContents=b.total,0==f.start?f.currentContents=b.contents:f.currentContents=f.currentContents.concat(b.contents),0==f.start?f.initialContentLoading=!1:f.moreContentsLoading=!1,f.searchQuery?f.displaySearchInfoHeader=!0:f.displaySearchInfoHeader=!1,f.suggestions=[],f.showDropDown=!1,null==a.$$phase&&a.$apply()})},a.toggleSelectedTagList=function(b){a.currentlySelectedTagList.indexOf(b)===-1?a.currentlySelectedTagList.push(b):a.currentlySelectedTagList.filter(function(a){return b!==a})},a.clearSearch=function(b){f[b]="",a[b]=""},a.clearGlobalSearch=function(){e.get("beforeSearchState")&&!e.get("beforeSearchState").state?e.go("beforeSearchState"):b.go(".",{query:void 0},{reload:!0})},a.isFocus=function(){setTimeout(function(){$(".focusMe").focus()},500)}}]).controller("ContentSingle",["$scope","$state","$stateParams","learningBoardServiceFactory","$previousState",function(a,b,c,d,e){new Game.AARequestManager(c.entityId).loadTickle(function(a){a.userData||(a.userData={gamificationEntityId:c.entityId}),new Game.PreviewContentPopUp(b,a,{isFacto:!1,viewOnly:!1,$previousState:e}).render()},c.contentId).error(function(){b.go("^")})}]),angular.module("learnginBoardApp").directive("dashboardContentListRow",["$state","$modal",function(a,b){return{replace:!0,restrict:"A",scope:{content:"=content"},templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/content-new/":"/")+"dashboard-content-list-row.html",link:function(b,c,d){b.contentClass="",b.isTipHidden=!0,b.hideTip=function(){b.isTipHidden=!0},"number"==typeof b.content.added_on&&(b.content.added_on=Utils.Func.getNiceDate2(b.content.added_on)),"VIDEO"==b.content.type?b.contentClass="icon-video colorf07878":"IMAGE"==b.content.type||"ALBUM"==b.content.type?b.contentClass="icon-image color90cac0":"DOCUMENT_PDF"==b.content.type?b.contentClass="icon-pdf colord5605f":"DOCUMENT_PPT"==b.content.type?b.contentClass="icon-ppt colorf5b175":"DOCUMENT_WORD"==b.content.type?b.contentClass="icon-doc color83a6d4":"DOCUMENT_XLS"==b.content.type?b.contentClass="icon-xls color61bd87":"AUDIO"==b.content.type?b.contentClass="icon-audio colore2cc63":"IMG_MASH_UP"==b.content.type?b.contentClass="icon-video colorf07878":"NOTE"==b.content.type?b.contentClass="icon-note colorf07878":b.contentClass="icon-embeded colora28bc0","VIDEO"==b.content.type?b.contentClassNew="videoSelected":"IMAGE"==b.content.type||"ALBUM"==b.content.type?b.contentClassNew="imageSelected":"DOCUMENT_PDF"==b.content.type?b.contentClassNew="pdfSelected":"DOCUMENT_PPT"==b.content.type?b.contentClassNew="pptSelected":"DOCUMENT_WORD"==b.content.type?b.contentClassNew="docSelected":"DOCUMENT_XLS"==b.content.type?b.contentClassNew="sheetSelected":"AUDIO"==b.content.type?b.contentClassNew="audioSelected":"IMG_MASH_UP"==b.content.type?b.contentClassNew="videoSelected":"NOTE"==b.content.type?b.contentClassNew="textSelected":b.contentClassNew="linkSelected",b.previewContent=function(){if("LOCKED"==b.content.lockState){var c=function(){a.go("root.courses.series",{series:b.content.seriesId})};Utils.Func.isNewDesignLanguage()?Utils.Func.alertWithHeaderNDL(Game.Messages.LB_TXT_CONTENT_NOT_ACCESSIBLE,Game.Messages.SU_LOCKED_CONTENT_WARNING,c,{okBtn:Game.Messages.GO_TO_SERIES}):Utils.Func.confirm(Game.Messages.SU_LOCKED_CONTENT_WARNING,c,Game.Messages.GO_TO_SERIES,Game.Messages.CANCEL)}else 1==b.content.locked?Utils.Func.isNewDesignLanguage()?Utils.Func.alertWithHeaderNDL(Game.Messages.LB_TXT_CONTENT_NOT_ACCESSIBLE,Game.Messages.GEN_LOCKED_CONTENT_WARNING,void 0,{hideCancel:!0}):GameObject.alert(Game.Messages.GEN_LOCKED_CONTENT_WARNING):a.go("root.contents.viewsingle",{contentId:b.content.id,entityId:b.content.entity_id})},b.getContentInfo=function(){return"IMAGE"==b.content.type?b.content.contentParts+" "+Game.Messages.LB_TXT_IMAGE:"ALBUM"==b.content.type?b.content.contentParts+" "+Game.Messages.LB_TXT_IMAGES:"VIDEO"==b.content.type||"IMG_MASH_UP"==b.content.type||"AUDIO"==b.content.type?(b.content.contentParts/60).toFixed(0)+":"+b.content.contentParts%60+" "+Game.Messages.LB_TXT_MIN:"DOCUMENT_PDF"==b.content.type||"DOCUMENT_WORD"==b.content.type||"NOTE"==b.content.type?b.content.contentParts+" "+Game.Messages.LB_TXT_PAGES:"DOCUMENT_PPT"==b.content.type?b.content.contentParts+" "+Game.Messages.LB_TXT_SLIDES:"DOCUMENT_XLS"==b.content.type?b.content.contentParts+" "+Game.Messages.LB_TXT_SHEETS:b.content.contentParts+" "+Game.Messages.LB_TXT_EMBED},b.showAppliedTags=function(a){a.target.getElementsByClassName("moreAppliedTags")[0].classList.remove("display_N")},b.hideAppliedTags=function(a){a.target.getElementsByClassName("moreAppliedTags")[0].classList.add("display_N")},b.$on("HIDE_TIPS",function(){b.isTipHidden=!0}),b.bookmarkContent=function(){return 1==b.content.locked?(mtBrodCastService.brodCast("HIDE_TIPS",{}),void(b.isTipHidden=!1)):(b.content.starred=!b.content.starred,void new Game.AARequestManager(b.content.entity_id).saveTickle({userData:{},staticData:{id:b.content.id},entityId:b.content.entity_id},{starred:b.content.starred}).then(function(a){b.content.isStared=a.userLearningObjectVo.starred;var c="Star a Content File";b.content.isStared||(c="UnStared a Content File"),Game.MixPanelTracking.track(c,{"File Type":b.content.type,"Content ID":b.content.entity_id,"Content Name":b.content.entity_name,"Content Type":b.content.type})},function(a){a.responseText=JSON.parse(a.responseText),GameObject.alert(a.responseText.error)}))}}}}]),angular.module("learnginBoardApp").controller("ModuleCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory",function(a,b,c,d,e,f,g){console.log(f),f.params.series&&"root.courses.series"!=f.current.name&&"root.courses.reinforcement"!=f.current.name?f.go("root.courses.series",{series:f.params.series}):"root.courses"==f.current.name&&f.go(".recents")}]).controller("ModuleSearchCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$previousState",function(a,b,c,d,e,f,g,h){console.log(f),a.entities=[],a.loader=loaderGif,a.smallLoader=loaderSmall,a.searchText=f.params.query,g.fetchSearchMtElements(!1,a.searchText),a.searchResult=g.dataStore.searchResult,a.clearSearch=function(){Utils.Func.goBackAngular(f,h)}}]).controller("ModuleSeriesCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","commonService",function(a,b,c,d,e,f,g,h){function i(){a.seriesNameResolver=g.dataStore.series.request,a.series=g.dataStore.series.all[a.seriesId],a.isReinforcementSeries="root.courses.reinforcement"===f.current.name}function j(){a.isReinforcementSeries||Game.MixPanelTracking.track("series_page_viewed",{location:f.current.name,series_id:a.series.id,series_name:a.series.name})}f.current.url.indexOf("reinforcement")>0&&Game.MixPanelTracking.track("leaner_all_quest_screen_view",{location:f.current.name}),a.lsSettings=companySettings.lsSettings;var k=function(){setTimeout(function(){var a=$(".maincontaier");g.setFetchWindowSize(a.width(),a.height())},500)};a.menuPortal=document.body,a.mtReactStyle={container:function(a){return a.position="absolute",a.width="200",a}},a.csReactStyle={container:function(a){return a.position="absolute",a.width="220",a}},a.mrReactStyle={container:function(a){return a.position="absolute",a.width="200",a}},a.globalCtrl.scope.$watch("sideBarOpen",k),window.addEventListener("resize",_.throttle(k,500),!0),window.onbeforeunload=null,a.lbsf=g,a.seriesId=f.params.series,a.selectedTags=[],f.params.tags&&("string"==typeof f.params.tags?a.selectedTags=f.params.tags.split(","):a.selectedTags=f.params.tags),a.selectedTagObjs={},h.getTags(a.seriesId).resource.$promise.then(function(b){a.selectedTagObjs=b.tags;var c=[];if(a.selectedTags.length>0){for(var d=0;d<a.selectedTags.length;d++)a.selectedTagObjs[a.selectedTags[d]]&&c.push(a.selectedTags[d]);angular.equals(a.selectedTags,c)||(a.selectedTags=c,f.go(f.current.name,{tags:a.selectedTags.join(",")},{reload:!1}))}}),a.changedCollapse=!1,a.getAvailableAppliedTagsCount=function(){var b=0;if(a.selectedTags.length>0)for(var c=0;c<a.selectedTags.length;c++)a.selectedTagObjs[a.selectedTags[c]]&&b++;return b},a.entityTypes={},a.entityTypes.ALL={name:Game.Messages.LB_TXT_MODULE_TYPE_ALL,icon:"",shortKey:""},a.entityTypes.COURSE={name:Game.Messages.LB_TXT_COURSE,icon:"cBG_L",shortKey:"C"},a.entityTypes.UPDATE={name:Game.Messages.TXT_QUICK_UPDATE,icon:"qBG_L",shortKey:"Q"},a.entityTypes.MISSION={name:Game.Messages.LB_TXT_MISSION,icon:"mBG_L",shortKey:"M"},a.entityTypes.ASSESSMENT={name:Game.Messages.LB_TXT_ASSESSMENT,icon:"aBG_L",shortKey:"A"},a.entityTypes.COACHING={name:Game.Messages.LB_TXT_COACHING,icon:"csBG_L",shortKey:"S"},a.entityTypes.CHECKLIST={name:Game.Messages.LB_TXT_CHECKLIST,icon:"clBG_L",shortKey:"L"},a.entityTypes.ILT={name:Game.Messages.LB_TXT_ILT,icon:"iltBG_L",shortKey:"I"},a.entityTypes.PERFORMANCE_EVALUATION_COACHING={name:Game.Messages.LB_TXT_PERFORMANCE_EVALUATION_COACHING,icon:"csBG_L",shortKey:"S"};for(var l in a.entityTypes)if("ALL"!=l&&"MISSION"!=l&&"COACHING"!=l){var m=Utils.Func.entityType[l];_.indexOf(companySettings.lsSettings.enabledModuleTypes,m)==-1&&delete a.entityTypes[l]}_.indexOf(companySettings.lsSettings.enabledModuleTypes,4)==-1&&_.indexOf(companySettings.lsSettings.enabledModuleTypes,9)==-1&&_.indexOf(companySettings.lsSettings.enabledModuleTypes,10)==-1&&_.indexOf(companySettings.lsSettings.enabledModuleTypes,11)==-1&&_.indexOf(companySettings.lsSettings.enabledModuleTypes,12)==-1&&delete a.entityTypes.MISSION,_.indexOf(companySettings.lsSettings.enabledModuleTypes,13)==-1&&delete a.entityTypes.COACHING,a.noneETLabelReact=Game.Messages.LB_TXT_MODULE_TYPE_ALL;var n=function(){a.reactEntityTypeFilters=[];for(var b in a.entityTypes)"ALL"!=b&&a.reactEntityTypeFilters.push({value:b,label:a.entityTypes[b].name})};n(),a.resetFilters=function(){f.go(f.current.name,{state:void 0,entityType:void 0,tags:void 0,moduleRelevance:void 0},{reload:!0}),Game.MixPanelTracking.track("dashboard_filter_reset",{location:f.current.name,from:"series_list"})},a.hasMilestones=function(){return a.milestones&&a.milestones.request&&a.milestones.request.$resolved&&_.keys(a.milestones.milestones).length>0},a.moduleRelevanceTypes={all:Game.Messages.MODULE_RELEVANCE_ALL,REQ:Game.Messages.MODULE_RELEVANCE_REQ,OPT:Game.Messages.MODULE_RELEVANCE_OPT,NONE:Game.Messages.MODULE_RELEVANCE_NONE},a.noneMRLabelReact=Game.Messages.MODULE_RELEVANCE_ALL,a.selectedRelevanceFilterReactArr=[],a.reactModuleRelevanceFilters=[];for(var l in a.moduleRelevanceTypes)"all"!=l&&a.reactModuleRelevanceFilters.push({value:l,label:a.moduleRelevanceTypes[l]});a.completionTypes={ALL:Game.Messages.LB_TXT_USTATE_ALL,incomplete:Game.Messages.INCOMPLETED,COMPLETED:Game.Messages.M_TXT_COMPLETED},a.noneCTLabelReact=Game.Messages.LB_TXT_USTATE_ALL,a.reactcompletionTypesFilters=[];for(var l in a.completionTypes)"ALL"!=l&&a.reactcompletionTypesFilters.push({value:l,label:a.completionTypes[l]});a.applyCompletionFilter=function(b){var c={state:b};f.go(f.current.name,c,{reload:!1}),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"series_list",filter_type:"completion",filter_value:a.completionTypes[b],filter_obj:Utils.Func.getSearchFilters(f.params,c)})},a.applyCompletionFilterReact=function(b){b.value&&"none"==b.value.toLowerCase()&&(b.value="ALL");var c={state:b.value};f.go(f.current.name,c,{reload:!1}),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"series_list",filter_type:"completion",filter_value:a.completionTypes[b.value],filter_obj:Utils.Func.getSearchFilters(f.params,c)})},a.applyEntityFilter=function(b){var c={entityType:b};f.go(f.current.name,c,{reload:!1}),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"series_list",filter_type:"module",filter_value:a.entityTypes[b].name,filter_obj:Utils.Func.getSearchFilters(f.params,c)})},a.applyEntityFilterReact=function(b){b.value&&"none"==b.value.toLowerCase()&&(b.value="ALL");var c={entityType:b.value};f.go(f.current.name,c,{reload:!1}),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"series_list",filter_type:"module",filter_value:a.entityTypes[b.value].name,filter_obj:Utils.Func.getSearchFilters(f.params,c)})},a.applyModuleRelevanceFilter=function(a){var b=[];if("all"!=a){if(f.params.moduleRelevance){b=f.params.moduleRelevance.split(",");var c=b.indexOf(a);c==-1?b.push(a):b.splice(c,1)}else b=[a];b.indexOf("all")!=-1&&b.splice(b.indexOf("all"),1)}b.length<1&&(b=["all"]),b=b.join(",");var d={moduleRelevance:b};f.go(f.current.name,d),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"series_list",filter_type:"relevance",filter_value:b,filter_obj:Utils.Func.getSearchFilters(f.params,d)})},a.applyModuleRelevanceFilterReact=function(b){var c=[];if(b)for(var d=0;d<b.length;d++){if("all"==b[d].value){c=["all"];break}c.push(b[d].value)}c.length<1&&(c=["all"]),a.selectedRelevanceFilterReactArr=c,c=c.join(",");var e={moduleRelevance:c};f.go(f.current.name,e),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"series_list",filter_type:"relevance",filter_value:c,filter_obj:Utils.Func.getSearchFilters(f.params,e)})},a.clearAllTagFilters=function(){f.go(f.current.name,{tags:void 0},{reload:!1})},a.applyTagFilter=function(b){Utils.Func.isNewDesignLanguage()&&(a.selectedTags=[]),b.forEach(function(b){Utils.Func.isNewDesignLanguage()?a.selectedTags.push(b.id):a.selectedTags.indexOf(b)===-1?a.selectedTags.push(b):a.selectedTags.splice(a.selectedTags.indexOf(b),1)});var c=a.selectedTags.length?a.selectedTags.map(function(b){
return a.selectedTagObjs[b].name}):void 0,d={tags:a.selectedTags.join(",")};f.go(f.current.name,d,{reload:!1}),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"series_list",filter_type:"tag",filter_value:c,filter_obj:Utils.Func.getSearchFilters(f.params,d)})},a.currentCompletionFilter=f.params.state||"ALL",a.selectedCompletionFilter=function(){return a.currentCompletionFilter||"ALL"},a.hideAll=a.series&&"COLLAPSED"!==a.series.sectionsDefaultView,g.milestonesCollapsed={},a.isAlMilestonesCollapsed=function(){return _.values(g.milestonesCollapsed).indexOf(!1)!==-1},a.getHideLinkText=function(){return _.values(g.milestonesCollapsed).indexOf(!1)!==-1?Game.Messages.TXT_MILESTONE_HIDE_ALL:Game.Messages.TXT_MILESTONE_SHOW_ALL},a.currentEntityTypeFilter=f.params.entityType||"ALL",a.selectedEntityFilter=function(){return a.entityTypes[a.currentEntityTypeFilter||"ALL"].name},a.selectedEntityFilterReact=function(){return a.currentEntityTypeFilter||"ALL"},a.currentModuleRelevanceFilter=f.params.moduleRelevance||"all",a.selectedRelevanceFilterReactArr=f.params.moduleRelevance?f.params.moduleRelevance.split(","):["all"],a.selectedRelevanceFilter=function(){return a.currentModuleRelevanceFilter?a.currentModuleRelevanceFilter.split(","):["all"]},a.selectedAnyTag=function(){return!!(a.selectedTags&&a.selectedTags.length>0)},g.getMTElementsCount(this.start,this.count,a.seriesId).then(function(b){a.currentCoursesCount=b.data;for(var c in b.data){if(a.entityTypes[c]&&b.data[c]<1){if("MISSION"===c&&(b.data.TASK_EVALUATION_COACHING>0||b.data.VIDEO_PITCH_COACHING>0||b.data.VIDEO_PITCH_COACHING>0||b.data.SCREEN_CAPTURE_COACHING>0))continue;if(("COACHING"===c||"ONE_TO_ONE_COACHING"===c)&&(b.data.COACHING>0||b.data.ONE_TO_ONE_COACHING>0))continue;delete a.entityTypes[c]}n()}}),a.togglePin=function(){var b=g.dataStore.series.all[a.series.id];Game.MixPanelTracking.track("learner_pin_series_clicked",{action:b.pinned?"unpin":"pin",series_id:b.id,series_name:b.name,from:"series_page",location:f.current.name}),g.addToPinned(a.seriesId)},g.dataStore.series.request.$promise&&g.dataStore.series.request.$resolved?(i(),j()):g.attachSeriesSidebarChangeListeners(function(){i(),j(),a.$evalAsync()}),a.fetchNext=function(){g.fetchSeriesElements(a.seriesData,!0,!1)},a.anythingLoading=function(){return!a.seriesData||!a.seriesData.request||!a.seriesData.request.$resolved},a.showSubscribe=function(){return"OPEN"==g.getSeriesVisibility(a.seriesId)},a.addSeriesToMyBoard=function(){g.addOpenSeriesToLearnerBoard(a.seriesId).then(function(){a.subscribed=!0,setTimeout(function(){a.subscribed=!1,a.$evalAsync()},5e3),a.$evalAsync()})},a.shouldNotScrollMore=function(){return g.dataStore.series.request&&!g.dataStore.series.request.$resolved},a.scrollContainer="",a.seriesNameResolver=g.dataStore.series.request,a.scrollContainer=".scrollContainer",Utils.Func.resetPagePerformanceMetrics(null,f.current.name,null);var o=function(){setTimeout(function(){g.fetchSeriesElements(a.seriesData,!1,!1)},5),g.attachSeriesRequestChangeListeners(a.seriesId,function(){setTimeout(function(){$(".scrollContainer").height()>$(".checkHeightInnerInfiniteScrollDiv").height()&&!a.seriesData.dontFetchNext&&a.fetchNext()},100),a.$evalAsync()})};a.isMilestone=companySettings.lsSettings.seriesMilestonesEnabled;var p=a.noMileStone=function(){return a.milestones&&a.milestones.request&&a.milestones.request.$resolved&&0===_.keys(a.milestones.milestones).length&&!g.isMilestone[a.seriesId]};if(a.hasFilters="ALL"!==a.selectedCompletionFilter()||a.selectedEntityFilter()!==a.entityTypes.ALL.name||a.selectedAnyTag()||a.selectedRelevanceFilter().indexOf("all")===-1,a.isSeriesEmpty=function(){if(a.hasFilters)return!1;var b=!a.anythingLoading();return(!a.isMilestone||p())&&a.seriesData.entities.length<1&&b},a.isSeriesEmptyWithFilters=function(){if(!a.hasFilters)return!1;var b=!a.anythingLoading();return(!a.isMilestone||p())&&a.seriesData.entities.length<1&&b},a.isMilestone){var q=!1;$(".scrollContainer")[0].addEventListener("scroll",function(){q&&window.clearTimeout(q),q=setTimeout(function(){$(".scrollContainer").length>0&&$(".scrollContainer")[0].dispatchEvent(new CustomEvent("scrollStopped",{detail:q}))},507)}),a.milestones=g.createMilestone(a.seriesId);var r=f.params.entityType||"ALL";"MISSION"===r&&(r="SCREEN_CAPTURE_COACHING,VIDEO_PITCH_COACHING,VOICE_OVER_PPT_COACHING,TASK_EVALUATION_COACHING"),"COACHING"===r&&(r="ONE_TO_ONE_COACHING"),g.fetchMilestones(a.seriesId,g.constructConfigOptionsForSeries(r,f.params.state||"ALL",a.selectedTags,f.params.moduleRelevance)).$promise.then(function(){a.seriesData=g.createSeriesQueryStore(a.seriesId,g.constructConfigOptionsForSeries(f.params.entityType||"ALL",f.params.state||"ALL",a.selectedTags,f.params.moduleRelevance)),p()&&o()}),a.$evalAsync()}else a.seriesData=g.createSeriesQueryStore(a.seriesId,g.constructConfigOptionsForSeries(f.params.entityType||"ALL",f.params.state||"ALL",a.selectedTags,f.params.moduleRelevance)),o();a.$on("$destroy",function(){a.series&&a.series.repeatTimeoutId&&clearInterval(a.series.repeatTimeoutId)}),a.loader=loaderGif,a.smallLoader=loaderSmall,a.changedCollapse=!1;var s=[],t=[];a.bindMilestones=function(a,b){s.push(a),t.push(b)},a.collapseAll=function(){a.hideAll=_.values(g.milestonesCollapsed).indexOf(!1)!==-1,t.forEach(function(b){b(a.hideAll)})},a.changedCollapse=function(){s.forEach(function(a){a()})},a.isReinforcementSeries="root.courses.reinforcement"===f.current.name}]).controller("ModuleListCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$element",function(a,b,c,d,e,f,g,h){if(a.moduleList=null,a.isNewDesignLanguage=Utils.Func.isNewDesignLanguage,a.getModuleList=function(){return a.month&&g.dataStore.mtElements[a.month]&&(a.moduleList=g.dataStore.mtElements[a.month].entities),a.series&&g.dataStore.serieses[a.series]&&(a.moduleList=g.dataStore.serieses[a.series].entities),a.due&&g.dataStore.dueMtElements.due&&(a.moduleList=g.dataStore.dueMtElements.due),a.overDue&&g.dataStore.dueMtElements.overDue&&(a.moduleList=g.dataStore.dueMtElements.overDue),a.search&&g.dataStore.searchResult.entities&&(a.moduleList=g.dataStore.searchResult.entities),a.milestoneView&&(a.moduleList=m.milestoneResults[a.milestoneId][a.from].entities,0===a.moduleList.length)?null:a.moduleList},a.getNumber=Utils.Func.getNumber,a.milestoneView){a.getCountForIndex=function(){var b=a.index,c=a.totalModuleCount%(a.batchSize*b);return a.batches===b&&0!==c&&c<a.batchSize?c:a.batchSize};var i=$(a.scrollContainer)[0],j=a.getCountForIndex();a.numOfModules=a.getNumber(j);var k=null,l=function(b){if(b){if(b.detail===k)return;k=b.detail}var c="function"==typeof c?a.baseTop():a.baseTop,d="function"==typeof d?a.baseBottom():a.baseBottom;(h.offset().top<d||h.offset().top+h[0].children[0].height>c)&&a.fetchFunc((a.index-1)*a.batchSize,j)()};i.addEventListener("scrollStopped",l);var m=g.createMilestone(a.seriesId,a.milestoneId,a.from);l()}}]).controller("MilestoneListCtrl",["$scope","$element","learningBoardServiceFactory",function(a,b,c){var d=null,e=null,f=null;a.module_count=null;var g=null,h=null,i=null,j=function(){d=$(".scrollContainer"),e=$(".seriesTopPart"),f=$(".maincontaier"),a.BATCH_SIZE=c.batch||12,a.module_count=a.milestone.module_count,a.batches=Math.ceil(a.module_count/a.BATCH_SIZE),a.arrOfBatches=Utils.Func.getNumber(a.batches),g=d[0],h=d.offset().top,i=d.height()};j();var k=function(){c.setFetchWindowSize(f.width(),f.height()),setTimeout(function(){a.batches=Math.ceil(a.module_count/a.BATCH_SIZE),a.rows=Math.ceil(a.module_count/c.num_in_a_row)},0),a.rows=c.num_of_rows};a.isCollapsed="COLLAPSED"===a.series.sectionsDefaultView,c.milestonesCollapsed[a.milestone.id]=a.isCollapsed,a.toggleCollapse=function(){a.isCollapsed=!a.isCollapsed,c.milestonesCollapsed[a.milestone.id]=a.isCollapsed,a.isCollapsed||(a.hideAll=!0),Game.MixPanelTracking.track(a.isCollapsed?"close milestone":"open milestone",{seriesId:a.seriesId,milestoneId:a.milestone.id}),a.$evalAsync(),setTimeout(a.changedCollapse,400)};var l=100;k(),a.globalCtrl.scope.$watch("sideBarOpen",function(){setTimeout(k,500)}),window.addEventListener("resize",_.throttle(function(){k(),setTimeout(n,500)},500),!0),a.milestoneStyle={};var m=null,n=function(c){if(c){if(c.detail===m)return;m=c.detail}var d=b.offset().top,f=e.height();a.baseTop=h+f,a.baseBottom=h+i,a.topDistance=a.baseTop-l,a.baseDistance=a.baseBottom+l;var g=b[0].children[0].offsetHeight;d>0&&d>a.baseDistance||d+g<0&&d+g<a.topDistance?(a.milestoneStyle={minHeight:g},a.hideChildren=!0):(a.milestoneStyle={},a.hideChildren=!1),a.$evalAsync()};a.fetchFunc=function(b,d){return function(){c.fetchMilestoneEntities(a.seriesData,b,d,a.milestone.id,a.seriesId)}},a.bindMilestones(n,function(b){a.isCollapsed=b,c.milestonesCollapsed[a.milestone.id]=a.isCollapsed}),n(),g.addEventListener("scrollStopped",n)}]).controller("RecentModuleCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory",function(a,b,c,d,e,f,g){window.onbeforeunload=null,a.fetchingNext=!1,a.canFillContainer=!0,a.menuPortal=document.body,a.mtReactStyle={container:function(a){return a.position="absolute",a.width="200",a}},a.csReactStyle={container:function(a){return a.position="absolute",a.width="220",a}},a.mrReactStyle={container:function(a){return a.position="absolute",a.width="200",a}},a.fetchNext=function(){return g.fetchMtElements(!0)},a.lsSettings=companySettings.lsSettings;var h=function(b){a.fetchingNext=!0,console.log("attachScopeEval"),a.months=g.dataStore.mtElements.timestampsFetched,setTimeout(function(){if($(".scrollContainer").height()>$(".heightInnerInfiniteScrollDiv").height()&&a.canFillContainer){var b=a.fetchNext();a.canFillContainer=a.canFillContainer&&!!b}},100),a.$evalAsync()};a.resetFilters=function(){f.go(f.current.name,{completionType:void 0,entityType:void 0,moduleRelevance:void 0},{reload:!0}),Game.MixPanelTracking.track("dashboard_filter_reset",{location:f.current.name,from:"recently_assigned"})},a.hasFilterApplied=function(){return a.selectedEntityFilter()!=a.entityTypes[0].name||"all"!=a.selectedCompletionFilter()||"all"!=a.selectedRelevanceFilter()[0]},a.applyCompletionFilter=function(b){var c={completionType:b};f.go(f.current.name,c),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"recently_assigned",filter_type:"completion",filter_value:a.completionTypes[b],filter_obj:Utils.Func.getSearchFilters(f.params,c)})},a.applyCompletionFilterReact=function(b){b.value&&"none"==b.value.toLowerCase()&&(b.value="all");var c={completionType:b.value};f.go(f.current.name,c),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"recently_assigned",filter_type:"completion",filter_value:a.completionTypes[b.value],filter_obj:Utils.Func.getSearchFilters(f.params,c)})},a.isDisableDropdows=function(){return a.entityTypes[1].name==a.selectedEntityFilter()},a.applyEntityFilterReact=function(b){b.value&&"none"==b.value.toLowerCase()&&(b.value="0");var c={entityType:b.value};"1"==c.entityType&&(c.completionType="all",c.moduleRelevance="all"),f.go(f.current.name,c),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"recently_assigned",filter_type:"module",filter_value:a.entityTypes[b.value].name,filter_obj:Utils.Func.getSearchFilters(f.params,c)})},a.applyEntityFilter=function(b){var c={entityType:b};"1"==c.entityType&&(c.completionType="all",c.moduleRelevance="all"),f.go(f.current.name,c),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"recently_assigned",filter_type:"module",filter_value:a.entityTypes[b].name,filter_obj:Utils.Func.getSearchFilters(f.params,c)})},a.selectedRelevanceFilterReactArr=[],a.applyModuleRelevanceFilter=function(a){var b=[];if("all"!=a){if(f.params.moduleRelevance){b=f.params.moduleRelevance.split(",");var c=b.indexOf(a);c==-1?b.push(a):b.splice(c,1)}else b=[a];b.indexOf("all")!=-1&&b.splice(b.indexOf("all"),1)}b.length<1&&(b=["all"]),b=b.join(",");var d={moduleRelevance:b};f.go(f.current.name,d),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"recently_assigned",filter_type:"relevance",filter_value:b,filter_obj:Utils.Func.getSearchFilters(f.params,d)})},a.applyModuleRelevanceFilterReact=function(b){var c=[];if(b)for(var d=0;d<b.length;d++){if("all"==b[d].value){c=["all"];break}c.push(b[d].value)}c.length<1&&(c=["all"]),a.selectedRelevanceFilterReactArr=c,c=c.join(",");var e={moduleRelevance:c};f.go(f.current.name,e),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"recently_assigned",filter_type:"relevance",filter_value:c,filter_obj:Utils.Func.getSearchFilters(f.params,e)})},a.moduleRelevanceTypes={all:Game.Messages.MODULE_RELEVANCE_ALL,REQ:Game.Messages.MODULE_RELEVANCE_REQ,OPT:Game.Messages.MODULE_RELEVANCE_OPT,NONE:Game.Messages.MODULE_RELEVANCE_NONE},a.noneMRLabelReact=Game.Messages.MODULE_RELEVANCE_ALL,a.reactModuleRelevanceFilters=[];for(var i in a.moduleRelevanceTypes)"all"!=i&&a.reactModuleRelevanceFilters.push({value:i,label:a.moduleRelevanceTypes[i]});a.completionTypes={all:Game.Messages.LB_TXT_USTATE_ALL,incomplete:Game.Messages.INCOMPLETED,completed:Game.Messages.DASHBOARD_COMPLETED},a.reactcompletionTypesFilters=[],a.noneCTLabelReact=Game.Messages.LB_TXT_USTATE_ALL;for(var i in a.completionTypes)"all"!=i&&a.reactcompletionTypesFilters.push({value:i,label:a.completionTypes[i]});a.noneETLabelReact=Game.Messages.TXT_SERIES_N_MODULES,a.entityTypes={0:{name:Game.Messages.TXT_SERIES_N_MODULES,icon:"",shortKey:""},1:{name:Game.Messages.DASHBOARD_PROFILE_SERIES,icon:"icon-seriesOld F16 neutralize_entity_sml",shortKey:""},2:{name:Game.Messages.LB_TXT_COURSE,icon:"cBG_L",shortKey:"C"},3:{name:Game.Messages.TXT_QUICK_UPDATE,icon:"qBG_L",shortKey:"Q"},4:{name:Game.Messages.LB_TXT_MISSION,icon:"mBG_L",shortKey:"M"},15:{name:Game.Messages.LB_TXT_PERFORMANCE_EVALUATION_COACHING,icon:"csBG_L",shortKey:"S"},5:{name:Game.Messages.LB_TXT_ASSESSMENT,icon:"aBG_L",shortKey:"A"},6:{name:Game.Messages.LB_TXT_COACHING,icon:"csBG_L",shortKey:"S"},7:{name:Game.Messages.LB_TXT_CHECKLIST,icon:"clBG_L",shortKey:"L"},8:{name:Game.Messages.LB_TXT_ILT,icon:"iltBG_L",shortKey:"I"}};for(var i in a.entityTypes)"0"!=i&&"6"!=i&&"4"!=i&&_.indexOf(companySettings.lsSettings.enabledModuleTypes,parseInt(i,10))==-1&&delete a.entityTypes[i];_.indexOf(companySettings.lsSettings.enabledModuleTypes,13)==-1&&delete a.entityTypes[6],_.indexOf(companySettings.lsSettings.enabledModuleTypes,4)==-1&&_.indexOf(companySettings.lsSettings.enabledModuleTypes,9)==-1&&_.indexOf(companySettings.lsSettings.enabledModuleTypes,10)==-1&&_.indexOf(companySettings.lsSettings.enabledModuleTypes,11)==-1&&_.indexOf(companySettings.lsSettings.enabledModuleTypes,12)==-1&&delete a.entityTypes[4],a.reactEntityTypeFilters=[];for(var i in a.entityTypes)"0"!=i&&a.reactEntityTypeFilters.push({value:i,label:a.entityTypes[i].name});a.selectedCompletionFilter=function(){return g.queryModels.currentRecentCompletionFilter||"all"},a.selectedRelevanceFilter=function(){return g.queryModels.currentRecentModuleRelevanceFilter?g.queryModels.currentRecentModuleRelevanceFilter.split(","):["all"]},a.selectedEntityFilter=function(){return a.entityTypes[g.queryModels.currentRecentEntityTypeFilter||"0"].name},a.selectedEntityFilterReact=function(){return g.queryModels.currentRecentEntityTypeFilter||"0"},a.scrollContainer=".scrollContainer";var j=!1,k={};a.defaultEntityFilterIndex=companySettings.lsSettings.recentDashboardFilterType&&"SERIES"==companySettings.lsSettings.recentDashboardFilterType?1:0;var l=companySettings.lsSettings.recentDashboardFilterType&&"SERIES"==companySettings.lsSettings.recentDashboardFilterType?"1":"0",m=companySettings.lsSettings.recentDashboardCompletionFilterType?companySettings.lsSettings.recentDashboardCompletionFilterType.toLowerCase():"all";j=g.setRecentsCompletionFilter(f.params.completionType||m,k)||j,j=g.setRecentsEntityTypeFilter(f.params.entityType||l,k)||j,j=g.setRecentsModuleRelevanceFilter(f.params.moduleRelevance||"all",k)||j,j&&g.initializeMonthAndYear(k),a.selectedRelevanceFilterReactArr=f.params.moduleRelevance?f.params.moduleRelevance.split(","):["all"],j&&setTimeout(function(){g.fetchMtElements(!1)},100),a.series!==f.params.series&&(a.series=f.params.series,a.$evalAsync()),a.anythingLoading=function(){return!g.dataStore.currentMtElementsRequest||!g.dataStore.currentMtElementsRequest.$resolved},a.loader=loaderGif,a.smallLoader=loaderSmall,g.attachMtElementsRequestChangeListeners("recentModuleCtrlListeners",h),a.months=g.dataStore.mtElements.timestampsFetched}]).controller("dashboardHeaderCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory",function(a,b,c,d,e,f,g){"root.courses.due"==f.current.name&&(g.moduleListHeader=g.moduleListHeaderValue.due),a.moduleListHeaderValue=g.moduleListHeaderValue,a.moduleListHeader=g.moduleListHeader,Utils.Func.resetPagePerformanceMetrics(null,f.current.name),a.noOfEnThMoRequest=g.getNoOfEntitiesThisMonth(),a.smallLoader=loaderSmall,a.noOfDueTodayReq=g.getNoOfDueToday(),a.changeTab=function(b){g.moduleListHeader=b,a.moduleListHeader=g.moduleListHeader,b===a.moduleListHeaderValue.recents?(f.go("root.courses.recents",{entityType:g.queryModels.currentRecentEntityTypeFilter,completionType:g.queryModels.currentRecentCompletionFilter}),Game.MixPanelTracking.track("learner_dashboard_panel_clicked",{tab_name:"recently_assigned"})):b===a.moduleListHeaderValue.due&&(f.go("root.courses.due",{entityType:g.queryModels.currentDueEntityTypeFilter,completionType:g.queryModels.currentDueCompletionFilter}),Game.MixPanelTracking.track("learner_dashboard_panel_clicked",{tab_name:"due_overdue"})),a.$evalAsync()},a.ifDueTabActive=function(){return"root.courses.due"===f.current.name},a.ifRecentTabActive=function(){return"root.courses.recents"===f.current.name}}]).controller("DueModuleCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory",function(a,b,c,d,e,f,g){window.onbeforeunload=null,a.fetchingNext=!1,a.fetchNext=function(){g.fetchDueElements(!0)},a.completionTypes={all:"Completion Status - All",incomplete:"Incomplete Modules",completed:"Completed Modules"},a.OVER_DUE_PERIOD=g.OVER_DUE_PERIOD,a.TO_BE_DUE_PERIOD=g.TO_BE_DUE_PERIOD,a.OVER_DUE_PERIOD=g.OVER_DUE_PERIOD,a.TO_BE_DUE_PERIOD=g.TO_BE_DUE_PERIOD,a.entityTypes={0:{name:Game.Messages.LB_TXT_MODULE_TYPE_ALL,icon:"",shortKey:""},2:{name:Game.Messages.LB_TXT_COURSE,icon:"cBG_L",shortKey:"C"},3:{name:Game.Messages.TXT_QUICK_UPDATE,icon:"qBG_L",shortKey:"Q"},4:{name:Game.Messages.LB_TXT_MISSION,icon:"mBG_L",shortKey:"M"},5:{name:Game.Messages.LB_TXT_ASSESSMENT,icon:"aBG_L",shortKey:"A"},6:{name:Game.Messages.LB_TXT_COACHING,icon:"csBG_L",shortKey:"S"},15:{name:Game.Messages.LB_TXT_PERFORMANCE_EVALUATION_COACHING,icon:"csBG_L",shortKey:"S"},13:{name:Game.Messages.LB_TXT_COACHING_BETA,icon:"csBG_L",shortKey:"S"},7:{name:Game.Messages.LB_TXT_CHECKLIST,icon:"clBG_L",shortKey:"L"},8:{name:Game.Messages.LB_TXT_ILT,icon:"iltBG_L",shortKey:"I"}};for(var h in a.entityTypes)"0"!=h&&_.indexOf(companySettings.lsSettings.enabledModuleTypes,parseInt(h,10))==-1&&delete a.entityTypes[h];_.indexOf(companySettings.lsSettings.enabledModuleTypes,13)==-1&&delete a.entityTypes[6],a.reactEntityTypeFilters=[],a.noneETLabelReact=Game.Messages.LB_TXT_MODULE_TYPE_ALL;for(var h in a.entityTypes)a.entityTypes[h].mtentityType=h,"0"!=h&&a.reactEntityTypeFilters.push({value:h,label:a.entityTypes[h].name});a.applyCompletionFilter=function(b){var c={completionType:b};f.go(f.current.name,c),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"due_overdue",filter_type:"completion",filter_value:a.completionTypes[b],filter_obj:Utils.Func.getSearchFilters(f.params,c)})},a.hasFilterApplied=function(){return"0"!=a.selectedEntityFilterReact()},a.applyEntityFilter=function(b){var c={entityType:b};f.go(f.current.name,c),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"due_overdue",filter_type:"module",filter_value:a.entityTypes[b].name,filter_obj:Utils.Func.getSearchFilters(f.params,c)})},a.applyEntityFilterReact=function(b){b.value&&"none"==b.value.toLowerCase()&&(b.value="0");var c={entityType:b};f.go(f.current.name,{entityType:b.value}),Game.MixPanelTracking.track("dashboard_filtered",{location:f.current.name,from:"due_overdue",filter_type:"module",filter_value:a.entityTypes[b.value].name,filter_obj:Utils.Func.getSearchFilters(f.params,c)})},a.resetFilters=function(){f.go(f.current.name,{completionType:void 0,entityType:void 0,moduleRelevance:void 0},{reload:!0}),Game.MixPanelTracking.track("dashboard_filter_reset",{location:f.current.name,from:"due_overdue"})},a.selectedCompletionFilter=function(){return g.queryModels.currentDueCompletionFilter||"all"},a.selectedEntityFilterReact=function(){var b=a.entityTypes[g.queryModels.currentDueEntityTypeFilter||"0"];return b.mtentityType},a.selectedEntityFilter=function(){return a.entityTypes[g.queryModels.currentDueEntityTypeFilter||"0"].name},a.selectedRelevanceFilter=function(){return g.queryModels.currentRecentModuleRelevanceFilter?g.queryModels.currentRecentModuleRelevanceFilter.split(","):["all"]},a.scrollContainer="";var i=!1,j=function(){a.fetchingNext=!0,a.scrollContainer=".scrollContainer",setTimeout(function(){$(".scrollContainer").height()>$(".heightInnerInfiniteScrollDiv").height()&&a.store.queryState!==g.DUE_QUERY_STATES.bothDone&&a.fetchNext()},100),a.$evalAsync()};(f.params.entityType&&f.params.entityType!=g.queryModels.currentDueEntityTypeFilter||!f.params.entityType)&&(f.params.entityType||(g.queryModels.currentDueEntityTypeFilter=f.params.entityType||0,f.go(".",{entityType:g.queryModels.currentDueEntityTypeFilter},{notify:!1})),g.initializeDueQueryObject(!0),i=!0),f.params.entityType&&f.params.entityType!=g.queryModels.currentDueEntityTypeFilter&&g.setDueEntityTypeFilter(f.params.entityType||"0"),i&&(a.scrollContainer="",g.queryModels.currentDueCompletionFilter="incomplete",g.setDueCompletionFilter("incomplete"),setTimeout(function(){g.fetchDueElements(!1)},100)),a.store=g.dataStore.dueMtElements,a.anythingLoading=function(){return a.store&&a.store.request&&!a.store.request.$resolved},a.loader=loaderSmall,a.shouldNotScrollMore=function(){return a.store&&a.store.request&&!a.store.request.$resolved},g.attachDueDateRequestChangeListeners(j)}]).controller("MonthViewCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory",function(a,b,c,d,e,f,g){a.isNewDesignLanguage=Utils.Func.isNewDesignLanguage,a.getMonthTitle=function(){return g.dataStore.mtElements[a.month]&&g.dataStore.mtElements[a.month].monthName?g.dataStore.mtElements[a.month].monthName.toUpperCase():""}}]).controller("ThumbCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory",function(a,b,c,d,e,f,g){}]).controller("SeriesThumbCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory",function(a,b,c,d,e,f,g){if(a.openSeries=function(a){Game.MixPanelTracking.track("series_clicked",{series_id:a.id,series_name:a.name,location:f.current.name,from:"thumbnail"}),f.go("root.courses.series",{series:a.id})},a.thumbs=[],a.series.thumb)a.thumbs.push(a.series.thumb);else if(0==a.series.totalEntities)a.thumbs.push(assetsBase+"/images/default_series_icon.jpg");else for(var h=0;h<3&&h<a.series.entities.length;h++)a.thumbs.push(a.series.entities[h].thumb)}]).controller("profileSidebarController",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory",function(a,b,c,d,e,f,g){a.learner=learnerJson,a.hideCertificate=function(a){var b=companySettings&&companySettings.orgId;return!!(["1006260301411396905"].indexOf(b)>-1&&a.hideCertificate)},a.getEntityType=Utils.Func.getEntityType,a.getEntityTypeObjByName=Utils.Func.getEntityTypeObjByName,a.smallLoader=loaderSmall,a.downloadCertificate=Utils.Func.downloadCertificate,a.LATEST_REVIEWS_PERIOD=companySettings.lsSettings.latestReviewsPeriod.value,a.gotoProfile=function(){f.go("root.participant",{uid:learnerJson.id})},g.getAchievements(),a.gotoMissions=function(a){f.go("root.courses.gamelanuch",{entityId:a})},a.achievements={data:g.dataStore.achievements};var h=d.$on("refresh.achievements",function(b,c){g.dataStore.achievements.recentModules=g.dataStore.achievements.recentModules||[];var d=g.dataStore.achievements.recentModules.map(function(a){return a.id}).indexOf(c.id);d!==-1?g.dataStore.achievements.recentModules.splice(d,1):g.dataStore.achievements.recentModules.length>=5&&g.dataStore.achievements.recentModules.pop(),g.dataStore.achievements.recentModules.reverse(),g.dataStore.achievements.recentModules.push(c),g.dataStore.achievements.recentModules.reverse(),a.achievements.data=g.dataStore.achievements,a.$evalAsync()});a.openEntity=function(a){return Game.MixPanelTracking.track("module_clicked",{from:"recently_viewed_section",location:f.current.name,module_id:a.id,module_name:a.name,module_status:a.state,module_type:a.type,series_id:a.seriesId,series_name:a.seriesName}),"REINFORCEMENT"==a.type?void(location.href="/ui/reinforcement/learner/"+reinforcementDefaultSeries.id+"/"+a.id):void f.go("root.courses.gamelanuch",{entityId:a.id})},a.$on("$destroy",h)}]),angular.module("learnginBoardApp").directive("monthView",function(){return{templateUrl:templateBaseUrl+"/dashboard/month-view.html",controller:"MonthViewCtrl",scope:{month:"="}}}).directive("moduleListView",function(){return{templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/recent-new/":"/")+"module-list-view.html",controller:"ModuleListCtrl",scope:{month:"=",series:"=",seriesId:"=",due:"=",overDue:"=",search:"=",milestoneId:"=",milestoneView:"=",from:"=",baseTop:"=",baseBottom:"=",fetchFunc:"=",scrollContainer:"=",initiateFunc:"=",totalModuleCount:"=",batches:"=",batchSize:"=",index:"="}}}).directive("milestoneList",function(){return{transclude:!0,templateUrl:templateBaseUrl+"/dashboard/milestone-list.html",controller:"MilestoneListCtrl"}}),angular.module("learnginBoardApp").controller("DashboardViewProfileCtrl",["$scope","$state","$stateParams","learningBoardServiceFactory","learnginBoardCacheService","$previousState","sessionSocket",function(a,b,c,d,e,f,g){var h=this;if(this.uid=c.uid,this.viewLoading=!0,this.pic=assetsBase+"/images/img_80_80.png",a.showDD=0,this.lbCache=e,this.start=0,this.count=10,a.toggleDD=function(){0==a.showDD?a.showDD=1:a.showDD=0},a.hideDD=function(){a.showDD=0},a.goBack=function(){f.get()?f.go():b.go("root.courses.recents")},a.getUnescapedValue=function(a){return _.unescape(a)},this.getKscore=function(){return this.learnerObj?Utils.Func.convertScoreToKscore(this.learnerObj.company_score):0},a.$on("UPDATED_PROFILE",function(b,c){h.uid==c.learnerJson.id&&(h.learnerObj=c.learnerJson,h.learnerObj.pic&&(h.pic=h.learnerObj.pic),h.learnerObj.timezone_new?(h.userTzName=Utils.Func.getNewTimezoneName(h.learnerObj.timezone_new.zone_name),companyUser.user.timezone_new=h.learnerObj.timezone_new):h.learnerObj.timezone&&(h.userTzName=Utils.Func.getTimezoneName(h.learnerObj.timezone),companyUser.user.timezone=h.learnerObj.timezone),h.correctFieldsOrder(),null==a.$$phase&&a.$apply())}),this.learnerObj=void 0,this.uid==learnerJson.id?(this.learnerObj=learnerJson,companyUser&&companyUser.user&&companyUser.user.timezone_new?this.userTzName=Utils.Func.getNewTimezoneName(companyUser.user.timezone_new.zone_name):companyUser&&companyUser.user&&companyUser.user.timezone&&(this.userTzName=Utils.Func.getTimezoneName(companyUser.user.timezone))):c.lObj&&(this.learnerObj=c.lObj),this.isMe=function(){return this.uid==learnerJson.id},this.showReadMore=!1,this.largeContent=!1,this.correctFieldsOrder=function(){h.orderedFields=[];for(var a=0;a<companySettings.profile.fields.length;a++){var c=companySettings.profile.fields[a];if(h.learnerObj.profile[c.shortKey]&&c.isEnabled){var d=c.displayName;Game.Messages[c.displayName]&&(d=Game.Messages[c.displayName]),h.orderedFields.push({displayName:d,val:h.learnerObj.profile[c.shortKey]})}}h.orderedManagerFields=[],h.learnerObj.managers=h.learnerObj.managers||{};for(var a=0;a<companySettings.managerFields.fields.length;a++){var c=companySettings.managerFields.fields[a];if(c.isEnabled&&h.learnerObj.managers[c.shortKey]){var d=c.displayName;Game.Messages[c.displayName]&&(d=Game.Messages[c.displayName]);var e=h.learnerObj.managers[c.shortKey];if(e&&!companySettings.managerDetails[e])continue;var f="";e&&(f=companySettings.managerDetails[e].name||companySettings.managerDetails[e].email),h.orderedManagerFields.push({displayName:d,val:f})}}h.viewLoading=!1,Game.MixPanelTracking.track(learnerJson.id===h.learnerObj.id?"learner_profile_viewed":"learners_peer_list_profile_page_viewed",{learner_id:h.learnerObj.id,location:b.current.name}),setTimeout(function(){$(".divWithViewMoreLess").height()>225&&(h.largeContent=!0,h.showReadMore=!0)},200)},this.learnerAchivements=[],this.learnerAchivementsFilters=[{uid:"ALL",text:Game.Messages.DASHBOARD_ACHIEMENT_FILTER_ALL},{uid:"WITH_CERT",text:Game.Messages.DASHBOARD_ACHIEMENT_FILTER_WITH_CERT},{uid:2,text:Game.Messages.DASHBOARD_ACHIEMENT_FILTER_C},{uid:3,text:Game.Messages.DASHBOARD_ACHIEMENT_FILTER_U},{uid:4,text:Game.Messages.DASHBOARD_ACHIEMENT_FILTER_M},{uid:5,text:Game.Messages.DASHBOARD_ACHIEMENT_FILTER_A},{uid:6,text:Game.Messages.DASHBOARD_ACHIEMENT_FILTER_S},{uid:7,text:Game.Messages.DASHBOARD_ACHIEMENT_FILTER_CL},{uid:15,text:Game.Messages.DASHBOARD_ACHIEMENT_FILTER_PE}],this.achievementFilter=this.learnerAchivementsFilters[0],this.getAchivements=function(){h.loadingAchivements=!0,0==h.start&&(h.learnerAchivements=[],h.totalCompleted=0),d.getLearnerAchivements(this.start,this.count,this.achievementFilter.uid).then(function(a){h.totalCompleted=a.total,h.learnerAchivements=h.learnerAchivements.concat(a.achievements);for(var b=0;b<h.learnerAchivements.length;b++)h.learnerAchivements[b].ps=0,h.learnerAchivements[b].maxScore>0&&("MISSION"==h.learnerAchivements[b].type||4==h.learnerAchivements[b].type?h.learnerAchivements[b].ps=h.learnerAchivements[b].score/100:h.learnerAchivements[b].ps=Math.round(100*h.learnerAchivements[b].score/h.learnerAchivements[b].maxScore));h.loadingAchivements=!1})},this.updateAchievementFilter=function(a){this.achievementFilter!=a&&(this.achievementFilter=a,this.start=0,this.getAchivements())},this.loadMoreAchivements=function(){this.start=this.start+this.count,this.getAchivements()},this.moduleTypeStateAggs={},this.selectedInvitedFrom={id:"ALL",name:Game.Messages.DASHBOARD_PROFILE_ALL_SERIES},this.getLearnerEntityTypeStateAggs=function(){this.selectedInvitedFrom||(this.selectedInvitedFrom="ALL"),this.moduleTypeStateAggs[h.selectedInvitedFrom.id]?h.drawChart():(this.moduleTypeStateAggs[h.selectedInvitedFrom.id]={TOTAL:0,NS:0,IP:0,C:0,$resolved:!1},a.loadingChartData=!0,d.getLearnerEntityTypeStateAggs(h.selectedInvitedFrom.id).then(function(b){h.moduleTypeStateAggs[h.selectedInvitedFrom.id].$resolved=!0,a.loadingChartData=!1;for(var c in b)for(var d in b[c])h.moduleTypeStateAggs[h.selectedInvitedFrom.id].TOTAL+=b[c][d],"ADDED"==d?h.moduleTypeStateAggs[h.selectedInvitedFrom.id].NS+=b[c][d]:_.indexOf(["ACTIVE","SUBMITTED","SUBMITTED_ON_TIMEOUT"],d)!=-1?h.moduleTypeStateAggs[h.selectedInvitedFrom.id].IP+=b[c][d]:_.indexOf(["COMPLETED","TIMEDOUT"],d)!=-1&&(h.moduleTypeStateAggs[h.selectedInvitedFrom.id].C+=b[c][d]);h.drawChart()}))},a.smallLoader=loaderSmall,this.drawChart=function(){a.completionPerc=Math.round(100*h.moduleTypeStateAggs[h.selectedInvitedFrom.id].C/h.moduleTypeStateAggs[h.selectedInvitedFrom.id].TOTAL),isNaN(a.completionPerc)&&(a.completionPerc=0),Highcharts.chart("statspie",{chart:{type:"pie",options3d:{enabled:!1,alpha:0,beta:0}},title:{text:""},tooltip:{pointFormat:"<b>{point.percentage:.1f}%</b>",
backgroundColor:"rgba(247,247,247,1)"},exporting:{enabled:!1},credits:{enabled:!1},plotOptions:{pie:{colors:["#1e88e5","#acd3f6","#ddd"],allowPointSelect:!1,cursor:"default",innerSize:135,dataLabels:{enabled:!1,format:"{point.name}"},events:{click:function(){return!1}},showInLegend:!0}},legend:{itemDistance:20,itemStyle:{color:"#999",cursor:"auto",fontSize:"11px",fontWeight:"normal"},lineHeight:12,symbolPadding:3,itemHoverStyle:{color:"#999"}},series:[{type:"pie",name:"",point:{events:{legendItemClick:function(){return!1}}},data:[[Game.Messages.DASHBOARD_COMPLETED+"("+h.moduleTypeStateAggs[h.selectedInvitedFrom.id].C+")",h.moduleTypeStateAggs[h.selectedInvitedFrom.id].C],[Game.Messages.DASHBOARD_LEARNER_GRAPH_LABEL_IP+"("+h.moduleTypeStateAggs[h.selectedInvitedFrom.id].IP+")",h.moduleTypeStateAggs[h.selectedInvitedFrom.id].IP],[Game.Messages.DASHBOARD_LEARNER_GRAPH_LABEL_DNS+"("+h.moduleTypeStateAggs[h.selectedInvitedFrom.id].NS+")",h.moduleTypeStateAggs[h.selectedInvitedFrom.id].NS]]}]})},this.updateEntityStateAggsFilter=function(a){a.id!=this.selectedInvitedFrom.id&&("ALL"==a.id?this.selectedInvitedFrom={id:"ALL",name:Game.Messages.DASHBOARD_PROFILE_ALL_SERIES}:this.selectedInvitedFrom=a),this.getLearnerEntityTypeStateAggs()},this.totalAssignedTracks=0,this.sortedSeriesIds=[],learnerJson.series&&learnerJson.series.length>0){var j=angular.copy(learnerJson.series).sort(function(a,b){return a.added_on<b.added_on?1:a.added_on>b.added_on?-1:0});for(var k in j)this.sortedSeriesIds.push(j[k].id)}if(this.getLearnerTrackPerformance=function(){h.trackPerformance=[],this.sortedSeriesIds.length>0&&(this.loadingTrackPerformance=!0,d.getLearnerTrackPerformance().then(function(b){h.totalAssignedTracks=Object.keys(b).length,h.trackPerformance=[];for(var c=0;c<h.sortedSeriesIds.length;c++){var d=h.sortedSeriesIds[c];if(b[d]){var e=b[d];e.a=0,e.c=0,e.id=d;for(var f in e.stateCountMap)"DEACTIVATED"!=f&&(e.a+=b[d].stateCountMap[f]),"COMPLETED"==f&&(e.c=b[d].stateCountMap.COMPLETED,b[d].stateCountMap.COMPLETED&&(e.c+=b[d].stateCountMap.TIMEDOUT));e.ps=0,e.maxScore>0&&(e.ps=Math.round(100*e.myScore/e.maxScore)),h.trackPerformance.push(e)}}h.loadingTrackPerformance=!1,a.updateCustomSeriesListWithTrackPerformance(h.trackPerformance)}))},this.downloadCertificate=function(a,b,c,d){Utils.Func.downloadCertificate(a,b,c,d)},this.learnerObj)h.learnerObj.pic&&(h.pic=h.learnerObj.pic),h.correctFieldsOrder();else{if(!this.isMe()&&companySettings.disableParticipants)return void a.goBack();d.getUserInfo([this.uid]).then(function(b){if("PARTNER_TRAINING"===companySettings.lsSettings.lsType){for(var c=!1,d=0;d<learnerJson.groups.length;d++)if(b[h.uid].groups.indexOf(learnerJson.groups[d])>-1){c=!0;break}if(!c)return void a.goBack()}b[h.uid]?h.learnerObj=b[h.uid]:h.learnerObj=h.lbCache.get("learnerInfo#"+h.uid),h.learnerObj.state&&"DEACTIVATED"==h.learnerObj.state.current&&a.goBack(),h.learnerObj.pic&&(h.pic=h.learnerObj.pic),h.correctFieldsOrder()})}a.selectedDuration="week",a.updateSelectedDuration=function(b){a.selectedDuration=b,a.$evalAsync()},this.uid===learnerJson.id&&(this.getAchivements(),this.getLearnerEntityTypeStateAggs(),this.getLearnerTrackPerformance(),this.isMyProfile=!0,a.seriesList=d.dataStore.series,d.getSeriesNames(),this.getProfileDurations=g?g.getTotalTime:function(){});var l=36e5;a.getTimeInHours=function(a){return!h.getProfileDurations()||!h.getProfileDurations()[a]||h.getProfileDurations()[a].time<=0?"--":(h.getProfileDurations()[a].time/l).toFixed(1)},"undefined"!=typeof eventManager&&eventManager.trigger("hide.series.desc"),a.gotoSeries=function(a){b.go("root.courses.series",{series:a.id},{notify:!0})},a.openEntity=function(a){f.memo("EntityEntryPoint"),b.go("root.courses.gamelanuch",{entity:void 0,series:void 0,entityId:a.id})},h.seriesSearchText="",a.$watch("seriesList",function(){a.seriesList&&a.seriesList.INVITE_ONLY&&(a.customSeriesList=angular.copy(a.seriesList.INVITE_ONLY.slice()),a.customSeriesList=Utils.Func.sortArrayOnAField(a.customSeriesList,"name"))},!0),a.updateCustomSeriesListWithTrackPerformance=function(b){var c=b.map(function(a){return a.id}),d=a.customSeriesList.map(function(a){return a.id});if(c.length>0&&(!a.seriesList||Object.keys(a.seriesList.all).length<1))return void setTimeout(function(){a.updateCustomSeriesListWithTrackPerformance(b)},500);var e=[];for(i=0;i<c.length;i++)d.indexOf(c[i])==-1&&e.push(c[i]);if(a.seriesList&&a.seriesList.all)for(i=0;i<e.length;i++)a.seriesList.all[e[i]]&&a.customSeriesList.push(a.seriesList.all[e[i]]);a.customSeriesList=Utils.Func.sortArrayOnAField(a.customSeriesList,"name")},a.isFilterRowVisible=function(a){if(!h.seriesSearchText)return!0;var b=new RegExp("^"+h.seriesSearchText,"i");return b.test(a)},a.clearSearch=function(b){a[b]="",h[b]=""}}]),angular.module("learnginBoardApp").directive("dashboardParticipantSnippet",function(){return{replace:!0,restrict:"A",scope:!0,templateUrl:templateBaseUrl+"/dashboard"+(Utils.Func.isNewDesignLanguage()?"/peers-new/":"/")+"dashboard-participant-snippet.html",link:function(a,b,c){a.user.profile.dg||(a.user.profile.dg="NA"),a.user.profile.dp||(a.user.profile.dp="NA"),a.user.pic||(a.user.pic=assetsBase+"/images/img_80_80.png"),a.$on("UPDATED_PROFILE",function(b,c){a.user.id==c.learnerJson.id&&(c.learnerJson.name&&(a.user.name=c.learnerJson.name),c.learnerJson.pic&&(a.user.pic=c.learnerJson.pic),c.learnerJson.profile&&(a.user.profile=c.learnerJson.profile),c.learnerJson.managers&&(a.user.managers=c.learnerJson.managers),null==a.$$phase&&a.$apply())})}}}),angular.module("learnginBoardApp").directive("fileListSearchPartial",function(){return{templateUrl:templateBaseUrl+"/dashboard/"+(Utils.Func.isNewDesignLanguage()?"search-new":"search")+"/file-list-search-partial.html",controller:"FileListSearchCtrl",scope:{count:"@",dontFetchMore:"@",dontLoadTags:"@",dataLoaded:"&loaded",isInOwnTab:"@"}}}).controller("FileListSearchCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$previousState","$stateParams",function(a,b,c,d,e,f,g,h,i){var j={};a.entities=[],a.loader=loaderGif,a.smallLoader=loaderSmall,a.searchText=f.params.query,a.isNewDesignLanguage=Utils.Func.isNewDesignLanguage,a.heightStyle=a.dontFetchMore?{maxHeight:"237px",overflow:"hidden"}:void 0,a.openTab=function(){Game.MixPanelTracking.track("global_search_page_triggered",{from:"view_all_results",location:f.current.name,tab_type:Utils.Func.TYPES_OF_SEARCH.FILE,text:a.searchText,total_results:a.max,filter_obj:Utils.Func.getSearchFilters(f.params)}),f.go(".",{type:Utils.Func.TYPES_OF_SEARCH.FILE})},a.getNiceDate=Utils.Func.getNiceDate,a.isDecimalNumber=function(a){return a%1===0},a.contentTypes=f.params.content_type?f.params.content_type.split(","):[],a.seriesFilter=f.params.series?{id:f.params.series,name:""}:{id:"ALL",name:Game.Messages.DASHBOARD_PROFILE_SELECT_SERIES},a.noneETLabelReact=Game.Messages.DASHBOARD_CONTENT_SELECT_MODULE,a.moduleFilter=f.params.module?{id:f.params.module,name:""}:{id:"ALL",name:Game.Messages.DASHBOARD_CONTENT_SELECT_MODULE},a.selectedEntityFilterReact=function(){return a.moduleFilter?a.moduleFilter.id:""},a.currentlySelectedTags=[],f.params.tags&&(a.currentlySelectedTags=f.params.tags.split(",")),a.hasFilterApplied=function(){return f.params.series||f.params.module||f.params.content_type||f.params.tags},a.focusSearchText=function(a){c(function(){$(a).focus()},0)},a.resetFilters=function(){Game.MixPanelTracking.track("global_search_reset_filters",{tab_type:Utils.Func.TYPES_OF_SEARCH.FILE,text:a.searchText}),f.go(".",{module:void 0,series:void 0,content_type:void 0})},a.moduleList=[],a.getResultReasonPriority=Utils.Func.getResultReasonPriority,a.start=0,a.count=a.count||10,a.mediaTypes=Utils.Func.mediaTypes,a.isMediaTypeFiltersAvailable=function(){return!!(a.mediaTypesToList&&Object.keys(a.mediaTypesToList).length>0)},a.getContentClass=function(a){var b="";return b="VIDEO"===a?"icon-video colorf07878":"IMAGE"===a||"ALBUM"===a?"icon-image color90cac0":"DOCUMENT_PDF"===a?"icon-pdf colord5605f":"DOCUMENT_PPT"===a?"icon-ppt colorf5b175":"DOCUMENT_WORD"===a?"icon-doc color83a6d4":"DOCUMENT_XLS"===a?"icon-xls color61bd87":"AUDIO"===a?"icon-audio colore2cc63":"IMG_MASH_UP"===a?"icon-video colorf07878":"NOTE"===a?"icon-note colorf07878":"icon-embeded colora28bc0"},a.getContentClassNew=function(a){var b="";return b="VIDEO"==a?"videoSelected":"IMAGE"==a||"ALBUM"==a?"imageSelected":"DOCUMENT_PDF"==a?"pdfSelected":"DOCUMENT_PPT"==a?"pptSelected":"DOCUMENT_WORD"==a?"docSelected":"DOCUMENT_XLS"==a?"sheetSelected":"AUDIO"==a?"audioSelected":"IMG_MASH_UP"==a?"videoSelected":"NOTE"==a?"textSelected":"linkSelected"},a.getContentInfo=function(a){return"IMAGE"===a.type?a.contentParts+" "+Game.Messages.LB_TXT_IMAGE:"ALBUM"===a.type?a.contentParts+" "+Game.Messages.LB_TXT_IMAGES:"VIDEO"===a.type?(a.contentParts/60).toFixed(0)+":"+a.contentParts%60+" "+Game.Messages.LB_TXT_MIN:"DOCUMENT_PDF"===a.type||"DOCUMENT_WORD"===a.type?a.contentParts+" "+Game.Messages.LB_TXT_PAGES:"DOCUMENT_PPT"===a.type?a.contentParts+" "+Game.Messages.LB_TXT_SLIDES:"DOCUMENT_XLS"===a.type?a.contentParts+" "+Game.Messages.LB_TXT_SHEETS:a.contentParts+" "+Game.Messages.LB_TXT_EMBED},a.loader=loaderSmall,a.fetchNext=function(){a.start=a.entities.length,a.getContents()},a.getContents=function(){a.loading=!0,0!==a.start||a.loadedAggs||(a.aggrgationsLoading=!0,a.entities=[],g.fetchContentsAggs(a.searchText).promise.then(function(b){var c=b.aggs;if(a.seriesList=c.SERIES_ID,a.moduleList=c.MODULE_ID,a.moduleList.map(function(a){a.label=a.name,a.value=a.id}),a.moduleList=a.moduleList.filter(function(a){return a.label&&a.id}),a.customModuleList=a.moduleList.slice(),a.mediaTypesToList=c.MEDIA_TYPE,a.aggrgationsLoading=!1,a.loadedAggs=!0,"ALL"!==a.moduleFilter.id){for(var d=0;d<a.moduleList.length;d++)if(a.moduleList[d].id===a.moduleFilter.id){a.moduleFilter=a.moduleList[d];break}}else a.moduleFilter.name=Game.Messages.DASHBOARD_CONTENT_SELECT_MODULE;if("ALL"!==a.seriesFilter.id){for(var d=0;d<a.seriesList.length;d++)if(a.seriesList[d].id===a.seriesFilter.id){a.seriesFilter=a.seriesList[d];break}}else a.seriesFilter.name=Game.Messages.DASHBOARD_PROFILE_SELECT_SERIES}));var b=a.currentlySelectedTags.length?a.currentlySelectedTags:void 0,c=g.getContents(a.start,a.count,!1,a.contentTypes,a.searchText,a.seriesFilter.id,a.moduleFilter.id,!0,b,f.params.tagonly);c.then(function(b){if(a.loading=!1,a.entities=a.entities.concat(b.contents),a.tagsList=a.tagsList.concat(b.resourceTagsResponse?b.resourceTagsResponse.resourceTagDetailsList.reduce(function(a,b){if(b.tagAndCategoryDetailsList){var c=b.tagAndCategoryDetailsList.reduce(function(a,b){return j[b.tagId]||(a.push(b),j[b.tagId]=!0,k[b.tagId]=b),a},[]);a=a.concat(c)}return a},[]):[]),a.currentlySelectedTags.length&&f.params.type==Utils.Func.TYPES_OF_SEARCH.FILE){var c=[];c=a.currentlySelectedTags.filter(function(a){return k[a]}),c.length!==a.currentlySelectedTags.length&&(a.currentlySelectedTags=c,f.go(".",{tags:a.currentlySelectedTags.length?a.currentlySelectedTags.join(","):void 0,tagonly:f.params.tagonly}))}a.dataLoaded&&(0===a.start&&"true"===a.isInOwnTab&&Game.MixPanelTracking.track("global_search_page_viewed",{tab_type:Utils.Func.TYPES_OF_SEARCH.FILE,location:f.current.name,text:a.searchText,filter_obj:Utils.Func.getSearchFilters(f.params),total_results:b.total}),a.dataLoaded({type:Utils.Func.TYPES_OF_SEARCH.FILE,loaded:!0,count:b.total,tagsList:angular.copy(a.tagsList)})),a.max=b.total},function(){a.loading=!1})},a.getContents(),a.clearSearch=function(){Utils.Func.goBackAngular(f,h)},a.updateContentSeriesFilter=function(b){if(a.seriesFilter.id!==b.id){if(Game.MixPanelTracking.track("global_search_filtered",{tab_type:Utils.Func.TYPES_OF_SEARCH.FILE,text:a.searchText,filter_type:"series",filter_value:b.id}),"ALL"===b.id)a.seriesFilter={id:"ALL",name:Game.Messages.DASHBOARD_PROFILE_SELECT_SERIES};else if(a.seriesFilter=b,"ALL"!==a.moduleFilter.id){for(var c=!1,d=0;d<a.moduleFilter.parentList.length;d++)if(a.moduleFilter.parentList[d].id===a.seriesFilter.id){c=!0;break}c||(a.moduleFilter={id:"ALL",name:Game.Messages.DASHBOARD_CONTENT_SELECT_MODULE})}a.start=0,a.updateCurrentRouteUrl("series",a.seriesFilter.id)}},a.seriesSearchText="",a.$watch("seriesSearchText",_.debounce(function(){a.customSeriesList=[];var b=a.seriesList;if(a.seriesSearchText&&""!==a.seriesSearchText)for(var c in b)b[c].name.toLowerCase().indexOf(a.seriesSearchText.toLowerCase())!==-1&&a.customSeriesList.push(b[c]);else a.customSeriesList=b;a.$evalAsync()},200),!0),a.$watch("moduleSearchText",_.debounce(function(){a.customModuleList=[];var b=a.moduleList.slice();if(a.moduleSearchText&&""!==a.moduleSearchText)for(var c=0;c<b.length;c++)b[c].name.toLowerCase().indexOf(a.moduleSearchText.toLowerCase())!==-1&&a.customModuleList.push(b[c]);else a.customModuleList=b;a.$evalAsync()},200),!0),a.updateContentModuleFilter=function(b){b.value&&"none"==b.value.toLowerCase()&&(b.id="ALL"),b.id!==a.moduleFilter.id&&(Game.MixPanelTracking.track("global_search_filtered",{tab_type:Utils.Func.TYPES_OF_SEARCH.FILE,text:a.searchText,filter_type:"module",filter_value:b.id}),"ALL"===b.id?a.moduleFilter={id:"ALL",name:Game.Messages.DASHBOARD_CONTENT_SELECT_MODULE}:a.moduleFilter=b,a.start=0,a.updateCurrentRouteUrl("module",a.moduleFilter.id))},a.isInCurrentFilter=function(b){return _.indexOf(a.contentTypes,b)!==-1},a.updateCurrentRouteUrl=function(a,b){var c=i;"undefined"==typeof b?delete c[a]:c[a]=b,f.go(f.current.name,c,{relative:f.$current,reload:!0,inherit:!1,notify:!0})},a.tagsList=[];var k={};a.setContentType=function(b){_.indexOf(a.contentTypes,b)!==-1?this.contentTypes.splice(_.indexOf(this.contentTypes,b),1):this.contentTypes.push(b),Game.MixPanelTracking.track("global_search_filtered",{tab_type:Utils.Func.TYPES_OF_SEARCH.FILE,text:a.searchText,filter_type:"file_type",filter_value:this.contentTypes}),a.start=0,a.updateCurrentRouteUrl("content_type",this.contentTypes.join())},a.clearSearch=function(b){a[b]=""},a.toggleTag=function(b){a.currentlySelectedTags.indexOf(b)===-1?a.currentlySelectedTags.push(b):a.currentlySelectedTags=a.currentlySelectedTags.filter(function(a){return a!==b});var c=a.currentlySelectedTags.length?a.currentlySelectedTags.join(","):void 0;a.currentlySelectedTags.length?a.currentlySelectedTags.map(function(a){return k[a].tagName}):void 0;Game.MixPanelTracking.track("global_search_filtered",{tab_type:Utils.Func.TYPES_OF_SEARCH.FILE,text:a.searchText,filter_type:"tag",filter_value:c}),a.updateCurrentRouteUrl("tags",c)},a.isTagActive=function(b){return a.currentlySelectedTags.indexOf(b)!==-1},a.openContent=function(a,b){a.locked===!0||a.lockState===!0?Utils.Func.isNewDesignLanguage()?Utils.Func.alertWithHeaderNDL(Game.Messages.LB_TXT_CONTENT_NOT_ACCESSIBLE,Game.Messages.GEN_LOCKED_CONTENT_WARNING):GameObject.alert(Game.Messages.GEN_LOCKED_CONTENT_WARNING):(Game.MixPanelTracking.track("global_search_result_clicked",{entity_type:Utils.Func.TYPES_OF_SEARCH.FILE,entity_id:a.entity_id,entity_name:a.entity_name,entity_rank:b,location:f.current.name,from:f.params.type||Utils.Func.TYPES_OF_SEARCH.ALL}),f.go("root.contents.viewsingle",{contentId:a.id,entityId:a.entity_id}))}}]),Filter.prototype.setValues=function(a){this.values=a},Filter.prototype.setChild=function(a,b){this.childFilters[a]=b},Filter.prototype.createChildren=function(a,b,c){var d=new Filter(a,null,b,c);this.setChild(a,d)},Filter.prototype.update=function(a,b){b&&a&&a[this.name]&&(this.values=a[this.name]);for(var c in this.childFilters)a[c]&&this.childFilters[c].update(a,!0)},angular.module("learnginBoardApp").directive("moduleListSearchPartial",function(){return{templateUrl:templateBaseUrl+"/dashboard/"+(Utils.Func.isNewDesignLanguage()?"search-new":"search")+"/module-list-search-partial.html",controller:"ModuleListSearchCtrl",scope:{count:"@",dontFetchMore:"@",dontLoadTags:"@",dataLoaded:"&loaded",isInOwnTab:"@"}}}).controller("ModuleListSearchCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$previousState",function(a,b,c,d,e,f,g,h){var i={};a.entities=[],a.loading=!1,a.loader=loaderSmall,a.searchText=f.params.query,a.entityType=Utils.Func.entityType,a.seriesList=[],a.tagsList=[],a.similarTags=[],a.searchTagOnly=f.params.tagonly,a.isNewDesignLanguage=Utils.Func.isNewDesignLanguage,a.seriesFilter=f.params.series?{id:f.params.series,name:""}:{id:"ALL",name:Game.Messages.DASHBOARD_PROFILE_SELECT_SERIES},companySettings.disableParticipants&&delete Utils.Func.TYPES_OF_SEARCH_TXT.PEER,a.searchSections=Utils.Func.TYPES_OF_SEARCH_TXT,a.getNiceDate=Utils.Func.getNiceDate,a.getCoachingStatus=Utils.Func.getCoachingStatus,a.getResultReasonPriority=Utils.Func.getResultReasonPriority,a.isEntityTypeFiltersAvailable=function(){return!!(a.entityTypesList&&Object.keys(a.entityTypesList).length>0)},a.isDecimalNumber=function(a){return a%1===0},a.isElemTypeActive=function(b){return a.mtelemTypes.indexOf(b)!==-1},a.mtelemTypes=f.params.module_types?f.params.module_types.split(","):[],a.hasFilterApplied=function(){return f.params.series||f.params.module_types},a.resetFilters=function(){Game.MixPanelTracking.track("global_search_reset_filters",{tab_type:Utils.Func.TYPES_OF_SEARCH.MODULE,text:a.searchText}),f.go(".",{module_types:void 0,series:void 0})},a.tags=f.params.tags?f.params.tags.split(","):[];var j=[2,3,5,6,7,8,9,10,11,12,13,14,15];a.filters={seriesId:"ALL"!==a.seriesFilter.id?a.seriesFilter.id:void 0,mtelemTypes:a.mtelemTypes.length>0?a.mtelemTypes:j,tagList:a.tags.length>0?a.tags:void 0},a.heightStyle=a.dontFetchMore?{maxHeight:"237px",overflow:"hidden"}:void 0,a.fetchNext=function(){a.start=a.entities.length,a.start>=a.max||a.searchEntities()},a.openTab=function(){Game.MixPanelTracking.track("global_search_page_triggered",{from:"view_all_results",location:f.current.name,tab_type:Utils.Func.TYPES_OF_SEARCH.MODULE,text:a.searchText,total_results:a.max,filter_obj:Utils.Func.getSearchFilters(f.params)}),f.go(".",{type:Utils.Func.TYPES_OF_SEARCH.MODULE})},a.updateSeriesFilter=function(b){Game.MixPanelTracking.track("global_search_filtered",{tab_type:Utils.Func.TYPES_OF_SEARCH.MODULE,text:a.searchText,filter_type:"series",filter_value:b.id}),f.go(".",{series:b.id})},a.updateModuleTypeFilter=function(b){_.indexOf(a.mtelemTypes,b.toString())!==-1?this.mtelemTypes.splice(_.indexOf(this.mtelemTypes,b.toString()),1):a.mtelemTypes.push(b),Game.MixPanelTracking.track("global_search_filtered",{tab_type:Utils.Func.TYPES_OF_SEARCH.MODULE,text:a.searchText,filter_type:"module",filter_value:a.mtelemTypes.join(",")}),f.go(".",{module_types:a.mtelemTypes.join(",")})},a.tagsList=[],a.currentlySelectedTags=[],f.params.tags&&(a.currentlySelectedTags=f.params.tags.split(",")),a.toggleTag=function(b){a.currentlySelectedTags.indexOf(b)===-1?a.currentlySelectedTags.push(b):a.currentlySelectedTags=a.currentlySelectedTags.filter(function(a){return a!==b});var c=a.currentlySelectedTags.length?a.currentlySelectedTags.map(function(a){return i[a].tagName}):void 0;Game.MixPanelTracking.track("Dashboard Modules Filter",{"filter type":"tag","filter type values":c});var d=a.currentlySelectedTags.length?a.currentlySelectedTags.join(","):void 0;Game.MixPanelTracking.track("global_search_filtered",{tab_type:Utils.Func.TYPES_OF_SEARCH.MODULE,text:a.searchText,filter_type:"tag",filter_value:d}),f.go(".",{tags:d,tagonly:f.params.tagonly})},a.isTagActive=function(b){return a.currentlySelectedTags.indexOf(b)!==-1},a.focusSearchText=function(a){c(function(){$(a).focus()},0)},a.searchEntities=function(){a.start=a.start||0,a.count=a.count||10,a.loading=!0,a.searchTagOnly?a.filters.searchFields=["TAG"]:a.filters.searchFields=void 0;var b=g.fetchNewSearchMtElements(!1,a.searchText,a.start,a.count,a.filters);b.$promise.then(function(b){if(a.loading=!1,a.tagsList=a.tagsList.concat((b.resourceTagsResponse.resourceTagDetailsList||[]).reduce(function(a,b){if(b.tagAndCategoryDetailsList){var c=b.tagAndCategoryDetailsList.reduce(function(a,b){return i[b.tagId]||(a.push(b),i[b.tagId]=b),a},[]);a=a.concat(c)}return a},[])),a.currentlySelectedTags.length&&f.params.type==Utils.Func.TYPES_OF_SEARCH.MODULE){var c=[];c=a.currentlySelectedTags.filter(function(a){return i[a]}),c.length!==a.currentlySelectedTags.length&&(a.currentlySelectedTags=c,f.go(".",{tags:a.currentlySelectedTags.length?a.currentlySelectedTags.join(","):void 0,tagonly:f.params.tagonly}))}a.dataLoaded&&(0===a.start&&"true"===a.isInOwnTab&&Game.MixPanelTracking.track("global_search_page_viewed",{tab_type:Utils.Func.TYPES_OF_SEARCH.MODULE,location:f.current.name,text:a.searchText,filter_obj:Utils.Func.getSearchFilters(f.params),total_results:b.total}),a.dataLoaded({type:Utils.Func.TYPES_OF_SEARCH.MODULE,loaded:!0,count:b.total,tagsList:angular.copy(a.tagsList)})),b.similar_tags&&b.similar_tags.totalHits>0&&(a.totalSimilarTagsHits=b.similar_tags.totalHits,a.similarTags=b.similar_tags.hits),a.entities=a.entities.concat(b.entities),a.max=b.total},function(){a.loading=!1}),0===a.start&&(a.loadingAggs=!0,g.searchMTElementsAggs(a.searchText).promise.then(function(b){a.seriesList=b.aggs.SERIES_ID;var c=b.aggs.MT_ENTITY_TYPE;c[4]=(c[9]||0)+(c[10]||0)+(c[11]||0)+(c[12]||0),c[4]||delete c[4],a.entityTypesList=c,a.loadingAggs=!1,"ALL"!==a.seriesFilter.id?a.seriesFilter=a.seriesList.find(function(b){return b.id===a.seriesFilter.id}):a.seriesFilter.name=Game.Messages.DASHBOARD_PROFILE_SELECT_SERIES},function(){a.loadingAggs=!1}))},a.searchEntities(),a.openEntity=function(a,b){if("LOCKED"===a.lockState){var c=function(){f.go("root.courses.series",{series:a.seriesID})},d=_.template(Game.Messages.SU_LOCKED_MODULE_WARNING)({a:a.name+" "});Utils.Func.confirm(d,c,Game.Messages.GO_TO_SERIES,Game.Messages.CANCEL)}else"REINFORCEMENT"===a.type?location.href="/ui/reinforcement/learner/"+reinforcementDefaultSeries.id+"/"+a.id:(Game.MixPanelTracking.track("module_clicked",{from:"global_search_page",location:f.current.name,module_id:a.id,module_name:a.name,module_status:a.state,module_type:a.type,series_id:a.seriesId,series_name:a.seriesName}),Game.MixPanelTracking.track("global_search_result_clicked",{entity_type:Utils.Func.TYPES_OF_SEARCH.SERIES,entity_id:a.id,entity_name:a.name,entity_rank:b,location:f.current.name,from:f.params.type||Utils.Func.TYPES_OF_SEARCH.ALL}),f.go("root.courses.gamelanuch",{entityId:a.id}))}}]),angular.module("learnginBoardApp").directive("peerListSearchPartial",function(){return{templateUrl:templateBaseUrl+"/dashboard/"+(Utils.Func.isNewDesignLanguage()?"search-new":"search")+"/peer-list-search-partial.html",controller:"PeerListSearchCtrl",scope:{count:"@",dontFetchMore:"@",dataLoaded:"&loaded",isInOwnTab:"@"}}}).controller("PeerListSearchCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$previousState",function(a,b,c,d,e,f,g,h){console.log(f),a.entities=[],a.loader=loaderSmall,a.searchText=f.params.query,a.isPartnerTraining=Utils.Func.isPartnerTraining(),a.heightStyle=a.dontFetchMore?{maxHeight:"237px",overflow:"hidden"}:void 0,a.openTab=function(){Game.MixPanelTracking.track("global_search_page_triggered",{from:"view_all_results",location:f.current.name,tab_type:Utils.Func.TYPES_OF_SEARCH.PEER,text:a.searchText,total_results:a.max,filter_obj:Utils.Func.getSearchFilters(f.params)}),f.go(".",{type:Utils.Func.TYPES_OF_SEARCH.PEER})};var i=function(){for(var b=[],c=0;c<companySettings.profile.fields.length;c++){var d=companySettings.profile.fields[c].shortKey;if(companySettings.profile.fields[c].isEnabled&&(b.push(d),b.length>=2))break}for(var e=0;e<a.entities.length;e++){var f=a.entities[e],g=Object.keys(a.entities[e].profile);f.firstTwoFields={},f.firstTwoFieldsArr=[];for(var c=0;c<Math.min(2,b.length);c++)a.entities[e].profile[b[c]]?f.firstTwoFieldsArr.push(a.entities[e].profile[b[c]]):f.firstTwoFieldsArr.push("NA");void 0!==g[0]?f.firstTwoFields.first=""!==a.entities[e].profile[g[0]]?a.entities[e].profile[g[0]]:"NA":f.firstTwoFields.first="NA",void 0!==g[1]?f.firstTwoFields.second=a.entities[e].profile[g[1]]:f.firstTwoFields.second="NA"}};a.fetchNext=function(){a.start=a.entities.length,a.start>=a.max||a.getParticipants()},a.getProfileFieldName=Utils.Func.getProfileFieldName,a.isFilterApplied=function(b,c){return!!(a.filters&&a.filters.profile&&a.filters.profile[b]&&_.indexOf(a.filters.profile[b],c)>-1)},a.setCurrentTagNew=function(b,c){a.filters||(a.filters={profile:{}}),a.filters.profile[b]||(a.filters.profile[b]=[]);var d=_.indexOf(a.filters.profile[b],c);d<0?a.filters.profile[b].push(c):a.filters.profile[b].splice(d,1),a.start=0,"undefined"!=typeof a.currentTagValue&&Game.MixPanelTracking.track("Participants_Filter",{ActiveFilterType:b,ActiveFilterTypeValue:c}),Game.MixPanelTracking.track("global_search_filtered",{tab_type:Utils.Func.TYPES_OF_SEARCH.PEER,text:a.searchText,filter_type:b,filter_value:a.filters.profile}),a.getParticipants()},a.setCurrentTag=function(b,c){a.currentTagValue!==c?(a.filters?a.filters.profile={}:a.filters={profile:{}},a.filters.profile[b]=c,a.currentTagValue=c):(a.currentTagValue=void 0,delete a.filters.profile),a.start=0,"undefined"!=typeof a.currentTagValue&&Game.MixPanelTracking.track("Participants_Filter",{ActiveFilterType:b,ActiveFilterTypeValue:a.currentTagValue}),a.getParticipants()},a.hasFilterApplied=function(){return a.currentTagValue},a.resetFilters=function(){a.setCurrentTag(null,a.currentTagValue)},a.getParticipants=function(){if(a.start=a.start||0,a.count=a.count||10,a.loading=!0,a.isPartnerTraining&&0===learnerJson.groups.length)return a.totalParticipants=1,a.entities=[learnerJson],i(),void(a.loading=!1);var b=angular.copy(a.filters);if(Utils.Func.isNewDesignLanguage()&&b&&b.profile)for(var c in b.profile)b.profile[c]&&b.profile[c].length>0&&(b.profile[c]=b.profile[c].join("__"));g.getParticipants(a.start,a.count,b,a.sorton,a.sortorder,a.searchText,a.entity,a.group).then(function(b){a.dataLoaded&&(0===a.start&&"true"===a.isInOwnTab&&Game.MixPanelTracking.track("global_search_page_viewed",{tab_type:Utils.Func.TYPES_OF_SEARCH.PEER,location:f.current.name,text:a.searchText,filter_obj:Utils.Func.getSearchFilters(f.params),total_results:b.total}),a.dataLoaded({type:Utils.Func.TYPES_OF_SEARCH.PEER,loaded:!0,count:b.data.total})),a.totalParticipants=b.data.total,0===a.start&&(a.entities=[]);for(var c=0;c<b.data.learners.length;c++)b.data.learners[c].pic||(b.data.learners[c].pic=assetsBase+"/images/img_80_80.png");if(a.entities=a.entities.concat(b.data.learners),a.suggestions=[],a.max=b.data.total,a.showDropDown=!1,i(),0===a.start&&(a.myGroupsSection=b.data.myLeanerGroups),$.isEmptyObject(a.tagSections)){a.tagSections=b.data.aggregations;var d={};for(var e in a.tagSections){var g=[];for(var h in a.tagSections[e])h&&g.push({key:h,val:a.tagSections[e][h]});g=g.sort(function(a,b){return a.val>b.val?-1:a.val<b.val?1:0}),d[e]=g}a.tagSections=d}a.loadingTags=!1,a.loading=!1,a.searchQuery?a.displaySearchInfoHeader=!0:a.displaySearchInfoHeader=!1,a.$evalAsync()})},a.getParticipants()}]),angular.module("learnginBoardApp").directive("seriesListSearchPartial",function(){return{templateUrl:templateBaseUrl+"/dashboard/"+(Utils.Func.isNewDesignLanguage()?"search-new":"search")+"/series-list-search-partial.html",controller:"SeriesListSearchCtrl",scope:{count:"@",dontFetchMore:"@",dataLoaded:"&loaded",isInOwnTab:"@"}}}).controller("SeriesListSearchCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$previousState",function(a,b,c,d,e,f,g,h){console.log(f),a.entities=[],a.loader=loaderSmall,a.searchText=f.params.query,a.heightStyle=a.dontFetchMore?{maxHeight:"237px",overflow:"hidden"}:void 0,a.fetchNext=function(){a.start=a.entities.length,a.getSeriesList()},a.openTab=function(){Game.MixPanelTracking.track("global_search_page_triggered",{from:"view_all_results",location:f.current.name,tab_type:Utils.Func.TYPES_OF_SEARCH.SERIES,text:a.searchText,total_results:a.max,filter_obj:Utils.Func.getSearchFilters(f.params)}),f.go(".",{type:Utils.Func.TYPES_OF_SEARCH.SERIES})},a.gotoSeries=function(a,b){Game.MixPanelTracking.track("series_clicked",{series_id:a.id,series_name:a.name,location:f.current.name,from:"global_search_page"}),Game.MixPanelTracking.track("global_search_result_clicked",{entity_type:Utils.Func.TYPES_OF_SEARCH.SERIES,entity_id:a.id,entity_name:a.name,entity_rank:b,location:f.current.name,from:f.params.type||Utils.Func.TYPES_OF_SEARCH.ALL}),f.go("root.courses.series",{series:a.id,entityType:void 0,state:void 0,tags:void 0},{notify:!0,reload:!0})},a.getSeriesList=function(){a.start=a.start||0,a.count=a.count||10,a.result=g.searchSeries(a.searchText,a.start,a.count),a.result.$promise.then(function(b){a.dataLoaded&&(0===a.start&&"true"===a.isInOwnTab&&Game.MixPanelTracking.track("global_search_page_viewed",{tab_type:Utils.Func.TYPES_OF_SEARCH.SERIES,location:f.current.name,text:a.searchText,filter_obj:Utils.Func.getSearchFilters(f.params),total_results:b.total}),a.dataLoaded({type:Utils.Func.TYPES_OF_SEARCH.SERIES,loaded:!0,count:b.total})),a.entities=a.entities.concat(b.entities),a.max=b.total},function(){console.log("error")})},a.getSeriesList()}]),angular.module("learnginBoardApp").directive("fileSearchDisplayPartial",function(){return{templateUrl:templateBaseUrl+"/dashboard/"+(Utils.Func.isNewDesignLanguage()?"search-new":"search")+"/file-search-display-partial.html",controller:"fileSearchDisplayCtrl"}}).controller("fileSearchDisplayCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$previousState",function(a,b,c,d,e,f,g,h){console.log(f),a.entities=[],a.loader=loaderGif,a.smallLoader=loaderSmall,a.searchText=f.params.query,a.isStared=a.entity.starred,a.isTipHidden=!0,a.hideTip=function(){a.isTipHidden=!0},a.$on("HIDE_TIPS",function(){a.isTipHidden=!0}),a.bookmarkContent=function(){return a.entity.locked===!0||a.entity.lockState===!0?(mtBrodCastService.brodCast("HIDE_TIPS",{}),void(a.isTipHidden=!1)):(a.entity.starred=!a.entity.starred,void new Game.AARequestManager(a.entity.entity_id).saveTickle({userData:{type:"LO_LEARNING_CONTENT"},staticData:{id:a.entity.id},entityId:a.entity.entity_id},{starred:a.entity.starred}).then(function(b){a.isStared=b.userLearningObjectVo.starred;var c="Star a Content File";a.isStared||(c="UnStared a Content File"),Game.MixPanelTracking.track(c,{"File Type":a.entity.type,"Content ID":a.entity.entity_id,"Content Name":a.entity.entity_name,"Content Type":a.entity.type})},function(a){a.responseText=JSON.parse(a.responseText),GameObject.alert(a.responseText.error)}))}}]),angular.module("learnginBoardApp").directive("moduleSearchDisplayPartial",function(){return{templateUrl:templateBaseUrl+"/dashboard/"+(Utils.Func.isNewDesignLanguage()?"search-new":"search")+"/module-search-display-partial.html",controller:"moduleSearchDisplayCtrl"}}).controller("moduleSearchDisplayCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$previousState",function(a,b,c,d,e,f,g,h){console.log(f),a.entities=[],a.loader=loaderGif,a.smallLoader=loaderSmall,a.searchText=f.params.query,a.typeOfSearch=f.params.type||"ALL",a.searchResult=g.dataStore.searchResult,a.clearSearch=function(){Utils.Func.goBackAngular(f,h)},a.getSearchMatchText=Utils.Func.getSearchMatchText}]),angular.module("learnginBoardApp").directive("peerSearchDisplayPartial",function(){return{templateUrl:templateBaseUrl+"/dashboard/"+(Utils.Func.isNewDesignLanguage()?"search-new":"search")+"/peer-search-display-partial.html",controller:"peerSearchDisplayCtrl"}}).controller("peerSearchDisplayCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$previousState",function(a,b,c,d,e,f,g,h){a.kscore=Utils.Func.convertScoreToKscore(a.entity.company_score),a.loader=loaderSmall,a.viewProfile=function(){Game.MixPanelTracking.track("learners_peer_list_clicked",{
from:"global_search_page",learner_id:a.entity.id,learner_name:a.entity.name,location:f.current.name}),Game.MixPanelTracking.track("global_search_result_clicked",{entity_type:Utils.Func.TYPES_OF_SEARCH.PEER,entity_id:a.entity.id,entity_name:a.entity.name,entity_rank:a.$index,location:f.current.name,from:f.params.type||Utils.Func.TYPES_OF_SEARCH.ALL}),f.go("root.participant",{uid:a.entity.id})}}]),angular.module("learnginBoardApp").directive("seriesSearchDisplayPartial",function(){return{templateUrl:templateBaseUrl+"/dashboard/"+(Utils.Func.isNewDesignLanguage()?"search-new":"search")+"/series-search-display-partial.html",controller:"seriesSearchDisplayCtrl"}}).controller("seriesSearchDisplayCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$previousState",function(a,b,c,d,e,f,g,h){console.log(f),a.entities=[],a.loader=loaderGif,a.smallLoader=loaderSmall,a.searchText=f.params.query,a.typeOfSearch=f.params.type||"ALL",a.searchResult=g.dataStore.searchResult,a.clearSearch=function(){Utils.Func.goBackAngular(f,h)},a.getSearchMatchText=Utils.Func.getSearchMatchText}]),angular.module("learnginBoardApp").directive("topListSearchPartial",function(){return{templateUrl:templateBaseUrl+"/dashboard/"+(Utils.Func.isNewDesignLanguage()?"search-new":"search")+"/top-list-search-partial.html",controller:"TopListSearchCtrl"}}).controller("TopListSearchCtrl",["$scope","$interval","$timeout","$rootScope","$translate","$state","learningBoardServiceFactory","$previousState",function(a,b,c,d,e,f,g,h){a.entities=[],a.loader=loaderSmall,a.searchText=f.params.query,a.typeOfSearch=f.params.type||"ALL",a.searchResult=g.dataStore.searchResult,a.isNewDesignLanguage=Utils.Func.isNewDesignLanguage,a.clearSearch=function(){Utils.Func.goBackAngular(f,h)};var i={module:!1,file:!1,series:!1,peer:!1};a.countTillNow={module:1,file:1,series:1,peer:1},companySettings.disableParticipants&&(i.peer=!0,delete a.countTillNow.peer),a.totalCount=0,a.loading=!0;var j={},k={};a.dataLoaded=function(b,c,d,e){if(j[b]=e,i[b]=c,a.countTillNow[b]=d,a.totalCount+=d,a.loading=!(i.module&&i.file&&i.series&&i.peer),!a.loading){if(0===a.totalCount&&Game.MixPanelTracking.track("global search no results",{text:a.searchText}),a.tagsList=Object.keys(j).reduce(function(a,b){return j[b]&&j[b].forEach(function(b){k[b.tagId]||a.push(b),k[b.tagId]=b}),a},[]),a.currentlySelectedTags.length){var g=[];g=a.currentlySelectedTags.filter(function(a){return k[a]}),g.length!==a.currentlySelectedTags.length&&(a.currentlySelectedTags=g,f.go(".",{tags:a.currentlySelectedTags.join(",")}))}Game.MixPanelTracking.track("global_search_page_viewed",{tab_type:Utils.Func.TYPES_OF_SEARCH.ALL,location:f.current.name,text:a.searchText,filter_obj:Utils.Func.getSearchFilters(f.params),total_results:a.totalCount})}},a.tagsList=[],a.currentlySelectedTags=[],f.params.tags&&(a.currentlySelectedTags=f.params.tags.split(",")),a.toggleTag=function(b){a.currentlySelectedTags.indexOf(b)===-1?a.currentlySelectedTags.push(b):a.currentlySelectedTags=a.currentlySelectedTags.filter(function(a){return a!==b});var c;a.currentlySelectedTags.length&&(c=a.currentlySelectedTags.map(function(a){return k[a].tagName})),Game.MixPanelTracking.track("global search all page tags filter",{"filter type":"tag","filter value":c,"total results":a.totalCount,text:a.searchText});var d=a.currentlySelectedTags.length?a.currentlySelectedTags.join(","):void 0;Game.MixPanelTracking.track("global_search_filtered",{tab_type:Utils.Func.TYPES_OF_SEARCH.ALL,text:a.searchText,filter_type:"tag",filter_value:d,total_results:a.totalCount}),f.go(".",{tags:d})},a.isTagActive=function(b){return a.currentlySelectedTags.indexOf(b)!==-1},a.hasFilterApplied=function(){return f.params.tags},a.resetFilters=function(){Game.MixPanelTracking.track("global_search_reset_filters",{tab_type:Utils.Func.TYPES_OF_SEARCH.ALL,text:a.searchText}),f.go(".",{tags:void 0})}}]),angular.module("learnginBoardApp").controller("NotficationsCtrl",["$scope","$state","$stateParams","socketService","learningBoardServiceFactory",function(a,b,c,d,e){var f=this;this.scope=a,this.numUnreadNotifs=0,this.totalNotifs=0,this.currentNotifs=[],a.smallLoader=loaderSmall,this.numUnreadMessages=0,this.totalMessages=0,this.currentMessages=[];var g=function(a){for(var b=[],c=0;c<a.length;c++)!a[c].user&&b.indexOf(a[c].userId)<0&&b.push(a[c].userId);b.length<1||e.getUserInfo(b).then(function(b){for(var c=0;c<a.length;c++)a[c].user||(a[c].user=b[a[c].userId])})};a.fetchNext=function(){a.store&&a.store.fetchNotifications()},a.announcement=b.params.announcement,d.connect.then(function(){f.totalNotifs=d.store.totalNotifs,f.currentNotifs=d.store.currentNotifs,a.store=d.store}),d.connect.then(function(){d.getPMNotifications(0,50,null,null,function(a){f.currentMessages=[],f.numUnreadMessages=a.unread?a.unread:0;for(var b=0;b<a.hits.length;b++){var c=a.hits[b];try{c.customData=JSON.parse(c.customData);var d={};d.company=cname,d.recv=c.customData.learnerId,d.sourceId=c.customData.sourceId,d.textMsg=c.alert,d.timestamp=c.createdAt,d.type=c.subType,d.id=c.id,d.userId=c.customData.sourceId,d.notificationState=c.notificationState,"UNREAD"!=c.notificationState||a.unread||f.numUnreadMessages++,f.currentMessages.push(d)}catch(e){}}f.totalMessages=a.total,g(f.currentMessages)})}),d.registerNotifCallback(function(a){"PRIVATE_MESSAGE"==a.type?(f.numUnreadMessages++,f.currentMessages.unshift(a),f.totalMessages++):(f.currentNotifs.unshift(a),f.numUnreadNotifs++,f.totalNotifs++),g(f.currentMessages)}),this.markAllNotifsRead=function(){for(var a=[],b=0;b<this.currentNotifs.length;b++)"UNREAD"==this.currentNotifs[b].status&&(a.push(this.currentNotifs[b].id),this.currentNotifs[b].status="READ");a.length>0&&d.markQNANotifsRead(a)&&(f.numUnreadNotifs=0)},this.markAllNotifsSeen=function(){var b=this;return a.store?void(a.store.numUnseenNotifs>0&&a.store.resetUnseenNotificationCount()):void setTimeout(function(){b.markAllNotifsSeen()},500)},this.markAllMessagesRead=function(){for(var a=[],b=0;b<this.currentMessages.length;b++)"UNREAD"==this.currentMessages[b].notificationState&&(a.push(this.currentMessages[b].id),this.currentMessages[b].notificationState="READ",f.numUnreadMessages--);a.length>0&&d.markPMNotifsRead(a)&&(f.numUnreadMessages=0)}}]),angular.module("learnginBoardApp").directive("notification",function(){return{replace:!0,restrict:"A",scope:!0,templateUrl:templateBaseUrl+"/dashboard/notifications/notification.html",link:function(a,b,c){$(b).click(function(a){a.stopPropagation()})}}}).directive("announcementDetail",function(){return{replace:!0,restrict:"A",scope:!0,templateUrl:templateBaseUrl+"/dashboard/notifications/announcement-detail.html",link:function(a,b,c){a.id=c.id,a.announcementObj=a.store.notificationById[a.id],$(b).click(function(a){a.stopPropagation()})}}}).directive("notificationType",["notificationTypes",function(a){return{replace:!0,restrict:"A",link:function(b,c,d){b.notifPanel=d.notifPanel;var e=a[b.notification.type][b.notification.subType];return e?(b.clickAction=function(){b.globalCtrl.hideNotifications(),e.action.apply(null,arguments)},void(b.contentUrl=templateBaseUrl+"/dashboard/notifications/"+e.directive+".html")):""},scope:!0,template:"<div ng-include='contentUrl'></div>"}}]).directive("entityTypeIcon",["notificationTypes",function(a){return{replace:!0,restrict:"E",scope:{entityType:"=entityType",extraStyles:"=extraStyles"},link:function(a,b,c){a.style={display:"inline-block",verticalAlign:"middle",marginTop:"SERIES"===a.entityType?"-3px":"-4px"},a.style=_.extend({},a.style,a.extraStyles||{})},template:'<span><span ng-if="entityType === \'COURSE\'" class="cBG_L entity_sml borderR2 marginL5"ng-style="style">C</span><span ng-if="entityType === \'UPDATE\'" class="qBG_L entity_sml borderR2 marginL5"ng-style="style">Q</span><span ng-if="entityType === \'MISSION\'" class="mBG_L entity_sml borderR2 marginL5"ng-style="style">M</span><span ng-if="entityType === \'ASSESSMENT\'" class="aBG_L entity_sml borderR2 marginL5"ng-style="style">A</span><span ng-if="entityType === \'SERIES\'" class="icon-seriesOld F14 marginL5" ng-style="style"></span><span ng-if="entityType === \'COACHING\' || entityType === \'ONE_TO_ONE_COACHING\' || entity.type==\'PERFORMANCE_EVALUATION_COACHING\' " class="sBG_L entity_sml borderR2 marginL5"\nng-style="style">S</span><span ng-if="entityType === \'ILT\'" class="iltBG entity_sml borderR2 marginL5"\nng-style="style">I</span><span ng-if="entityType === \'CHECKLIST\'" class="clBG_L entity_sml borderR2 marginL5"\nng-style="style">L</span><span ng-if="entityType === \'REINFORCEMENT\'" class="qBG_L entity_sml borderR2 marginL5"ng-style="style">S</span></span>'}}]).directive("entityMessage",["notificationTypes",function(a){return{replace:!0,restrict:"E",scope:{entityType:"=",extraStyles:"=",name:"=",hasSeries:"="},link:function(a,b,c){},template:""}}]).directive("notifDropDown",["notificationTypes",function(a){return{replace:!0,restrict:"A",scope:!0,link:function(a,b,c){},template:'        <div class="ff_opanSans cmn_dd pos_rel" style="right:0px;top:11px;z-index:11" ng-if="activeMenu==2">\n\t\t \t<div class="pos_abs" style="width:605px;right:0">\n            \t<!--  div class="triangleTop_28_14 pos_abs" style="right: -4px;top:-2px;z-index:1;"></div-->\n            \t<div style="max-width:595px;right: -35px;top: 10px;width:auto"\n               \tclass="ddBG pos_abs newBoxShadow1 custRow notifDropdown">\n\t\t\t\t\t<div class="color00 F13 lineHeight20 borderB_dd" style="padding:7px 15px;">\n                        <div translate="NOTIFS" translate-value-num_1="{{notifCtrl.numUnreadNotifs}}">\n                        </div>\n                   </div>\n                \t<ul class="notifListParent" style="margin:0;padding:0;max-height:400px;overflow-y:auto;"\n                    \tinfinite-scroll="fetchNext()"\n                    \tinfinite-scroll-distance="2"\n                    \tinfinite-scroll-disabled="!store || store.loading || store.currentNotifs.length >= store.totalNotifs"\n                    \tinfinite-scroll-container="\'.notifDropdown\'">\n                    \t<li ng-show="store && !store.loading && store.currentNotifs.length === 0" class="hover_f9 color00 F13 lineHeight18">\n                        \t<div class="cursor_d" translate="NO_NOTIFS"></div>\n                    \t</li>\n                    \t<div class="notifList" style="border-bottom:0;padding:0 8px !important" notification ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }"                        \tng-repeat="notification in notifCtrl.currentNotifs" style="padding:0 !important"></div>\n                    \t<div class="notifList" style="border-bottom:0;padding:0 8px !important" notification ng-if="!store || store.loading"\n                         \tng-init="notification={type: \'LOADING\', subType: \'ANIMATED_LOADER\'}" style="padding:0 !important">\n                    \t</div>\n                \t</ul>\n                \t<div ng-click=\'globalCtrl.trackNotificationPage();globalCtrl.hideNotifications();$event.stopPropagation()\' ng-hide="store && !store.loading && store.currentNotifs.length === 0" class="textalign_C color0072bc F14 borderT_dd"\n                     \tstyle="float: left;background: #fff;width: 100%;line-height: 35px;"\n                     \tui-sref="root.notifications" mt-trans=\'TXT_SEE_ALL\'> See All </div>\n            \t</div>\n\t\t\t</div>\n        </div>'}}]),angular.module("learnginBoardApp").factory("notificationTypes",["$state",function(a){var b=function(b,c,d,e){b.stopPropagation(),a.go("root.courses.series",{series:e},{notify:!0,reload:!0}),c.markAsRead(d.id,d);var f={};f["Content Type"]="Series",f["Notification Type"]="INVITATION",f["Content ID"]=d.seriesId,Game.MixPanelTracking.track("Click Notification Type",f),Game.SegmentTracking.track("notification_type_clicked",{notification_type:"INVITATION",notification_subtype:d.subType,notification_id:d.id,content_type:"Series",content_id:d.seriesId})},c=function(b,c,d,e){b.stopPropagation(),"REINFORCEMENT"===d.customData.entityType?location.href="/ui/reinforcement/learner/"+reinforcementDefaultSeries.id+"/"+d.entityId:a.go("root.courses.gamelanuch",{entityId:e}),c.markAsRead(d.id,d);var f={};f["Content Type"]=d.customData?d.customData.entityType:"NA",f["Notification Type"]=d.type,f["Notification Sub Type"]=d.subType,f["Content ID"]=d.entityId,Game.MixPanelTracking.track("Click Notification Type",f),Game.SegmentTracking.track("notification_type_clicked",{notification_type:d.type,notification_subtype:d.subType,notification_id:d.id,content_type:d.customData?d.customData.entityType:"NA",content_id:d.entityId})},d=function(a,b,c){var d=b.users[c.customData.senderId],e=encodeURI("Coaching Session Scheduled: "+c.alert.split(" | ")[1]+", "+(d.name|d.email)),f=encodeURI(""),g=new Date(1e3*c.customData.startTime),h=new Date(1e3*c.customData.endTime),i=Utils.Func.generateAddToCalenderLinks(e,f,d.email,g,h,c.allDay?"ALL_DAY":"NOT_ALL_DAY",g.getHours(),g.getMinutes(),h.getHours(),h.getMinutes());Dashboard.NotifBox.showAddToCalendar({gCalUrl:i.googleLink,msCalUrl:i.msLink},function(){console.log("asdkjlassjd")}),a.stopPropagation(),b.markAsRead(c.id,c)},e={VOICE_OVER_PPT_COACHING:9,VIDEO_PITCH_COACHING:10,TASK_EVALUATION_COACHING:11,SCREEN_CAPTURE_COACHING:12,ONE_TO_ONE_COACHING:13,PERFORMANCE_EVALUATION_COACHING:15},f=function(b,c,d,f,g,h){b.stopPropagation(),"MISSION"===h?a.go("root.reviews.missions"):("COACHING"===h&&(f=bigInt(f).add(1)),window.location.href="/ui/coaching/"+(e[h]||13)+"/review/"+f+"/"+g+"/sessions"),c.markAsRead(d.id,d);var i={};i["Content Type"]=h,i["Notification Type"]=d.type,i["Notification Sub Type"]=d.subType,i["Content ID"]=d.entityId,Game.MixPanelTracking.track("Click Notification Type",i),Game.SegmentTracking.track("notification_type_clicked",{notification_type:d.type,notification_subtype:d.subType,notification_id:d.id,content_type:h,content_id:d.entityId})},g=function(b,c,d,e,f){b.stopPropagation(),a.go("root.discussions.answers",{questionId:e,type:"all",geid:f}),c.markAsRead(d.id,d);var g={};g["Content Type"]="Discussion",g["Notification Type"]=d.type,g["Notification Sub Type"]=d.subType,g["Content ID"]=d.entityId,Game.MixPanelTracking.track("Click Notification Type",g),Game.SegmentTracking.track("notification_type_clicked",{notification_type:d.type,notification_subtype:d.subType,notification_id:d.id,content_type:"Discussion",content_id:d.entityId})},h=function(b,c,d,e,f){b.stopPropagation(),e?a.go("root.courses.gamelanuch",{entityId:e}):a.go("root.courses.series",{series:f,state:"incomplete"},{notify:!0,reload:!0}),c.markAsRead(d.id,d);var g={};g["Content Type"]="Series",g["Notification Type"]=d.type,g["Notification Sub Type"]=d.subType,g["Content ID"]=d.seriesId,Game.MixPanelTracking.track("Click Notification Type",g),Game.SegmentTracking.track("notification_type_clicked",{notification_type:d.type,notification_subtype:d.subType,notification_id:d.id,content_type:"Series",content_id:d.seriesId})},i=function(a,b,c){return c.seriesId&&!a.seriesIds[c.seriesId]&&b.seriesIds.push(c.seriesId),b},j=function(a,b,c){return c.entityId&&!a.entityIds[c.entityId]&&b.entityIds.push(c.entityId),b},k={LOADING:{ANIMATED_LOADER:{type:"LOADER",directive:"notification-loader"}},INVITATION:{ENTITY_INVITATION:{type:"INVITATION",name:"notificationInvitation",directive:"notification-entity-invitation",action:c,parse:function(a,b,c){return b=j(a,b,c),i(a,b,c)}},REVIEW_ASSIGNMENT:{type:"INVITATION_REVIEW",name:"notificationInvitationReview",directive:"notification-invitation-review",action:f,parse:function(a,b,c){return b=j(a,b,c),i(a,b,c)}},SERIES_INVITATION:{type:"INVITATION_REVIEW",name:"notificationInvitationReview",directive:"notification-series-invitation",action:b,parse:function(a,b,c){return i(a,b,c)}},BULK_MODULE_INVITATION:{type:"INVITATION",name:"notificationInvitation",directive:"notification-invitation-bulk",action:h,parse:function(a,b,c){return c.entityId||(c.entityId=[]),c.getEntityIds=function(){return c.entityId.indexOf("Request")!==-1?a.dataEnrichmentRequestObject.reminderEntities[c.seriesId]:c.entityIds},c.getEntity=function(a,b){return c.getFromStore?a.entityIds[b]:b},c.entityId.indexOf("Request")===-1||a.dataEnrichmentRequestObject.reminderEntities[c.seriesId]?(c.entityId&&!a.entityIds[c.entityId]&&(b.entityIds=b.entityIds.concat(c.entityId.split(","))),c.entityIds=c.entityId.split(","),c.getFromStore=!0):b.reminderEntities[c.seriesId]=c.entityId,i(a,b,c)}}},UNLOCK:{ENTITY_UNLOCK:{type:"UNLOCK",name:"notificationEntityUnlock",directive:"notification-entity-unlock",action:c,parse:function(a,b,c){return c.entityId&&!a.entityIds[c.entityId]&&b.entityIds.push(c.entityId),i(a,b,c)}}},REVIEW:{REVIEW_RECIEVED:{type:"REVIEW",name:"notificationReviewRecieved",directive:"notification-review-recieved",action:c},REVIEW_COMPLETED:{type:"REVIEW",name:"notificationReviewCompleted",directive:"notification-review-completed",action:c},REVIEW_EDITED:{type:"REVIEW",name:"notificationReviewEdited",directive:"notification-review-edited",action:c}},QNA:{ANSWER_ON_Q:{type:"DISCUSSION",name:"notificationRepliedToQuestion",directive:"notification-replied-to-question",parse:function(a,b,c){return c.customData.learnerId&&!a.users[c.customData.learnerId]&&b.users.push(c.customData.learnerId),a.getQuestion(c.entityId,c.customData.sourceId),b},action:g},DISCUSSION_TAGGED_IN_QNS:{type:"DISCUSSION",name:"notificationTaggedYouInQuestion",directive:"notification-tagged-you-in-question",action:g},DISCUSSION_TAGGED_IN_REPLY:{type:"DISCUSSION",name:"notificationTaggedYouInReply",directive:"notification-tagged-you-in-reply",action:g},LIKE_Q:{type:"DISCUSSION",name:"notificationLikeYourQuestion",directive:"notification-like-your-question",parse:function(a,b,c){return c.customData.learnerId&&!a.users[c.customData.learnerId]&&b.users.push(c.customData.learnerId),a.getQuestion(c.entityId,c.customData.sourceId),b},action:g},LIKE_ANS:{type:"DISCUSSION",name:"notificationLikeYourReply",directive:"notification-like-your-reply",parse:function(a,b,c){return c.customData.learnerId&&!a.users[c.customData.learnerId]&&b.users.push(c.customData.learnerId),a.getAnswer(c.entityId,c.customData.quesId),b},action:g}},ANNOUNCEMENT:{BROADCAST_ANNOUNCEMENT:{type:"ANNOUNCEMENT",name:"notificationAnnouncement",directive:"notification-announcement",action:function(b,c,d){b.stopPropagation(),a.go("root.notifications",{announcement:d.id},{reload:!0}),c.markAsRead(d.id,d);var e={};e["Content Type"]="Announcement",e["Notification Type"]=d.type,e["Notification Sub Type"]=d.subType,e["Content ID"]=d.id,Game.MixPanelTracking.track("Click Notification Type",e),Game.SegmentTracking.track("notification_type_clicked",{notification_type:d.type,notification_subtype:d.subType,notification_id:d.id,content_type:"Announcement",content_id:d.id})}}},CUSTOMINFORMATION:{BROADCAST_CUSTOMINFORMATION:{type:"CUSTOMINFORMATION",name:"notificationCustomInformation",directive:"notification-custom-information"}},RECOMMENDED:{SERIES_RECOMMENDED:{type:"RECOMMENDED",name:"notificationSeriesRecommended",directive:"notification-series-recommended",action:b,parse:function(a,b,c){return c.customData.learnerId&&!a.users[c.customData.learnerId]&&b.users.push(c.customData.learnerId),i(a,b,c)}},ENTITY_RECOMMENDED:{type:"RECOMMENDED",name:"notificationEntityRecommended",directive:"notification-entity-recommended",action:c}},COMPLETED:{SERIES_COMPLETED:{type:"COMPLETED",name:"notificationSeriesCompleted",directive:"notification-series-completed",action:b},ENTITY_COMPLETED:{type:"COMPLETED",name:"notificationEntityCompleted",directive:"notification-entity-completed",action:c},ENTITY_MARKED_COMPLETE:{type:"COMPLETED",name:"notificationEntityCompletedByAdmin",directive:"notification-entity-marked-complete",action:c}},REMINDER:{ENTITY_REMINDER:{type:"REMINDER",name:"notificationReminder",directive:"notification-entity-reminder",action:c,parse:function(a,b,c){return b=j(a,b,c),i(a,b,c)}},EXPIRY_REMINDER:{type:"REMINDER",name:"notificationReminder",directive:"notification-reminder-expiry",action:c},CLUBBED_REMINDER:{type:"REMINDER",name:"notificationReminder",directive:"notification-reminder-clubbed",action:h,parse:function(a,b,c){return c.getEntityIds=function(){return c.entityId.indexOf("Request")!==-1?a.dataEnrichmentRequestObject.reminderEntities[c.seriesId]:c.entityIds},c.getEntity=function(a,b){return c.getFromStore?a.entityIds[b]:b},c.entityId.indexOf("Request")===-1||a.dataEnrichmentRequestObject.reminderEntities[c.seriesId]?(c.entityId&&!a.entityIds[c.entityId]&&(b.entityIds=b.entityIds.concat(c.entityId.split(","))),c.entityIds=c.entityId.split(","),c.getFromStore=!0):b.reminderEntities[c.seriesId]=c.entityId,i(a,b,c)}},REVIEW_REMINDER:{type:"INVITATION_REVIEW",name:"notificationInvitationReview",directive:"notification-invitation-review",action:f,parse:function(a,b,c){return b=j(a,b,c),i(a,b,c)}}},SCHEDULE:{COACHING_SCHEDULE:{type:"SCHEDULE",name:"notificationCoachingSchedule",directive:"notification-coaching-schedule",action:d,parse:function(a,b,c){return c.scheduleTime=a.parseTime(c.customData.startTime,c.customData.endTime),c.allDay=c.customData.endTime-c.customData.startTime===86400,c.customData.senderId&&!a.users[c.customData.senderId]&&b.users.push(c.customData.senderId),b=j(a,b,c)}},COACHING_RESCHEDULE:{type:"SCHEDULE",name:"notificationCoachingReschedule",directive:"notification-coaching-reschedule",action:d},COACHING_REVIEW_COMPLETED:{type:"SCHEDULE",name:"notificationCoachingReviewCompleted",directive:"notification-coaching-review-completed",action:c},COACHING_REVIEW_EDITED:{type:"SCHEDULE",name:"notificationCoachingReviewEdited",directive:"notification-coaching-review-edited",action:c}},FEEDBACK:{REVIEWER_SUBMIT_FEEDBACK:{type:"FEEDBACK",name:"notificationFeedback",directive:"notification-feedback-reviewer-submit",action:c,parse:function(a,b,c){return j(a,b,c)}},REVIEWER_EDIT_FEEDBACK:{type:"FEEDBACK",name:"notificationFeedback",directive:"notification-feedback-reviewer-edit",action:c,parse:function(a,b,c){return b=j(a,b,c),i(a,b,c)}},LEARNER_APPROVE_FEEDBACK:{type:"FEEDBACK",name:"notificationFeedback",directive:"notification-learner-review-approved",action:f,parse:function(a,b,c){return j(a,b,c)}},LEARNER_DISAPPROVE_FEEDBACK:{type:"FEEDBACK",name:"notificationFeedback",directive:"notification-learner-review-disapproved",action:f,parse:function(a,b,c){return j(a,b,c)}},LEARNER_SUBMISSION_FEEDBACK:{type:"LEARNERASREVIEWER",name:"notificationLearnerMissionReviewAssign",directive:"notification-learner-mission-review-assign",action:f,parse:function(a,b,c){return j(a,b,c)}}},LEARNERASREVIEWER:{MISSION_REVIEW_ASSIGNED:{type:"LEARNERASREVIEWER",name:"notificationLearnerMissionReviewAssign",directive:"notification-learner-mission-review-assign",action:f,parse:function(a,b,c){return j(a,b,c)}},COACHING_REVIEW:{type:"LEARNERASREVIEWER",name:"notificationLearnerCoachingAssign",directive:"notification-learner-coaching-assign",action:f},REVIEW_APPROVED:{type:"LEARNERASREVIEWER",name:"notificationLearnerReviewApproved",directive:"notification-learner-review-approved"},REVIEW_DISAPPROVED:{type:"LEARNERASREVIEWER",name:"notificationLearnerReviewDisapproved",directive:"notification-learner-review-disapproved"},RESET_MISSION:{type:"LEARNERASREVIEWER",name:"notificationLearnerResetMission",directive:"notification-learner-reset-mission",action:c,parse:function(a,b,c){return j(a,b,c)}}},SILENT:{DELETE_NOTIFICATION_SILENT:{type:"SILENT",name:"notificationSilent",directive:"notification-silent-delete"},SCHEDULE_EVENT_SILENT:{type:"SILENT",name:"notificationSilent",directive:"notification-silent-schedule"}},MARKEDINCOMPLETE:{MARKEDINCOMPLETE_CHECKLIST:{type:"MARKEDINCOMPLETE",name:"notificationTaskMarkIncomplete",directive:"notification-task-mark-incomplete",action:c}},MARKEDCOMPLETE:{MARKEDCOMPLETE_CHECKLIST:{type:"MARKEDCOMPLETE",name:"notificationTaskMarkComplete",directive:"notification-task-mark-complete",action:c}},SCORERESET:{SCORERESET_CHECKLIST:{type:"SCORERESET",name:"notificationScoreReset",directive:"notification-score-reset",action:c}},UPDATE:{SERIES_RENAME:{type:"UPDATE",name:"notificationSeriesRename",directive:"notification-series-rename",action:b},SERIES_DELETED:{type:"UPDATE",name:"notificationSeriesDeleted",directive:"notification-series-deleted"},ENTITY_RENAME:{type:"UPDATE",name:"notificationEntityRename",directive:"notification-entity-rename",action:c},ENTITY_DELETED:{type:"UPDATE",name:"notificationEntityDeleted",directive:"notification-entity-deleted"},ENTITY_MOVE:{type:"UPDATE",name:"notificationEntityMove",directive:"notification-entity-move",action:c},ENTITY_UPDATE:{type:"UPDATE",name:"notificationEntityUpdate",directive:"notification-entity-update",action:c,parse:function(a,b,c){return b=j(a,b,c),i(a,b,c)}}}};return k}]).factory("socketService",["$q","notificationTypes","learningBoardServiceFactory","$state","$resource",function(a,b,c,d,e){var f=null,g=10;if(appSettings&&appSettings.qnaUrl)f=io(appSettings.qnaUrl);else{var h=function(){};f={on:h,emit:h}}var i=!1,j=null,k=a.defer(),l=a.defer(),m=new Date;m.setHours(0),m.setMinutes(0);var n=Math.floor(m.getTime()/1e3);m.setDate(m.getDate()+1);var o=Math.floor(m.getTime()/1e3);m.setDate(m.getDate()+1);Math.floor(m.getTime()/1e3);m.setDate(m.getDate()-3);var p=Math.floor(m.getTime()/1e3);m=new Date;var q=e("/",{},{enrichData:{url:"/notification_syntax_data",method:"POST"}}),r=86400,s=function(a){if(a>n&&a<o)return Game.Messages.TODAY;if(a>p&&a<n)return Game.Messages.YESTERDAY;var b=new Date(1e3*a).getFullYear(),c=m.getFullYear()-b>0,d=Utils.Func.getNiceDate2(a)+(c?", "+b:"");return d},t={populateData:function(a){var b=q.enrichData(a);return b.$promise},numUnreadNotifs:0,users:{},entityIds:{},seriesIds:{},notificationById:{},questions:{},answers:{},connected:!1,dataEnrichmentRequestObject:{users:[],entityIds:[],seriesIds:[],reminderEntities:{}},markAsRead:function(a,b){b.notificationState="READ",f.emit("markQNANotifsRead",[a]),this.numUnreadNotifs>0&&(this.numUnreadNotifs-=1)},markAllRead:function(){Game.MixPanelTracking.track("Mark All Read",{}),Game.SegmentTracking.track("notification_mark_all_read_clicked",{}),f.emit("markAllNotifsRead",function(){for(var a=0;a<this.currentNotifs.length;a++)this.currentNotifs[a].notificationState="READ";this.numUnreadNotifs>0&&(this.numUnreadNotifs=0)}.bind(this))},getQuestion:function(a,b){f.emit("getQuestions",{entityId:a,type:"ALL_ACTIVITY",quesId:[b]},function(a){this.questions[b]=a.questions[0]}.bind(this))},getAnswer:function(a,b){f.emit("getAnswers",{entityId:a,id:b},function(a){for(var b=0;b<a.total;b++)this.answers[a.answers[b].id]=a.answers[b]}.bind(this))},parseTime:function(a,b){var c=s(a);if(b&&b-a===r)return c;var d=Utils.Func.getTimeString(a);return c+", "+d},callNotification:function(a,b,c,d,e,g){return i?void f.emit(a,b,c,d,e,g):void(j=this.callNotification.bind(this,a,b,c,d,e,g))},recurrentNotificationFetch:function(){this.fetchNotifications(Math.floor(this.lastFetchTime/1e3),Math.floor(Date.now()/1e3),!0)},fetchNotifications:function(a,b,c){this.loading||(this.loading=!0,this.lastFetchTime=Date.now(),this.callNotification("loadQNAnotifs",c?0:this.start,g,a?a:null,b?b:null,function(a){this.processNotifications(a,c)}.bind(this)))},getUnseenNotifCount:function(){f.emit("getUnseenNotificationCount",function(a){this.numUnseenNotifs=a,console.log(a)}.bind(this))},resetUnseenNotificationCount:function(){f.emit("resetUnseenNotificationCount",function(a){this.numUnseenNotifs=0,console.log(a)}.bind(this))},processNotifications:function(a,b){function c(a,b,c){return c.indexOf(a)===b}for(var d=[],e=0;e<a.hits.length;e++)("BULK_MODULE_INVITATION"!==a.hits[e].subType||a.hits[e].entityId)&&d.push(a.hits[e]);a.hits=d,this.start+=a.hits.length,this.currentNotifs=this.currentNotifs||[],b&&a.hits.reverse();for(var f={users:[],entityIds:[],seriesIds:[],reminderEntities:{}},e=0;e<a.hits.length;e++){var g=this.parseNotification(a.hits[e],b,f);a.hits[e]=g.notification,f=g.reqObject}f.users=f.users.filter(c);var h=[];f.entityIds.forEach(function(a){h=h.concat(a.split(","))}),f.entityIds=h.filter(c),f.seriesIds=f.seriesIds.filter(c),this.totalNotifs=a.totalHits;var i=this.populateData(f);return i.then(function(c){_.extend(this.users,c.users),_.extend(this.seriesIds,c.seriesIds),_.extend(this.entityIds,c.entityIds),_.extend(this.dataEnrichmentRequestObject.reminderEntities,c.reminderEntities);for(var d=0;d<a.hits.length;d++)this.pushNotification(a.hits[d],b);this.loading=!1,l.resolve()}.bind(this)),i},pushNotification:function(a,b){b?this.currentNotifs.unshift(a):this.currentNotifs.push(a),this.pushTimewiseNotification(a,b)},parseNotification:function(a,c,d){a.customData&&(a.customData=JSON.parse(a.customData),a.customData.entityType&&("COURSE"===a.customData.entityType?a.customData.entityTypeDisplay=Game.Messages.LB_TXT_COURSE:"UPDATE"===a.customData.entityType?a.customData.entityTypeDisplay=Game.Messages.TXT_QUICK_UPDATE:["MISSION","SCREEN_CAPTURE_COACHING","TASK_EVALUATION_COACHING","VIDEO_PITCH_COACHING","VOICE_OVER_PPT_COACHING"].indexOf(a.customData.entityType)>-1?(a.entityId=a.entityId.split(",")[0],a.customData.entityTypeDisplay=Game.Messages.LB_TXT_MISSION):"ASSESSMENT"===a.customData.entityType?a.customData.entityTypeDisplay=Game.Messages.LB_TXT_ASSESSMENT:["ONE_TO_ONE_COACHING","COACHING","PERFORMANCE_EVALUATION_COACHING"].indexOf(a.customData.entityType)>-1?a.customData.entityTypeDisplay=Game.Messages.LB_TXT_COACHING:"CHECKLIST"===a.customData.entityType?a.customData.entityTypeDisplay=Game.Messages.LB_TXT_CHECKLIST:"REINFORCEMENT"===a.customData.entityType?a.customData.entityTypeDisplay=Game.Messages.LB_TXT_REINFORCEMENT:a.customData.entityTypeDisplay=a.customData.entityType.substr(0,1).toUpperCase()+a.customData.entityType.substr(1).toLowerCase(),a.customData.learnerId&&(d.users.push(a.customData.learnerId),a.learnerId=a.customData.learnerId))),"REVIEW_REMINDER"==a.subType&&(a.isReminder=!0),this.notificationById[a.id]=a;var e=b[a.type][a.subType];return e&&e.parse&&(d=e.parse(this,d,a)),a.createdAtString=this.parseTime(a.createdAt),{notification:a,reqObject:d}},pushTimewiseNotification:function(a,b){var c=s(a.createdAt),d=this.timewiseDividedNotifs[c]=this.timewiseDividedNotifs[c]||[];b?d.unshift(a):d.push(a);var e=this.timewiseDividedNotifs.sequences;0!==e.length&&e[e.length-1]===c||e.push(c)},currentNotifs:[],timewiseDividedNotifs:{sequences:[]},currentMessages:[],start:0,totalNotifs:0,loading:!1};f.on("connect",function(){if(f.connected){if(t.connected)return void Game.MixPanelTracking.track("Socket multiple connection event",{UserId:learnerJson.id});t.connected=!0;var a="";$.ajax({type:"GET",url:"/socket-token",success:function(b,c,d){a=b.code;var e={};e["Authorization Type"]="authorize",e.Company=cname,e.UserId=learnerJson.id,e.Token=a,e["Request-Id"]=d.getResponseHeader("x-request-id"),Game.MixPanelTracking.track("Socket Token Verification Type",e),f.emit("authorize",cname,learnerJson.id,a)},error:function(a){var b={};b["Authorization Type"]="mtauth",b.Company=cname,b.UserId=learnerJson.id,b.SessionId=appSettings.sessionId,b["Request-Id"]=a.getResponseHeader("x-request-id"),Game.MixPanelTracking.track("Socket Token Verification Type",b),f.emit("mtauth",cname,learnerJson.id,appSettings.sessionId)}})}}),f.on("authorized",function(a){i=a;var b={};b.Company=cname,b.UserId=learnerJson.id,b.result=a,Game.MixPanelTracking.track("Socket authorized",b),a&&k.resolve(),i&&j&&j(),i&&t.getUnseenNotifCount()}),k.promise.then(function(){t.fetchNotifications()}),f.on("disconnect",function(){i=!1});var u=function(a,b,c,d){return i?void f.emit("getQuestions",{entityId:a,type:"ALL_ACTIVITY",from:b,size:c},d):void(j=u.bind(this,b,c,d))},v=function(a,b,c,d){return i?void f.emit("getQuestions",{entityId:a,type:"MY_ACTIVITY",from:b,size:c},d):void(j=v.bind(this,b,c,d))},w=function(a,b,c,d,e){return i?void f.emit("getQuestions",{entityId:a,
type:"TOPIC_ACTIVITY",from:c,size:d,topicId:b},e):void(j=w.bind(this,b,c,d,e))},x=function(a,b,c){return i?void f.emit("getQuestions",{entityId:a,type:"ALL_ACTIVITY",quesId:[b]},c):void(j=x.bind(this,a,b,c))},y=function(a,b,c,d,e){return i?void f.emit("getAnswers",{entityId:a,id:b,from:c,size:d},e):void(j=y.bind(this,b,c,d,e))},z=function(a,b,c){i&&f.emit("postQuestion",a,b,c)},A=function(a,b,c){i&&f.emit("postAnswer",a,b,c)},B=function(a,b,c){i&&f.emit("postQuestionAction",a,b,c)},C=function(a,b,c){i&&f.emit("postAnswerAction",a,b,c)},D=function(a,b){B(a,{quesId:b,action:"VOTE_UP"})},E=function(a,b){B(a,{quesId:b,action:"UNDO_VOTE_UP"})},F=function(a,b,c){C(a,{ansId:c,quesId:b,action:"VOTE_UP"})},G=function(a,b,c){C(a,{ansId:c,quesId:b,action:"UNDO_VOTE_UP"})},H=function(a,b){B(a,{quesId:b,action:"DELETE"})},I=function(a,b,c){C(a,{ansId:c,quesId:b,action:"DELETE"})},J=function(a,b){return i?void f.emit("sendPrivateMessage","NA",{receiver:a,message:b}):void(j=J.bind(this,a,b))},K=function(a,b,c,d,e,g){return i?void f.emit(a,b,c,d,e,g):void(j=K.bind(this,b,c,d,e,g))},L=null,M=function(a){L=a},N=function(a,b){return!!i&&(f.emit(a,b),!0)},O=function(a,b,c){f.emit("listenNewsfeeds",a,b),f.on("newsfeed",c)},P=function(){f.emit("stoplisteningNewsfeeds"),f.off("newsfeed")};return f.on("new.notif",function(a){t.getUnseenNotifCount(),t.recurrentNotificationFetch(),L&&L(a)}),f.on("update.aicc.score",function(a){eventManager.trigger("update.aicc.score",a)}),{connect:l.promise,getAllQuestions:u,getMyQuestions:v,getTopicQuestions:w,getQuestion:x,getAnsweres:y,postQuestion:z,postAnswer:A,likeQuestion:D,unlikeQuestion:E,likeAnswer:F,unlikeAnswer:G,deleteQuestion:H,deleteAnswer:I,sendPrivateMessage:J,listenToNewsfeeds:O,stoplisteningNewsfeeds:P,store:t,getQNANotifications:K.bind(this,"loadQNAnotifs"),getPMNotifications:K.bind(this,"loadPMnotifs"),registerNotifCallback:M,markQNANotifsRead:N.bind(this,"markQNANotifsRead"),markPMNotifsRead:N.bind(this,"markPMNotifsRead")}}]),angular.module("mtTranslate",["pascalprecht.translate"]).config(["$translateProvider",function(a){a.translations(locale,Game.Messages),a.preferredLanguage(locale)}]).factory("htmlInterpolation",["$interpolate",function(a){var b;return{setLocale:function(a){b=a},getInterpolationIdentifier:function(){return"html"},interpolate:function(b,c){return a(b)(c)}}}]).directive("mtTrans",["$translate","$parse",function(a,b){return{replace:!0,restrict:"EA",compile:function(c,d){var e=d.mtTrans;return function(c,d,f){c.interpolateParams={};var g=b(f.mtTransEvt),h=function(){a(e,c.interpolateParams).then(function(a){a=a.replace("<<",'<span class="color0072bc cursor">').replace(">>","</span>"),d.html(a).find("span").unbind().bind("click",function(){g(c)})})},i=function(a){f.$observe(a,function(b){c.interpolateParams[angular.lowercase(a.substr(10,1))+a.substr(11)]=b,h()})};for(var j in f)Object.prototype.hasOwnProperty.call(f,j)&&"mtTransVal"===j.substr(0,10)&&i(j);h(),c.$watch("interpolateParams",h)}}}}]),angular.module("learnginBoardApp").run(["$templateCache",function(a){"use strict";a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/alert-dialog.html",'<div class="bg_ff pos_rel notPlayed_popUp">\n    <div style="padding:20px 45px">\n\t    <div style="border-top:40px solid transparent;">\n\t\t    <div ng-click="closeMe()" style="top:13px;right:13px" class="crossIcon_12_12 pos_abs closePopup"></div>\n\t        <div class="textalign_C F14 color36 lineHeight24" style="width:395">{{message}}</div>\n\t\t\t<div class="paddingT45">\n\t\t\t    <div style="left:50%" class="floatL pos_rel">\n\t\t\t\t    <div style="left:-50%" class="floatL pos_rel">\n\t\t\t\t\t    <div ng-click="closeMe()" class="blueBg_Btn_30 F13 paddingL30 paddingR30">Ok</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/angular-crocodoc-display.html",'<iframe src-data="{{getTrustedUrl(crocoDocUrl)}}" class="marginB10" style="width:640px;height:330px;"></iframe>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/browser-header.html",'<div class="col-md-12 paddingT18" id="browserTop_Header">\n\t<div class="col-md-4 lineHeight32 paddingL5 paddingR5">\n\t\t<div ng-if="showLSHomeImg()" class="floatL marginR8">\n\t\t\t<img ng-src="{{getLSHomeImg()}}" style="max-width:auto;max-height: 32px;">\n\t\t</div>\n\t\t<div class="floatL color00 F18 lsName cursor" ng-click="showCourses()"></div>\n\t\t<div class="clear"></div>\n\t</div>\n\t<div class="col-md-8 paddingL5 paddingR5">\n\n\t\t<div class="floatR topRightMenu">\n\t\t\t<div ng-if="userIsManager" ng-click="goToManagerAnalytics()" class="floatL lineHeight28 F13 marginT3 cursor buttonLearningSiteStyle" style="border-radius: 16px;color: #0072bc;border: 1px solid rgb(0, 114, 188);padding: 0 10px;">\n\t\t\t\t<div>Your Team\'s Report</div>\n\t\t\t</div>\n\t\t\t<div ng-show="1==2" class="floatL displayInflex pos_rel border_cc bg_ff borderR15 paddingL13 paddingR65 paddingT5 paddingB5 marginT1">\n\t\t\t\t<div class="pos_abs F12 colorc634_F12 display_N searchMinTxtErr" style="top: 40px; display: block;"></div>\n\t\t\t\t<input ng-model="headerCtrl.searchquery" ng-model-options="{ debounce: 1000 }"\n\t\t\t\t\tng-keypress="($event.which === 13)?gotoSearchResults():0" type="text" class="inputBox_Text lineHeight18 F13 color00"\n\t\t\t\t\tplaceholder="{{searchPlaceHolder}}" style="width:220px;height:18px;border:0;padding:0;outline:0"/>\n\t\t\t\t<div ng-click="gotoSearchResults()" class="searchIcon_15_14 pos_abs cursor" style="right:10px;top:7px;"></div>\n\t\t\t\t<div ng-show="headerCtrl.prevSearch.length>0" ng-click="resetSearchQuery()" class="color0072bc F12 pos_abs cursor" style="right:30px;top:12px;" mt-trans="CLEAR">Clear</div>\n\t\t\t\t<div class="pos_rel display_N" style="right:-130px;top:30px;z-index:100;">\n\t\t\t\t\t<div class="triangleTop_28_14 pos_abs" style="right:210px;top:-2px;z-index:1;"></div>\n\t\t\t\t\t<div style="width:448px;right:0;top:11px;box-shadow:0px 1px 1px #dadada;" class="ddBG1 pos_abs">\n\t\t\t\t\t\t<ul class="lineHeight20 display_N" style="margin:0;padding:0;"> <!-- \'this is for content file page\' starts  -->\n\t\t\t\t\t\t\t<li class="F13" style="padding-top:6px;padding-bottom:6px;">\n\t\t\t\t\t\t\t\t<div class="lineHeight18">\n\t\t\t\t\t\t\t\t\t<span class="color99" translate="PRESS_ENTER_TO"></span>\n\t\t\t\t\t\t\t\t\t<a class="color0072bc cursor" style="text-decoration: none;">\n\t\t\t\t\t\t\t\t\t    <span translate="SEE_ALL_RES"></span>\n\t\t\t\t\t\t\t\t\t    <span class="i">\'{{searchTerm}}\'</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="hover_f9 cursor color00 F13" style="padding-top:6px;padding-bottom:6px;" ng-repeat="res in search">\n\t\t\t\t\t\t\t\t<div class="floatL videoIcon"></div>\n\t\t\t\t\t\t\t\t<div class="floatL marginL10" style="width:350px">{{res.name}}</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\t  <!-- \'this is for content file page\' ends  -->\n\t\t\t\t\t\t<ul class="lineHeight45" style="margin:0;padding:0;"> <!-- \'this is for Course page\' starts  -->\n\t\t\t\t\t\t\t<li class="F13" style="padding-top:6px;padding-bottom:6px;">\n\t\t\t\t\t\t\t\t<div class="lineHeight18">\n\t\t\t\t\t\t\t\t\t<span class="color99" translate="SEE_ALL_RES"></span>\n\t\t\t\t\t\t\t\t\t<a class="color0072bc cursor" style="text-decoration: none;">\n\t\t\t\t\t\t\t\t\t    <span translate="SEE_ALL_RES"></span>\n\t\t\t\t\t\t\t\t\t    <span class="i">\'{{searchTerm}}\'</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="hover_f9 cursor color00 F13" style="padding-top:6px;padding-bottom:6px;">\n\t\t\t\t\t\t\t\t<div class="floatL" style="width:66px;height:45px">\n\t\t\t\t\t\t\t\t\t<img ng-src="{{thumb}}" alt="" style="max-width:66px;max-height:45px" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="floatL marginL10" style="width:350px">{{name}}</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\t  <!-- \'this is for Course page\' ends  -->\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div ng-if="showAnalyticsLink" class="floatL grayBtn_36 textalign_C  paddingL15 paddingR15 cursor">\n\t\t\t  <a href="{{showAnalyticsLink}}" target="_blank">\n\t\t\t\t   <div class="floatL color99 cursor">Analytics</div>\n\t\t\t\t   <div class="floatL openLinkExternalIcon marginT12 marginL5"></div>\n\t\t\t\t   <div class="clear"></div>\n\t\t\t  </a>\n\t\t\t</div>\n\t\t\t<div ng-hide="isParticipantsDisabled() || !showOtherTabs()" class="floatL menuItem participantIcon participantTab marginL35 marginT5" ng-click="showParticipants()" ng-class="{ active:headerCtrl.isParticipantsActive()}"></div>\n\t\t\t<!--div class="floatL menuItem discussionIcon marginL35 marginT5" ng-click="showDiscussion()" ng-class="{ active:headerCtrl.isDiscussionsActive()}"></div-->\n\t\t\t<div ng-controller="NotficationsCtrl as notifCtrl" class="floatL" ng-show="showOtherTabs()">\n\t\t\t\t<div class="floatL">\n\t\t\t\t\t<div class="floatL menuItem marginL35 marginT6" click-anywhere-but-here="hideNotifications()" ng-click="toggleNotifications();notifCtrl.markAllNotifsRead();">\n\t\t\t\t\t\t<div class="notificationIcon notificationIcon_Section cmncls pos_rel" ng-class="{ active:activeMenu==2}">\n\t\t\t\t\t\t\t<div ng-show="notifCtrl.numUnreadNotifs>0" class="notifeCountBg pos_abs" style="top:-8px;right:-10px">{{notifCtrl.numUnreadNotifs}}</div>\n\t\t\t\t\t\t\t<div class="cmn_dd pos_rel" style="right:0px;top:32px;z-index:100" ng-show="activeMenu==2">\n\t\t\t\t\t\t\t\t<div class="triangleTop_28_14 pos_abs" style="right: -4px;top:-2px;z-index:1;"></div>\n\t\t\t\t\t\t\t\t<div style="width:363px;max-height:295px;overflow-y:auto;right: -35px;top: 11px;" class="ddBG pos_abs">\n\t\t\t\t\t\t\t\t\t<ul style="margin:0;padding:0;">\n\t\t\t\t\t\t\t\t\t\t<li class="color00 F13 lineHeight18" style="padding-top:7px;padding-bottom:7px;">\n\t\t\t\t\t\t\t\t\t\t\t<div translate="NOTIFS" translate-value-num_1="{{notifCtrl.numUnreadNotifs}}"></div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li ng-show="notifCtrl.totalNotifs==0" class="hover_f9 color00 F13 lineHeight18">\n\t\t\t\t\t\t\t\t\t\t\t<div class="cursor_d" translate="NO_NOTIFS"></div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<div notification ng-repeat="notification in notifCtrl.currentNotifs"></div>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL menuItem marginL35 marginT9" click-anywhere-but-here="hideMessages()" ng-click="toggleMessages(); notifCtrl.markAllMessagesRead();">\n\t\t\t\t\t\t<div class="messageIcon messageIcon_Section cmncls pos_rel" ng-class="{ active:activeMenu==1}">\n\t\t\t\t\t\t\t<div ng-show="notifCtrl.numUnreadMessages>0" class="notifeCountBg pos_abs" style="top:-11px;right:-15px">{{notifCtrl.numUnreadMessages}}</div>\n\t\t\t\t\t\t\t<div class="cmn_dd pos_rel" style="right:0px;top:29px;z-index:100" ng-show="activeMenu==1">\n\t\t\t\t\t\t\t\t<div class="triangleTop_28_14 pos_abs" style="right:-5px;top:-2px;z-index:1;"></div>\n\t\t\t\t\t\t\t\t<div style="width:363px;max-height:295px;overflow-y:auto;right: -40px;top: 11px;" class="ddBG pos_abs">\n\t\t\t\t\t\t\t\t\t<ul style="margin:0;padding:0;">\n\t\t\t\t\t\t\t\t\t\t<li class="color00 F13 lineHeight18" style="padding-top:7px;padding-bottom:7px;">\n\t\t\t\t\t\t\t\t\t\t\t<div translate="MESSAGES" translate-value-num_1="{{notifCtrl.numUnreadMessages}}"></div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li ng-show="notifCtrl.totalMessages==0" class="hover_f9 cursor color00 F13 lineHeight18">\n\t\t\t\t\t\t\t\t\t\t\t<div mt-trans="NO_MESSAGES" mt-trans-evt="showPopop()" mt-trans-val-num="0"></div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<div private-message ng-repeat="message in notifCtrl.currentMessages"></div>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="floatL ddParent marginL35 cursor">\n\t\t\t\t<div ng-show="{{pic==\'\'}}" click-anywhere-but-here="hideProfileDD()" ng-click="toggleProfileDD()" class="color00 F14 lineHeight32">{{acronym}}</div>\n\t\t\t\t<img ng-show="{{pic!=\'\'}}" click-anywhere-but-here="hideProfileDD()" ng-click="toggleProfileDD()" ng-src="{{pic}}" alt="" style="width:32px;height:32px;border-radius:50%;display:block;"/>\n\t\t\t\t<div class="commonDD cursor pos_rel">\n\t\t\t\t\t<div click-anywhere-but-here="globalCtrl.kscoreChanged=false" class="ddDiv pos_rel" style="right:-52px;top:7px;z-index:11" ng-show="globalCtrl.kscoreChanged">\n\t\t\t\t\t\t<div class="triangleTop_28_14 pos_abs" style="right:52px;top:-2px;z-index:1;"></div>\n\t\t\t\t\t\t<div style="width:265px;right:20px;top:11px;padding:15px 10px" class="ddBG1 pos_abs">\n\t\t\t\t\t\t\t<div class="lineHeight18 F13" style="color:#f59b42;">Your Knowledge Score went up by {{globalCtrl.kscoreUpBy}}</div>\n\t\t\t\t\t\t\t<div class="lineHeight18 color99 F12">For every 100 points you earn, your K-Score increases by 1.</div>\n\t\t\t\t\t\t\t<!--div ui-sref="root.participants.participant({uid:globalCtrl.getMyId()})" ng-click="globalCtrl.kscoreChanged=false" class="lineHeight18 color0072bc F13 cursor marginT10">View your Knowledge Score Trend</div-->\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ddDiv pos_rel" style="right:-52px;top:7px;z-index:11" ng-show="showProfileDD==1">\n\t\t\t\t\t\t<div class="triangleTop_28_14 pos_abs" style="right:52px;top:-2px;z-index:1;"></div>\n\t\t\t\t\t\t<div style="width:168px;right:20px;top:11px;" class="ddBG1 pos_abs">\n\t\t\t\t\t\t\t<ul style="margin:0;padding:0;">\n\t\t\t\t\t\t\t\t<li ui-sref="root.participants.participant({uid:globalCtrl.getMyId()})" ng-click="showProfileDD=0; activeTab=3; searchPlaceHolder=\'Search Participants\'" class="hover_f9 color37 F13" style="padding-top:10px;padding-bottom:10px;">\n\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:28px">\n\t\t\t\t\t\t\t\t\t\t<!--div class="img_28_28 margin0_auto"></div-->\n\t\t\t\t\t\t\t\t\t\t<div ng-show="{{pic==\'\'}}" class="color00 F14 lineHeight32">{{acronym}}</div>\n\t\t\t\t\t\t\t\t\t\t<img ng-show="{{pic!=\'\'}}" ng-src="{{pic}}" alt="" style="width:28px;height:28px;border-radius:50%;"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="floatL marginL5">\n                                 <div class="lineHeight15" translate="MY_PROFILE"></div>\n                                 <div class="lineHeight14 F11 marginT1" style="color:#f59b42;"><span mt-trans="LB_TXT_KNOWLEDGE_SCORE"></span> <span>{{headerCtrl.getMyKscore()}}</span></div>\n                           </div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li ng-click="showStartedContents()" class="hover_f9 color37 F13 lineHeight17" style="padding-top:10px;padding-bottom:10px;">\n\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:28px">\n\t\t\t\t\t\t\t\t\t\t<div class="Star_17_17 margin0_auto"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="floatL marginL5" translate="STARRED_CONTENT"></div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li ng-click="signOut()" class="hover_f9 color37 F13 lineHeight19" style="padding-top:10px;padding-bottom:10px;">\n\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:28px">\n\t\t\t\t\t\t\t\t\t\t<div class="signOutIcon margin0_auto"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="floatL marginL5" translate="SIGN_OUT"></div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="floatL marginL10">\n\t\t\t\t<div class="floatL halfStar_11_16 marginT8"></div>\n\t\t\t\t<div class="floatL lineHeight32 colorf48414 F24">{{headerCtrl.getMyKscore()}}</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n\t<div class="clear"></div>\n\t<div class="col-md-12 topLeftMenu F14 lineHeight31 paddingT18" style="padding-left:0">\n\t\t<div ng-if="globalCtrl.isProfileFilled && showOtherTabs()" ng-click="showCourses()" ng-class="{ active:headerCtrl.isCoursesActive()}" class="unselectable floatL menuItem coursesSection_Tab textalign_C pos_rel paddingL5 paddingR5" mt-trans="TAB_COURSES">Learning Board</div>\n\t\t<div ng-if="globalCtrl.isProfileFilled && showOtherTabs()" ng-click="showContents()" ng-class="{ active:headerCtrl.isContentsActive()}" class="unselectable floatL menuItem contentFiles_sectionTab textalign_C pos_rel paddingL5 paddingR5 marginL30" mt-trans="TAB_CONTENT">Content Files</div>\n\t\t<div ng-show="globalCtrl.isProfileFilled && showReviewsTab()" ng-click="showReviews()" ng-class="{ active:headerCtrl.isReviewsActive(),\'marginL30\':(globalCtrl.isProfileFilled && showOtherTabs())}" class="unselectable floatL menuItem reviewerSection_Tab textalign_C pos_rel paddingL5 paddingR5">\n\t\t\t{{Game.Messages.TAB_REVIEWS}}<div class="pos_abs bgCircle_0072bc" style="top: -1px;right: -10px;"></div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/content-list-row.html",'<div ng-click="previewContent()" \n\tng-class="{viewedContent:(content.locked==false||content.lockState==\'UNLOCKED\'),\n\t\t\t\tnotViewd:(content.locked==true||content.lockState==\'LOCKED\')}" class="cmnHover ofh borderB_ee paddingL10 paddingB10 paddingT10">\n\t<div ng-if="!content.locked" ng-click="bookmarkContent()" stop-event ng-class="{bookMarked:content.starred}" class="floatL fullStar_17_17 marginR10 marginT10"></div>\n\t<div ng-if="content.locked" class="pos_rel" click-anywhere-but-here="hideTip()">\n\t\t<div ng-click="bookmarkContent();" stop-event ng-class="{bookMarked:content.starred}" class="floatL fullStar_17_17 marginR10 marginT10"></div>\n\t\t<div ng-show="!isTipHidden"style="left: 65px;top: -1px;x;z-index: 2;" class="cmn_dd pos_abs">\n\t\t    <div style="left: -45px;t;top: 7px;z-index: 2;" class="triangleLeft_28_14 pos_abs"></div>\n\t\t\t<div class="ddBG pos_rel" style="left:-32px;top:3px;width:auto">\n\t\t\t\t<div style="padding: 8px 10px;width: 300px;">\t\n\t\t\t\t\t<div class="color00 F13 lineHeight22 lockedContentMsg">{{\'LB_TXTX_CANT_STAR\'|translate}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div ng-class="contentClass" class="floatL pos_rel marginR10 marginT10">\n\t    <div style="top:-8px;right:-4px" class="viewedIcon pos_abs"></div>\n\t</div>\n\t<div class="floatL F13 lineHeight18 marinR10">\n\t\t<div class="color00 marginB5">{{content.title}}</div>\n\t\t<div class="color99">\n\t\t\t<span>{{content.entity_name}}</span> \n\t\t\t<span>, {{content.added_on}}</span> \n\t\t\t<span>|</span>\n\t\t\t<span>{{getContentInfo()}}</span>\n\t\t</div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/content-list.html",'<div class="contentFile_Div borderT30_transparent">\n\t<div ng-show="contentsCtrl.viewLoading"><img ng-src="{{loaderImg}}"/></div>\n\t<div ng-hide="contentsCtrl.viewLoading">\n\t<div class="floatL paddingL15 paddingR30">\n\t\t<div style="width:200px" class="">\n\t\t    <div class="F13 lineHeight18 marginB5">\n\t\t\t\t<div class="paddingT5 paddingB5">\n\t\t\t\t\t<div ng-click="contentsCtrl.setIsStarted(false)" ng-class="{ \'color00\':contentsCtrl.isStared==false,\'color99 cursor\':contentsCtrl.isStared==true}" class="unselectable floatL pos_rel cursor" mt-trans="LB_TXT_ALL_FILES"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n                   <div class="paddingT5 paddingB5">\n\t\t\t\t\t<div ng-click="contentsCtrl.setIsStarted(true)" ng-class="{ \'color00\':contentsCtrl.isStared==true,\'color99 cursor\':contentsCtrl.isStared==false}" class="floatL pos_rel">\n\t\t\t\t\t    <div class="floatL yellowStar_17_17 marginT1 marginR6"></div>\n                           <div class="floatL unselectable" mt-trans="LB_TXT_STARRED">Starred</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="borderB_ee borderT_transparent_5 marginL5"></div>\n\t\t\t</div>\n\t\t\t<div class="filterTag_leftMenu F13 lineHeight18 marginB5">\n\t\t\t    <div class="paddingT5 paddingB5">\n\t\t\t\t\t<div ng-class="{selected:contentsCtrl.contentType==\'VIDEO\'}" ng-click="contentsCtrl.setContentType(\'VIDEO\')" class="unselectable floatL filterTag leftMenuItem pos_rel">\n\t\t\t\t\t\t{{\'LB_TXT_VIDEOS\'|translate}}\n\t\t\t\t\t\t<div ng-show="contentsCtrl.contentType==\'VIDEO\'" style="top:4px;right:5px" class="pos_abs Black_crossIcon_10_10"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="paddingT5 paddingB5">\n\t\t\t\t\t<div ng-class="{selected:contentsCtrl.contentType==\'IMAGE\'}" ng-click="contentsCtrl.setContentType(\'IMAGE\')" class="unselectable floatL filterTag leftMenuItem pos_rel">\n\t\t\t\t\t\t{{\'LB_TXT_IMAGES\'|translate}}\n\t\t\t\t\t\t<div ng-show="contentsCtrl.contentType==\'IMAGE\'" style="top:4px;right:5px" class="pos_abs Black_crossIcon_10_10"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="paddingT5 paddingB5">\n\t\t\t\t\t<div ng-class="{selected:contentsCtrl.contentType==\'DOCUMENT_PDF\'}" ng-click="contentsCtrl.setContentType(\'DOCUMENT_PDF\')" class="unselectable floatL filterTag leftMenuItem pos_rel">\n\t\t\t\t\t\t{{\'LB_TXT_PDFS\'|translate}}\n\t\t\t\t\t\t<div ng-show="contentsCtrl.contentType==\'DOCUMENT_PDF\'" style="top:4px;right:5px" class="pos_abs Black_crossIcon_10_10"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="paddingT5 paddingB5">\n\t\t\t\t\t<div ng-class="{selected:contentsCtrl.contentType==\'DOCUMENT_WORD\'}" ng-click="contentsCtrl.setContentType(\'DOCUMENT_WORD\')" class="unselectable floatL filterTag leftMenuItem pos_rel">\n\t\t\t\t\t\t{{\'LB_TXT_DOCS\'|translate}}\n\t\t\t\t\t\t<div ng-show="contentsCtrl.contentType==\'DOCUMENT_WORD\'" style="top:4px;right:5px" class="pos_abs Black_crossIcon_10_10"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="paddingT5 paddingB5">\n\t\t\t\t\t<div ng-class="{selected:contentsCtrl.contentType==\'DOCUMENT_XLS\'}" ng-click="contentsCtrl.setContentType(\'DOCUMENT_XLS\')" class="unselectable floatL filterTag leftMenuItem pos_rel">\n\t\t\t\t\t\t{{\'LB_TXT_XLSS\'|translate}}\n\t\t\t\t\t\t<div ng-show="contentsCtrl.contentType==\'DOCUMENT_XLS\'" style="top:4px;right:5px" class="pos_abs Black_crossIcon_10_10"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="paddingT5 paddingB5">\n\t\t\t\t\t<div ng-class="{selected:contentsCtrl.contentType==\'DOCUMENT_PPT\'}" ng-click="contentsCtrl.setContentType(\'DOCUMENT_PPT\')" class="unselectable floatL filterTag leftMenuItem pos_rel">\n\t\t\t\t\t\t{{\'LB_TXT_PPTS\'|translate}}\n\t\t\t\t\t\t<div ng-show="contentsCtrl.contentType==\'DOCUMENT_PPT\'" style="top:4px;right:5px" class="pos_abs Black_crossIcon_10_10"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="paddingT5 paddingB5">\n\t\t\t\t\t<div ng-class="{selected:contentsCtrl.contentType==\'AUDIO\'}" ng-click="contentsCtrl.setContentType(\'AUDIO\')" class="unselectable floatL filterTag leftMenuItem pos_rel">\n\t\t\t\t\t\t{{\'LB_TXT_AUDIO\'|translate}}\n\t\t\t\t\t\t<div ng-show="contentsCtrl.contentType==\'AUDIO\'" style="top:4px;right:5px" class="pos_abs Black_crossIcon_10_10"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n                   <div class="paddingT5 paddingB5">\n\t\t\t\t\t<div ng-class="{selected:contentsCtrl.contentType==\'EMBED\'}" ng-click="contentsCtrl.setContentType(\'EMBED\')" class="unselectable floatL filterTag leftMenuItem pos_rel">\n\t\t\t\t\t\t{{\'LB_TXT_EMBEDED\'|translate}}\n\t\t\t\t\t\t<div ng-show="contentsCtrl.contentType==\'EMBED\'" style="top:4px;right:5px" class="pos_abs Black_crossIcon_10_10"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div ng-show="contentsCtrl.initialContentLoading" style="margin-left:245px" class="paddingR20"><img ng-src="{{loaderImg}}"/></div>\n\t<div ng-hide="contentsCtrl.initialContentLoading" style="margin-left:245px" class="paddingR20">\n\t\t<div class="pos_rel">\n\t\t\t<div class="pos_abs" style="left: 85px;top: 15px;">\n                <div class="pos_abs autocomplete-results" style="left: 5px; top: 12px; z-index: 100;" ng-if="!resultFound && clickInPreviewDD && showDropDown && contentsCtrl.searchquery.length >= 3 && contentsCtrl.suggestions.length == 0">\n                    <div style="width:348px;left:0;top:0px;box-shadow:0px 1px 0px #dadada;" class="ddBG1 pos_abs">\n                        <div class="F13 lineHeight30 color99 i" style="border-bottom:1px solid #ccc;padding:0px 20px">Press Enter to see all results for "{{contentsCtrl.searchquery}}"</div>\n                        <ul class="lineHeight45 listHolder" style="margin:0;padding:0;max-height:240px;overflow-y:auto">\n                            <li class="hover_f7 lineHeight20 color00 F13  checkbox_parent cursor selected" style="padding: 10px 15px; ">\n                                No Result found\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="pos_abs autocomplete-results" ng-if="showPreviewDD()" style="left: 5px; top: 12px; z-index: 100;">\n                    <div style="width:348px;left:0;top:0px;box-shadow:0px 1px 0px #dadada;" class="ddBG1 pos_abs">\n                        <div class="F13 lineHeight30 color99 i" style="border-bottom:1px solid #ccc;padding:0px 20px">Press Enter to see all results for "{{contentsCtrl.searchquery}}"</div>\n                        <ul class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content ui-corner-all" id="contentSearch" tabindex="0" style="top: 14px; left: 0px; z-index: 1; width: 347px !important;padding:0px;border-bottom: 0px;">\n                            <li ui-sref=".participant({uid:suggested.id})" ng-repeat="suggested in contentsCtrl.suggestions"\n\t\t\t\t\t\t\t\tclass="hover_f7 lineHeight20 F13 borderB_ee checkbox_parent cursor selected"\n\t\t\t\t\t\t\t\tstyle="padding: 10px;"\n\t\t\t\t\t\t\t\tng-click="previewSuggestedContent(suggested)"\n\t\t\t\t\t\t\t\tng-class="{viewedContent:(suggested.locked==false||suggested.lockState==\'UNLOCKED\'),\n\t\t\t\t\t\t\t\tnotViewd:(suggested.locked==true||suggested.lockState==\'LOCKED\')}">\n                                <div ng-class="getContentClass(suggested.type)" class="floatL pos_rel marginR10">\n                                    <div style="top:-8px;right:-4px" class="viewedIcon pos_abs"></div>\n                                </div>\n                                <div class="floatL F13 lineHeight20 marinR10" style="width: 235px;">\n                                    <div class="color00 marginB2 ng-binding" style="text-overflow: ellipsis;overflow: hidden;white-space: nowrap;">{{suggested.title}}</div>\n                                    <div class="color99" style="text-overflow: ellipsis;overflow: hidden;white-space: nowrap;">\n                                        <span class="ng-binding">{{suggested.entity_name}}</span>\n                                        <span class="ng-binding">, {{getNiceDate(suggested.added_on)}}</span>\n                                    </div>\n                                </div>\n                                <div class="clear"></div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n\t\t\t</div>\n\t\t\t<div class="ofh">\n\t\t\t\t<div class="F18 color00 lineHeight30 marginB20 floatL" data-ng-bind-html="contentsCtrl.currentContentsTitle"></div>\n\t\t\t\t<div class="floatL marginL20 marginR10 marginT5" style="width:1px;height:20px;background:#ddd"></div>\n\t\t\t\t<div class="displayInflex pos_rel paddingL10 marginT5 paddingB4 floatL F14" id="officeLocationParent">\n\t\t\t\t\t<div ng-click="triggerSearch()" style="left: 10px; top: 3px;" class="searchIcon_15_14 pos_abs cursor"></div>\n\t\t\t\t\t<input ng-model="contentsCtrl.searchquery"  click-anywhere-but-here="onClickOut()" ng-click="onClickIn()" ng-keypress="($event.which === 13)?triggerSearch():0" type="text" style="width: 238px; height: 20px; border: 0px; padding: 0px 20px 0px 20px;color:#000; font-size:13px; background: none;" placeholder="{{Game.Messages.SEARCH}}" class="lineHeight20 officeLocation ui-autocomplete-input" autocomplete="off">\n                    <div ng-if="contentsCtrl.searchquery" style="right: 0px; top: 6px; display: block;" class="cross_10_10 pos_abs cursor clearSearchEntities display_N" ng-click="clearTheSearch()"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n        <div class="paddingT10 paddingB15 borderT_ee F14" ng-if="contentsCtrl.displaySearchInfoHeader">\n            {{Game.Messages.LB_TXT_SEARCH_RESULT_FOR1}} <span class="bold">"{{decodeURIComponent(contentsCtrl.searchQuery)}}"</span>\n        </div>\n\t\t<div class="" infinite-scroll="contentsCtrl.loadNextPageContents()" infinite-scroll-distance="0" infinite-scroll-disabled="contentsCtrl.moreContentsLoading || contentsCtrl.initialCoursesLoading || contentsCtrl.currentContents.length>=contentsCtrl.totalContents" infinite-scroll-immediate-check="false">\n\t\t\t<div ng-show="contentsCtrl.currentContents.length==0" class="color00 F13" mt-trans="LB_TXT_NO_RESULT_FOUND"></div>\n\t\t\t<div content-list-row ng-repeat="content in contentsCtrl.currentContents" content="content"></div>\n\t\t\t<div ng-click="contentsCtrl.loadNextPageContents()" ng-show="contentsCtrl.moreContentsLoading==false && contentsCtrl.totalContents>0 && contentsCtrl.currentContents.length<contentsCtrl.totalContents" style="text-align:center;margin:15px;" class="paddingR20 cursor color0072bc" mt-trans="LB_TXT_LOAD_MORE"></div>\n\t\t\t<div ng-show="contentsCtrl.moreContentsLoading" style="text-align:center;" class="paddingR20"><img ng-src="{{loaderImg}}"/></div>\n\t\t</div>\n\t</div>\n\t<div class="clear"></div>\n\t</div>\n\t<div ui-view class="display_N">dummy</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/course-facto-sidebar.html",'<div class="pos_abs"\n\t ng-attr-style="z-index: 3; border-left:1px solid #999;\n\t \t\t\t\twidth: {{(sideBarCtrl.sideBarStatus==1)?290:0}}px; \n\t \t\t\t\tright: -15px;min-height: 100%;background:#fff;\n\t \t\t\t\tdisplay:{{sideBarCtrl.sideBarStatus==1?\'block\':\'none\'}};\n\t \t\t\t\theight:{{sideBarCtrl.height}}px;">\n\t<div class="hfHeader_Bg bg_f9 borderB_ee">\n\t\t<div ng-show="sideBarCtrl.currentHeader==1 " class="paddingL15 header1 lineHeight50">\n\t\t\t<div ng-if="settings && settings.fixed.isHallofFame" class="floatL marginR7 marginT18 hofIcon_new"></div>\n\t\t\t<div ng-if="settings && settings.fixed.isHallofFame" class="floatL color00 F18" mt-trans="MSG_HOF">Hall of Fame</div>\n\t\t\t<div ng-if="!(settings && settings.fixed.isHallofFame)" class="floatL color00 F18" mt-trans="UPDATES">Updates</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div ng-show="sideBarCtrl.currentHeader==2" class="rightTop_Menu header2 lineHeight50 marginL5">\n\t\t\t<div ng-click="sideBarCtrl.changeCurrentTab(1)" \n\t\t\t\t ng-class="{active:sideBarCtrl.currentTab==1,width80Perc:sideBarCtrl.currentTab==1 && sideBarCtrl.numTabsEnabled()==2,width60Perc:sideBarCtrl.currentTab==1 && sideBarCtrl.numTabsEnabled()==3,width40Perc:sideBarCtrl.currentTab==1 && sideBarCtrl.numTabsEnabled()==4}"\n\t\t\t\t ng-show="sideBarCtrl.factoArr.length>0" class="floatL rightTop_MenuItem item3 pos_rel">\n\t\t\t\t<div class="lineHeight30 marginT10 marginB10 borderR_padding">\n\t\t\t\t\t<div style="" class="factoIcon marginT7 marginB6 floatL"></div>\n\t\t\t\t\t<div class="iconName F14 floatL marginL5" mt-trans="MSG_Facto">Factopedia</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t<div class="pos_abs borderBottom"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div ng-show="isDiscussion" \n\t\t\t\t ng-click="sideBarCtrl.changeCurrentTab(2)" \n\t\t\t\t ng-class="{active:sideBarCtrl.currentTab==2,width80Perc:sideBarCtrl.currentTab==2 && sideBarCtrl.numTabsEnabled()==2,width60Perc:sideBarCtrl.currentTab==2 && sideBarCtrl.numTabsEnabled()==3,width40Perc:sideBarCtrl.currentTab==2 && sideBarCtrl.numTabsEnabled()==4}"\n\t\t\t\t class="floatL rightTop_MenuItem item2 pos_rel">\n\t\t\t\t<div class="lineHeight30 marginT10 marginB10 borderR_padding">\t\n\t\t\t\t\t<div style="" class="discIcon marginT7 marginB7 floatL">\n\t\t\t\t\t    <div class="pos_abs greenCircle_10" style="top:0;right:-5px"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="iconName F14 floatL marginL5" mt-trans="MSG_Discussion">Discussions</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t<div class="pos_abs borderBottom"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div ng-show="settings.fixed.isHallofFame" \n\t\t\t\t ng-click="sideBarCtrl.changeCurrentTab(3)" \n\t\t\t\t ng-class="{active:sideBarCtrl.currentTab==3,width80Perc:sideBarCtrl.currentTab==3 && sideBarCtrl.numTabsEnabled()==2,width60Perc:sideBarCtrl.currentTab==3 && sideBarCtrl.numTabsEnabled()==3,width40Perc:sideBarCtrl.currentTab==3 && sideBarCtrl.numTabsEnabled()==4}"\n\t\t\t\t class="floatL rightTop_MenuItem item2 pos_rel">\n\t\t\t\t<div class="lineHeight30 marginT10 marginB10 borderR_padding" style="border-right:0;">\n\t\t\t\t\t<div style="" class="hofIcon marginT7 marginB7 floatL"></div>\n\t\t\t\t\t<div class="iconName F14 floatL marginL5" mt-trans="MSG_HOF">Hall of Fame</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t<div class="pos_abs borderBottom"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div ng-click="sideBarCtrl.changeCurrentTab(4)"\n\t\t\t\t ng-class="{active:sideBarCtrl.currentTab==4,width80Perc:sideBarCtrl.currentTab==4 && sideBarCtrl.numTabsEnabled()==2,width60Perc:sideBarCtrl.currentTab==4 && sideBarCtrl.numTabsEnabled()==3,width40Perc:sideBarCtrl.currentTab==4 && sideBarCtrl.numTabsEnabled()==4}"\n\t\t\t\t ng-show="!sideBarCtrl.hideTranscription" class="floatL rightTop_MenuItem item3 pos_rel transcriptHeader">\n                  <!-- tooltip starts -->\n                <div class="ddDiv pos_abs tr-firstTimeMsg-msg" style="display: none;">\n                    <div class="triangleUp_27_14 pos_abs tr-arrow"></div>\n                    <div class="ddBG1 pos_abs borderR2 tr-box">\n                    <div class="color66 F16 lineHeight24 marginB20 tr-msg">\n                        You will now be able to view Transcript of videos. Click here to view Transcript.\n                    </div>\n                    <div\n                        class="floatR border_cc_30 F12 paddingL15 paddingR15 marginR12 closeIt tr-btn"\n                    >\n                        Got it\n                    </div>\n                    <div class="clear"></div>\n                    </div>\n                </div>\n                <!-- tooltip Ends -->\n\t\t\t\t<div class="lineHeight30 marginT10 marginB10 borderR_padding">\n\t\t\t\t\t<div class="marginT7 marginB7 floatL transcriptIcon"></div>\n\t\t\t\t\t<div class="iconName F14 floatL marginL5">Transcript</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t<div class="pos_abs borderBottom"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t</div>\n\t<div class="content hfDiv1" ng-attr-style="height:{{sideBarCtrl.height-51}}px">\n\t\t<div ng-show="sideBarCtrl.currentHeader==2 && sideBarCtrl.currentTab==1" class="tab1 factoDiv1 overriderListStyle" style="height:100%;overflow-y:auto;">\n\t\t\t<div class="paddingT15 paddingL10 paddingR10" ng-repeat="facto in sideBarCtrl.factoArr">\n\t\t\t\t<div ng-if="facto.type==\'TEXT\'" class="paddingB15">\n\t\t\t\t\t<!--div class="bold color00_F13 lineHeight20 paddingB3"><%=descHeader%></div-->\n\t\t\t\t\t<div class="lineHeight20 marginT5 color00_F13" data-ng-bind-html="facto.text"></div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="facto.type==\'HANDOUT\'" ng-click="sideBarCtrl.downloadHandout(facto.original_path)" class="cursor">\n\t\t\t\t\t<div class="floatL paddingR10 hoIcon marginT1"></div>\n\t\t\t\t\t<div class="floatL1 color0072bc F13 lineHeight15 marginL21" style="overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{facto.title}}</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div ng-if="facto.type==\'AUDIO\'" class="marginT15 cursor pos_rel" id="audio_div_{{facto.id}}">\n\t\t\t\t\t{{facto.title}}\n\t\t\t\t</div>\n\n\t\t\t\t<div ng-click="sideBarCtrl.openFactoMedia(facto)" ng-if="sideBarCtrl.isMedia(facto)" style="border-top:1px solid transparent;" class="cursor marginT10">\n\t\t\t\t\t<div style="height: 100%; overflow: hidden;">\n\t\t\t\t\t\t<!--div class="color00 ellipsis textalign_C" style="bottom:0;left:2px" ng-if="facto.title">{{facto.title}}</div-->\n\t\t\t\t\t\t<div class="floatL pos_rel" style="width: 100%; height: 100%; border:1px solid #eee; background:#f7f7f7">\n\t\t\t\t\t\t\t<img class="pos_abs" src="//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/new-zoom-icon.png" style="top:0;right:0"\n\t\t\t\t\t\t\t\t ng-show="{{facto.type==\'IMAGE\'}}">\n\t\t\t\t\t\t\t<img style="max-height:165px; margin:0 auto;max-width:100%;display:block;" alt="" ng-src="{{sideBarCtrl.getFactoThumbPath(facto)}}">\n\t\t\t\t\t\t\t<img ng-src="{{sideBarCtrl.factoPlayImg}}" style="z-index:1; position:absolute; top:62px; left:107px;" ng-hide="{{facto.type==\'IMAGE\' || facto.hideFactoPlayImg}}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-show="sideBarCtrl.currentHeader==2 && sideBarCtrl.currentTab==2" class="tab2 discussionDiv" style="height:100%;overflow-y:auto;">\n\t\t\t<div class="marginL10 marginT15 marginR10">\n\t\t\t\t<div>\n\t\t\t\t\t<div ng-if="!sideBarCtrl.isAnswerView" class="questions paddingB50 marginB50">\n\t\t\t\t\t\t<div class="paddingB15 newQstDiv">\n\t\t\t\t\t\t\t<div class="pos_rel marginT7" style="position: relative;">\n\t\t\t\t\t\t\t\t<textarea spellcheck="false" ng-model="sideBarCtrl.currQuesText" placeholder="{{ \'LB_TXT_WRITE_A_QST_PLACEHOLDER\' | translate }}" style="border:1px solid #ddd;width: 100%; height: 70px; font-size: 13px; line-height: 18px;padding:4px 10px;resize:none" class="atQst textarea_c2 borderR3"></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div ui-view="topicdiscussions"></div>\n\t\t\t\t\t\t\t<div class="marginT10">\n\t\t\t\t\t\t\t\t<div class="floatL btn_0072bc F12 lineHeight24 borderR2 paddingL25 paddingR25 postQstBtn" ng-click="sideBarCtrl.postQuestion()" mt-trans="QNA_POST_BTN">Post</div>\n\t\t\t\t\t\t\t\t<div ng-if="settings.fixed.mtentityType!=3" class="floatR cursor fullView marginT4" ng-click="sideBarCtrl.openQuestions()">\n\t\t\t\t\t\t\t\t\t<div class="floatL fullView_Img marginR6"></div>\n\t\t\t\t\t\t\t\t\t<div class="floatL color0072bc F12 lineHeight15" mt-trans="QNA_FULL_VIEW">Full View</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="borderT_dd paddingT15 marginB10 cmndisClass" ng-repeat="question in sideBarCtrl.questions">\n\t\t\t\t\t\t\t<div ng-show="question.canDelete" ng-click="sideBarCtrl.deleteQuestion(question)" class="floatR pos_rel Black_crossIcon_10_10" style="top:-5px;right:1px;"></div>\n\t\t\t\t\t\t\t<div class="" style="">\n\t\t\t\t\t\t\t\t<div class="color00 F13 lineHeight20 bold goto_detail_page cursor" ng-click="sideBarCtrl.openQuestion(question)">{{question.text}}</div>\n\t\t\t\t\t\t\t\t<div class="color66 F12 lineHeight20">\n\t\t\t\t\t\t\t\t\t<span>{{question.user.name}}.</span>\n\t\t\t\t\t\t\t\t\t<span class="color66 F11 marginL5">{{question.createTime*1000 | date}}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="lineHeight20">\n\t\t\t\t\t\t\t\t\t<span class="color0072bc F12 cursor" ng-click="sideBarCtrl.openQuestion(question)" mt-trans="MSG_REPLY_TXT">Reply</span>\n\t\t\t\t\t\t\t\t\t<span class="color66 F12">({{question.numAnswers}} <span mt-trans="LB_TXT_REPLIES"></span>)</span>\n\t\t\t\t\t\t\t\t\t<span class="color66 F12 marginR6 marginL6">|</span>\n\t\t\t\t\t\t\t\t\t<span ng-show="question.liked==false" ng-click="sideBarCtrl.likeQuestion(question)" class="color0072bc F12 cursor" mt-trans="LINK_LIKE_TXT">Like</span>\n\t\t\t\t\t\t\t\t\t<span ng-show="question.liked==true" ng-click="sideBarCtrl.unLikeQuestion(question)" class="color0072bc F12 cursor" mt-trans="LINK_DISLIKE_TXT">UnLike</span>\n\t\t\t\t\t\t\t\t\t<span class="color66 F12 numLikes">({{question.likes.length}} <span mt-trans="LB_TXT_LIKES"></span>)</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-if="sideBarCtrl.isAnswerView">\n\t\t\t\t\t\t<div class="lineHeight15 marginB15">\n\t\t                    <div class="floatL backToQst cursor">\n\t\t\t\t\t\t\t    <div class="floatL paddingR5 blueBack_Icon marginT1 marginR6"></div>\n\t\t\t\t\t\t\t    <div class="floatL color0072_F14 bold" ng-click="sideBarCtrl.closeQuestion()" mt-trans="BACK_TEXT">Back</div>\n\t\t\t\t\t\t\t    <div class="clear"></div>\n\t\t                    </div>\n\t\t                    <div class="floatR cursor fullView" ng-click="sideBarCtrl.openAnswers()">\n\t\t                         <div class="floatL fullView_Img marginR6"></div>\n\t\t                         <div class="floatL color0072_F12 lineHeight15" mt-trans="QNA_FULL_VIEW">Full View</div>\n\t\t                         <div class="clear"></div>\n\t\t                    </div>\n\t\t                    <div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div style="border-top:1px solid transparent;" class="marginB10">\n\t\t\t\t\t\t\t<div style="width:267px;">\n\t\t                        <div class="bold color00_F13 lineHeight20">{{sideBarCtrl.question.text}}</div>\n\t\t\t\t\t\t\t\t<div class="lineHeight20">\n\t\t\t\t\t\t\t\t\t<span class="color9b_F12 cursor qOwnerName">{{sideBarCtrl.question.user.name}}.</span>\n\t\t\t\t\t\t\t\t\t<span class="color9b_F11 marginL5">{{sideBarCtrl.question.createTime*1000 | date}}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<!--div class="clear"></div-->\n\t\t\t\t\t\t\t<div class="lineHeight20 paddingB10" style="border-bottom:1px solid #000;">\n\t\t                        <div class="floatL reply_link color0072_F12 cursor" mt-trans="MSG_REPLY_TXT">Reply</div>\n\t\t\t\t\t\t\t\t<div class="floatL color9b_F12 marginL3 numAns">({{sideBarCtrl.question.numAnswers}} <span mt-trans="LB_TXT_REPLIES"></span>)</div>\n\t\t                        <div class="floatL color9b_F12 marginR6 marginL6">|</div>\n\t\t\t\t\t\t\t\t<span ng-show="sideBarCtrl.question.liked==false" ng-click="sideBarCtrl.likeQuestion(sideBarCtrl.question)" class="color0072bc F12 cursor" mt-trans="LINK_LIKE_TXT">Like</span>\n\t\t\t\t\t\t\t\t<span ng-show="sideBarCtrl.question.liked==true" ng-click="sideBarCtrl.unLikeQuestion(sideBarCtrl.question)" class="color0072bc F12 cursor" mt-trans="LINK_DISLIKE_TXT">UnLike</span>\n\t\t                        <div class="floatL color9b_F12 numQLikes">({{sideBarCtrl.question.likes.length}} <span mt-trans="LB_TXT_LIKES"></span>)</div>\n\t\t                        <div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t\t                     <div class="color00_F13 lineHeight20 marginB13 marginT7 bold numAns">({{sideBarCtrl.question.numAnswers}} <span mt-trans="LB_TXT_REPLIES"></span>)</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="userAnswers">\n\t\t\t\t\t\t\t<div ng-repeat="answer in sideBarCtrl.answers" class="marginB10" style="border-top:1px solid transparent;">\n\t\t\t\t\t\t\t\t<div ng-show="answer.canDelete" ng-click="sideBarCtrl.deleteAnswer(answer)" class="floatR pos_rel Black_crossIcon_10_10" style="top: -6px;right: 12px;"></div>\n\t\t\t\t\t\t\t\t<div class="lineHeight20">\n\t\t\t                        <div class="color00_F13">{{answer.text}}</div>\n\t\t\t\t\t\t\t\t\t<div class="">\n\t\t\t\t\t\t\t\t\t\t<span class="color9b_F12 cursor ownerName">{{answer.user.name}}.</span>\n\t\t\t\t\t\t\t\t\t\t<span class="color9b_F11">{{answer.createTime*1000 | date}}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t                    <div class="lineHeight20">\n\t\t\t                        <span ng-click="sideBarCtrl.likeAnswer(answer)" ng-show="answer.liked==false" class="color0072bc F13 cursor like_dislike_link" mt-trans="LINK_LIKE_TXT">Like</span>\n\t\t\t\t\t\t\t\t\t<span ng-click="sideBarCtrl.unLikeAnswer(answer)" ng-show="answer.liked==true" class="color0072bc F13 cursor like_dislike_link" mt-trans="LINK_DISLIKE_TXT">UnLike</span>\n\t\t\t                        <div class="floatL color9b_F12 marginL3">\n\t\t\t                             <span>({{answer.likes.length}} <span mt-trans="LB_TXT_LIKES"></span>)</span>\n\t\t\t                        </div>\n\t\t\t                        <div class="clear"></div>\n\t\t\t                    </div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="borderB_c2 marginB10"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="border-top:1px solid transparent;" class="marginB10">\n\t\t\t\t\t\t\t<div class="pos_rel">\n\t\t\t\t\t\t\t\t<textarea spellcheck="false" ng-model="sideBarCtrl.currQuesText" placeholder="{{ \'WRITE_REPLY\' | translate }}" style="border:1px solid #ddd;width: 100%; height: 70px; font-size: 13px; line-height: 18px;padding:4px 10px;resize:none" class="textarea_c2 borderR3"></textarea>\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatR btn_0072bc F12 lineHeight24 borderR2 paddingL25 paddingR25" ng-click="sideBarCtrl.postAnswer()" mt-trans="HM_BTN_SUBMIT">Submit</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n        <div ng-show="sideBarCtrl.currentHeader==1 || sideBarCtrl.currentTab==3" class="tab3 hofDiv pos_rel">\n            <div id="leaderboard"></div>\n        </div>\n\t\t<div ng-if="sideBarCtrl.currentHeader==10 || sideBarCtrl.currentTab==30" class="tab3 hofDiv pos_rel">\n\t\t\t<div ng-if="settings.fixed.isHallofFame && settings.fixed.leaderboard_type==\'GROUP\'" \n\t\t\t\t class="paddingB5 paddingT5" \n\t\t\t\t ng-attr-style="border-bottom:1px solid #999;height:{{(settings.fixed.isHallofFame && settings.fixed.isNewsfeeds)?(sideBarCtrl.height-51)/2:sideBarCtrl.height-51}}px;overflow:auto;">\n\t\t\t\t<div id="scoredetail" style="" ng-controller="CourseLeaderBoardCtrl as lbCtrl">\n\t\t\t\t\t<div class="lineHeight20 borderB_ee paddingB10 paddingT5 paddingL0">\n\t\t\t\t\t\t<div class="floatL lineHeight32 marginR10 F11 textalign_C" style="width:25px">#</div>\n\t\t\t\t\t\t<div class="floatL color99 F12 lineHeight32" style="width: 158px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Group Name</div>\n\t\t\t\t\t\t<div class="floatL color99 F12 marginR10 textalign_R pos_rel" \n\t\t\t\t\t\t\t style="width: 30px;height:32px" \n\t\t\t\t\t\t\t ng-repeat="lbCtrlMedal in lbCtrl.medalNames" \n\t\t\t\t\t\t\t tooltip="{{lbCtrlMedal.name}}" \n\t\t\t\t\t\t\t tooltip-class="customClass" \n\t\t\t\t\t\t\t tooltip-placement="bottom" \n\t\t\t\t\t\t\t tooltip-animation="false">\n\t\t\t\t\t\t\t<div class="badgeImgContainer ng-binding" style="width:24px;height:24px;margin:4px auto 0">\n\t\t\t\t\t\t\t\t<img ng-src="{{lbCtrlMedal.img}}" \n\t\t\t\t\t\t\t\ttyle="width: 100%; height: 100%; display: block;" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-show="lbCtrl.callInProgress" class="paddingT50 textalign_C"><img ng-src="{{loaderImg}}"/></div>\n\t\t\t\t\t<div ng-hide="lbCtrl.callInProgress" \n\t\t\t\t\t\t class="hoverBg_f7 paddingT0 paddingB2 paddingL0 cursor pos_rel" \n\t\t\t\t\t\t ng-repeat="lbGroup in lbCtrl.lbGroupDetails">\n\t\t\t\t\t\t<div class="floatL lineHeight32 paddingT10 paddingB10 marginR10 F11 textalign_C"\n\t\t\t\t\t\t\t ng-class="{\'bg_feeddc colorff952a\':lbGroup.myGroup,\'bg_c7 color99\':!lbGroup.myGroup}" \n\t\t\t\t\t\t\t style="width:25px">{{lbGroup.rank}}</div>\n\t\t\t\t\t\t<div class="floatL paddingT10 paddingB10">\n\t\t\t\t\t\t\t<div style="width: 158px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis" class="floatL lineHeight32 color66 F13">{{lbGroup.name}}({{lbGroup.total}})</div>\n\t\t\t\t\t\t\t<div style="width: 30px" class="floatL marginR10 lineHeight32 color66 F13 textalign_C" ng-repeat="(k,v) in lbGroup.medals">{{v}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div ng-if="settings.fixed.isHallofFame && settings.fixed.leaderboard_type!=\'GROUP\'" class="hofSectionForScroll paddingB5 paddingT5" ng-attr-style="border-bottom:1px solid #999;height:{{(settings.fixed.isHallofFame && settings.fixed.isNewsfeeds)?(sideBarCtrl.height-51)/2:sideBarCtrl.height-51}}px;overflow:auto;">\n\t\t\t\t<div ng-if="settings.gData.maxScore==0" class="paddingL10 paddingR10 color99 F13 lineHeight18" mt-trans="LB_TXT_ZERO_SCORE_HOF" style="margin-top:50%"></div>\n\t\t\t\t<div ng-if="settings.gData.maxScore>0" id="scoredetail" style="" ng-controller="CourseLeaderBoardCtrl as lbCtrl">\n\t\t\t\t\t<div class="lineHeight20 paddingB10 paddingT5 paddingL15 paddingR15" ng-class="{borderB_ee:(!lbCtrl.isPartnerTraining || (lbCtrl.isPartnerTraining && lbCtrl.numGroups>0))}">\n\t\t\t\t\t\t<div class="color00 F14 marginT10" ng-if="lbCtrl.isPartnerTraining && lbCtrl.numGroups==0" mt-trans="LB_TXT_NO_LEADERBOARD"></div>\n\t\t\t\t\t\t<div class="floatL" ng-if="lbCtrl.isPartnerTraining && lbCtrl.numGroups>0">\n\t\t\t\t\t\t\t<div class="floatL filterIcon_11 marginT8 marginR5"></div>\n\t\t\t\t\t\t\t<dl class="cmn_dropdown floatL pos_rel" click-anywhere-but-here="lbCtrl.groupDDHidden=true">\n\t\t\t\t\t\t\t\t<dt ng-click="lbCtrl.groupDDHidden=!lbCtrl.groupDDHidden">\n\t\t\t\t\t\t\t\t\t<a class="margin0_auto" href="javascript:void(0)" style="width: 140px;padding-right:30px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">\n\t\t\t\t\t\t\t\t\t\t{{(lbCtrl.filters.displayName?lbCtrl.filters.displayName:"...")}}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<div class="downAngleShow_12_7" style="position:absolute;top:12px;right:10px;"></div>\n\t\t\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t\t\t<dd ng-show="!lbCtrl.groupDDHidden">\n\t\t\t\t\t\t\t\t\t<ul style="z-index: 1; width: 140px; max-height: 152px; overflow: auto;display:block">\n\t\t\t\t\t\t\t\t\t\t<li ng-repeat="lbFilter in lbCtrl.lbFilters" \n\t\t\t\t\t\t\t\t\t\t\tng-if="lbFilter.filterType==\'group\'"\n\t\t\t\t\t\t\t\t\t\t\tng-click="lbCtrl.groupDDHidden=true;lbCtrl.setGroupFilter(lbFilter);$event.stopPropagation();">\n\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0);" style="overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">{{lbFilter.value}}({{lbFilter.count}})</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n    \t\t\t\t\t<div class="floatL" ng-if="!lbCtrl.isPartnerTraining">\n\t\t\t\t\t\t\t<div ng-hide="lbCtrl.filters" ng-click="lbCtrl.showLBFilters=1" class="floatL cursor">\n\t\t\t\t\t\t\t\t<div class="floatL filterIcon_11 marginT4 marginR5"></div>\n\t\t\t\t\t\t\t\t<div class="floatL color0072bc F12" mt-trans="LB_TXT_FILTER_BY">Filter By</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div ng-show="lbCtrl.filters" class="floatL lineHeight18 paddingL5 paddingR5 cursor" style="border:1px solid #000">\n\t    \t\t\t\t\t\t<div class="floatL color00 F12 marginR5" ng-click="lbCtrl.showLBFilters=1">{{lbCtrl.filters.displayName}}</div>\n\t\t\t\t\t\t\t\t<div class="floatL crossIcon_9 marginT5" ng-click="lbCtrl.newFilters=undefined;lbCtrl.applyFilter()" ></div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="floatR cursor">\n\t    \t\t\t\t\t\t<div class="floatL" ng-show="lbCtrl.lbType==\'TOP\' && !lbCtrl.meInTopList" ng-click="lbCtrl.lbType=\'RELATIVE\';lbCtrl.fetchLB()">\n\t\t\t\t\t\t\t\t<div class="floatL triangleDown_Blue_11_6 marginT7 marginR5"></div>\n\t\t\t\t\t\t\t\t<div class="floatL color0072bc F12" mt-trans="LB_TXT_JUMP_TO_YOU">Jump to You</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatL" ng-show="lbCtrl.lbType!=\'TOP\'" ng-click="lbCtrl.lbType=\'TOP\';lbCtrl.fetchLB()">\n\t\t\t\t\t\t\t\t<div class="floatL triangleUp_Blue_11_6 marginT7 marginR5"></div>\n\t\t\t\t\t\t\t\t<div class="floatL color0072bc F12" mt-trans="LB_TXT_JUMP_TO_TOP">Jump to Top</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\t\n\t\t\t\t\t<div class="pos_abs bg_ff" ng-show="lbCtrl.showLBFilters==1" ng-attr-style="height:{{(settings.fixed.isHallofFame && settings.fixed.isNewsfeeds)?(sideBarCtrl.height-51)/2:sideBarCtrl.height-51}}px;z-index:1;width:100%;left:0;top:0px;border-bottom:1px solid #999">\n\t\t\t\t\t    <div class="lineHeight20 paddingB10 paddingT10 paddingL15 paddingR15">\n\t\t\t\t\t\t\t<div class="floatL">\n\t\t\t\t\t\t\t\t<div class="floatL">\n\t\t\t\t\t\t\t\t\t<div class="floatL filterIcon_11 marginT4 marginR5"></div>\n\t\t\t\t\t\t\t\t\t<div class="floatL color0072bc F12" mt-trans="LB_TXT_FILTER_BY">Filter By</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div ng-click="lbCtrl.showLBFilters=0" class="floatR crossIcon_11_new cursor marginT5"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="displayInflex pos_rel borderB_cc paddingL20 paddingR15 paddingB3 marginB15 marginT15 marginL15">\n\t\t\t\t\t\t    <div class="searchIcon_15_14 pos_abs cursor" style="left:0px;top:3px;"></div>\n\t\t\t\t\t\t\t<input ng-model="lb_search_txt" type="text" class="lineHeight20 F13 color00" placeholder="Search Filters" style="width:224px;height:20px;border:0;padding:0;outline:0">\n\t\t\t\t\t\t\t<div ng-show="lb_search_txt" ng-click="lb_search_txt=\'\'"class="crossIcon_9 cursor pos_abs" style="right:0px;top:6px;"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="filterTag_leftMenu F13 lineHeight18 pos_abs" style="top:84px;bottom:64px;overflow-y:auto;width:100%">\n\t\t\t\t\t\t\t<div class="paddingT2 paddingB3 marginL15 marginR15" ng-click="lbCtrl.newFilters=lbFilter;lbCtrl.applyFilter();" ng-repeat="lbFilter in lbCtrl.lbFilters | filter:{value:lb_search_txt}">\n\t\t\t\t\t\t\t\t<div class="unselectable floatL filterTag leftMenuItem pos_rel" ng-class="{selected:lbFilter.shortKey==lbCtrl.newFilters.shortKey}">\n\t\t\t\t\t\t\t\t\t{{lbFilter.value}}({{lbFilter.count}})\n\t\t\t\t\t\t\t\t\t<div ng-show="lbFilter.shortKey==lbCtrl.newFilters.shortKey" ng-click="lbCtrl.newFilters=undefined;$event.stopPropagation();" style="top:6px;right:5px" class="pos_abs crossIcon_9"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="floatR colorc7 i">{{lbFilter.displayName}}</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="pos_abs paddingT15 marginB10" style="bottom: 0; width: 100%; overflow-x: hidden">\n\t\t\t\t\t\t\t<div class="floatL pos_rel" style="left: 50%">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-if="!lbCtrl.isPartnerTraining || (lbCtrl.isPartnerTraining && lbCtrl.numGroups>0)">\n\t\t\t\t\t\t<div ng-show="lbCtrl.callInProgress" class="paddingT50 textalign_C lbLoaderDiv"><img ng-src="{{loaderImg}}"/></div>\n\t\t\t\t\t\t<div ng-hide="lbCtrl.callInProgress" ng-repeat="lbUser in lbCtrl.lbDetails" ng-click="openParticipant(lbUser)" class="hoverBg_f7 paddingT0 paddingB2 paddingL0 paddingR10 cursor pos_rel lbMainDiv">\n\t\t\t\t\t\t\t<div class="floatL lineHeight32 paddingT10 paddingB10 marginR10 F11 textalign_C" style="width:25px"\n\t\t\t\t\t\t\t\tng-class="{\'bg_feeddc colorff952a\':globalCtrl.getMyId()==lbUser.id,\'bg_fa color99\':globalCtrl.getMyId()!=lbUser.id}">{{lbUser.rank}}</div>\n\t\t\t\t\t\t\t<div class="floatL paddingR0 paddingT10 paddingB10 fs-hide">\n\t\t\t\t\t\t\t\t<div class="pos_rel floatL marginR10" style="width: 32px; height: 32px;">\n\t\t\t\t\t\t\t\t\t<img width="32px" height="32px"\n\t\t\t\t\t\t\t\t\t\tstyle="border-radius:50%" class=""\n\t\t\t\t\t\t\t\t\t\tng-src="{{lbUser.pic ? lbUser.pic : globalCtrl.defaultImage}}">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style="width: 103px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis" class="floatL lineHeight32 color66 F13 ">{{lbUser.name}}</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatL paddingT10 paddingB10">\n\t\t\t\t\t\t\t\t<div style="width: 40px" class="floatL marginR10 lineHeight32 color66 F13 textalign_R">{{lbUser.score}}</div>\n\t\t\t\t\t\t\t\t<div class="floatL marginT4 badgeImgContainer" style="width:24px;height:24px;" data-ng-bind-html="lbUser.medalDiv"></div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div ng-if="settings.fixed.isNewsfeeds" class="paddingT5 newFeed_hofUpdate"\n\t\t\tng-attr-style="height:{{(settings.fixed.isNewsfeeds && settings.fixed.isHallofFame)?(sideBarCtrl.height-51)/2:sideBarCtrl.height-51}}px;overflow:auto;">\n\t\t\t\t<div id="hf_update" style="" ng-controller="NewsFeedCtrl as feedCtrl">\n\t\t\t\t\t<div ng-show="feedCtrl.currentFeeds.length==0" class="color00 F13 marginL10 lineHeight18 marginT10">No newsfeed available.</div>\n\t\t\t\t\t<div class="" style="padding: 10px; background-color: transparent;" ng-repeat="newsfeed in feedCtrl.currentFeeds track by $index">\n\t\t\t\t\t\t<div class="pos_rel floatL marginR10"\n\t\t\t\t\t\t\tstyle="width: 32px; height: 32px;">\n\t\t\t\t\t\t\t<img ng-if="newsfeed.user.pic && newsfeed.user.pic!=\'\'" width="32px" height="32px" style="border-radius: 50%" src="/assets/images/img_80_80.png" ng-src="{{newsfeed.user.pic}}">\n\t\t\t\t\t\t\t<img ng-if="!newsfeed.user.pic || newsfeed.user.pic==\'\'" width="32px" height="32px" style="border-radius: 50%" src="/assets/images/img_80_80.png">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="floatL" style="width: 205px">\n\t\t\t\t\t\t\t<div class="color66 F13 lineHeight18 marginB3">{{newsfeed.display}}</div>\n\t\t\t\t\t\t\t<div class="i color66 F12 lineHeight18">{{newsfeed.timestamp*1000 | date}}</div>\n\t\t\t\t\t\t\t<!--div class="borderT_c1_dotted borderB_ff_dotted marginT15"></div-->\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t</div>\n\t\t<div ng-show="sideBarCtrl.currentHeader==2 && sideBarCtrl.currentTab==4" class="tab1 transcriptionCol overriderListStyle" style="height:100%;overflow-y:auto;">\n\t\t\t<div id="transcription-root"></div>\n\t\t</div>\n\t</div>\n</div>\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/course-layout.html",'<div style="min-width: 1000px;height:auto !important;min-height:100%" ng-controller="GlobalCtrl as globalCtrl" class="courseMainContainer">\n\t<div class="container-fluid pos_rel_1" ng-controller="CourseSideBarCtrl as sideBarCtrl" style="overflow-x:{{globalCtrl.isIpad?\'hidden\':\'\'}}">\n\t\t<div game-ipad-sidebar ng-if="isIPad()" ng-controller="HeaderCtrl"></div>\n\t\t<div class="sliderPart pos_rel" style="margin-left:{{globalCtrl.isIpad?200:0}}px;transition: 0.7s;">\n\t\t\t<div course-facto-sidebar></div>\n\t\t\t<div class="outerWrapper pos_rel" ng-attr-style="margin-right: {{sideBarCtrl.sideBarStatus==1?290:0}}px;">\n\t\t\t\t<div small-header></div>\n                <div class="Container" ng-show="courseCtrl.isPlayArea()">\n\t\t\t\t\t<div class="row"><img ng-src="{{loaderImg}}"/></div>\n\t\t\t\t</div>\n\t\t\t\t<div ui-view ng-hide="courseCtrl.isPlayArea()" class="row"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="getSupport1"></div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/crop-profile-pic.html",'<div>\n\t<div>Crop pic here</div>\n\t<div class="marginT50 btnSection marginB20">\n\t\t<div style="left:50%;" class="floatL pos_rel">\n\t\t\t<div style="left:-50%;" class="floatL pos_rel">\n\t\t\t\t<div ng-click="picCtrl.closeMe()" class="Border_cc_Btn_30 floatL F13 paddingL20 paddingR20 marginR25">Cancel</div>\n\t\t\t\t<div ng-click="picCtrl.cropPic()" class="blueBg_Btn_30 floatL F13 paddingL20 paddingR20">Set as profile pic</div>\n\t\t\t\t<div class="clear"></div>\t\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dd-profile-field.html",'<div class="borderB10_transparent">\n\t<div style="width:180px;" class="floatL marginR10 textalign_R color7d F14 lineHeight28">{{field.displayName}}<span ng-show="field.isRequired==1">*</span></div>\n\t<div class="floatL pos_rel">\n\t\t<dl class="st_dropdown sortDD">\n\t\t\t<dt ng-click="toggleDD()">\n\t\t\t\t<a style="width:307px;padding-right:30px;color:#000" href="javascript:void(0)" class="margin0_auto border_cc borderR2 lineHeight28">{{ selectedVal }}</a>\n\t\t\t\t<div style="position:absolute;top:12px;right:10px;" class="showCls angle_12_7"></div>\n\t\t\t</dt>\n\t\t\t<dd>\n\t\t\t\t<ul ng-hide="isDDHidden" style="z-index: 1; left: 0px; min-width: 307px; width: 305px; max-width: 305px;">\n\t\t\t\t\t<li ng-repeat="val in fieldValues"  ng-click="selectVal(val)">\n\t\t\t\t\t\t<a href="javascript:void(0);">{{val}}</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</dd>\n\t\t</dl>\n\t</div>\n\t<div class="pos_rel floatL">\n\t\t<div style="width:21px;" class="marginL10">\n\t\t\t<div ng-class="{greenTick:!invalid,wrongIcon:invalid}" style="margin:8px auto 0 auto" class="iconClass"></div>\n\t\t</div>\n\t\t<div ng-show="invalid" style="top:0;left:40px;width:290px;" class="errorMsg_Box pos_abs">\n\t\t\t\t<div class="floatL ">\n\t\t\t\t\t<div style="top:7px;left:-7px;" class="pos_abs pinkTriangle"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="floatL errorBox">{{errMsg}}</div>\n\t\t\t\t<div class="clear"></div>\n\t\t</div>\n\t</div>\n\t<div class="clear"></div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/first-sso-login-popup.html","ho ho ho"),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/game-browser-header.html",'<div class="col-md-12 paddingT9 paddingB9" id="browserTop_Header" style="padding-right:0;">\n\t<div ng-show="headerType==2" class="col-md-12 lineHeight32 paddingL5" style="padding-right:0;">\n\t\t<div class="floatL cursor marginT8 pos_rel" ng-click="goBackToCourse()"  style="z-index: 1;"tabindex="0" aria-label="Back to course">\n            <div class="floatL marginT0 backArrow_10_16" ></div>\n            <div class="floatL tooltip_bottom_left_new tooltip_width500" style="color: #9b9b9b;font-size: 13px;line-height: 16px;" mtitle="{{settings.fixed.name}}">\n            \t<div style="padding-left: 5px;max-width: 160px;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;">{{settings.fixed.name}}</div>\n            </div>\n            <div class="clear"></div>\n        </div>\n\t\t<div class="colorff F18  pos_rel">\n            <div class="floatL tooltip_bottom_left_new tooltip_width500" style="color: #9b9b9b;font-size: 13px;line-height: 16px;" mtitle="{{topicName}}">\n                <div class="pos_abs tickleName textalign_C color" style="width: 100%; height1: 100%;left1:60px;right1:165px" >\n                    <div style="padding-left: 5px;max-width: 160px;text-overflow: ellipsis;overflow: hidden;white-space: nowrap; display: inline-block" class="marginT8">\n                        {{topicName}}\n                    </div>\n                </div>\n            </div>\n\t\t</div>\n\t\t<div class="floatR menuItem marginT1 cursor" ng-show="sideBarCtrl.sideBarStatus==0 && !deleteSideBar" ng-click="sideBarCtrl.toggleSideBar()" style="position: relative; z-index: 10;  border:1px solid #999;border-right:0;border-radius:15px 0 0 15px;padding:0 10px;background:#f9f9f9">\n\t     \t<div class="Arrow_Left_Black_15_12 marginT8 marginB8"></div>\n\t\t</div>\n\t\t<div class="floatR menuItem marginT1 cursor" ng-show="sideBarCtrl.sideBarStatus==1" ng-click="sideBarCtrl.toggleSideBar()" style="position: relative; z-index: 10;border:1px solid #999;border-right:0;border-radius:15px 0 0 15px;padding:0 10px;background:#f9f9f9">\n\t     \t<div class="Arrow_Right_15_12 marginT8 marginB8"></div>\n\t\t</div>\n\t\t<div class="tickleScoreBar floatR pos_rel1"></div>\n\t\t<div class="clear"></div>\n\t</div>\n\t<div ng-show="headerType==1">\n\t\t<div class="col-md-6 lineHeight32 paddingL5 paddingR5" >\n\t\t\t<div class="color00 F18 courseName floatL" style="max-width: 100%" >\n\t\t\t\t<div ng-class="getTagClass(settings.user.playableObjectType).typeClass" class="floatL tagClass" >\n                    {{getTagClass(settings.user.playableObjectType).tag}}\n                </div>\n                <div ng-if="!isMission()" class="iIcon_19_19 marginT2 floatR marginL10" ui-sref=".gamelanuch({entityId:settings.fixed.id})" ></div>\n                <div class="floatL tooltip_bottom_left_new marginL8 nowrap" style="color: #9b9b9b;font-size: 13px;line-height: 16px;max-width: calc(100% - 64px);" mtitle="{{settings.fixed.name}}">\n                    <div class="ellipsis lineHeight24">\n                        {{settings.fixed.name}}\n                    </div>\n                </div>\n                <div class="clear"></div>\n\t\t\t</div>\n            <div class="clear"></div>\n\t\t</div>\n\t\t<div class="col-md-6 paddingL5" style="padding-right:0">\n\t\t\t<div class="floatR topRightMenu">\n\t            <div ng-if="settings.fixed.isDiscussion" class="floatL menuItem discussionIcon marginL35 marginT4" ng-click="showDiscussion()" ng-class="{ active:headerCtrl.isDiscussionsActive()}"></div>\n\t\t\t\t<div ng-if="!isParticipantsDisabled() && settings.fixed.isParticipants" class="floatL menuItem participantIcon participantTab marginL35 marginT5" ng-click="showParticipants()" ng-class="{ active:headerCtrl.isParticipantsActive() }"></div>\n\t\t\t\t<div ng-if="settings.fixed.mtentityType!=4 && !isPreview" click-anywhere-but-here="hideHandouts()" ng-click="toggleHandouts()" class="floatL menuItem  marginL35 marginT4" ng-controller="HandoutsCtrl as handOutCtrl">\n\t\t\t\t\t<div class="downloadIcon cmncls1 pos_rel" ng-class="{ active:showHandoutsDD==1}">\n\t\t\t\t\t\t<div ng-show="{{handOutCtrl.numNewHandouts>0}}" class="notifeCountBg pos_abs" style="top:-8px;right:-10px">{{notifCtrl.numNewHandouts}}</div>\n\t\t\t\t\t\t<div class="cmn_dd pos_rel" style="right:0px;top:32px;z-index:100" ng-show="showHandoutsDD==1">\n\t\t\t\t\t\t\t<div class="triangleTop_28_14 pos_abs" style="right: -4px;top:-2px;z-index:1;"></div>\n\t\t\t\t\t\t\t<div style="width:363px;max-height:295px;overflow-y:auto;right: -35px;top: 11px;" class="ddBG pos_abs">\n\t\t\t\t\t\t\t\t<ul style="margin:0;padding:0;">\n\t\t\t\t\t\t\t\t\t<li ng-show="handOutCtrl.loadingHandouts" class="color00 F13 lineHeight18">\n\t\t\t\t\t\t\t\t\t\t<div class="cursor_d">Loading...</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li ng-show="handOutCtrl.totalHandouts==0 && handOutCtrl.loadingHandouts==false" class="hover_f9 color00 F13 lineHeight18">\n\t\t\t\t\t\t\t\t\t\t<div class="cursor_d" translate="HANDOUT_TEXT"></div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li ng-hide="handOutCtrl.loadingHandouts" ng-repeat="(id,handout) in handOutCtrl.currentHandouts" ng-click="handOutCtrl.downloadHandout(handout)">\n\t\t\t\t\t\t\t\t\t\t<div class="cursor">{{handout.title}}</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="floatL ddParent marginL35 marginR35">\n\t\t\t\t\t<div class="commonDD cursor pos_rel" >\n\t\t\t\t\t\t<div ng-show="{{pic==\'\'}}" click-anywhere-but-here="hideProfileDD()" ng-click="toggleProfileDD()" class="color00 F14 lineHeight32">{{acronym}}</div>\n\t\t\t\t\t\t<img ng-show="{{pic!=\'\' && !isPreview}}" click-anywhere-but-here="hideProfileDD()" ng-click="toggleProfileDD()" ng-src="{{pic}}" alt="" style="width:32px;height:32px;border-radius:50%;display:block;"/>\n\t\t\t\t\t\t<div class="ddDiv pos_rel" style="right:-30px;top:7px;z-index:11" ng-show="showProfileDD==1">\n\t\t\t\t\t\t\t<div class="triangleTop_28_14 pos_abs" style="right:30px;top:-2px;z-index:1;"></div>\n\t\t\t\t\t\t\t<div style="width:168px;right:0;top:11px;" class="ddBG1 pos_abs">\n\t\t\t\t\t\t\t\t<ul style="margin:0;padding:0;">\n\t\t\t\t\t\t\t\t\t<li ng-click="openViewProfile()" class="hover_f9 color37 F13 lineHeight18" style="padding-top:10px;padding-bottom:10px;">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:22px">\n\t\t\t\t\t\t\t\t\t\t\t<div class="img_19_18 margin0_auto"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatL marginL5" translate="MY_PROFILE"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li ng-show="settings.fixed.canReattempt" ng-click="reAttemptEntity()" class="hover_f9 color37 F13 lineHeight20" style="padding-top:10px;padding-bottom:10px;">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:22px">\n\t\t\t\t\t\t\t\t\t\t\t<div class="replayIcon margin0_auto"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatL marginL5" translate="">{{replayBtnTxt}}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<li ng-click="exitGame()" class="hover_f9 color37 F13 lineHeight18" style="padding-top:10px;padding-bottom:10px;">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:22px">\n\t\t\t\t\t\t\t\t\t\t\t<div class="setIcon  margin0_auto"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatL marginL5" translate="SAVE_EXIT"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li ng-click="signOut()" class="hover_f9 color37 F13 lineHeight19" style="padding-top:10px;padding-bottom:10px;">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:22px">\n\t\t\t\t\t\t\t\t\t\t\t<div class="signOutIcon margin0_auto"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatL marginL5" translate="SIGN_OUT"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t<div class="floatL menuItem marginT1 cursor" ng-show="sideBarCtrl.sideBarStatus==0 && !isPreview && !deleteSideBar" ng-click="sideBarCtrl.toggleSideBar()" style="position: relative; z-index: 10; border:1px solid #999;border-right:0;border-radius:15px 0 0 15px;padding:0 10px">\n\t            \t<div class="Arrow_Left_Black_15_12 marginT8 marginB8"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="floatL menuItem marginT1 cursor" ng-show="sideBarCtrl.sideBarStatus==1 && !isPreview" ng-click="sideBarCtrl.toggleSideBar()" style="position: relative; z-index: 10; border:1px solid #999;border-right:0;border-radius:15px 0 0 15px;padding:0 10px">\n\t            \t<div class="Arrow_Right_15_12 marginT8 marginB8"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t</div>\n\t<div class="clear"></div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/game-ipad-header.html",'<div class="col-md-12 paddingT9 paddingB9" id="ipadTop_Header" style="padding-right:0">\n     <div ng-show="headerType==2" class="col-md-12 lineHeight32 paddingL5" style="padding-right:0;">\n    \t\t<div ng-click="goBackToCourse()" class="floatL marginT6 cursor backArrow_25_21"></div>\n\t\t\t<div class="colorff F18  pos_rel">\n        \t\t<div class="pos_abs tickleName textalign_C color" style="width1: 100%; height: 100%;left:0;right:164px">{{topicName}}</div>\n    \t\t</div>\n    \t\t<div class="floatR menuItem marginT1 cursor" ng-show="sideBarCtrl.sideBarStatus==0 && !deleteSideBar" ng-click="sideBarCtrl.toggleSideBar()" style="position: relative; z-index: 10;border:1px solid #999;border-right:0;border-radius:15px 0 0 15px;padding:0 10px;background:#f9f9f9">\n\t\t     \t<div class="Arrow_Left_Black_15_12 marginT8 marginB8"></div>\n\t\t\t</div>\n\t\t\t<div class="floatR menuItem marginT1 cursor" ng-show="sideBarCtrl.sideBarStatus==1" ng-click="sideBarCtrl.toggleSideBar()" style="position: relative; z-index: 10;border:1px solid #999;border-right:0;border-radius:15px 0 0 15px;padding:0 10px;background:#f9f9f9">\n\t\t     \t<div class="Arrow_Right_15_12 marginT8 marginB8"></div>\n\t\t\t</div>\n    \t\t<div class="tickleScoreBar floatR"></div>\n    \t\t<div class="clear"></div>\n\t\t</div>\n      <div ng-show="headerType==1">\n\t\t\t<div class="col-md-8 lineHeight32 paddingL5 paddingR5">\n\t\t\t\t<div class="floatL ipadMenu pos_rel marginT9 marginR20" ng-click="globalCtrl.toggleIpadHeader()">\n\t\t\t\t\t<div class="notifeCountBg display_N pos_abs" style="top:-10px;right:-13px">0</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="floatL">\n\t          \t\t<div class="color00 F18 courseName floatL"></div>\t \n\t\t       \t\t<div ng-hide="isPreview" class="iIcon_19_19 marginT7 floatL marginL10" ui-sref=".gamelanuch({entityId:settings.fixed.id})"></div>\n\t          \t\t<div class="clear"></div>\n\t      \t\t</div>\n\t      \t\t<div class="floatL lineHeight30 F13 marginL15 display_N">\n\t\t\t         <div class="floatL bg_fffbce border_e7e5b0 color716d2d paddingL10 paddingR10">Submission Pending</div>\n\t\t\t         <div class="floatL bg_d5eefe border_b6e0eb color265562 paddingL10 paddingR10">Mission Submitted. No Reviewers Added</div>\n\t\t\t\t\t <div class="floatL bg_d5eefe border_b6e0eb color265562 paddingL10 paddingR10">Mission Submitted. 1/2 Reviews Pending</div>\n\t\t\t\t\t <div class="floatL bg_dafac8 border_b7e8af color476635 paddingL10 paddingR10">Congratulations!! You earned a Certificate!</div>\n\t\t\t\t\t <div class="floatL bg_fdeae6 border_f3cdc4 color664a35 paddingL10 paddingR10">Cut-off score not reached. Redo Mission</div>         \n\t\t        \t <div class="clear"></div>\n\t\t         </div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t        <div class="col-md-4 lineHeight32 paddingL5" style="padding-right:0">\n               <!--div class="floatR menuItem marginT1 cursor" ng-show="sideBarCtrl.sideBarStatus==0 && !isPreview" ng-click="sideBarCtrl.toggleSideBar()" style="border:1px solid #999;border-right:0;border-radius:15px 0 0 15px;padding:0 10px">\n                    <div class="Arrow_Left_Black_15_12 marginT8 marginB8"></div>\n               </div-->\n               <div class="floatR menuItem marginT1 cursor" ng-show="sideBarCtrl.sideBarStatus==0 && !isPreview && !deleteSideBar" ng-click="sideBarCtrl.toggleSideBar()" style="position: relative; z-index: 10;border:1px solid #999;border-right:0;border-radius:15px 0 0 15px;padding:0 10px">\n\t            \t<div class="Arrow_Left_Black_15_12 marginT8 marginB8"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="floatR menuItem marginT1 cursor" ng-show="sideBarCtrl.sideBarStatus==1 && !isPreview" ng-click="sideBarCtrl.toggleSideBar()" style="position: relative; z-index: 10;border:1px solid #999;border-right:0;border-radius:15px 0 0 15px;padding:0 10px">\n\t            \t<div class="Arrow_Right_15_12 marginT8 marginB8"></div>\n\t\t\t\t</div>\n               <div class="clear"></div>\n         \t</div>\n       </div>\n\t<div class="col-md-8 paddingL5 paddingR5" style="display:none">\n\t\t<div class="floatR">\n\t\t\t<div class="floatL displayInflex pos_rel border_cc bg_ff borderR15 paddingL13 paddingR65 paddingT5 paddingB5 marginT1">\n\t\t\t\t<input type="text" class="inputBox_Text lineHeight18 F13 coloraa" placeholder="{{searchPlaceHolder}}" style="width:220px;height:18px;border:0;padding:0;outline:0"/>\n\t\t\t\t<div class="searchIcon_15_14 pos_abs cursor" style="right:10px;top:7px;"></div>\n\t\t\t\t<div class="color0072bc F12 pos_abs clearText cursor display_N" style="right:30px;top:5px;" translate="CLEAR"></div>\n\t\t\t\t<div class="pos_rel display_N" style="right:-130px;top:30px;z-index:100;">\n\t\t\t\t\t<div class="triangleTop_28_14 pos_abs" style="right:210px;top:-2px;z-index:1;"></div>\n\t\t\t\t\t<div style="width:448px;right:0;top:11px;box-shadow:0px 1px 1px #dadada;" class="ddBG1 pos_abs">\n\t\t\t\t\t\t<ul class="lineHeight20 display_N" style="margin:0;padding:0;"> <!-- \'this is for content file page\' starts  -->\n\t\t\t\t\t\t\t<li class="F13" style="padding-top:6px;padding-bottom:6px;">\n\t\t\t\t\t\t\t\t<div class="lineHeight18">\n\t\t\t\t\t\t\t\t\t<span class="color99" translate="PRESS_ENTER_TO"></span>\n\t\t\t\t\t\t\t\t\t<a class="color0072bc cursor" style="text-decoration: none;">\n\t\t\t\t\t\t\t\t\t    <span translate="SEE_ALL_RES"></span>\n\t\t\t\t\t\t\t\t\t    <span class="i">\'{{searchTerm}}\'</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="hover_f9 cursor color00 F13" style="padding-top:6px;padding-bottom:6px;">\n\t\t\t\t\t\t\t\t<div class="floatL videoIcon"></div>\n\t\t\t\t\t\t\t\t<div class="floatL marginL10" style="width:350px">Production Cycle Overview</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="hover_f9 cursor color00 F13" style="padding-top:6px;padding-bottom:6px;">\n\t\t\t\t\t\t\t\t<div class="floatL docIcon"></div>\n\t\t\t\t\t\t\t\t<div class="floatL marginL10" style="width:350px">Product Release 1.6.8</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\t  <!-- \'this is for content file page\' ends  -->\n\t\t\t\t\t\t<ul class="lineHeight45" style="margin:0;padding:0;"> <!-- \'this is for Course page\' starts  -->\n\t\t\t\t\t\t\t<li class="F13" style="padding-top:6px;padding-bottom:6px;">\n\t\t\t\t\t\t\t\t<div class="lineHeight18">\n\t\t\t\t\t\t\t\t\t<span class="color99" translate="PRESS_ENTER_TO"></span>\n\t\t\t\t\t\t\t\t\t<a class="color0072bc cursor" style="text-decoration: none;">\n\t\t\t\t\t\t\t\t\t    <span translate="SEE_ALL_RES"></span>\n\t\t\t\t\t\t\t\t\t    <span class="i">\'{{searchTerm}}\'</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="hover_f9 cursor color00 F13" style="padding-top:6px;padding-bottom:6px;">\n\t\t\t\t\t\t\t\t<div class="floatL" style="width:66px;height:45px">\n\t\t\t\t\t\t\t\t\t<img ng-src="{{pic}}" alt="" style="max-width:66px;max-height:45px" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="floatL marginL10" style="width:350px">Production Cycle Overview</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\t  <!-- \'this is for Course page\' ends  -->\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n\t<div class="clear"></div>\n\t<!--div class="col-md-12 topLeftMenu F14 lineHeight31 paddingT18" style="padding-left:0">\n\t\t<div class="floatL menuItem coursesSection_Tab active textalign_C pos_rel paddingL5 paddingR5" translate="TAB_COURSES"></div>\n\t\t<div class="floatL menuItem contentFiles_sectionTab textalign_C pos_rel paddingL5 paddingR5 marginL30" translate="TAB_CONTENT"></div>\n\t\t<div class="clear"></div>\n\t</div-->\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/game-ipad-sidebar.html",'<div class="bg_ff ipadLeft_Bar borderR_dd pos_abs"ng-attr-style="top:0;left:{{globalCtrl.isIpad?0:-200}}px;min-height:100%;z-index:1;transition: 0.4s;">\n\t<div class="" style="width:199px">\n\t\t<div class="topRightMenu" style="padding:15px 0px">\n\t\t\t<div class="marginB20 paddingL10 paddingR10">\n\t\t\t\t<div class="floatL marginR10" style="width:32px">\n\t\t\t\t\t<img ng-src="{{pic}}" alt="" style="width:32px;height:32px;border-radius:50%;">\n\t\t\t\t</div>\n\t\t\t\t<div class="floatL color00 F14 lineHeight32" style="width:135px;text-overflow: ellipsis;white-space: nowrap;overflow: hidden;">{{learnerJson.name}}</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div ng-controller="NotficationsCtrl as notifCtrl" class="float1">\n\t\t\t<div class="menuItem" ng-click="toggleMessages()">\n\t\t\t\t<div class="messageIcon_Section cmncls paddingT20 paddingB20 paddingL10 paddingR10" ng-class="{ active:activeMenu==1 }">\n\t\t\t\t\t<div class="floatL pos_rel" style="width:32px">\n\t\t\t\t\t\t<div class="margin0_auto messageIcon"></div>\n\t\t\t\t\t\t<div ng-show="{{notifCtrl.numUnreadMessages>0}}" class="notifeCountBg pos_abs" style="top:-11px;right:-7px">{{notifCtrl.numUnreadMessages}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL F13 lineHeight15 marginL10" style="width:130px">Messages</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t<div ng-show="activeMenu==1" class="cmn_dd pos_rel" style="right:-189px;top:-35px;z-index:100">\n\t\t\t\t\t\t<div style="width:363px;max-height:295px;overflow-y:auto" class="ddBG pos_abs">\n\t\t\t\t\t\t\t<ul style="margin:0;padding:0;">\n\t\t\t\t\t\t\t\t<li class="color00 F13 lineHeight18" style="padding-top:7px;padding-bottom:7px;">\n\t\t\t\t\t\t\t\t\t<div translate="MESSAGES" translate-value-num_1="0"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li ng-show="notifCtrl.totalMessages==0" class="hover_f9 cursor color00 F13 lineHeight18">\n\t\t\t\t\t\t\t\t\t<div mt-trans="NO_MESSAGES" mt-trans-evt="showPopop()" mt-trans-val-num="0"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<div private-message ng-repeat="message in notifCtrl.currentMessages"></div>\n\t\t\t\t\t\t\t</ul>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="menuItem" ng-click="toggleNotifications()">\n\t\t\t\t<div class="notificationIcon_Section cmncls paddingT20 paddingB20 paddingL10 paddingR10" ng-class="{ active:activeMenu==2 }">\n\t\t\t\t\t<div class="floatL pos_rel" style="width:32px">\n\t\t\t\t\t\t<div class="margin0_auto notificationIcon"></div>\n\t\t\t\t\t\t<div ng-show="notifCtrl.numUnreadNotifs>0" class="notifeCountBg pos_abs" style="top:-9px;right:-6px">{{notifCtrl.numUnreadNotifs}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL F13 lineHeight21 marginL10" style="width:130px">Notifications</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t<div ng-show="activeMenu==2" class="cmn_dd pos_rel" style="right:-189px;top:-41px;z-index:100">\n\t\t\t\t\t\t<div style="width:363px;max-height:295px;overflow-y:auto" class="ddBG pos_abs">\n\t\t\t\t\t\t\t<ul style="margin:0;padding:0;">\n\t\t\t\t\t\t\t\t<li class="color00 F13 lineHeight18" style="padding-top:7px;padding-bottom:7px;">\n\t\t\t\t\t\t\t\t\t<div translate="NOTIFS" translate-value-num_1="0"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li ng-show="notifCtrl.totalNotifs==0" class="hover_f9 color00 F13 lineHeight18">\n\t\t\t\t\t\t\t\t\t<div class="cursor_d" translate="NO_NOTIFS"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<div notification ng-repeat="notification in notifCtrl.currentNotifs"></div>\n\t\t\t\t\t\t\t</ul>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="menuItem" ng-click="showDiscussion()">\n\t\t\t\t<div class="discussionIcon_Section paddingT20 paddingB20 paddingL10 paddingR10 cmncls" ng-class="{ active:activeTab==4 }">\n\t\t\t\t\t<div class="floatL" style="width:32px">\n\t\t\t\t\t\t<div class="margin0_auto discussionIcon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL F13 lineHeight22 marginL10" style="width:130px">Discussions</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\t\n\t\t\t</div>\n\t\t\t<div class="menuItem" ng-click="showParticipants()">\n\t\t\t\t<div class="participantIcon_Section paddingT20 paddingB20 paddingL10 paddingR10 cmncls" ng-class="{ active:activeTab==3 }">\n\t\t\t\t\t<div class="floatL" style="width:32px">\n\t\t\t\t\t\t<div class="margin0_auto participantIcon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL F13 lineHeight22 marginL10" style="width:130px" translate="PARTICIPANTS"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\t\n\t\t\t</div>\n\t\t\t<div class="menuItem" ng-click="signOut()">\n\t\t\t\t<div class="paddingT20 paddingB20 paddingL10 paddingR10">\n\t\t\t\t\t<div class="floatL" style="width:32px">\n\t\t\t\t\t\t<div class="margin0_auto signOutIcon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL F13 color99 lineHeight18 marginL10" style="width:130px" translate="SIGN_OUT"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\t\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/gamification-entity-thumb.html",'<div class="floatL hoverCourse_borderBg border_e0 pos_rel marginR30 marginB40">\n\t<div class="courseThumbNail cursor serieslocked pos_rel" ng-click="openEntity(entity)" ng-class="{inProgress_Course:entity.state==\'ACTIVE\', cmplt2day:(isDueToday() || entity.recertify), allCompleted_CourseDiv:((entity.state==\'COMPLETED\' || entity.state==\'TIMEDOUT\') && !entity.recertify)}">\n\t\t<div style="padding:10px">\n\t\t\t<div style="height:248px" class="pos_rel">\n\t\t\t\t<div class="thumbNail_Img marginB10 cursor pos_rel">\n\t\t\t\t\t<img style="width:200px;max-width:200px;height:135px;min-height:135px;" alt="" ng-src="{{entity.thumb.url_180_120}}">\n\t\t\t\t\t<div ng-show="entity.type==\'COURSE\'" class="cTag" mt-trans="LB_TXT_COURSE"></div>\n\t\t\t\t\t<div ng-show="entity.type==\'UPDATE\'" class="qTag" mt-trans="LB_TXT_QUPDATE">Q-Update</div>\n               \t\t<div ng-show="entity.type==\'MISSION\'" class="mTag" mt-trans="LB_TXT_MISSION">Mission</div>\n               \t\t<div ng-show="entity.type==\'ASSESSMENT\'" class="aTag" mt-trans="LB_TXT_ASSESSMENT">Assessment</div>\n               \t\t<div ng-show="entity.type==\'COACHING\'" class="sTag" mt-trans="LB_TXT_COACHING">Coaching Sessions</div>\n               \t\t<div ng-show="entity.type==\'CHECKLIST\'" class="clTag" mt-trans="LB_TXT_CHECKLIST">Checklist</div>\n               \t\t<div ng-show="entity.type==\'ILT\'" class="iltTag" mt-trans="LB_TXT_ILT">ILT</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="color00 F18 cursor lineHeight24 marginB5 e2etest_EntityName tooltip_bottom_left" mtitle="{{entity.name}}">\n\t\t\t\t\t<div class="truncate_3_line" style="max-height:72px">{{entity.name}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div  ng-if="entity.type!=\'COACHING\'">\n\t\t\t\t\t<div ng-hide="entity.state==\'COMPLETED\' || entity.state==\'TIMEDOUT\'" class="F12 lineHeight18 colorText" style="font-size: 12px">{{getDueDateText()}}</div>\n\t\t\t\t\t<div ng-show="((entity.state==\'COMPLETED\' || entity.state==\'TIMEDOUT\') && entity.type != \'MISSION\')" class="F12 lineHeight18 colorText">{{getCompletionDateText()}}</div>\n\t\t\t\t\t<div ng-show="(entity.state==\'COMPLETED\'  && entity.type == \'MISSION\')" class="F12 lineHeight18 colorText1 color99" mt-trans="LB_TXT_ALL_REVIEWS_COMPLETE"></div>\n\t\t\t\t\t<div ng-show="entity.state==\'SUBMITTED\' && entity.type == \'MISSION\' && ( entity.reviewers.length==0 || (entity.reviewers.length > 0 && entity.numPending>0))" class="F12 lineHeight18" style="color: #999999">Submitted</div>\n\t\t\t\t</div>\n\t\t\t\t<div  ng-if="entity.type==\'COACHING\'">\n\t\t\t\t\t<div ng-if="entity.state==\'COMPLETED\'" class="F12 lineHeight18 color99" mt-trans="COACHING_TXT_COMPLETED"></div>\n\t\t\t\t\t<div ng-if="entity.state!=\'COMPLETED\'" class="F12 lineHeight18 colorText">\n\t\t\t\t\t\t{{getCoachingStatus()}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="">\n\t\t\t\t<div ng-if="entity.type==\'COACHING\' || entity.type==\'ONE_TO_ONE_COACHING\'" class="floatL lineHeight30">\n\n\t\t\t\t\t<div ng-if="entity.type==\'ONE_TO_ONE_COACHING\' && entity.reviewCycle>1"  class="floatL colorText1 F12" translate="{{(((entity.reviewCycle-1)>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}" translate-value-a="{{entity.reviewCycle}}"></div>\n\n\n\t\t\t\t\t<div ng-if="entity.type==\'COACHING\' && entity.state==\'COMPLETED\' && entity.coachingSessionsType==\'SINGLE\'"  class="floatL colorText1 F12" translate="{{((entity.reviewCycle>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}" translate-value-a="{{entity.reviewCycle}}"></div>\n\t\t\t\t\t<div ng-if="entity.type==\'COACHING\' && entity.state==\'COMPLETED\' && entity.coachingSessionsType!=\'SINGLE\'"  class="floatL colorText1 F12" translate="{{(((entity.reviewCycle-1)>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}" translate-value-a="{{entity.reviewCycle-1}}"></div>\n\t\t\t\t\t<div ng-if="entity.type==\'COACHING\' && entity.state!=\'COMPLETED\' && entity.reviewCycle>1"  class="floatL colorText1 F12" translate="{{(((entity.reviewCycle-1)>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}" translate-value-a="{{entity.reviewCycle-1}}"></div>\n\t\t\t\t\t<div ng-if="entity.percentageScore>0 || entity.isCertificateAchived"  class="floatL colorText1 F12">,&nbsp;</div>\n\t\t\t\t\t<div ng-if="entity.percentageScore>0" class="floatL colorText1 F12" translate="COACHING_TXT_SCORE_SESSIONS" translate-value-a="{{entity.percentageScore}}%"></div>\n\t\t\t\t\t<div ng-click="downloadCertificate(); $event.stopPropagation();" ng-show="entity.type==\'COACHING\' && entity.isCertificateAchived" class="floatL certificateIcon marginT5 marginL5"></div>\n\t\t\t\t\t<div ng-show="entity.lockState == \'LOCKED\' && entity.state == \'ADDED\'" class="floatL greyBorderBtn_30 F12 paddingL17 paddingR17">\n\t\t\t\t\t\t<div class="floatL color99">LOCKED</div>\n\t\t\t\t\t\t<div class="Course_lockIcon marginT6 marginL6 floatL"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div ng-show="entity.lockState == \'LOCKED\'" class="pos_abs" style="top:13px; right:13px; width:25px;border-radius:15px; height:25px; background:rgba(255, 255, 255, 0.9);">\n\t\t\t\t\t\t<div class="Course_lockIcon marginL6 marginT5">&nbsp;</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="entity.type ==\'PERFORMANCE_EVALUATION_COACHING\'" class="floatL lineHeight30">\n\n\t\t\t\t\t<!--<div ng-if="entity.reviewCycle > 1"  class="floatL colorText1 F12" translate="{{(((entity.reviewCycle-1)>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}" translate-value-a="{{entity.reviewCycle}}"></div>-->\n\n\t\t\t\t\t<!--<div ng-if="entity.state==\'COMPLETED\' && entity.coachingSessionsType==\'SINGLE\'"  class="floatL colorText1 F12" translate="{{((entity.reviewCycle>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}" translate-value-a="{{entity.reviewCycle}}"></div>-->\n\t\t\t\t\t<!--<div ng-if="entity.state==\'COMPLETED\' && entity.coachingSessionsType!=\'SINGLE\'"  class="floatL colorText1 F12" translate="{{(((entity.reviewCycle-1)>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}" translate-value-a="{{entity.reviewCycle-1}}"></div>-->\n\t\t\t\t\t<!--<div ng-if="entity.state!=\'COMPLETED\' && entity.reviewCycle>1"  class="floatL colorText1 F12" translate="{{(((entity.reviewCycle-1)>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}" translate-value-a="{{entity.reviewCycle-1}}"></div>-->\n\t\t\t\t\t<div ng-if="entity.percentageScore>0 || entity.isCertificateAchived"  class="floatL colorText1 F12">,&nbsp;</div>\n\t\t\t\t\t<!--<div ng-if="entity.percentageScore>0" class="floatL colorText1 F12" translate="COACHING_TXT_SCORE_SESSIONS" translate-value-a="{{entity.percentageScore}}%"></div>-->\n\t\t\t\t\t<!--<div ng-click="downloadCertificate(); $event.stopPropagation();" ng-show="entity.type==\'COACHING\' && entity.isCertificateAchived" class="floatL certificateIcon marginT5 marginL5"></div>-->\n\t\t\t\t\t<div ng-show="entity.lockState == \'LOCKED\' && entity.state == \'ADDED\'" class="floatL greyBorderBtn_30 F12 paddingL17 paddingR17">\n\t\t\t\t\t\t<div class="floatL color99">LOCKED</div>\n\t\t\t\t\t\t<div class="Course_lockIcon marginT6 marginL6 floatL"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div ng-show="entity.lockState == \'LOCKED\'" class="pos_abs" style="top:13px; right:13px; width:25px;border-radius:15px; height:25px; background:rgba(255, 255, 255, 0.9);">\n\t\t\t\t\t\t<div class="Course_lockIcon marginL6 marginT5">&nbsp;</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="entity.type!=\'COACHING\'" class="floatL" style="width:100%">\n\t\t\t\t\t<div ng-show="entity.state!=\'SUBMITTED\' && entity.state!=\'COMPLETED\' && entity.state!=\'ADDED\' && entity.type == \'MISSION\'" class="lineHeight18 colorText1 F12" style="font-size: 12px;" mt-trans="M_TXT_SUBMISSION_PENDING"></div>\n\t\t\t\t\t<div ng-if="entity.type == \'MISSION\' && entity.state==\'SUBMITTED\' && (entity.numPending>0 || entity.reviewers.length ==0)" class="color00 F13 lineHeight18">{{getMissionReviewsStatus()}}</div>\n\t\t\t\t\t<div ng-if="entity.type != \'MISSION\' && entity.state==\'ACTIVE\'" class="borderTop pos_rel">\n\t\t\t\t\t\t<div style="top:0;left:0;" class="progressBar_Bg" ng-style="{\'width\': entity.percCompletion + \'%\' };"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-click="entity.startEntity()" ng-show="entity.state==\'ADDED\' && isCourseActive() && !hasDueDatePassed() && entity.lockState ==\'UNLOCKED\'" class="floatL blueBorderBtn_30 F12 paddingL17 paddingR17">\n\t\t\t\t\t\t<div class="floatL" mt-trans="START"></div>\n\t\t\t\t\t\t<div class="floatL blueArrowRight_10_9 marginL5 marginT9"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-show="entity.lockState == \'LOCKED\' && entity.state == \'ADDED\'" class="floatL greyBorderBtn_30 F12 paddingL17 paddingR17">\n\t\t\t\t\t\t<div class="floatL color99">LOCKED</div>\n\t\t\t\t\t\t<div class="Course_lockIcon marginT6 marginL6 floatL"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\n\t\t\t\t\t<div ng-show="entity.lockState == \'LOCKED\'" class="pos_abs" style="top:13px; right:13px; width:25px;border-radius:15px; height:25px; background:rgba(255, 255, 255, 0.9);">\n\t\t\t\t\t\t<div class="Course_lockIcon marginL6 marginT5">&nbsp;</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div ng-if="entity.recertify" class="floatR blueBorderBtn_30 F12 paddingL17 paddingR17">\n\t\t\t\t\t\t<div class="floatL" mt-trans="ASSESSMENT_TXT_RECERTIFY_CAPS"></div>\n\t\t\t\t\t\t<div class="floatL blueArrowRight_10_9 marginL5 marginT9"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-if="entity.type != \'MISSION\' && entity.type != \'ASSESSMENT\' && entity.state==\'ACTIVE\' && entity.lockState ==\'UNLOCKED\'" class="floatL color00 F12 lineHeight30">\n\t\t\t\t\t\t<div class="floatL">{{entity.percCompletion | number : 0}}%</div>\n\t\t\t\t\t\t<div class="floatL marginL5" mt-trans="COMPLETE"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-if="entity.type == \'ASSESSMENT\' && entity.state==\'ACTIVE\'" class="floatL color00 F12 lineHeight30">\n\t\t\t\t\t\t<div class="floatL">{{entity.totalSubmittedLearningObjects}}/{{entity.totalLearningObjects}}</div>\n\t\t\t\t\t\t<div class="floatL marginL5" mt-trans="LB_TXT_ANSWERED"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-if="entity.timeLimit>0 && (entity.state==\'ACTIVE\' || entity.state==\'ADDED\' || entity.state==\'TIMEDOUT\')" class="floatR lineHeight30 timerDefault" ng-class="{critical:clock.isRed}">\n\t\t\t\t\t\t<div class="floatL timerIcon marginR3 marginT7"></div>\n\t\t\t\t\t\t<div class="floatL timercolor F12 bold">{{clock.mmss}}</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-show="entity.state==\'COMPLETED\' && entity.type == \'MISSION\' &&\n\t\t\t\t\t\t\t\t\tentity.numPending==0 && entity.reviewers.length > 0 && entity.evalParamType == \'NUMERIC\'"\n\t\t\t\t\t\t class="floatL color00 F12 lineHeight30">\n\t\t\t\t\t\t<div class="floatL" mt-trans="M_TXT_SCORE_REP" mt-trans-val-score="{{(entity.score/100)}} / {{500/100}}"></div>\n\t\t\t\t\t\t<div ng-if="entity.score>=entity.certificateScore" class="floatL cert_26_24 marginL10 marginT4" ng-click="downloadCertificate(); $event.stopPropagation();"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-if="entity.type == \'MISSION\' && entity.state==\'COMPLETED\' && (entity.reviewers.length > 0 && entity.numPending==0) && entity.score < entity.certificateScore" \n\t\t\t\t\t\t class="floatL redBorderBtn_30 F12 paddingL20 paddingR20 marginL10"\n\t\t\t\t\t\t ng-click="redoMission();$event.stopPropagation();">\n\t\t\t\t\t\t<div class="floatL" mt-trans="M_TXT_REDO"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-show="(entity.state==\'COMPLETED\' || entity.state==\'TIMEDOUT\') && entity.type != \'MISSION\' && entity.type != \'ASSESSMENT\'" class="floatL color00 F12 lineHeight30">\n\t\t\t\t\t\t<div class="floatL" style="overflow: hidden;text-overflow: ellipsis;white-space: nowrap;max-width:60px;">{{entity.medalName}}</div>\n\t\t\t\t\t\t<div ng-show="entity.medalUrl" class="floatL marginL7 marginT3" style="width:24px;height:24px">\n\t\t\t\t\t\t\t<img ng-src="{{entity.medalUrl}}" style="width:100%;height:100%;display:block;border-radius:50%;"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!--div class="floatL {{entity.medalClass}} marginT3 marginL7"></div-->\n\t\t\t\t\t\t<div ng-click="downloadCertificate(); $event.stopPropagation();" ng-show="entity.isCertificateAchived" class="floatL certificateIcon marginT5 marginL5"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-if="!entity.hideScoreAndCertificate" ng-show="(entity.state==\'COMPLETED\' || entity.state==\'TIMEDOUT\') && entity.type == \'ASSESSMENT\'" class="floatL color00 F12 lineHeight30">\n\t\t\t\t\t\t<div class="floatL">{{entity.completionStateTxt}}</div>\n\t\t\t\t\t\t<div ng-click="downloadCertificate(); $event.stopPropagation();" \n\t\t\t\t\t\t\t ng-show="entity.completionCertificateEnabled && entity.completionState==\'PASS\' && !entity.isCertificateExpired" \n\t\t\t\t\t\t\t class="floatL passCert_26_24 marginT5 marginL5"></div>\n\t\t\t\t\t\t<div ng-show="entity.completionCertificateEnabled && entity.completionState==\'FAIL\'" class="floatL failCert_26_24 marginT5 marginL5"></div>\n\t\t\t\t\t\t<div ng-show="entity.recertify && entity.isCertificateExpired" class="floatL reCert_26_24 marginT5 marginL5"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t\n\t\t<div class="border00 pos_abs displayN" ng-class="{\'onhover_showlockseries\':entity.lockState ==\'LOCKED\'}" style="top: -1px;width: 222px;border: 1px solid #f5f5f5;left: -1px;height: 302px;background: rgba(255,255,255,0.9);">\n\t\t\t<div ng-bind-html="hover_on_locked_entity_message" class="F13 paddingL15 paddingR15 textalign_C color66 marginR7 marginL7 paddingL30 paddingR30" style="padding:135px 20px; cursor:default;">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\n</div>\n\n\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/ipad-header.html",'<div class="col-md-12 paddingT18" id="ipadTop_Header">\n\t<div class="col-md-8 lineHeight32 paddingL5 paddingR5">\n\t\t<div class="floatL ipadMenu pos_rel marginT10 marginR20" ng-click="globalCtrl.toggleIpadHeader()">\n\t\t\t<div class="notifeCountBg display_N pos_abs" style="top:-10px;right:-13px">0</div>\n\t\t</div>\n\t\t<div class="floatL color00 F18 lsName"></div>\n\t\t<div class="clear"></div>\n\t</div>\n\t<div class="col-md-4 paddingL5 paddingR5" style="display:none">\n\t\t<div class="floatR">\n\t\t\t<div class="floatL displayInflex pos_rel border_cc bg_ff borderR15 paddingL13 paddingR65 paddingT5 paddingB5 marginT1">\n\t\t\t\t<div class="pos_abs F12 colorc634_F12 display_N searchMinTxtErr" style="top: 40px;"></div>\n\t\t\t\t<input  ng-model="headerCtrl.searchquery" \n\t\t\t\t\t\tng-keypress="($event.which === 13)?gotoSearchResults():0"\n\t\t\t\t\t\ttype="text" class="inputBox_Text lineHeight18 F13 coloraa" placeholder="{{searchPlaceHolder}}" style="width:220px;height:18px;border:0;padding:0;outline:0"/>\n\t\t\t\t<div ng-click="gotoSearchResults()" class="searchIcon_15_14 pos_abs cursor" style="right:10px;top:7px;"></div>\n\t\t\t\t<div ng-show="headerCtrl.prevSearch.length>0" ng-click="resetSearchQuery()" class="color0072bc F12 pos_abs clearText cursor display_N" style="right:30px;top:5px;" translate="CLEAR"></div>\n\t\t\t\t<div class="pos_rel display_N" style="right:-130px;top:30px;z-index:100;">\n\t\t\t\t\t<div class="triangleTop_28_14 pos_abs" style="right:210px;top:-2px;z-index:1;"></div>\n\t\t\t\t\t<div style="width:448px;right:0;top:11px;box-shadow:0px 1px 1px #dadada;" class="ddBG1 pos_abs">\n\t\t\t\t\t\t<ul class="lineHeight20 display_N" style="margin:0;padding:0;"> <!-- \'this is for content file page\' starts  -->\n\t\t\t\t\t\t\t<li class="F13" style="padding-top:6px;padding-bottom:6px;">\n\t\t\t\t\t\t\t\t<div class="lineHeight18">\n\t\t\t\t\t\t\t\t\t<span class="color99" translate="PRESS_ENTER_TO"></span>\n\t\t\t\t\t\t\t\t\t<a class="color0072bc cursor" style="text-decoration: none;">\n\t\t\t\t\t\t\t\t\t    <span translate="SEE_ALL_RES"></span>\n\t\t\t\t\t\t\t\t\t    <span class="i">\'{{searchTerm}}\'</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="hover_f9 cursor color00 F13" style="padding-top:6px;padding-bottom:6px;">\n\t\t\t\t\t\t\t\t<div class="floatL videoIcon"></div>\n\t\t\t\t\t\t\t\t<div class="floatL marginL10" style="width:350px">Production Cycle Overview</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="hover_f9 cursor color00 F13" style="padding-top:6px;padding-bottom:6px;">\n\t\t\t\t\t\t\t\t<div class="floatL docIcon"></div>\n\t\t\t\t\t\t\t\t<div class="floatL marginL10" style="width:350px">Product Release 1.6.8</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\t  <!-- \'this is for content file page\' ends  -->\n\t\t\t\t\t\t<ul class="lineHeight45" style="margin:0;padding:0;"> <!-- \'this is for Course page\' starts  -->\n\t\t\t\t\t\t\t<li class="F13" style="padding-top:6px;padding-bottom:6px;">\n\t\t\t\t\t\t\t\t<div class="lineHeight18">\n\t\t\t\t\t\t\t\t\t<span class="color99" translate="PRESS_ENTER_TO"></span>\n\t\t\t\t\t\t\t\t\t<a class="color0072bc cursor" style="text-decoration: none;">\n\t\t\t\t\t\t\t\t\t    <span translate="SEE_ALL_RES"></span>\n\t\t\t\t\t\t\t\t\t    <span class="i">\'{{searchTerm}}\'</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="hover_f9 cursor color00 F13" style="padding-top:6px;padding-bottom:6px;">\n\t\t\t\t\t\t\t\t<div class="floatL" style="width:66px;height:45px">\n\t\t\t\t\t\t\t\t\t<img ng-src="{{pic}}" alt="" style="max-width:66px;max-height:45px" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="floatL marginL10" style="width:350px">Production Cycle Overview</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\t  <!-- \'this is for Course page\' ends  -->\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n\t<div class="clear"></div>\n\t<div class="col-md-12 topLeftMenu F14 lineHeight31 paddingT18" style="padding-left:0">\n\t\t<div ng-show="globalCtrl.isProfileFilled" ng-click="showCourses()" ng-class="{ active:headerCtrl.isCoursesActive()}" class="unselectable floatL menuItem coursesSection_Tab textalign_C pos_rel paddingL5 paddingR5" mt-trans="TAB_COURSES">Learning Board</div>\n\t\t<div ng-show="globalCtrl.isProfileFilled" ng-click="showContents()" ng-class="{ active:headerCtrl.isContentsActive()}" class="unselectable floatL menuItem contentFiles_sectionTab textalign_C pos_rel paddingL5 paddingR5 marginL30" mt-trans="TAB_CONTENT">Content Files</div>\n\t\t<div ng-if="globalCtrl.isProfileFilled && showReviewsTab()" ng-click="showReviews()" ng-class="{ active:headerCtrl.isReviewsActive(),\'marginL30\':(globalCtrl.isProfileFilled && showOtherTabs())}" class="unselectable floatL menuItem reviewerSection_Tab textalign_C pos_rel paddingL5 paddingR5">\n\t\t\t{{Game.Messages.TAB_REVIEWS}}<div class="pos_abs bgCircle_0072bc" style="top: -1px;right: -10px;"></div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/ipad-sidebar.html",'<div class="bg_ff ipadLeft_Bar borderR_dd pos_abs" ng-attr-style="top:0;left:{{globalCtrl.isIpad?0:-200}}px;min-height:100%;z-index:1;transition: 0.4s;">\n\t<div class="" style="width:199px">\n\t\t<div class="topRightMenu" style="padding:15px 0px">\n\t\t\t<div class="marginB20 paddingL10 paddingR10" ui-sref="root.participants.participant({uid:globalCtrl.getMyId()})" \n\t\t\t\tng-click="showProfileDD=0; activeTab=3; searchPlaceHolder=\'Search Participants\'">\n\t\t\t\t<div class="floatL marginR10" style="width:32px">\n\t\t\t\t\t<img ng-src="{{pic}}" alt="" style="width:32px;height:32px;border-radius:50%;">\n\t\t\t\t</div>\n\t\t\t\t<div class="floatL color00 F14 lineHeight32" style="width:135px;text-overflow: ellipsis;white-space: nowrap;overflow: hidden;">{{learnerJson.name}}</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div ng-controller="NotficationsCtrl as notifCtrl" class="float1">\n\t\t\t<div class="menuItem" ng-click="toggleMessages(); notifCtrl.markAllMessagesRead();" >\n\t\t\t\t<div class="messageIcon_Section cmncls paddingT20 paddingB20 paddingL10 paddingR10" ng-class="{ active:activeMenu==1 }">\n\t\t\t\t\t<div class="floatL pos_rel" style="width:32px">\n\t\t\t\t\t\t<div class="margin0_auto messageIcon"></div>\n\t\t\t\t\t\t<div ng-show="notifCtrl.numUnreadMessages>0" class="notifeCountBg pos_abs" style="top:-11px;right:-7px">{{notifCtrl.numUnreadMessages}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL F13 lineHeight15 marginL10" style="width:130px">Messages</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t<div ng-show="activeMenu==1" class="cmn_dd pos_rel" style="right:-189px;top:-35px;z-index:100">\n\t\t\t\t\t\t<div style="width:363px;max-height:295px;overflow-y:auto" class="ddBG pos_abs">\n\t\t\t\t\t\t\t<ul style="margin:0;padding:0;">\n\t\t\t\t\t\t\t\t<li class="color00 F13 lineHeight18" style="padding-top:7px;padding-bottom:7px;">\n\t\t\t\t\t\t\t\t\t<div translate="MESSAGES" translate-value-num_1="0"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li ng-show="notifCtrl.totalMessages==0" class="hover_f9 cursor color00 F13 lineHeight18">\n\t\t\t\t\t\t\t\t\t<div mt-trans="NO_MESSAGES" mt-trans-evt="showPopop()" mt-trans-val-num="0"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<div private-message ng-repeat="message in notifCtrl.currentMessages"></div>\n\t\t\t\t\t\t\t</ul>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="menuItem" ng-click="toggleNotifications(); notifCtrl.markAllNotifsRead();">\n\t\t\t\t<div class="notificationIcon_Section cmncls paddingT20 paddingB20 paddingL10 paddingR10" ng-class="{ active:activeMenu==2 }">\n\t\t\t\t\t<div class="floatL pos_rel" style="width:32px">\n\t\t\t\t\t\t<div class="margin0_auto notificationIcon"></div>\n\t\t\t\t\t\t<div ng-show="notifCtrl.numUnreadNotifs>0" class="notifeCountBg pos_abs" style="top:-9px;right:-6px">{{notifCtrl.numUnreadNotifs}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL F13 lineHeight21 marginL10" style="width:130px">Notifications</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t<div ng-show="activeMenu==2" class="cmn_dd pos_rel" style="right:-189px;top:-41px;z-index:100">\n\t\t\t\t\t\t<div style="width:363px;max-height:295px;overflow-y:auto" class="ddBG pos_abs">\n\t\t\t\t\t\t\t<ul style="margin:0;padding:0;">\n\t\t\t\t\t\t\t\t<li class="color00 F13 lineHeight18" style="padding-top:7px;padding-bottom:7px;">\n\t\t\t\t\t\t\t\t\t<div translate="NOTIFS" translate-value-num_1="0"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li ng-show="notifCtrl.totalNotifs==0" class="hover_f9 color00 F13 lineHeight18">\n\t\t\t\t\t\t\t\t\t<div class="cursor_d" translate="NO_NOTIFS"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<div notification ng-repeat="notification in notifCtrl.currentNotifs"></div>\n\t\t\t\t\t\t\t</ul>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="menuItem" ng-click="showDiscussion()">\n\t\t\t\t<div class="discussionIcon_Section paddingT20 paddingB20 paddingL10 paddingR10 cmncls" ng-class="{ active:activeTab==4 }">\n\t\t\t\t\t<div class="floatL" style="width:32px">\n\t\t\t\t\t\t<div class="margin0_auto discussionIcon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL F13 lineHeight22 marginL10" style="width:130px">Discussions</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\t\n\t\t\t</div>\n\t\t\t<div class="menuItem" ng-click="showParticipants()">\n\t\t\t\t<div class="participantIcon_Section paddingT20 paddingB20 paddingL10 paddingR10 cmncls" ng-class="{ active:activeTab==3 }">\n\t\t\t\t\t<div class="floatL" style="width:32px">\n\t\t\t\t\t\t<div class="margin0_auto participantIcon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL F13 lineHeight22 marginL10" style="width:130px" translate="PARTICIPANTS"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\t\n\t\t\t</div>\n\t\t\t<div class="menuItem" ng-click="signOut()">\n\t\t\t\t<div class="paddingT20 paddingB20 paddingL10 paddingR10">\n\t\t\t\t\t<div class="floatL" style="width:32px">\n\t\t\t\t\t\t<div class="margin0_auto signOutIcon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL F13 color99 lineHeight18 marginL10" style="width:130px" translate="SIGN_OUT"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\t\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/lb-courses.html",'<div class="courseDiv">\n\t<div ng-show="false && courses.searchQuery && courses.totalGamificationEntities==0"\n\t\tclass=" noResult_findDiv pos_abs lineHeight16 color615239 F12 border_f3ebb7 borderR2 bg_fef7c6"\n\t\tstyle="padding:4px 35px 4px 20px;top:101px;left:35%;z-index:1">\n\t\tCan\'t find what you are looking for? Try searching in\n\t\t<span ui-sref="root.contents({query:\'{{courses.searchQuery}}\'})"\n\t\tclass="contentList_Link color0072bc cursor">Content Files</span>\n\t\t<!--div class="Brown_crossIcon_9_8 pos_abs close_popup" style="top:8px;right:10px"></div-->\n\t</div>\n\t<div ng-show="courses.viewLoading" class="paddingL15 paddingT30"><img ng-src="{{loaderImg}}"/></div>\n\t<div ng-hide="courses.viewLoading">\n\t<div class="floatL paddingL15 paddingR30 paddingT30">\n\t\t<div style="width:200px" class="">\n\t\t\t<div class="paddingL5">\n\t\t\t\t<div class="F13 lineHeight20 myBoard_Tab borderB_ee paddingB5 marginB5">  <!-- My board tab starts  -->\n\t\t\t\t\t<div class="Series myBoard_courseTab paddingT5 paddingB5" ng-dblclick="courses.toggleSeriesDD()">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div ng-click="courses.toggleSeriesDD();" ng-show="courses.seriesNames[\'INVITE_ONLY\'].length>0" class="floatL myBoard_dd marginR5" ng-class="{Open:courses.seriesDDVisible}"></div>\n\t\t\t\t\t\t\t<div ng-click="courses.selectSeries(undefined,\'INVITE_ONLY\')" class="floatL unselectable color00" ng-class="{ coloraa:courses.searchQuery}" translate="MY_BOARD"></div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n                        </div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-show="courses.seriesDDVisible" class="marginL15 seriesMenu mttoggleele" >\n\t\t\t\t\t\t<div class="seriesMenu_Item paddingT5 paddingB5" ng-repeat="series in courses.seriesNames[\'INVITE_ONLY\']" ng-click="courses.selectSeries(series)" ng-class="{active:(courses.selectedSeries==series.id)}">\n\t\t\t\t\t\t\t<div class="floatL folderIcon_14_10 marginR8 marginT5"></div>\n\t\t\t\t\t\t\t<div class="floatL unselectable" style="width:157px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{series.name}}</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="F13 lineHeight20 myBoard_Tab borderB_ee1 paddingB5 marginB5" ng-show="courses.seriesNames[\'OPEN\'].length>0">  <!-- My board tab starts  -->\n\t\t\t\t\t<div class="Series myBoard_courseTab paddingT5 paddingB5" ng-dblclick="courses.togglePublicSeriesDD()">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div ng-click="courses.togglePublicSeriesDD()" ng-show="courses.seriesNames[\'OPEN\'].length>0" class="floatL myBoard_dd marginR5" ng-class="{Open:courses.openChannelDD}"></div>\n\t\t\t\t\t\t\t<div ng-click="courses.selectSeries(undefined,\'OPEN\')" class="floatL unselectable color00" ng-class="{ coloraa:courses.searchQuery}" translate="LB_TXT_OPEN_CHANNEL"></div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n                        </div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-show="courses.openChannelDD" class="marginL15 seriesMenu mttoggleele">\n\t\t\t\t\t\t<div class="seriesMenu_Item paddingT5 paddingB5" ng-repeat="series in courses.seriesNames[\'OPEN\']" ng-click="courses.selectSeries(series,\'OPEN\')" ng-class="{active:(courses.selectedSeries==series.id)}">\n\t\t\t\t\t\t\t<div class="floatL folderIcon_14_10 marginR8 marginT5"></div>\n\t\t\t\t\t\t\t<div class="floatL unselectable" style="width:157px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{series.name}}</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div ng-show="courses.initialCoursesLoading" style="margin-left:245px" class="paddingR20 paddingT30"><img ng-src="{{loaderImg}}"/></div>\n\t<div ng-hide="courses.initialCoursesLoading" style="margin-left:245px" class="paddingR20 paddingT30">   <!-- My board courses start -->\n\t\t<div class="marginB15555" style="height1:30px;min-height:24px;max-height: 48px;">\n\t\t\t<div ng-hide="courses.selectedSeries==undefined" class="floatL folderIcon_18_14 marginT5 marginR10 marginB5"></div>\n\t\t\t<div class="floatL F18 lineHeight24 color00" style="max-width:400px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{courses.currentBoardTitle | limitTo:40}}</div>\n\t\t\t<div ng-if="courses.selectedSeries && courses.selectedSeriesDesc" class="iIcon_19_19 marginT3 marginB2 floatL marginL10" ng-click="courses.showSeriesDesc()"></div>\n            <div class="floatL marginR15 marginL15 marginT2 marginB2" style="width:1px;height:20px;background:#ddd"></div>\n            <div ng-hide="courses.selectedSeries==undefined" class="floatL pos_rel dropdown marginT2 marginB2">\n                <div class="dropdown-toggle" style="border: none;" aria-haspopup="true" aria-expanded="false">\n                    <div ng-show="courses.stateFilter==\'ALL\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'LB_TXT_USTATE_ALL\'|translate}}</div>\n                    <div ng-show="courses.stateFilter==\'ADDED\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'NEW\'|translate}}</div>\n                    <div ng-show="courses.stateFilter==\'ACTIVE\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'LB_TXT_INPROGRESS\'|translate}}</div>\n                    <div ng-show="courses.stateFilter==\'COMPLETED\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'COMPLETED\'|translate}}</div>\n                    <div class="downArrow_12_7" style="top:8px"></div>\n                </div>\n                <div class="dropdown-menu" style="width:180px;top:30px;padding-top: 0;">\n                    <ul style="max-height:150px">\n                        <li ng-click="courses.selectStateFilter(\'ALL\')">\n                            <div class="floatL" style="width: 100%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'LB_TXT_USTATE_ALL\'|translate}}</div>\n                            <div class="clear"></div>\n                        </li>\n                        <li ng-click="courses.selectStateFilter(\'ADDED\')">\n                            <div class="floatL" style="width: 100%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'NEW\'|translate}}</div>\n                            <div class="clear"></div>\n                        </li>\n                        <li ng-click="courses.selectStateFilter(\'ACTIVE\')">\n                            <div class="floatL" style="width: 100%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'LB_TXT_INPROGRESS\'|translate}}</div>\n                            <div class="clear"></div>\n                        </li>\n                        <li ng-click="courses.selectStateFilter(\'COMPLETED\')">\n                            <div class="floatL" style="width: 100%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'COMPLETED\'|translate}}</div>\n                            <div class="clear"></div>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n            <div ng-hide="courses.selectedSeries==undefined" class="floatL marginR15 marginL15 marginT2 marginB2" style="width:1px;height:20px;background:#ddd"></div>\n            <div ng-hide="courses.selectedSeries==undefined" class="floatL pos_rel dropdown marginT2 marginB2">\n                <div class="dropdown-toggle" style="border: none;" aria-haspopup="true" aria-expanded="false">\n                    <div ng-show="courses.typeFilter==\'ALL\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'LB_TXT_CTYPE_ALL\'|translate}}</div>\n                    <div ng-show="courses.typeFilter==\'COURSE\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'LB_TXT_COURSE\'|translate}}</div>\n                    <div ng-show="courses.typeFilter==\'UPDATE\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'QUICK_UPDATE\'|translate}}</div>\n                    <div ng-show="courses.typeFilter==\'MISSION\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'LB_TXT_MISSION\'|translate}}</div>\n                    <div ng-show="courses.typeFilter==\'ASSESSMENT\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'LB_TXT_ASSESSMENT\'|translate}}</div>\n                    <div ng-show="courses.typeFilter==\'COACHING\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'LB_TXT_COACHING\'|translate}}</div>\n                    <div ng-show="courses.typeFilter==\'CHECKLIST\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'LB_TXT_CHECKLIST\'|translate}}</div>\n                    <div ng-show="courses.typeFilter==\'ILT\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'LB_TXT_ILT\'|translate}}</div>\n                    <div class="downArrow_12_7" style="top:8px"></div>\n                </div>\n                <div class="dropdown-menu" style="width:220px;top:30px;padding-top: 0;">\n                    <ul style="max-height:150px">\n                        <li ng-click="courses.selectTypeFilter(\'ALL\')">\n                            <div class="floatL" style="width: 100%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'LB_TXT_CTYPE_ALL\'|translate}}</div>\n                            <div class="clear"></div>\n                        </li>\n                        <li ng-if="courses.currentCoursesCount[\'COURSE\']>0" ng-click="courses.selectTypeFilter(\'COURSE\')">\n                            <div class="floatL cBG_L marginT5 marginR5 entity_sml" style="line-height: 20px; height: 20px; width: 20px; font-size: 12px;">C</div>\n                            <div class="floatL" style="width: 85%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'LB_TXT_COURSE\'|translate}} ({{courses.currentCoursesCount[\'COURSE\']}})</div>\n                            <div class="clear"></div>\n                        </li>\n                        <li ng-if="courses.currentCoursesCount[\'UPDATE\']>0" ng-click="courses.selectTypeFilter(\'UPDATE\')">\n                            <div class="floatL qBG_L marginT5 marginR5 entity_sml" style="line-height: 20px; height: 20px; width: 20px; font-size: 12px;">Q</div>                            \n                            <div class="floatL" style="width: 85%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'QUICK_UPDATE\'|translate}} ({{courses.currentCoursesCount[\'UPDATE\']}})</div>\n                            <div class="clear"></div>\n                        </li>\n                        <li ng-if="courses.currentCoursesCount[\'MISSION\']>0" ng-click="courses.selectTypeFilter(\'MISSION\')">\n                            <div class="floatL mBG_L marginT5 marginR5 entity_sml" style="line-height: 20px; height: 20px; width: 20px; font-size: 12px;">M</div>\n                            <div class="floatL" style="width: 85%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'LB_TXT_MISSION\'|translate}} ({{courses.currentCoursesCount[\'MISSION\']}})</div>\n                            <div class="clear"></div>\n                        </li>\n                        <li ng-if="courses.isAssessmentEnabled() && courses.currentCoursesCount[\'ASSESSMENT\']>0" ng-click="courses.selectTypeFilter(\'ASSESSMENT\')">\n                            <div class="floatL aBG_L marginT5 marginR5 entity_sml" style="line-height: 20px; height: 20px; width: 20px; font-size: 12px;">A</div>\n                            <div class="floatL" style="width: 85%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'LB_TXT_ASSESSMENT\'|translate}} ({{courses.currentCoursesCount[\'ASSESSMENT\']}})</div>\n                            <div class="clear"></div>\n                        </li>\n                        <li ng-if="courses.currentCoursesCount[\'COACHING\']>0" ng-click="courses.selectTypeFilter(\'COACHING\')">\n                            <div class="floatL sBG_L marginT5 marginR5 entity_sml" style="line-height: 20px; height: 20px; width: 20px; font-size: 12px;">S</div>\n                            <div class="floatL" style="width: 85%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'LB_TXT_COACHING\'|translate}} ({{courses.currentCoursesCount[\'COACHING\']}})</div>\n                            <div class="clear"></div>\n                        </li>\n                        <li ng-if="courses.currentCoursesCount[\'CHECKLIST\']>0" ng-click="courses.selectTypeFilter(\'CHECKLIST\')">\n                            <div class="floatL clBG_L marginT5 marginR5 entity_sml" style="line-height: 20px; height: 20px; width: 20px; font-size: 12px;">L</div>\n                            <div class="floatL" style="width: 85%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'LB_TXT_CHECKLIST\'|translate}} ({{courses.currentCoursesCount[\'CHECKLIST\']}})</div>\n                            <div class="clear"></div>\n                        </li>\n                        <li ng-if="courses.currentCoursesCount[\'ILT\']>0" ng-click="courses.selectTypeFilter(\'ILT\')">\n                            <div class="floatL iltBG_L marginT5 marginR5 entity_sml" style="line-height: 20px; height: 20px; width: 20px; font-size: 12px;">I</div>\n                            <div class="floatL" style="width: 85%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'LB_TXT_ILT\'|translate}} ({{courses.currentCoursesCount[\'ILT\']}})</div>\n                            <div class="clear"></div>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n            <div ng-hide="courses.selectedSeries==undefined" class="floatL marginR15 marginL15 marginT2 marginB2" style="width:1px;height:20px;background:#ddd"></div>\n            <div class="floatL displayInflex pos_rel lineHeight36 marginT2 marginB2">\n                <div style="left:0px; top: 3px;" class="searchIcon_15_14 pos_abs cursor searchEntities"></div>\n                <input type="text" maxlength="100" click-anywhere-but-here="onClickOut()"\n                       ng-click="onClickIn()"\n                       ng-model="courses.searchquery"\n                       ng-keypress="($event.which === 13)?triggerSearch():0"\n                       placeholder="{{Game.Messages.SEARCH}}"\n                       class="lineHeight20 F13 entitiesSearchText" autocomplete="off" style="width: 200px; height: 20px; border: 0px; padding: 0px 20px 0px 20px; outline: 0px; color:#000; background: none;">\n                <div ng-if="courses.searchquery" style="right: 0px; top: 6px; display: block;"\n                     class="cross_10_10 pos_abs cursor clearSearchEntities display_N" ng-click="clearTheSearch()"></div>\n                <div style="right:0px; top: 6px;" class="cross_10_10 pos_abs cursor clearSearchEntities display_N"></div>\n                <div style="left: 0px;top: 13px;" class="pos_abs cursor  display_N colorc634_F12 lineHeight20 searchMinTxtErr"></div>\n                <div class="pos_abs autocomplete-results" ng-if="" style="left: -15px; top: 22px; z-index: 100;">\n                    <div style="width:348px;left:0;top:0px;box-shadow:0px 1px 0px #dadada;" class="ddBG1 pos_abs">\n                        <div class="F13 lineHeight30 color99 i"\n                             style="border-bottom:1px solid #ccc;padding:0px 20px">Press Enter to see all results for "{{courses.searchquery}}"</div>\n                    </div>\n                </div>\n                <div class="pos_abs autocomplete-results" style="left: -15px; top: 22px; z-index: 100;"\n                     ng-if="!noResultFound && showDropDown && clickInPreviewDD">\n                    <div style="width:348px;left:0;top:0px;box-shadow:0px 1px 0px #dadada;" class="ddBG1 pos_abs">\n                        <div class="F13 lineHeight30 color99 i" style="border-bottom:1px solid #ccc;padding:0px 20px">\n                            Press Enter to see all results for "{{courses.searchquery}}"\n                        </div>\n                        <ul class="lineHeight45 listHolder" style="margin:0;padding:0;max-height:240px;overflow-y:auto">\n                            <li class="hover_f7 lineHeight20 color00 F13  checkbox_parent cursor selected" style="padding: 10px 15px; ">\n                                No Result found\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="pos_abs autocomplete-results" ng-if="showPreviewDD()" style="left: -15px; top: 22px; z-index: 100;">\n                    <div style="width:348px;left:0;top:0px;box-shadow:0px 1px 0px #dadada;" class="ddBG1 pos_abs">\n                        <div class="F13 lineHeight30 color99 i" style="border-bottom:1px solid #ccc;padding:0px 20px">Press Enter to see all results for "{{courses.searchquery}}"</div>\n                        <ul class="lineHeight45 listHolder" style="margin:0;padding:0;max-height:240px;overflow-y:auto">\n                            <li class="lineHeight20 color00 F13  checkbox_parent selected" ng-class="{notViewd:(suggested.lockState == \'LOCKED\'), hover_f7:(suggested.lockState != \'LOCKED\') }"\n                                ng-repeat="suggested in courses.suggestions" style="padding: 5px 10px;" ng-click="openEntity(suggested)">\n                                <div>\n                                    <div ng-class="courses.getIconClassForItem(suggested).tag"\n                                         class="floatL marginT2 marginR10"\n                                         style="width: 16px;height: 16px;font-size: 10px;line-height: 16px;">\n                                        {{courses.getIconClassForItem(suggested).type}}\n                                    </div>\n                                    <div class="floatL" style="max-width: 265px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{suggested.name}}</div>\n                                    <div class="floatR marginT2 marginR10 lockCIcon" ng-show="suggested.type != \'SERIES\' && suggested.lockState == \'LOCKED\'">&nbsp;</div>\n                                    <div class="clear"></div>\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="clear"></div>\n            </div>\n            <div ng-show="courses.showAddToMyBoardBtn()" ng-click="courses.addSeriesToMyBoard()" style="right:0" class="pos_abs border_cc_30 F13 paddingL20 paddingR20 marginR10 ">{{\'LB_TXT_ADD_TO_MY_BOARD\'|translate}}</div>\n            <div ng-hide="courses.selectedSeries  || courses.searchQuery" class="floatR pos_rel dropdown marginT2 marginB2">\n                <div class="dropdown-toggle" style="border: none;" aria-haspopup="true" aria-expanded="false">\n                    <div ng-show="courses.seriesSortType==\'A_Z\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'A_Z\'|translate}}</div>\n                    <div ng-show="courses.seriesSortType==\'Z_A\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'Z_A\'|translate}}</div>\n                    <div ng-show="courses.seriesSortType==\'LAST_INVITED\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'LB_TXT_LAST_INVITED\'|translate}}</div>\n                    <div ng-show="courses.seriesSortType==\'FIRST_INVITED\'" style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text lineHeight20 ng-binding">{{\'LB_TXT_FIRST_INVITED\'|translate}}</div>\n                    <div class="downArrow_12_7" style="top:8px"></div>\n                </div>\n                <div class="dropdown-menu" style="width:110px;top:30px;padding-top: 0;right:0;left:auto">\n                    <ul style="max-height:150px">\n                        <li ng-click="courses.changeSeriesSortType(\'A_Z\')">\n                            <div class="floatL" style="width: 100%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'A_Z\'|translate}}</div>\n                            <div class="clear"></div>\n                        </li>\n                        <li ng-click="courses.changeSeriesSortType(\'Z_A\')">                            \n                            <div class="floatL" style="width: 85%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'Z_A\'|translate}}</div>\n                            <div class="clear"></div>\n                        </li>\n                        <li ng-click="courses.changeSeriesSortType(\'LAST_INVITED\')">                            \n                            <div class="floatL" style="width: 85%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'LB_TXT_LAST_INVITED\'|translate}}</div>\n                            <div class="clear"></div>\n                        </li>\n                        <li ng-click="courses.changeSeriesSortType(\'FIRST_INVITED\')" style="padding-bottom: 5px">\n                            <div class="floatL" style="width: 85%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{\'LB_TXT_FIRST_INVITED\'|translate}}</div>\n                            <div class="clear"></div>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n            <div ng-hide="courses.selectedSeries || courses.searchQuery" class="floatR color99 F13 lineHeight24">{{\'LB_TXT_SORTBY\'|translate}}</div>\n            <div class="clear"></div>\n\t\t</div>\n        <div class="paddingT10 paddingB10 borderT_ee F14" ng-if="courses.displaySearchInfoHeader">\n            {{Game.Messages.LB_TXT_SEARCH_RESULT_FOR1}} <span class="bold">"{{decodeURIComponent(courses.searchQuery)}}"</span>\n        </div>\n\n        <div ng-show="courses.currentCourses.length==0 && !courses.isFilterApplied()" class="myBoard_Courses cmnHide_Div" mt-trans="LB_TXT_EMPTY_LS"></div>\n        <div ng-show="courses.currentCourses.length==0 && courses.isFilterApplied()" class="myBoard_Courses cmnHide_Div" mt-trans="LB_TXT_NO_RESULT_FOUND"></div>\n\t\t<div class="myBoard_Courses cmnHide_Div" infinite-scroll="courses.getCourses()" infinite-scroll-distance="0" infinite-scroll-disabled="courses.moreCoursesLoading || courses.initialCoursesLoading || courses.totalGamificationEntities <= courses.currentCourses.length" infinite-scroll-immediate-check="false">\n\t\t\t<div ng-repeat="entity in courses.currentCourses">\n\t\t\t\t<div gamification-entity-thumb ng-if="courses.isCourseOrUpdate(entity)" entity="entity" gc="globalCtrl" series="courses.selectedSeries"></div>\n\t\t\t\t<div series-thumb ng-if="courses.isSeries(entity)" entity="entity"></div>\n\t\t\t</div>\n\t\t\t<div style="width: 100%;float: left;">\n\t\t\t\t<div ng-click="courses.getCourses()" ng-show="!(courses.moreCoursesLoading || courses.initialCoursesLoading || courses.totalGamificationEntities <= courses.currentCourses.length)" style="text-align:center;margin:15px;" class="paddingR20 cursor color0072bc" mt-trans="LB_TXT_LOAD_MORE"></div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t</div>   <!-- My board courses end -->\n\t<div ng-show="courses.moreCoursesLoading" style="margin-left:245px;text-align:center;" class="paddingR20"><img ng-src="{{loaderImg}}"/></div>\n\t<div class="clear"></div>\n\t</div>\n\t<div ui-view class="display_N">dummy div</div>\n</div>\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/mainlayout.html",'<div ng-show="isLoaded" style="min-width: 1000px">\n\t<div class="container-fluid pos_rel">\n\t\t<div ipad-sidebar ng-show="isIPad()" ng-controller="HeaderCtrl"></div>\n\t\t<div class="sliderPart pos_rel" style="margin-left:{{globalCtrl.isIpad?200:0}}px;transition: 0.4s;">\n\t\t\t<div class="row bg_f9 borderB_ee" ng-controller="HeaderCtrl as headerCtrl">\n\t\t\t\t<div browser-header ng-show="!isIPad()"></div>\n\t\t\t\t<div ipad-header ng-show="isIPad()"></div>\n\t\t\t</div>\n\t\t\t<div ui-view class="row maincontaier"></div>\n\t\t</div>\n\t</div>\n\t<div class="getSupport1"></div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/missions.html",'<div class="container-fluid">\n<div small-header ng-if="!minimal"></div>\n<div class="paddingL5 paddingR5 paddingB40 display_N1"  ng-controller="practiceTabController as practice"> <!-- pitch-learner page starts -->\n    <div class="borderB_ee borderT18_transparent"> <!-- pitch secondary header starts  -->\n        <div class="" ng-if="!minimal">\n            <div class="lineHeight25 floatL cursor">\n                <div class="floatL backArrow_10_16 marginT4 marginR5 cursor"></div>\n                <div class="floatL color99 F13 cursor"\n                     ng-if="isNewDashboard"\n                     ui-sref="root.courses({\'series\':undefined})"\n                     translate="DASHBOARD_TEXT"></div>\n                <div class="floatL color99 F13" ng-if="isNewDashboard">&nbsp; | &nbsp;</div>\n                <div class="floatL color99 F13 cursor" ng-click="goBack()">{{getBackButtonName()}}</div>\n                <div class="clear"></div>\n            </div>\n            <div class="clear"></div>\n        </div>\n        <div class="lineHeight36 borderT10_transparent" style="padding:0 20px">\n            <div class="floatL F14">\n                <div ng-click="switchTab(\'practice\')" class="floatL pitchLearner_Tab practiseTab pos_rel marginR30 pitchEdit_Tab" ng-class="{\'active\' : miC.tab === \'practice\'}">\n                    <div class="floatL practisiseIcon_20_22 marginT7"></div>\n                    <div class="floatL marginL5" mt-trans="M_TXT_PRACTICE_SUBMIT"></div>\n                    <div class="floatL greenCircleTick_13_13 marginL7 marginT12"\n                            ng-if="practice.fetchData.learningObject.userData.progressState == \'SUBMITTED\'">\n                    </div>\n                    <div class="clear"></div>\n                </div>\n                <div ng-click="switchTab(\'review\')" class="floatL pitchLearner_Tab reviewTab pos_rel marginR30 pitchTrack_Tab" ng-class="{\'active\' : miC.tab === \'review\'}">\n                    <div class="floatL reviewIcon_22_24 marginT6"></div>\n                    <div class="floatL marginL5" mt-trans="M_TXT_REVIEWS"></div>\n                    <div class="floatL greenCircleTick_13_13 marginL7 marginT12"\n                         ng-if="practice.fetchData.learningObject.userData.progressState == \'SUBMITTED\' &&\n                                practice.fetchData.learningObject.userData.state == \'COMPLETED\'">\n                    </div>\n                    <div class="clear"></div>\n                </div>\n                <div ng-click="switchTab(\'submission\')"  ng-if="!practice.isOffline && practice.showTopSubmission" class="floatL pitchLearner_Tab submissionTab pos_rel marginR30 pitchTrack_Tab" ng-class="{\'active\' : miC.tab === \'submission\'}">\n                    <div class="floatL submissionIcon_20_20 marginT8"></div>\n                    <div class="floatL marginL5" mt-trans="M_TXT_SUBMISSION"></div>\n                    <div class="clear"></div>\n                </div>\n                <div class="clear"></div>\n            </div>\n            <div ng-show="practice.fetchData.$resolved && practice.fetchData.gameInfo.dueDate.dueDateType!=\'NONE\'" class="floatR color66 F13" ng-class="{cmplt2day:isDueToday(practice.fetchData.entityLearner.state.current,practice.fetchData.gameInfo.dueDateObj)}">\n                <span class="colorText">{{getDueDateText(practice.fetchData.gameInfo.dueDateObj)}}</span>\n            </div>\n            <div class="clear"></div>\n        </div>\n    </div>  <!-- pitch secondary header ends  -->\n    <div practice-tab ng-if="miC.tab === \'practice\'" class="practiseTab_Area hideAll_descriptionArea"></div>\n    <div review-tab ng-if="miC.tab === \'review\'" class="reviewTab_Area hideAll_descriptionArea"></div>\n    <div submission-tab ng-if="miC.tab === \'submission\' && practice.fetchData.$resolved && practice.showTopSubmission" class="submissionTab_Area hideAll_descriptionArea"></div>\n    <div ng-if="showClickBrowserPopup" style="position: fixed;top: 0px;bottom: 0px;left: 0px;right: 0px;z-index: 10000000;background-color: rgba(0, 0, 0,0.8);vertical-align: middle;padding-top: 20%;">\n        <div style="font-size: 35px;color: white;text-align: center;vertical-align: middle;bottom: 0px;top: 0px;left: 0px;right: 0px;font-weight: 700;" mt-trans="M_TXT_BROWSER_PERMISSION_HEADER">\n        </div>\n        <div style="font-size: 18px;color: white;text-align: center;vertical-align: middle;bottom: 0px;top: 0px;left: 0px;right: 0px;font-weight: 700;" mt-trans="M_TXT_BROWSER_PERMISSION_DETAIL">\n        </div>\n    </div>\n</div>\n<div class="getSupport1" ng-if="!minimal"></div>\n</div>\n<div submission-confirmation-popup></div>\n<div submission-discard-popup></div>\n<div class="bg_ff pos_rel display_N" style="width:640px">  <!-- select reviewer starts -->\n    <div class="" style="padding:20px 0">\n        <div class="textalign_C color36 F18 lineHeight30 marginB25">\n            Select Reviewer <span>2</span>\n        </div>\n        <div class="paddingL20 paddingR20">\n            <div class="borderB_ee" style="padding:10px">\n                <div class="floatL displayInflex pos_rel">\n                    <div style="left:0px; top: 3px;" class="searchIcon_15_14 pos_abs cursor"></div>\n                    <input type="text" style="width: 220px; height: 20px; border: 0px; padding: 0px 20px 0px 20px; outline: 0px; color:#000; background: none;" placeholder="Search" class="lineHeight20 F13 hSearchBox">\n                    <div style="right:0px; top: 5px;" class="cross_10_10 pos_abs cursor display_N"></div>\n                </div>\n                <div class="floatR dropdown pos_rel">\n                    <div class="dropdown-toggle" style="border:0">\n                        <div style="" class="dropdown-text lineHeight20 paddingR20">All Groups</div>\n                        <div class="downArrow_12_7" style="top:8px;right:5px"></div>\n                    </div>\n                    <ul style="max-height:120px;width:200px;top:25px;right:-10px" class="dropdown-menu display_N">\n                        <li>All</li>\n                        <li>Admins</li>\n                        <li>Peers (Group members)</li>\n                        <li>Reviewers</li>\n                    </ul>\n                </div>\n                <div class="clear"></div>\n            </div>\n            <div  style="overflow-y:auto;height:286px">\n                <div class="">\n                    <div class="rowHover F13 lineHeight32 borderB_ee paddingT4 paddingB4">\n                        <div class="floatL" >\n                            <div class="floatL bg_bccad9 marginL10">MJ</div>\n                            <div class="floatL color66 marginL10" style="width:350px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">Manish Junior</div>\n                            <div class="clear"></div>\n                        </div>\n                        <div class="floatR i color99" style="width:150px">Reviewer</div>\n                        <div class="clear"></div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n        <div class="borderT_dd paddingT20" style="width: 100%; overflow-x: hidden">\n            <div style="left:50%;" class="floatL pos_rel">\n                <div style="left:-50%;" class="floatL pos_rel">\n                    <div class="floatL border_cc_30 F13 paddingL20 paddingR20 marginR10 closeMe">Cancel</div>\n                    <div class="floatL btn_0072bc F13 lineHeight30 borderR15 paddingL25 paddingR25">Confirm</div>\n                    <div class="clear"></div>\n                </div>\n            </div>\n            <div class="clear"></div>\n        </div>\n    </div>\n</div> <!-- select reviewer ends -->\n<div ng-if="showTopBarError || showTopBarSuccess" class="statusRow ofh" style="top: 0px; left: 0px; z-index: 100001; width: 100%; position: fixed; display: block;" ng-style="{\'background-color\': (showTopBarError)?\'#ffdfe0\':\'#dafac9\'}">\n    <div class="floatL blackOops_Icon"></div>\n    <div class="floatL lineHeight46">{{errorStatement}}</div>\n    <div class="floatR lineHeight46 color0072_F14 hideStatus cursor marginR20" ng-click="showTopBarError=false">Hide</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/notification.html",'<li class="hover_f9 cursor color00 F13 lineHeight18" ng-click="hideNotifications();globalCtrl.openNotif(notification);">\n\t<div class="floatL marginT5">\n\t\t<img ng-src="{{notification.user.pic ? notification.user.pic : globalCtrl.defaultImage}}"  alt="Pic" style="width:32px;height:32px;border-radius:50%;" class="fs-hide"/>\n\t</div>\n\t<div class="floatL marginL10" style="width:275px;">\n\t\t<div class="marginB7">\n\t\t\t<span class="bold">{{notification.user.name}}</span>\n\t\t\t<span ng-if="notification.type==\'LIKE_ANS\'">&nbsp;<span mt-trans="LB_TXT_LIKED_ANS"></span></span>\n\t\t\t<span ng-if="notification.type==\'ANSWER_ON_Q\'">&nbsp;<span mt-trans="LB_TXT_REPLIED_TO_QST"></span></span>\n\t\t\t<span ng-if="notification.type==\'LIKE_Q\'">&nbsp;<span mt-trans="LB_TXT_LIKED_QST"></span></span>\n\t\t</div>\n\t\t<div>\n\t\t\t<span class="color8b F12">{{notification.timestamp*1000 | date}}</span>\n\t\t</div>\n\t</div>\n\t<div class="clear"></div>\n</li>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/participant-snippet.html",'<div style="padding:30px 10px; height:246px;" class="floatL pos_rel border_cc marginR30 marginB40">\n\t<div ng-show="participantsCtrl.entity" class="pos_abs border_cc bg_f9" style="padding:6px 10px;left:-13px;top:8px;">\n\t\t<div class="floatL color99 F12 lineHeight24 marginR6">{{user.entity_score}}</div>\n\t\t<div class="floatL" data-ng-bind-html="participantsCtrl.getMedalCss(user.entity_score)"></div>\n\t\t<div class="clear"></div>\t\t\t\t\n\t</div>  \n\t<div style="width:230px" class="textalign_C">\n\t   <div class="marginB10">\n\t\t\t<div style="left:50%" class="floatL pos_rel">\n\t\t\t\t<div style="left:-50%" class="floatL pos_rel">\n\t\t\t\t\t<img ui-sref=".participant({uid:user.id})" class="cursor" style="width:64px;height:64px;border-radius:50%;" alt="" ng-src="{{user.pic}}">\n\t\t\t\t\t<div style="right:-43px;top:16px" class="pos_abs">\n\t\t\t\t\t\t<div class="floatL halfStar_11_16 marginT8"></div>\n\t\t\t\t\t\t<!--div class="floatL lineHeight32 colorf48414 F18">{{participantsCtrl.getKScore(user.company_score)}}</div-->\n\t\t\t\t\t\t<div class="floatL lineHeight32 colorf48414 F18">{{participantsCtrl.getUserKscore(user)}}</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div ui-sref=".participant({uid:user.id})" class="cursor color00 F16 lineHeight26">{{user.name | characters:15}}</div>\n\t\t\t<div class="color99 F13 lineHeight20" ng-repeat="fieldVal in user.firstTwoFieldsArr track by $index">{{fieldVal | characters:15}}</div>\n\t\t\t<!--div class="color99 F13 lineHeight20">{{user.firstTwoFields.second | characters:15}}</div-->\n\t\t<div>\n\t\t\t<div style="left:50%" class="floatL pos_rel">\n\t\t\t\t<div style="left:-50%" class="floatL pos_rel">\n\t\t\t\t\t<div ng-show="globalCtrl.getMyId()==user.id" ng-click="globalCtrl.openEditProfile(false)" class="blueBorderBtn_30 F13 paddingL17 paddingR17 marginT15" mt-trans="PROFILE_EDIT_PIC"></div>\n\t\t\t\t\t<div ng-if="!participantsCtrl.entity || settings.fixed.isMessages">\n\t\t\t\t\t\t<div ng-hide="globalCtrl.getMyId()==user.id" ng-click="globalCtrl.sendPrivateMessage(user)" class="blueBorderBtn_30 F13 paddingL17 paddingR17 marginT15" mt-trans="MSG_BTN_TXT"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\t\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/participants.html",'<div ui-view class="participantSection paddingT20">\n\t<div ng-show="participantsCtrl.viewLoading"><img ng-src="{{loaderImg}}"/></div>\n\t<div ng-hide="participantsCtrl.viewLoading">\n\t    <div class="borderB15_transparent  cursor marginL20">\n\t\t\t<div class="cursor floatL" ng-click="globalCtrl.goback()">\n\t\t\t\t<div class="floatL marginR5 marginT4 backArrow_10_16"></div>\n\t\t\t\t<div class="floatL color99 F14 lineHeight24" mt-trans="BACK_TEXT"></div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t    <div>\n\t\t\t<div class="floatL1 paddingL20 paddingR30 pos_abs" style="border-top: 15px solid transparent;">\n\t\t\t\t<div style="width:210px" class="">\n\t\t\t\t\t<div ng-if="participantsCtrl.isPartnerTraining" class="tagSection marginB10" ng-init="myVal=true">\n\t\t\t\t\t\t<div class="borderB_ee paddingB5 marginB10 closedCourseDes" ng-class="{Open:myVal}">\n\t\t\t\t\t\t\t<div ng-click="myVal=!myVal" class="floatL openClosed marginR10"></div>\n\t\t\t\t\t\t\t<div class="floatL F13 color99 lineHeight20">My Groups</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-show="myVal">\n\t\t\t\t\t\t\t<div ng-repeat="myGroup in participantsCtrl.myGroupsSection"\n\t\t\t\t\t\t\t\t ng-click="participantsCtrl.setGroup(myGroup.id)"\n\t\t\t\t\t\t\t\t ng-class="{selected:participantsCtrl.group==myGroup.id}"\n\t\t\t\t\t\t\t\t class="tagFilter floatL">\n\t\t\t\t\t\t\t\t{{myGroup.name}}({{myGroup.count}})\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-if="globalCtrl.getProfileFieldName(profileField)!=\'NA\' && !participantsCtrl.isPartnerTraining" ng-hide="participantsCtrl.loadingTags" class="tagSection marginB10" ng-repeat="(profileField,tags) in participantsCtrl.tagSections">\n\t\t\t\t\t\t<div class="borderB_ee paddingB5 marginB10 closedCourseDes" ng-class="{Open:myVal}">\n\t\t\t\t\t\t\t<div ng-click="myVal=!myVal" ng-init="myVal=($index==0)" class="floatL openClosed marginR10"></div>\n\t\t\t\t\t\t\t<div class="floatL F13 color99 lineHeight20">{{globalCtrl.getProfileFieldName(profileField)}}</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-show="myVal">\n\t\t\t\t\t\t\t<div ng-if="tagName!=\'\'"\n\t\t\t\t\t\t\t\t ng-click="participantsCtrl.setCurrentTag(profileField,tag.key)"\n\t\t\t\t\t\t\t\t ng-class="{selected:participantsCtrl.currentTagValue==tag.key}"\n\t\t\t\t\t\t\t\t class="tagFilter floatL" ng-repeat="tag in tags">\n\t\t\t\t\t\t\t\t{{tag.key}}({{tag.val}})\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div ng-show="participantsCtrl.initialParticipantsLoading" style="margin-left:270px"><img ng-src="{{loaderImg}}"/></div>\n\t\t\t<div ng-hide="participantsCtrl.initialParticipantsLoading" style="margin-left:270px" class="paddingR20">\n\t\t\t    <div class="marginB10" style="height: 30px;">\n\t\t\t\t    <div class="floatL F18 color00 lineHeight30" mt-trans="LB_TXT_ALL_PARTICIPANTS"></div>\n\t\t\t\t    <div class="floatL" ng-if="!participantsCtrl.isPartnerTraining || (participantsCtrl.isPartnerTraining && participantsCtrl.numGroups>0)">\n\t\t\t\t    \t<div class="floatL marginL20 marginR10 marginT5" style="width:1px;height:20px;background:#ddd"></div>\n\t\t\t\t\t\t<div class="displayInflex pos_rel paddingL10 marginT5 paddingB4 floatL F14" id="officeLocationParent">\n\t\t\t\t\t\t\t<div ng-click="triggerSearch()" style="left: 10px; top: 3px;" class="searchIcon_15_14 pos_abs cursor"></div>\n\t\t\t\t\t\t\t<input ng-model="participantsCtrl.searchquery" click-anywhere-but-here="onClickOut()" ng-click="onClickIn()" ng-keypress="($event.which === 13)?triggerSearch():0" type="text" style="width: 215px; height: 20px; border: 0px; padding: 0px 20px 0px 20px;color:#000; background: none;" placeholder="{{Game.Messages.SEARCH}}" class="lineHeight20 officeLocation ui-autocomplete-input" autocomplete="off">\n\t                        <div ng-if="participantsCtrl.searchquery" style="right: 0px; top: 6px; display: block;" class="cross_10_10 pos_abs cursor clearSearchEntities display_N" ng-click="clearTheSearch()"></div>\n\t                        <div class="pos_abs autocomplete-results" style="left: -15px; top: 22px; z-index: 100;" ng-if="!resultFound && clickInPreviewDD && showDropDown && participantsCtrl.searchquery.length > 0 && participantsCtrl.suggestions.length == 0">\n\t                            <div style="width:348px;left:0;top:0px;box-shadow:0px 1px 0px #dadada;" class="ddBG1 pos_abs">\n\t                                <div class="F13 lineHeight30 color99 i" style="border-bottom:1px solid #ccc;padding:0px 20px">Press Enter to see all results for "{{participantsCtrl.searchquery}}"</div>\n\t                                <ul class="lineHeight45 listHolder" style="margin:0;padding:0;max-height:240px;overflow-y:auto">\n\t                                    <li class="hover_f7 lineHeight20 color00 F13  checkbox_parent cursor selected" style="padding: 10px 15px; ">\n\t                                        No Result found\n\t                                    </li>\n\t                                </ul>\n\t                            </div>\n\t                        </div>\n\t                        <div class="pos_abs autocomplete-results" ng-if="showPreviewDD()" style="left: -10px; top: 22px; z-index: 100;">\n\t                            <div style="width:348px;left:0;top:0px;box-shadow:0px 1px 0px #dadada;" class="ddBG1 pos_abs">\n\t                                <div class="F13 lineHeight30 color99 i" style="border-bottom:1px solid #ccc;padding:0px 20px">Press Enter to see all results for "{{participantsCtrl.searchquery}}"</div>\n\t                                <ul class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content ui-corner-all" id="ui-id-1" tabindex="0" style="top: 30px !important; left: 0px !importantrout; z-index: 1; width: 347px !important;">\n\t                                    <li ui-sref=".participant({uid:suggested.id})" ng-repeat="suggested in participantsCtrl.suggestions" class="hover_f7 lineHeight20 F13  checkbox_parent cursor selected borderB_ee" style="padding: 10px;">\n\t                                        <div class="color00" style="overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">\n\t                                            <div class="floatL marginT4">{{suggested.name}}</div>\n\t                                            <div class="floatL marginL10">\n\t                                                <div class="floatL halfStar_11_12 marginT8"></div>\n\t                                                <div class="floatL lineHeight30 colorf48414 F14">{{participantsCtrl.Math.floor(suggested.score/100)}}</div>\n\t                                                <div class="clear"></div>\n\t                                            </div>\n\t                                            <div class="clear"></div>\n\t                                        </div>\n\t                                        <div class="colorcc lineHeight10" style="line-height:16px; overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{suggested.email}}</div>\n\t                                        <div class="clear"></div>\n\t                                    </li>\n\t                                </ul>\n\t                            </div>\n\t                        </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t    </div>\n\t\t\t\t\t\n\t\t\t\t\t<div class="floatR borderT8_transparent">\n\t\t\t\t\t    <div ng-hide="participantsCtrl.entity"\n\t\t\t\t\t    \tng-click="participantsCtrl.changeSortOn(\'companies.score.value\')"\n\t\t\t\t\t    \tng-class="{active:participantsCtrl.sorton==\'companies.score.value\'}"\n\t\t\t\t\t    \tclass="floatL smcls knowledgeScore  cursor marginL20">\n\t\t\t\t\t\t    <div class="unselectable floatL F13 lineHeight18 marginR5" mt-trans="LB_TXT_KNOWLEDGE_SCORE"></div>\n\t\t\t\t\t\t\t<div ng-class="{downArrow:participantsCtrl.sortorder==\'desc\',upArrow:participantsCtrl.sortorder==\'asc\'}" class="floatL marginT5 downArrow changeArrow"></div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-show="participantsCtrl.entity"\n\t\t\t\t\t\t\t ng-click="participantsCtrl.changeSortOn(\'companies.entities.score.value\')"\n\t\t\t\t\t\t\t ng-class="{active:participantsCtrl.sorton==\'companies.entities.score.value\'}"\n\t\t\t\t\t\t\t class="floatL smcls ptsScore cursor marginL20">\n\t\t\t\t\t\t    <div class="unselectable floatL F13 lineHeight18 marginR5" mt-trans="LB_TXT_POINTS"></div>\n\t\t\t\t\t\t\t<div ng-class="{downArrow:participantsCtrl.sortorder==\'desc\',upArrow:participantsCtrl.sortorder==\'asc\'}" class="floatL marginT5 downArrow changeArrow"></div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-click="participantsCtrl.changeSortOn(\'name\')" ng-class="{active:participantsCtrl.sorton==\'name\'}" class="floatL smcls nameScore cursor marginL20">\n\t\t\t\t\t\t    <div class="unselectable floatL F13 lineHeight18 marginR5" mt-trans="LB_TXT_NAME"></div>\n\t\t\t\t\t\t\t<div ng-class="{downArrow:participantsCtrl.sortorder==\'desc\',upArrow:participantsCtrl.sortorder==\'asc\'}" class="floatL marginT5 changeArrow"></div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n                <div class="paddingT10 paddingB15 borderT_ee F14" ng-if="participantsCtrl.displaySearchInfoHeader">\n                    {{Game.Messages.LB_TXT_SEARCH_RESULT_FOR1}} <span class="bold">"{{decodeURIComponent(participantsCtrl.searchQuery)}}"</span>\n                </div>\n\t\t\t\t<div  infinite-scroll="participantsCtrl.loadNextPageParticipants()" infinite-scroll-distance="0" infinite-scroll-disabled="participantsCtrl.moreParticipantsLoading || participantsCtrl.totalParticipants===0|| participantsCtrl.currentParticipants.length>=participantsCtrl.totalParticipants"  infinite-scroll-immediate-check="false">\n\t\t\t\t\t<div participant-snippet ng-repeat="user in participantsCtrl.currentParticipants track by $index"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-click="participantsCtrl.loadNextPageParticipants()" ng-show="participantsCtrl.moreParticipantsLoading==false && participantsCtrl.totalParticipants>0 && participantsCtrl.currentParticipants.length<participantsCtrl.totalParticipants" style="text-align:center;margin:15px;" class="paddingR20 cursor color0072bc" mt-trans="LB_TXT_LOAD_MORE"></div>\n\t\t\t\t<div ng-show="participantsCtrl.moreParticipantsLoading" style="margin-left:245px" class="paddingR20"><img ng-src="{{loaderImg}}"/></div>\n\t\t\t</div>\n\t\t\t<div ng-show="participantsCtrl.initialParticipantsLoading==false && participantsCtrl.currentParticipants.length==0" style="margin-left:270px" mt-trans="NO_USERS_FOUND"></div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/private-message.html",'<li class="hover_f9 display_N1 cursor color00 F13 lineHeight18">\n\t<div class="floatL marginT5">\n\t\t<img ng-src="{{message.user.pic ? message.user.pic : globalCtrl.defaultImage}}" alt="" style="width:32px;height:32px;border-radius:50%;" class="fs-hide">\n\t</div>\n\t<div class="floatL marginL10" style="width:275px;">\n\t\t<div class="marginB7">\n\t\t\t<span class="bold fs-hide">{{message.user.name}}</span>\n\t\t\t<span class="fs-hide">{{message.textMsg}}</span>\n\t\t</div>\n\t\t<div>\n\t\t\t<span class="color8b F12">{{getNiceDate(message.timestamp)}}</span>\n\t\t\t<span ng-click="globalCtrl.hideMessages();globalCtrl.sendPrivateMessage(message.user);" class="color0072bc F12 marginL10 cursor" mt-trans="MSG_REPLY_TXT"></span>\n\t\t</div>\n\t</div>\n\t<div class="clear"></div>\n</li>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/profile-snippet.html",'<div style="padding:30px 10px; height:246px;" class="floatL pos_rel border_cc marginR30 marginB40">\n\t<div class="pos_abs border_cc bg_f9" style="padding:6px 10px;left:-13px;top:8px;">\n\t\t<div class="floatL color99 F12 lineHeight24 marginR6">{{user.score}}</div>\n\t\t<div class="floatL marginT4 badgeImgContainer" style="width:24px;height:24px;" data-ng-bind-html="lbUser.medalDiv"></div>\n\t\t<div class="clear"></div>\t\t\t\t\n\t</div>  \n\t<div style="width:230px" class="textalign_C">\n\t   <div class="marginB10">\n\t\t\t<div style="left:50%" class="floatL pos_rel">\n\t\t\t\t<div style="left:-50%" class="floatL pos_rel">\n\t\t\t\t\t<img ui-sref=".participant({uid:user.id})" class="cursor" style="width:64px;height:64px;border-radius:50%;" alt="" ng-src="{{user.pic}}">\n\t\t\t\t\t<div style="right:-43px;top:16px" class="pos_abs">\n\t\t\t\t\t\t<div class="floatL halfStar_11_16 marginT8"></div>\n\t\t\t\t\t\t<div class="floatL lineHeight32 colorf48414 F18">{{lbCtrl.getUserKscore(user)}}</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div ui-sref=".participant({uid:user.id})" class="cursor color00 F16 lineHeight26">{{user.name | characters:15}}</div>\n\t\t\t<div class="color99 F13 lineHeight20">{{user.firstTwoFields.first | characters:15}}</div>\n\t\t\t<div class="color99 F13 lineHeight20">{{user.firstTwoFields.second | characters:15}}</div>\n\t\t<div>\n\t\t\t<div style="left:50%" class="floatL pos_rel">\n\t\t\t\t<div style="left:-50%" class="floatL pos_rel">\n\t\t\t\t\t<div ng-if="globalCtrl.getMyId()==user.id" ng-click="globalCtrl.openEditProfile(false)" class="blueBorderBtn_30 F13 paddingL17 paddingR17 marginT15" mt-trans="PROFILE_EDIT_PIC"></div>\n\t\t\t\t\t<div ng-if="settings.fixed.isMessages && globalCtrl.getMyId()!=user.id" ng-click="globalCtrl.sendPrivateMessage(user)" class="blueBorderBtn_30 F13 paddingL17 paddingR17 marginT15" mt-trans="MSG_BTN_TXT"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\t\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/quick-update-browser-header.html",'<div class="col-md-12 paddingT9 paddingB9" id="browserTop_Header" style="padding-right:0;">\n\t<div class="col-md-12 lineHeight32 paddingL5" style="padding-right:0;">\n        <div class="floatL cursor marginT6" style="z-index:1;" ng-hide="isPreview">\n        \t<div ng-click="exitToHome()" class="floatL" tabindex="0" aria-label="Back to home page">\n\t            <div class="floatL marginT0 backArrow_10_16"></div>\n\t            <div class="floatL" ng-if="isNewDashboard"\n\t                 style="color: #9b9b9b;font-size: 13px;line-height: 16px;" >\n\t                <div style="padding-left: 5px;max-width: 160px;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;" translate="DASHBOARD_TEXT"></div>\n\t            </div>\n\t            <div class="clear"></div>\n            </div>\n\n            <div class="floatL color99" style="line-height: 16px;" ng-if="isNewDashboard">&nbsp; | &nbsp;</div>\n            <div class="floatL tooltip_bottom_left_new tooltip_width500" ng-click="exitUpdate()" style="color: #9b9b9b;font-size: 13px;line-height: 16px;" mtitle="{{getBackButtonName()}}" tabindex="0"  aria-label="Back to Series">\n            \t<div style="padding-left: 5px;max-width: 160px;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;">{{getBackButtonName()}}</div>\n            </div>\n            <div class="clear"></div>\n        </div>\n\t\t<div class="colorff F18 textalign_C pos_rel paddingR40" style="margin-left:35px;margin-right:165px">\n\t\t\t<div class="floatL pos_rel" style="left:50%">\n\t\t\t\t<div class="floatL pos_rel" style="left:-50%">\n\t\t\t\t\t<div class="floatL qBG_L marginT4 marginR5" tabindex="0" aria-label="Quick update icon">Q</div>\n\t\t\t\t\t<div class="floatL tooltip_bottom_left_new" mtitle="{{topicName}}" >\n\t\t\t\t\t\t<div class="floatL ellipsis" tabindex="0" style="max-width:300px">{{topicName}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="floatR menuItem marginT1 cursor" ng-show="sideBarCtrl.sideBarStatus==0 && !deleteSideBar" ng-click="sideBarCtrl.toggleSideBar()" style="position: relative; z-index: 10;border:1px solid #999;border-right:0;border-radius:15px 0 0 15px;padding:0 10px;background:#f9f9f9">\n\t     \t<div class="Arrow_Left_Black_15_12 marginT8 marginB8"></div>\n\t\t</div>\n\t\t<div class="floatR menuItem marginT1 cursor" ng-show="sideBarCtrl.sideBarStatus==1" ng-click="sideBarCtrl.toggleSideBar()" style="position: relative; z-index: 10;border:1px solid #999;border-right:0;border-radius:15px 0 0 15px;padding:0 10px;background:#f9f9f9">\n\t     \t<div class="Arrow_Right_15_12 marginT8 marginB8"></div>\n\t\t</div>\n\t\t<div class="tickleScoreBar floatR"></div>\n\t\t<div class="clear"></div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/quick-update-layout.html",'<div style="min-width: 1000px" ng-controller="GlobalCtrl as globalCtrl" class="courseMainContainer">\n\t<div class="container-fluid">\n\t\t<div class="sliderPart pos_rel" ng-controller="CourseSideBarCtrl as sideBarCtrl">\n\t\t\t<div course-facto-sidebar></div>\n\t\t\t<div class="outerWrapper pos_rel" ng-attr-style="margin-right: {{sideBarCtrl.sideBarStatus==1?290:0}}px;">\n\t\t\t\t<div class="row bg_11 borderB_11" ng-controller="HeaderCtrl as headerCtrl">\n\t\t\t\t\t<div quick-update-browser-header></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="Container">\n\t\t\t\t\t<div ui-view class="row">Loading</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="getSupport1"></div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/send-message.html",'<div class="">\n    <div class="borderT20_transparent color00 F18 lineHeight28 textalign_C">Write a Message</div>\n\t<div class="borderT35_transparent margin0_auto" style="width:400px;">\n\t\t<div class="marginB10">\n\t\t   <img class="display_B margin0_auto" src="{{userObj.pic}}" alt="" style="width:80px;height:80px;border-radius:50%;">\n\t\t</div> \n\t\t<div class="color00 F18 lineHeight28 textalign_C borderB15_transparent">{{userObj.name}}</div>\n\t\t<div ng-hide="sentNewMessage==true">\n\t\t\t<div class="border_cc pos_rel" style="padding:7px 10px">\n\t\t\t\t<textarea ng-model="$parent.newmessage" style="width:378px;height:100px;font-size:12px;line-height:18px;color:#000;border:0;resize:none;margin:0;padding:0;outline:0" name="" spellcheck="false" placeholder="Type your message here..." class=""></textarea>\n\t\t\t\t<div ng-show="showErrMsg" class="pos_abs colored1c24 F13" style="bottom: -20px;left: 0;">{{errMsg}}</div>\n\t\t\t</div>\n\t\t\t<div class="marginT50 btnSection marginB20">\n\t\t\t\t<div style="left:50%;" class="floatL pos_rel">\n\t\t\t\t\t<div style="left:-50%;" class="floatL pos_rel">\n\t\t\t\t\t\t<div ng-click="cancelSendMessage()" class="Border_cc_Btn_30 floatL F13 paddingL20 paddingR20 marginR25">Cancel</div>\n\t\t\t\t\t\t<div ng-click="sendMessage()" class="blueBg_Btn_30 floatL F13 paddingL20 paddingR20" translate="SEND"></div>\n\t\t\t\t\t\t<div class="clear"></div>\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\t\n\t\t<div ng-show="sentNewMessage==true">\n\t\t    <div class="color00 F18 lineHeight28 textalign_C borderB15_transparent">Your message has been sent.</div>\n\t\t\t<div class="marginT20 btnSection marginB20">\n\t\t\t\t<div style="left:50%;" class="floatL pos_rel">\n\t\t\t\t\t<div style="left:-50%;" class="floatL pos_rel">\n\t\t\t\t\t\t<div ng-click="cancelSendMessage()" class="blueBg_Btn_30 F13 paddingL20 paddingR20" translate="DONE"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\t\n</div>'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/series-thumb.html",'<div class="floatL hoverCourse_seriesBg borderL_transparent borderR_transparent pos_rel marginR30 marginB40">   <!-- Series course starts -->\n\t<div style="height:302px" class="courseThumbNail cursor"  ng-click="openSeries()" ng-class="{ inProgress_Course:series.totalCompletedEntities>0 && series.totalCompletedEntities!=series.totalEntities}">\n\t\t<div class="seriesTop_bgPart"></div>\n\t\t<div style="border-top:0;" class="border_e0">\n\t\t    <div style="padding:0px 10px 10px 10px">\n\t\t\t    <div style="height:214px" class="pos_rel">\n\t\t\t\t    <div class="color00 F18 cursor lineHeight24 marginB15 tooltip_bottom_left" mtitle="{{series.name}}">\n\t\t\t\t    \t<div class="truncate_2_line sname" style="max-height:48px">{{series.name}}</div>\n\t\t\t\t    </div>\n\t\t\t\t\t<div class="marginB12" ng-class="{ completedCourse:entity.isCompleted}" ng-repeat="entity in getEntitiesToDisplay()">\n\t\t\t\t\t    <div class="floatL Course_circleIcon marginR7 marginT1"></div>\n\t\t\t\t\t    <div class="floatL Course_lockIcon marginR7 marginT1" ng-show="entity.lockState ==\'LOCKED\' && !entity.isCompleted"></div>\n\t\t\t\t\t\t<div class="floatL color_00 F13 lineHeight18" style="width:175px;overflow:hidden;text-overflow:ellipsis;white-space: nowrap;">{{entity.name}}</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- <div class="marginB12">\n\t\t\t\t\t    <div class="floatL Course_lockIcon marginR7 marginT1"></div>\n\t\t\t\t\t\t<div class="floatL color_00 F13 lineHeight18" style="width:175px;overflow:hidden;text-overflow:ellipsis;white-space: nowrap;">Lock</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div> -->\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<div ng-if="(series.totalEntities > 5 || (maxEntities==4 && series.totalEntities==5))">\n\t\t\t\t\t    <div class="floatL plusIcon_14_14 marginR9 marginT2"></div>\n\t\t\t\t\t\t<div class="floatL color_00 F13 lineHeight18" translate="N_MORE" translate-value-n="{{series.totalEntities - maxEntities}}"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="">\n\t\t\t\t\t<div class="borderTop pos_rel">\n\t\t\t\t\t\t<div style="top:0;left:0;width:{{(series.totalCompletedEntities*100)/series.totalEntities}}%" class="progressBar_Bg"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-show="series.totalCompletedEntities==0" ng-click="openSeries()" class="floatL blueBorderBtn_30 F12 paddingL17 paddingR17">\n\t\t\t\t\t\t<div class="floatL" mt-trans="VIEW"></div>\n\t\t\t\t\t\t<div class="floatL blueArrowRight_10_9 marginL5 marginT9"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-show_1="series.totalCompletedEntities>0 && series.totalCompletedEntities!=series.totalEntities" class="display_N floatL color00 F12 lineHeight30">\n\t\t\t\t\t\t<div class="floatL">{{series.totalCompletedEntities}}%</div>\n\t\t\t\t\t\t<div class="floatL marginL5" mt-trans="COMPLETE"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-show="series.totalCompletedEntities>0" class="floatL color67cc5f F12 lineHeight30">\n\t\t\t\t\t\t<div class="floatL">{{series.totalCompletedEntities}}/{{series.totalEntities}}</div>\n\t\t\t\t\t\t<div class="floatL marginL5" mt-trans="COMPLETE"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\t\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/simple-profile-field.html",'<div class="borderB10_transparent">\n\t<div style="width:180px;" class="floatL marginR10 textalign_R color7d F14 lineHeight28">{{field.displayName}}<span ng-show="field.isRequired==true">*</span></div>\n\t<div class="floatL displayInflex pos_rel border_cc bg_ff borderR2 paddingL10 paddingR10 paddingT4 paddingB4">\n\t\t<input ng-model="field.newval"  type="text" class="lineHeight18 F14 color00" style="width:285px;height:18px;border:0;padding:0;outline:0">\n\t</div>\n\t<div class="pos_rel floatL">\n\t\t<div style="width:21px;" class="marginL10">\n\t\t\t<div ng-class="{greenTick:!invalid,wrongIcon:invalid}" style="margin:8px auto 0 auto" class="iconClass"></div>\n\t\t</div>\n\t\t<div ng-show="invalid" style="top:0;left:40px;width:290px;" class="errorMsg_Box pos_abs">\n\t\t\t<div class="floatL ">\n\t\t\t\t<div style="top:7px;left:-7px;" class="pos_abs pinkTriangle"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="floatL errorBox">{{errMsg}}</div>\n\t\t\t\t<div class="clear"></div>\n\t\t</div>\n\t</div>\n\t<div class="clear"></div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/small-header.html",'<div class="row bg_f9 borderB_ee courseHeaderContainer">\n    <div game-browser-header ng-if="!isIPad()"></div>\n    <div game-ipad-header ng-if="isIPad()"></div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/upload-profile-pic.html",'<div>\n\t<div>Upload pic here</div>\n\t<div class="marginT50 btnSection marginB20">\n\t<div style="left:50%;" class="floatL pos_rel">\n\t\t<div style="left:-50%;" class="floatL pos_rel">\n\t\t\t\t<div ng-click="picCtrl.closeMe()" class="Border_cc_Btn_30 floatL F13 paddingL20 paddingR20 marginR25">Cancel</div>\n\t\t\t\t<div ng-click="picCtrl.uploadToServer()" class="blueBg_Btn_30 floatL F13 paddingL20 paddingR20">Select from comp</div>\n\t\t\t\t<div class="clear"></div>\t\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/view-profile.html",'<div class="userFullProfile" style="border-top:20px solid transparent;">\n\t<div ng-show="viewProfileCtrl.viewLoading" class="marginL20"><img ng-src="{{loaderImg}}"/></div>\n\t<div ng-hide="viewProfileCtrl.viewLoading">\n    <div>\n\t\t<div ng-click="globalCtrl.goback()" class="cursor floatL marginL20">\n\t\t\t<div class="floatL marginR5 marginT4 backArrow_10_16"></div>\n\t\t\t<div class="floatL color99 F14 lineHeight24" mt-trans="BACK_TEXT"></div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\t\n\t<div class="borderT65_transparent">\n\t    <div style="width:500px" class="margin0_auto">\n\t\t    <div class="border_cc pos_rel">\n\t\t\t    <div style="top:-63px;left:25px;" class="pos_abs">\n\t\t\t\t\t<div style="max-width:80px;max-height:80px;" class="">\n\t\t\t\t\t\t<img style="border-radius:50%;width: 80px;height: 80px;max-width: 80px;max-height: 80px;" ng-src="{{viewProfileCtrl.pic}}">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="bottom:25px;width:250px;left:90px;" class="pos_abs color00 F18 lineHeight26">{{viewProfileCtrl.learnerObj.name}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-show="settings.fixed.isMessages">\n\t\t\t\t\t<div ng-hide="globalCtrl.getMyId()==viewProfileCtrl.learnerObj.id" ng-click="globalCtrl.sendPrivateMessage(viewProfileCtrl.learnerObj)" style="right:0;top:-38px" class="pos_abs blueBorderBtn_30 F12 paddingL17 paddingR17">Message</div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-show="globalCtrl.getMyId()==viewProfileCtrl.learnerObj.id" class="pos_abs" style="right:0;top:-38px">\n\t\t\t\t\t<div class="commonDD cursor pos_rel">\n\t\t\t\t\t\t<div click-anywhere-but-here="hideDD()" ng-click="toggleDD()" class="menu_16_16"></div>\n\t\t\t\t\t\t<div class="ddDiv pos_rel" style="right:-58px;top:7px;" ng-show="showDD==1">\n\t\t\t\t\t\t\t<div class="triangleTop_28_14 pos_abs" style="right:52px;top:-2px;z-index:1;"></div>\n\t\t\t\t\t\t\t<div style="width:168px;right:0;top:11px;" class="ddBG1 pos_abs">\n\t\t\t\t\t\t\t\t<ul style="margin:0;padding:0;">\n\t\t\t\t\t\t\t\t\t<li ng-click="globalCtrl.openEditProfile();showDD=0" class="hover_f9 color37 F13 lineHeight18" style="padding-top:10px;padding-bottom:10px;">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL marginL10" translate="EDIT_PROFILE_TEXT">Edit Profile</div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li ng-if="globalCtrl.isMindTickleLoginEnabled()" ng-click="globalCtrl.openChangePassword();showDD=0" class="hover_f9 color37 F13 lineHeight18" style="padding-top:10px;padding-bottom:10px;">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL marginL10" translate="CHANGE_PASSWORD_HEADER">Change Password</div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="padding:40px 35px 25px">\n\t\t\t\t    <ul style="margin:0;padding:0;list-style:none">\n\t\t\t\t\t    <li class="lineHeight20 F13 marginB15">\n\t\t\t\t\t\t    <div style="width:120px" class="floatL color99 marginR10" mt-trans="LB_TXT_KNOWLEDGE_SCORE"></div>\n\t\t\t\t\t\t\t<div style="width:295px" class="floatL">\n\t\t\t\t\t\t\t    <div class="floatL">\n\t\t\t\t\t\t\t\t\t<div class="floatL halfStar_11_16 marginT2"></div>\n\t\t\t\t\t\t\t\t\t<div class="floatL colorf48414 F18">{{viewProfileCtrl.getKscore()}}</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>  \n\t\t\t\t\t\t\t\t<!--div class="floatL F12 lineHeight16 color99 marginL10 marginT3">(<span mt-trans="LB_TXT_TOTAL_SCORE"></span>: {{viewProfileCtrl.learnerObj.company_score}})</div-->  \n\t\t\t\t\t\t\t\t<div class="clear"></div>  \n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li ng-repeat="field in viewProfileCtrl.orderedFields" class="lineHeight20 F13 marginB15">\n\t\t\t\t\t\t    <div style="width:120px" class="floatL color99 marginR10">{{field.displayName}}</div>\n\t\t\t\t\t\t\t<div style="width:295px" class="floatL color00">{{getUnescapedValue(field.val)}}</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li ng-repeat="field in viewProfileCtrl.orderedManagerFields" class="lineHeight20 F13 marginB15">\n\t\t\t\t\t\t    <div style="width:120px" class="floatL color99 marginR10">{{field.displayName}}</div>\n\t\t\t\t\t\t\t<div style="width:295px" class="floatL color00">{{getUnescapedValue(field.val)}}</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<!--li ng-if="globalCtrl.getProfileFieldName(feild_key)!=\'NA\'" class="lineHeight20 F13 marginB15" ng-repeat="(feild_key,field_val) in viewProfileCtrl.learnerObj.profile">\n\t\t\t\t\t\t    <div style="width:120px" class="floatL color99 marginR10">{{globalCtrl.getProfileFieldName(feild_key)}}</div>\n\t\t\t\t\t\t\t<div style="width:295px" class="floatL color00">{{field_val}}</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</li-->\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="moduleStateAggs">\n\t\t\t\t<div ng-repeat="(k,v) in viewProfileCtrl.moduleTypeStateAggs[viewProfileCtrl.selectedInvitedFrom]">\n\t\t\t\t   <div class="floatL">{{k}}</div>\n\t\t\t\t   <div class="floatL">{{v}}</div>\n\t\t\t\t   <div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div ng-show="viewProfileCtrl.loadingTrackPerformance" class="textalign_C"><img ng-src="{{loaderImg}}"/></div>\n\t\t\t<div ng-show="!viewProfileCtrl.loadingTrackPerformance" class="textalign_C">\n\t\t\t\t<div ng-repeat="(sid,tpObj) in viewProfileCtrl.trackPerformance" style="padding:10px 10px" class="borderB_ee lineHeight20">\n\t\t\t\t\t<div class="color00 F13 floatL" style="width:300px">\n\t\t\t\t    \t<div class="floatL folderIcon_14_10 marginR5 marginT5"></div>\n\t\t\t\t    \t<div class="floatL" style="overflow: hidden;text-overflow: ellipsis;white-space: nowrap;max-width:300px;">{{tpObj.name}}</div>\n\t\t\t\t    \t<div class="clear"></div>\n\t\t\t\t    </div>\n\t\t\t\t    <div class="color00 F13 floatL" style="width:60px">\n\t\t\t\t    \t{{tpObj.stateCountMap.COMPLETED}}/{{tpObj.stateCountMap.ADDED+tpObj.stateCountMap.ACTIVE+tpObj.stateCountMap.COMPLETED}}\n\t\t\t\t    </div>\n\t\t\t\t    <div class="color00 F13 floatL" style="width:80px">\n\t\t\t\t    \t{{tpObj.myScore}}/{{tpObj.maxScore}}\n\t\t\t\t    </div>\n\t\t\t\t    <div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div ng-show="viewProfileCtrl.loadingAchivements!=true && globalCtrl.getMyId()==viewProfileCtrl.learnerObj.id && viewProfileCtrl.learnerAchivements.length==0"\n\t\t\t\tclass="borderT25_transparent textalign_C" mt-trans="LB_TXT_NO_COMPLETIONS"></div>\n\t\t\t<div ng-show="globalCtrl.getMyId()==viewProfileCtrl.learnerObj.id && viewProfileCtrl.totalAvailable>0" class="borderT25_transparent">\n\t\t\t\t<div class="borderB_cc">\n\t\t\t\t\t<div style="width:330px" class="floatL color99 F13 lineHeight24">\n\t\t\t\t\t\t<span mt-trans="COMPLETED"></span>\n\t\t\t\t\t\t<span>({{viewProfileCtrl.totalCompleted}}</span>\n\t\t\t\t\t\t<span>of</span>\n\t\t\t\t\t\t<span>{{viewProfileCtrl.totalAvailable}})</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL color66 F13 lineHeight24 marginL20" mt-trans="BADGE"></div>\n\t\t\t\t\t<div class="floatL color66 F13 lineHeight24 marginL20" mt-trans="LB_TXT_CERTIFICATE"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-repeat="achievement in viewProfileCtrl.learnerAchivements" style="padding:10px 10px" class="borderB_ee lineHeight20">\n\t\t\t\t    <div style="width:330px" class="floatL">\n\t\t\t\t\t    <div class="color00 F13">\n\t\t\t\t\t    \t<div ng-show="achievement.type==\'COURSE\'" class="floatL cBG marginR5 marginT3">C</div>\n\t\t\t\t\t    \t<div ng-show="achievement.type==\'UPDATE\'" class="floatL qBG marginR5 marginT3">Q</div>\n\t\t\t\t\t\t\t<div ng-show="achievement.type==\'MISSION\'" class="floatL mBG marginR5 marginT3">M</div>\n\t\t\t\t\t\t\t<div ng-show="achievement.type==\'ASSESSMENT\'" class="floatL aBG marginR5 marginT3">A</div>\n\t\t\t\t\t\t\t<div ng-show="achievement.type==\'COACHING\'" class="floatL sBG marginR5 marginT3">C</div>\n\t\t\t\t\t\t\t<div ng-show="achievement.type==\'CHECKLIST\'" class="floatL clBG marginR5 marginT3">L</div>\n\t\t\t\t\t\t\t<div ng-show="achievement.type==\'ILT\'" class="floatL iltBG marginR5 marginT3">I</div>\n\t\t\t\t\t    \t<div class="floatL">{{achievement.name}}</div>\n\t\t\t\t\t    \t<div class="clear"></div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t\t<div class="color99 F11">\n\t\t\t\t\t\t    <span mt-trans="LB_TXT_COMPLETED_ON">Completed on</span>    \n\t\t\t\t\t\t\t<span>{{achievement.niceDate}}</span>\n\t\t\t\t\t\t\t<span ng-if="achievement.showScore">\n\t\t\t\t\t\t\t\t<span mt-trans="LB_TXT_WITH">with</span>\n\t\t\t\t\t\t\t\t<span ng-if="achievement.type!=\'MISSION\'">{{achievement.score}}/{{achievement.maxScore}}</span>\n\t\t\t\t\t\t\t\t<span ng-if="achievement.type==\'MISSION\'">{{(achievement.score)/100}}/5</span>\n\t\t\t\t\t\t\t\t<span>pts</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!--div ng-if="" style="width:35px" class="floatL color99 lineHeight24 marginL20 marginR20 marginT5">--</div-->\n\t\t\t\t\t<div ng-if="achievement.medalUrl==null" style="width:24px" class="floatL color99 lineHeight24 marginL20 marginR20 marginT5">--</div>\n\t\t\t\t\t<div ng-if="achievement.medalUrl!=null" style="width:24px;height:24px" class="floatL color99 lineHeight24 marginL20 marginR20 marginT8">\n\t\t\t\t\t\t<img alt="{{achievement.medalName}}" title="{{achievement.medalName}}" ng-src="{{achievement.medalUrl}}" width="100%" height="100%" style="display:block;border-radius:50%"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-if="achievement.isCertificateAchived==false" style="width:26px" class="floatL color99 lineHeight24 marginL20 marginR20 marginT5">--</div>\n\t\t\t\t\t<div ng-if="achievement.isCertificateAchived==true && !achievement.hideCertificate"\n\t\t\t\t\t\t ng-click="viewProfileCtrl.downloadCertificate(achievement.entityId, achievement.certificateUrl, achievement.name, achievement.type)"\n\t\t\t\t\t\t class="floatL certificateIcon lineHeight24 F12 color99 marginL20 marginR20 marginT8 cursor"></div>\n\t\t\t\t    <div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-click="viewProfileCtrl.loadMoreAchivements()" \n\t\t\t\t ng-show="viewProfileCtrl.loadingAchivements==false && viewProfileCtrl.totalCompleted>0 && viewProfileCtrl.learnerAchivements.length<viewProfileCtrl.totalCompleted"\n\t\t\t\t style="text-align:center;margin:15px;" class="paddingR20 cursor color0072bc F13" mt-trans="LB_TXT_LOAD_MORE">Load More</div>\n\t\t\t</div>\n\t\t\t<div ng-show="viewProfileCtrl.loadingAchivements==true" class="textalign_C"><img ng-src="{{loaderImg}}"/></div>\n\t\t</div>\n\t</div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/analytics/missionReportCard.html",'<div style="padding:15px;background:#fff;min-width:975px;overflow-x:hidden;">\n    <div class="paddingB15">\n        <div ng-if="showBackButton" class="lineHeight25 back2Course floatL cursor">\n            <div class="floatL backArrow_10_16 marginT4 marginR5 cursor"></div>\n            <div  ng-click="back()" class="floatL color99 F13 cursor">Back</div>\n            <div class="clear"></div>\n        </div>\n        <div class="clear"></div>\n    </div>\n    <!--     <div  class="color00_F24 lineHeight36 paddingB25 headerTxt">  </div>  -->\n\n    <div>\n        <div class="floatL paddingB35 lineHeight26 color00">\n            <span ng-if="!entity.$resolved" style="width: 360px; height: 190px; margin-top: 20px">\n                <img style=\'margin: 10px\' ng-src="{{assets}}/images/ajax-loader.gif" />\n            </span>\n            <div ng-if="entity.$resolved"  class = "F18 headerTxt floatL" >Learner Report Card | </div>\n            <div ng-if="entity.$resolved"   class="{{entity.tagClass}} floatL marginR7 entity_sml marginL5 marginT6">{{entity.type}}</div>\n            <div ng-if="entity.$resolved" class="floatL F13 lineHeight20 marginT4 ng-binding ng-scope">{{entity.name}}\n                <!--span class="color00_F24 lineHeight36 paddingB25 headerTxt">{{entity.name}} </span>\n                <span   ng-if="entity.seriesName" class="coloraa F13 i tName">({{entity.seriesName}})</span-->\n                <!--span class="color7c_F13 marginL20">{{entity.status}}</span-->\n            </div>\n        </div>\n        <div class="clear"></div>\n    </div>\n    <div ng-if="!user.$resolved" style="width: 360px; height: 190px; margin-top: 20px">\n        <img style=\'margin: 10px\' ng-src="{{assets}}/images/ajax-loader.gif" />\n    </div>\n    <div>\n        <div class="floatR paddingT15 marginB10" style="position: relative; height1: 330px; background:#000;"\n             ng-class="{ height378: (submission.type == \'VIDEO_MISSION_LEARNER_SUBMSSION\'),\n                           height421 : (submission.type == \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\'),\n        \t\t\t\t   \theight381: (submission.type == \'VOICE_OVER_PPT_MISSION_LEARNER_SUBMSSION\')}"\n             ng-style="{width:(submission.type == \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\' ||\n                                submission.type == \'VIDEO_MISSION_LEARNER_SUBMSSION\')? \'672\':\'640px\'}"\n             ng-if="(learner.status == \'SUBMITTED\' || learner.status == \'COMPLETED\') &&\n                    (pptMedia || media) && (miLearner.type != \'LO_TASK_EVALUATION_MISSION\')">\n            <div raplayer-view-partial\n                 submission="submission"\n                 assets-base="assetsBase"\n                 filters="playerFilters"\n                 comment-container-id="comment-detail-pane-{{submission.submissionId}}"\n                 ng-if="submission.$resolved"\n                >\n            </div> \n                 \n        </div>\n        <div task-eval-mission-view-partial class="floatR paddingT5 marginB10" style="width:672px;position:relative;height:440px;"\n             ng-if="(learner.status == \'SUBMITTED\' || learner.status == \'COMPLETED\') &&\n                        miLearner.type == \'LO_TASK_EVALUATION_MISSION\'">\n        </div>\n        <div style="margin-right:680px;background: #f5f5f5">\n             <ul class="reviewPopupTab"  ng-show="submission.type !== \'TASK_EVALUATION_MISSION_LEARNER_SUBMSSION\'">\n                <li ng-click="tab =\'summary\'" ng-class="{active: tab==\'summary\' || !tab}">Summary</li>\n                <li ng-click="tab =\'comment\';tabClicked(tab);" ng-class="{active: tab==\'comment\'}">Comments&nbsp;<span id="comment-detail-pane-{{submission.submissionId}}-count"></span></li>\n            </ul>  \n\n            <!--summary starts -->   \n            <div ng-show="tab == \'summary\' || !tab" style="padding: 20px">  \n                <div ng-if ="user.$resolved" class="marginB25 ofh">\n                    <div class="floatL marginR15 lpic fs-hide" style="display:table-cell;vertical-align:middle">\n                        <img alt="learner_pic" style="max-width:80px;mix-height:80px;border-radius:50%;text-align:center" ng-src="{{learner.pic}}">\n                    </div>\n                    <div class="floatL color0072_F13">\n                        <div class="color00_F18 lineHeight24 bold marginT7 lname fs-hide">{{learner.name}}</div>\n                        <div class="color00b5_F13 lineHeight18 marginT2">\n                            <span>Completion Status :</span>\n                            <span class="completionPerc">{{learner.completionString}}</span>\n                        </div>\n\n                    </div>\n                    <div class="clear"></div>\n                </div>\n                <div ng-if= "learner.completionString == \'Review Complete\'" class="color00 F18 lineHeight30 ofh marginB20">\n                    <div class="floatL">Score {{learner.scoreString}}</div>\n                    <div class="floatL color99 F13 lineHeight18 i marginT7 marginL7">(Based on <span>{{learner.reviewScoreList.length}}</span> reviews)</div>\n                </div>\n                <div ng-if= "learner.completionString == \'Review Complete\'" class="ofh">\n                    <table colspan="0" rowspan="0" width="100%" border="0">\n                        <tr ng-repeat="feedback in feedbackParams">\n                            <td valign="top" align="left" style="max-width: 450px;">\n                                <div class="F13 color00 lineHeight20 marginB10">{{feedback}}</div>\n                            </td>\n                            <td valign="top" align="left">\n                                <div class="marginT2 marginL10" style="min-width: 120px;">\n                                    <div class="floatL pos_rel defaultRatingBg_16 marginR5">\n                                        <div class="pos_abs" ng-class="{firsthalfRating_blue_8: evalParams($index,50)}"></div>\n                                        <div class="pos_abs" ng-class="{secondhalfRating_blue_8: evalParams($index,100)}" style="left:8px"></div>\n                                    </div>\n                                    <div class="floatL pos_rel defaultRatingBg_16 marginR5">\n                                        <div  class="pos_abs" ng-class="{firsthalfRating_blue_8: evalParams($index,150)}"></div>\n                                        <div class="pos_abs"  ng-class="{secondhalfRating_blue_8: evalParams($index,200)}" style="left:8px"></div>\n                                    </div>\n                                    <div class="floatL pos_rel defaultRatingBg_16 marginR5">\n                                        <div class="pos_abs" ng-class="{firsthalfRating_blue_8: evalParams($index,250)}"></div>\n                                        <div class="pos_abs" style="left:8px" ng-class="{secondhalfRating_blue_8: evalParams($index,300)}"></div>\n                                    </div>\n                                    <div class="floatL pos_rel defaultRatingBg_16 marginR5">\n                                        <div class="pos_abs" ng-class="{firsthalfRating_blue_8: evalParams($index,350)}"></div>\n                                        <div class="pos_abs" style="left:8px"  ng-class="{secondhalfRating_blue_8: evalParams($index,400)}"></div>\n                                    </div>\n                                    <div class="floatL pos_rel defaultRatingBg_16 marginR5">\n                                        <div class="pos_abs" ng-class="{firsthalfRating_blue_8: evalParams($index,450)}"></div>\n                                        <div class="pos_abs" style="left:8px" ng-class="{secondhalfRating_blue_8: evalParams($index,500)}"></div>\n                                    </div>\n                                    <div class="clear"></div>\n                                </div>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n                <div class="ofh bg_dafac8 marginT30" style="width:450px" ng-if="learner.certificate == \'YES\'">\n                    <div class="" style="padding:10px">\n                        <div class="floatL marginR10" style="width:365px">\n                            <div class="color00 F15 lineHeight24">Congratulations!</div>\n                            <div class="color00 F13 lineHeight20" ng-if="mission">You met the cut-off score ({{mission.settings.certificateScore/100}}/5) and earned a certificate.</div>\n                            <div class="color00 F13 lineHeight20" ng-if="!mission">You met the cut-off score and earned a certificate.</div>\n                        </div>\n                        <div class="floatR newCert_26_24 marginT13" style="width:35px"></div>\n                        <div class="clear"></div>\n                    </div>\n                </div>\n                <div class="ofh bg_fdeae6 marginT30" ng-if="learner.certificate == \'NO\'" style="width:450px">\n                    <div class="" style="padding:10px">\n                        <div class="floatL F13 color00 lineHeight30 marginR10" style="width:335px" ng-if="mission">You could not meet the cut-off score ({{mission.settings.certificateScore/100}}/5).</div>\n                        <div class="floatL F13 color00 lineHeight30 marginR10" style="width:335px" ng-if="!mission">You could not meet the cut-off score.</div>\n                        <div class="clear"></div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- summary ends -->\n            <!-- your comment tab starts -->\n            <div ng-show="tab == \'comment\'" class=\'showScroll\' id="comment-detail-pane-{{submission.submissionId}}" \n                style="padding-left:10px;overflow: auto;position: relative;padding-top:10px;max-width:100%;text-align: left;min-height: 145px;"\n                 ng-class="{height421: (submission.type == \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\'),     \n                      height378: (submission.type == \'VIDEO_MISSION_LEARNER_SUBMSSION\'),   \n                      height381: (submission.type == \'VOICE_OVER_PPT_MISSION_LEARNER_SUBMSSION\'),  \n                      height440: (miLearner.type == \'LO_TASK_EVALUATION_MISSION\')}" >\n                 Reviewers have not submitted any comments for this submission.\n            </div>\n            <!-- your comment tab starts -->\n        </div>\n\n        <div class="clear"></div>\n    </div>\n\n    <div class="bg_f7 F13 lineHeight32 paddingT9 paddingR10 paddingB9 paddingL10 marginT10 marginL201 marginR201"\n         ng-repeat="reviewer in learner.reviewerDetail">\n        <table width="100%" colspan="0" rowspan="0" border="0">\n            <tr>\n                <td width="40%" valign="top" align="left">\n                    <div class="marginR10" style="width:420px">\n                        <div class="marginB15">\n                            <div class="floatL bg_bccad9">{{reviewer | mtShortName}}</div>\n                            <div class="floatL color00 F13 marginL10">\n                                <div class="floatL" style="max-width:275px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">{{reviewer.name?reviewer.name:reviewer.email}}:&nbsp;</div>\n                                <div class="clear"></div>\n                            </div>\n                            <div class="floatL color99" ng-if="reviewer.reviewState != \'SUBMITTED\'">Review {{reviewer.status}}</div>\n                            <div class="clear"></div>\n                        </div>\n                        <div ng-if="reviewer.reviewState == \'SUBMITTED\'" class="marginB10">\n                            <div class="floatL color00 F18 lineHeight22" style="width:42px">{{reviewer.score/100}}</div>\n                            <div  class="floatL">\n                                <div class="borderB10_transparent" ng-repeat="feedback in feedbackParams track by $index"  ng-init="index = $index">\n                                    <div class="floatL F13 color00 lineHeight20" style="width:215px">{{feedback}}</div>\n                                    <div class="floatL marginT3 marginL10">\n                                        <div class="floatL pos_rel defaultRatingBg_re marginR5">\n                                            <div class="pos_abs" ng-class="{firsthalfRating_blue_7: evalParams(index,50,reviewer.id)}"></div>\n                                            <div class="pos_abs" ng-class="{secondhalfRating_blue_7: evalParams(index,100,reviewer.id)}" style="left:7px"></div>\n                                        </div>\n                                        <div class="floatL pos_rel defaultRatingBg_re marginR5">\n                                            <div  class="pos_abs" ng-class="{firsthalfRating_blue_7: evalParams(index,150,reviewer.id)}"></div>\n                                            <div class="pos_abs"  ng-class="{secondhalfRating_blue_7: evalParams(index,200,reviewer.id )}" style="left:7px"></div>\n                                        </div>\n                                        <div class="floatL pos_rel defaultRatingBg_re marginR5">\n                                            <div class="pos_abs" ng-class="{firsthalfRating_blue_7: evalParams(index,250,reviewer.id)}"></div>\n                                            <div class="pos_abs" style="left:7px" ng-class="{secondhalfRating_blue_7: evalParams(index,300,reviewer.id)}"></div>\n                                        </div>\n                                        <div class="floatL pos_rel defaultRatingBg_re marginR5">\n                                            <div class="pos_abs" ng-class="{firsthalfRating_blue_7: evalParams(index,350,reviewer.id)}"></div>\n                                            <div class="pos_abs" style="left:7px"  ng-class="{secondhalfRating_blue_7: evalParams($index,400,reviewer.id)}"></div>\n                                        </div>\n                                        <div class="floatL pos_rel defaultRatingBg_re marginR5">\n                                            <div class="pos_abs" ng-class="{firsthalfRating_blue_7: evalParams(index,450,reviewer.id)}"></div>\n                                            <div class="pos_abs" style="left:7px" ng-class="{secondhalfRating_blue_7: evalParams(index,500,reviewer.id)}"></div>\n                                        </div>\n                                        <div class="clear"></div>\n                                    </div>\n                                    <div class="clear"></div>\n                                </div>\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n                </td>\n\n                <td ng-if="reviewer.reviewState == \'SUBMITTED\'" width="30%" valign="top" align="left">\n                    <div class="marginR10" style="width:250px">\n                        <div class="color00 F13 lineHeight32 marginB15">Positive Feedback</div>\n                        <div class="color00 F13 lineHeight20 marginB10">{{reviewer.positiveFeedback[0].text}}</div>\n                    </div>\n                </td>\n                <td ng-if="reviewer.reviewState == \'SUBMITTED\'" width="30%" valign="top" align="left">\n                    <div class="" style="width:250px">\n                        <div class="color00 F13 lineHeight32 marginB15">Constructive Feedback</div>\n                        <div class="color00 F13 lineHeight20 marginB10">{{reviewer.constructiveFeedback[0].text}}</div>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </div>\n    <div class="marginR20 marginL20 paddingT10">\n        <div class="pos_rel marginB25" style="width:100%;height:1px;background:#ddd;border-top:1px solid transparent" ng-if="hasSubmissions">\n            <div class="lineHeight20 F13 color0072bc bg_ff textalign_C margin0_auto cursor" style="margin-top:-11px;width:170px;z-index:1" ng-click="toggleShowOlderScores()">{{(showOlderReviews)?"Hide Older Reviews":"Show Older Reviews"}}</div>\n        </div>\n        <div ng-if="hasSubmissions && showOlderReviews"\n             submissions-view-partial\n             submissions-list="submissionsList"\n             eval-param-type="mission.learningObject.evalParamType"\n             evaluation-params="mission.learningObject.evaluationParams"\n             game-id="gameId"\n             playable-id="playableId"\n             user-id="userId",\n             num-added-reviewers="missionLearnerObj.missionLearner.reviewers.length"\n             style="width: 100%;height:auto;">\n        </div>\n    </div>\n</div>'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/analytics/reportCard.html",'<div style="padding:15px;background:#fff;min-width:975px;overflow-x:hidden;">\n    <div class="paddingB15">\n        <div ng-if="showBackButton" class="lineHeight25 back2Course floatL cursor">\n            <div class="floatL backArrow_10_16 marginT4 marginR5 cursor"></div>\n            <div  ng-click="back()" class="floatL color99 F13 cursor">Back</div>\n            <div class="clear"></div>\n        </div>\n        <div class="clear"></div>\n    </div>\n    <!--     <div  class="color00_F24 lineHeight36 paddingB25 headerTxt">  </div>  -->\n    <div>\n        <div class="floatL paddingB35 lineHeight26 color00">\n\t\t\t<span ng-if="!entity.$resolved" style="width: 360px; height: 190px; margin-top: 20px">\n\t\t\t\t<img style=\'margin: 10px\' ng-src="{{assets}}/images/ajax-loader.gif" />\n\t\t\t</span>\n            <div ng-if="entity.$resolved"  class = "F18 headerTxt floatL" >Learner Report Card |</div>\n            <div ng-if="entity.$resolved"\tclass="{{entity.tagClass}} floatL marginR7 entity_sml marginL5 marginT6">{{entity.type}}</div>\n            <div ng-if="entity.$resolved" class="floatL F13 lineHeight20 marginT4">{{entity.name}}\n                <!--span class="headerTxt F13">{{entity.name}}</span>\n                <span\tng-if="entity.seriesName" class="tName marginL5">{{entity.seriesName}}</span-->\n                <!--span class="color7c_F13 marginL20">{{entity.status}}</span-->\n            </div>\n        </div>\n        <div class="clear"></div>\n    </div>\n\n    <div ng-if="!user.$resolved && !reportCardError" style="width: 360px; height: 190px; margin-top: 20px">\n        <img style=\'margin: 10px\' ng-src="{{assets}}/images/ajax-loader.gif" />\n    </div>\n\n    <div ng-if ="user.$resolved" class="marginB40">\n        <div class="floatL marginR15 lpic fs-hide" style="display:table-cell;vertical-align:middle">\n            <img alt="learner_pic" style="max-width:80px;mix-height:80px;border-radius:50%;text-align:center" ng-src="{{user.pic}}">\n        </div>\n        <div class="floatL color0072_F13">\n            <div class="color00_F18 lineHeight24 bold marginT7 lname fs-hide">{{user.name}}</div>\n            <div ng-if="reportCard.$resolved && !reportCardError && (userDetail.startedOn<1 || userDetail.startedOn==\'NA\')" class="color99">Did Not Start</div>\n            <div ng-if="reportCard.$resolved && !reportCardError && (userDetail.startedOn>0 || userDetail.startedOn!=\'NA\')">\n                <div ng-if="entity.$resolved && entity.type != \'A\'">\n                    <div class="color00b5_F13 lineHeight18 marginT2">\n                        <span>Completion</span>\n                        <span class="completionPerc">{{user.completion | number:0}}%</span>\n                    </div>\n                    <div class="pos_rel marginT8" style="width:100px;height:8px;background:#ddf6ee">\n                        <div class="pos_abs completionPercBar" ng-style="{ \'width\': user.completion + \'%\' }" style="top:0;left:0;background:#7ddebf;height:8px;"></div>\n                    </div>\n                </div>\n                <div ng-if="entity.$resolved && entity.type == \'A\'" class="lineHeight18 marginT2 F13" ng-switch="userDetail.completionStatus">\n                    <span ng-switch-when="PASS" class="color26b8_F13">Pass</span>\n                    <span ng-switch-when="FAIL" class="colorba1b_F11" style="font-size:13px">Fail</span>\n                    <span ng-switch-default class="color99">In Progress</span>\n                </div>\n            </div>\n        </div>\n        <div class="clear"></div>\n    </div>\n\n    <div ng-if="!reportCard.$resolved" style="width: 360px; height: 190px; margin-top: 20px">\n        <img style=\'margin: 10px\' ng-src="{{assets}}/images/ajax-loader.gif" />\n    </div>\n\n\n    <div ng-if="(reportCard.$resolved && reportCardError)" class=\'marginT10 marginB10 color00 F13\'>Unable to load Report Card Data <span ng-click="loadReportCardData()" class=\'retry cursor color0072bc\'>Try again</span></div>\n\n\n    <div ng-if="reportCard.$resolved && !reportCardError" class="marginB45">\n        <table width="100%" rowspan="0" colspan="0" border="0">\n            <tr>\n                <td align="left" valign="top" style="width:32%">\n                    <div class="textalign_C borderB_e0 borderT_e0 paddingT10 paddingB10 color00 lineHeight28" style="width:340px">\n                        <div class="floatL" style="width:170px;">\n                            <div class="F14">Started On</div>\n                            <div class="startedOn bold F16">{{userDetail.startedOn}}</div>\n                        </div>\n                        <div class="floatL" style="width:170px;">\n                            <div class="F14">Completed On</div>\n                            <div class="completedOn bold F16">{{userDetail.completedOn}}</div>\n                        </div>\n                        <div class="clear"></div>\n                    </div>\n                </td>\n                <td align="center" valign="top" style="width:30%;">\n                    <div class="borderB_e0 borderT_e0 paddingT10 paddingB10 color00 lineHeight28" style="width:280px;height:78px">\n                        <div ng-if="userDetail.medalName" class="floatL" style="width:80px;">\n                            <div class="badgeClass floatR" style="width:56px;height:56px">\n                                <img ng-src ="{{userDetail.medalUrl}}" style="width: 100%; height: 100%;display:block" />\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                        <div  class="floatL1" style="width:200px;min-height:56px" ng-class="{\'floatL\':(entity.$resolved && entity.type != \'A\'),\'lineHeight56 textalign_C\':(entity.$resolved && entity.type == \'A\')}">\n                            <div ng-if="userDetail.medalName" class="badgeName F14" style="overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{userDetail.medalName}}</div>\n                            <div>\n                                <span class="myscore bold F16">{{userDetail.score}}</span>\n                                <span class="color7c_F14 lineHeight16 marginL5 marginR5 marginT8">/</span>\n                                <span class="F14 totalScore">{{userDetail.maxScore}}</span>\n                            </div>\n                        </div>\n                        <div class="clear"></div>\n                    </div>\n                </td>\n                <td align="right" valign="top" style="width:38%">\n                    <div class="textalign_C borderB_e0 borderT_e0 paddingT10 paddingB10 color00 lineHeight28" style="width:360px">\n                        <div class="floatL" style="width:120px;">\n                            <div ng-if="entity.$resolved && entity.type != \'A\'">\n                                <div class="F14">Skipped</div>\n                                <div class="numSkipped bold F16">{{userDetail.totalSkipped}}</div>\n                            </div>\n                            <div ng-if="entity.$resolved && entity.type == \'A\'">\n                                <div class="F14">Not Answered</div>\n                                <div class="bold F16">{{(userDetail.totalLearningObjects-userDetail.totalCorrect-userDetail.totalWrong)}}</div>\n                            </div>\n                        </div>\n                        <div class="floatL" style="width:120px;">\n                            <div class="F14">Correct</div>\n                            <div class="numCorrect bold F16">{{userDetail.totalCorrect}}</div>\n                        </div>\n                        <div class="floatL" style="width:120px;">\n                            <div class="F14">Wrong</div>\n                            <div class="numWrong bold F16">{{userDetail.totalWrong}}</div>\n                        </div>\n                        <div class="clear"></div>\n                    </div>\n                </td>\n            </tr>\n        </table>\n\n    </div>\n    <div class="marginB20">\n        <div class="floatL pos_rel cursor display_N">\n            <dl class="cmn_dropdown tickleFilter">\n                <dt>\n                    <a class="grayStripe" href="javascript:void(0)" style="width:190px;padding:0 7px"><%=tickle_filter_all%></a>\n                <div class="black_DownArrow11" style="position:absolute;top:11px;right:10px;"></div>\n                </dt>\n                <dd>\n                    <ul style="display: none; width: 200px;">\n                        <li><a href="javascript:void(0);">Object Type: All</a></li>\n                        <li><a href="javascript:void(0);">Learning Content</a></li>\n                        <li><a href="javascript:void(0);">Questions</a></li>\n                        <li><a href="javascript:void(0);">Poll</a></li>\n                    </ul>\n                </dd>\n            </dl>\n        </div>\n        <div class="floatR cursor marginT7 display_N">\n            <div class="exportIcon floatL"></div>\n            <div class="floatL marginL7 color0072_F13 lineHeight14 tooltip_top_right tooltip_width140"><%=txtExport%></div>\n            <div class="clear"></div>\n        </div>\n        <div class="clear"></div>\n    </div>\n    <div class="nborderL_e0 nborderR_e0 marginB40" style="margin-bottom:90px">\n        <!--  \t  <div class="borderT_e0">\n                   <table width="100%" border="0" colspan="0" rowspan="0" cellspacing="0" cellpadding="0">\n                          <tr>\n                             <td valign="middle" align="left" class="bg_fa color49_F13 lineHeight32 paddingT8 paddingB8 borderB_e0">\n                                <div class="marginL10 marginR10 loHeaderTxt" style="width:423px">Content/Questions/Polls</div>\n                             </td>\n\n                             <td valign="middle" align="left" class="bg_fa color49_F13 lineHeight32 paddingT8 paddingB8 borderB_e0">\n                                <div class="marginL10 marginR10" style="width:173px"><%=learners_response%></div>\n                             </td>\n                             <td valign="middle" align="left" class="bg_fa color49_F13 lineHeight32 paddingT8 paddingB8 borderB_e0">\n                                <div class="marginL10 marginR10" style="width:80px"><%=score%></div>\n                             </td>\n                             <td valign="middle" align="left" class="bg_fa color49_F13 lineHeight32 paddingT8 paddingB8 borderB_e0">\n                                <div class="marginL10 marginR10" style="width:88px"><%=lifelines_used%></div>\n                             </td>\n                             <td valign="middle" align="left" class="bg_fa color49_F13 lineHeight32 paddingT8 paddingB8 borderB_e0">\n                                <div class="marginL10 marginR10" style="width:88px"><%=likes_dislikes%></div>\n                             </td>\n                         </tr>\n                   </table>\n              </div> -->\n\n        <div>\n            <button type="button" class="floatR exportNew_24_24 tooltip_top_right tooltip_width100 marginB10" style="border:0;" mtitle="Export Report"  ng-csv="getArray" csv-header="getHeaderExportArray()" filename="{{filename}}" ></button>\n        </div>\n\n        <!--     <div ng-click="exportData()" class="floatR exportNew_24_24 tooltip_top_right tooltip_width100"></div> -->\n        <div class="course_topics">\n            <div style="border: 0px; width: 100%;">\n\n                <table ng-if="(reportCard.$resolved && !reportCardError )"\n                       style="border: 0px; width: 100%;">\n                    <tbody>\n                    <tr class="sortingArrow">\n                        <td ng-if="entity.$resolved && entity.type != \'Q\' && entity.type != \'A\'" valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd cursor ng-scope">\n                            <div class="marginL10 marginR10" style="width: 200px">\n                                <div class="floatL">Topic</div>\n                                <!--div class="normalSortArrow_new upArrow_Black_new floatL marginL10 marginT8" ng-class="{\'blackDown_Arrow_new\' :!(model.contentSortOrder)&amp;&amp; (sorton == \'topicOrder\'), \'upArrow_Black_new\' :(model.contentSortOrder)&amp;&amp; (sorton == \'topicOrder\'),\'floatL\' :true, \'marginL10\':true,\'marginT8\':true}"></div-->\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL10 marginR10" style="width: 250px">\n                                <div ng-if="entity.type != \'A\'" class="floatL">Content</div>\n                                <div ng-if="entity.type == \'A\'" class="floatL">Question</div>\n                                <!--div class="normalSortArrow_new floatL marginL10 marginT8" ng-class="{\'blackDown_Arrow_new\' :!(model.contentSortOrder)&amp;&amp; (sorton == \'learningObjectOrder\'), \'upArrow_Black_new\' :(model.contentSortOrder)&amp;&amp; (sorton == \'learningObjectOrder\'),\'floatL\' :true, \'marginL10\':true,\'marginT8\':true}"></div-->\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd cursor">\n                            <div class="marginL10 marginR10" style="width: 200px">\n                                <div class="floatL">Learner\'s Responses</div>\n                                <!--div class="normalSortArrow_new floatL marginL10 marginT8" ng-class="{\'blackDown_Arrow_new\' :!(model.contentSortOrder)&amp;&amp; (sorton == \'totalResponses\'), \'upArrow_Black_new\' :(model.contentSortOrder)&amp;&amp; (sorton == \'totalResponses\'),\'floatL\' :true, \'marginL10\':true,\'marginT8\':true}"></div-->\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd cursor">\n                            <div class="marginL10 marginR10" style="width: 100px">\n                                <div class="floatL">Score</div>\n                                <!--div class="normalSortArrow_new floatL marginL10 marginT8" ng-class="{\'blackDown_Arrow_new\' :!(model.contentSortOrder)&amp;&amp; (sorton == \'engagementPercent\'), \'upArrow_Black_new\' :(model.contentSortOrder)&amp;&amp; (sorton == \'engagementPercent\'),\'floatL\' :true, \'marginL10\':true,\'marginT8\':true}"></div-->\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td ng-if="entity.type != \'A\'" valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd cursor">\n                            <div class="marginL10 marginR10" style="width: 100px">\n                                <div class="floatL">Lifeline Used</div>\n                                <!--div class="normalSortArrow_new floatL marginL10 marginT8" ng-class="{\'blackDown_Arrow_new\' :!(model.contentSortOrder)&amp;&amp; (sorton == \'engagementPercent\'), \'upArrow_Black_new\' :(model.contentSortOrder)&amp;&amp; (sorton == \'engagementPercent\'),\'floatL\' :true, \'marginL10\':true,\'marginT8\':true}"></div-->\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td ng-if="entity.type != \'A\'" valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd cursor">\n                            <div class="marginL10 marginR10" style="width: 100px">\n                                <div class="floatL">Like/Dislike</div>\n                                <!--div class="normalSortArrow_new floatL marginL10 marginT8" ng-class="{\'blackDown_Arrow_new\' :!(model.contentSortOrder)&amp;&amp; (sorton == \'engagementPercent\'), \'upArrow_Black_new\' :(model.contentSortOrder)&amp;&amp; (sorton == \'engagementPercent\'),\'floatL\' :true, \'marginL10\':true,\'marginT8\':true}"></div-->\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr ng-if="reportCard.reportSummary.levels.length == 0">\n                        <td colspan="7" valign="middle" align="center"\n                            class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL10 marginR10 paddingT10 paddingB10 color55_F16">No\n                                Content Available</div>\n                        </td>\n                    </tr>\n                    <tr class="table_tr_hover"\n                        ng-repeat="content in  learnerEntityTopicList track by $index">\n                        <td ng-if="entity.$resolved && entity.type != \'Q\' && entity.type != \'A\'"  valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd borderB_dd">\n                            <div class="marginL10 marginR10" style="width:200px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{content.topicName}}</div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd borderB_dd">\n                            <div class="marginL10 marginR10" style="width:250px">\n                                <div ng-if="!content.isQuiz" class="floatL mtuser color0072_F13 marginT6 marginR10" ng-class ="content.titleClass"></div>\n                                <div ng-if="content.isQuiz" class="floatL pos_rel textalign_C F10 color99 bold marginT6 marginR10 lineHeight18" style="width:26px;border:1px solid #999">\n                                    {{content.quizText}}\n                                </div>\n                                <div ng-if="entity.type != \'A\'" class="cursor content_text" ng-click="loadTickleData(content.id ,content.completionText)" ng-bind-html="content.title" style="width: 210px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"></div>\n                                <div ng-if="entity.type == \'A\'" class="cursor content_text" ng-click="loadTickleData(content.id ,content.completionText,$index+1)" ng-bind-html="content.title" style="width: 210px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd borderB_dd cursor">\n                            <div class="marginL10 marginR10" style="width: 200px">\n                                {{content.completionText}}\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd borderB_dd cursor">\n                            <div ng-if="contentScoring" class="marginL10 marginR10" style="width: 100px">\n                                {{content.score}}/{{content.maxScore}}\n                            </div>\n                            <div ng-if="!contentScoring" class="marginL10 marginR10" style="width: 100px">NA</div>\n                        </td>\n                        <td ng-if="entity.type != \'A\'" valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd borderB_dd cursor">\n                            <div class="marginL10 marginR10" style="width: 100px">\n                                {{content.lifelinesUsed}}\n                            </div>\n                        </td>\n                        <td ng-if="entity.type != \'A\'" valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd borderB_dd cursor">\n                            <div class="marginL10 marginR10" style="width: 100px">\n                                {{content.likeDislikeState}}\n                            </div>\n                        </td>\n                    </tr>\n                    <tr class="table_tr_hover ng-scope" ng-repeat="(topic_id,num_quiz) in randomizedTopics track by $index">\n                        <td colspan="{{(entity.type == \'Q\'?5:6)}}" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd borderB_dd textalign_C">{{num_quiz}} randomized quizzes</td>\n                    </tr>\n                    <tr ng-if="checkAllTopicLoaded()">\n                        <td valign="middle" align="left"\n                            class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div  style="width: 360px; height: 190px; margin-top: 20px">\n                                <img style=\'margin: 10px\' ng-src="{{assets}}/images/ajax-loader.gif" />\n                            </div>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/assessment/assessment-attempt-tab.html",'<div ng-show="!assessment.loadedUserQuestion" style="width: 100%;text-align: left;">\n    <assessment-dummy-question-area></assessment-dummy-question-area>\n</div>\n<div ng-show="assessment.loadedUserQuestion">\n\t<div class=\'qnsansArea\' style="direction:rtl;">\n\t\t<div style="min-width:900px;">\n\t\t\t<div class="margin0_auto open_transition_margingR" style="width:950px">\n\t\t\t\t<div class="marginT15 marginB15">\n\t\t\t\t\t<div ng-if="failedUpdateIds.length > 0" class="F13 marginT10 marginL5 marginR15 marginB10 floatL" style="\n\t\t\t\t\t\tpadding-left: 20px;\n\t\t\t\t\t\tpadding-right: 20px;\n\t\t\t\t\t\tpadding-bottom: 3px;\n\t\t\t\t\t\tpadding-top: 3px;\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\tcolor: red;\n\t\t\t\t\t\tdirection:ltr;\n\t\t\t\t\t\t">\n\t\t\t\t\t \t<span font-weight: 600;> We have failed to save your response on questions:</span>\n\t\t\t\t\t\t<span ng-repeat="quesId in failedUpdateIds">\n\t\t\t\t\t\t\t<a ng-click="fetchQuestionById(quesId)" style="color: blue; font-weight: 900;cursor: pointer;" >Q{{myQuestionsIds.indexOf(quesId)+1}} </a>\n\t\t\t\t\t\t\t<span ng-if="failedUpdateIds.indexOf(quesId) != failedUpdateIds.length - 1 " > ,<span/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatR">\n\t\t\t\t\t\t<div ng-click="openAssessmentSummary()" ng-show="assessment.canSubmitQuestion()"  class="floatL blueBtn_36 paddingL20 paddingR20" mt-trans="ASSESSMENT_SUBMIT" style="border-radius: 3px;"></div>\n\t\t\t\t\t\t<div ng-click="openAssessmentResult(true)" ng-show="!assessment.canSubmitQuestion()" class="floatL blueBtn_36 paddingL20 paddingR20" mt-trans="ASSESSMENT_VIEW_RESULT" style="border-radius: 3px;"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div style=\'width:100%;direction:ltr;\'>\n\t\t\t\t\t<div class=\'tickleDiv ofh pos_rel\' style="border:1px solid #ccc;border-radius:0;height:400px">\n\t\t\t\t\t\t<div class=\'tickleHeaderDiv ofh\'>\n\t\t\t\t\t\t\t<div class="qnsDiv pos_rel" style="background:#fff;border-right:1px solid #ccc;height:398px;overflow-y: unset;">  <!-- Question area stats -->\n\t\t\t\t\t\t\t\t<div class="qansBg pos_abs" style="left:10px;width:auto;padding:0 5px;border-radius: 0 0 5px 5px;" translate="LB_TXT_Q_OF_N" translate-value-x="{{getCurrentQuestionIndex()+1}}" translate-value-y="{{myQuestionsIds.length}}"></div>\n\t\t\t\t\t\t\t\t<div class="pos_abs color99 F12 lineHeight22" style="right: 10px;top:0">{{assessment.currentQuestion.staticData.maxScore}} pts</div>\n\t\t\t\t\t\t\t\t<div style="padding:0px 14px 10px 14px;height:385px;overflow:auto;position:relative;border-top: 30px solid transparent;">\n\t\t\t\t\t\t\t\t\t<div class="color00_F14 lineHeight22 bold1 overriderListStyle" ng-bind-html="assessment.currentQuestion.staticData.quesText"></div>\n\t\t\t\t\t\t\t\t\t<div ng-click="zoomContent()" class="marginT15 mediaDiv" style="height:280px;">\n\t\t\t\t\t\t\t\t\t\t<div class="learningContent" style="height:100%;"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\'ansDiv pos_rel\' style="height:398px">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class="qansBg marginL7 floatL" style="border-radius: 0 0 3px 3px;width:30px" mt-trans="TICKLE_A_TXT"></div>\n\t\t\t\t\t\t\t\t\t<div ng-if="!assessment.fetchData.gameInfo.hideScoreAndCertificate" class="marginR7 color99 F12 lineHeight22 floatR">\n\t\t\t\t\t\t\t\t\t\t{{assessment.currentQuestion.userData.score+"/"+assessment.currentQuestion.staticData.maxScore}} pts\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<assessment-mcq-question-area ng-if="assessment.currentQuestion.staticData.type==\'LO_MCQ_TXT\'"></assessment-mcq-question-area>\n\t\t\t\t\t\t\t\t<assessment-mcq-image-question-area ng-if="assessment.currentQuestion.staticData.type==\'LO_MCQ_IMG\'"></assessment-mcq-image-question-area>\n\t\t\t\t\t\t\t\t<assessment-match-text-labels-question-area ng-if="assessment.currentQuestion.staticData.type==\'LO_MIXMATCH\'"></assessment-match-text-labels-question-area>\n\t\t\t\t\t\t\t\t<assessment-match-image-labels-question-area ng-if="assessment.currentQuestion.staticData.type==\'LO_IMGMIXMATCH\'"></assessment-match-image-labels-question-area>\n\t\t\t\t\t\t\t\t<assessment-text-question-area ng-if="assessment.currentQuestion.staticData.type==\'LO_TEXT\'"></assessment-text-question-area>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear1"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t</div>\t\n\t</div>\t\n\t<div class="open_transition_margingR marginT15 marginB10" ng-style="{\'margin-right\':(assessment.showReviews==true?292:60)}">\n\t\t<div class="actionButtons" style="width:950px;margin:0px auto">\n\t\t\t<div style="left:50%;" class="floatL pos_rel">\n\t\t\t\t<div style="left:-50%;" class="floatL pos_rel forCssLeft">\n\t\t\t\t\t<div class="floatL greyBorder_Btn cursor pos_rel marginR10" ng-class="{Disable:!canGotoPrev()}" ng-click="gotoPrev()">\n\t\t\t\t\t\t<div class="floatL leftSide_Btn F13"></div>\n\t\t\t\t\t\t<div class="floatL rightSide_Btn paddingR14" mt-trans="ASSESSMENT_PREVQ"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t<div class="pos_abs makeDisable display_N" style="left:0;top:0"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL Normal_Btn lineHeight28 F13 border_R3 paddingL10 paddingR10 marginR10 cursor" \n\t\t\t\t\t\t ng-class="{\'Marked\':assessment.currentQuestion.userData.visitLater}" \n\t\t\t\t\t\t ng-show="assessment.canSubmitQuestion()" \n\t\t\t\t\t\t ng-click="toggleVisitLater()" ng-style="getCss(1)">\n\t\t\t\t\t\t<div class="floatL Dot_10 marginT10"></div>\n\t\t\t\t\t\t<div class="floatL marginL8" mt-trans="ASSESSMENT_VISIT_LATER"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL blueBorder_Btn cursor pos_rel marginR10" ng-class="{Disable:!canGotoNext()}" ng-hide="!canGotoNext()" ng-click="gotoNext()">\n\t\t\t\t\t\t<div class="floatL paddingL14 leftSide_Btn" mt-trans="ASSESSMENT_NEXTQ"></div>\n\t\t\t\t\t\t<div class="floatL rightSide_Btn F13"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t<div class="pos_abs makeDisable display_N" style="left:0;top:0"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatL blueBorder_Btn cursor pos_rel" ng-show="!canGotoNext()" ng-click="assessment.openReview()">\n\t\t\t\t\t\t<div class="floatL paddingL14 leftSide_Btn" mt-trans="ASSESSMENT_REVIEW"></div>\n\t\t\t\t\t\t<div class="floatL rightSide_Btn F13"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t</div>\t\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/assessment/assessment-header.html",'<div class="bg_11 courseHeaderContainer pos_rel" style="z-index:1">\n   \t<div class="colorff F18 pos_abs" style="width:100%;top:12px;height:24px">\n\t\t<div class="floatL pos_rel" style="left:50%">\n\t\t\t<div class="floatL pos_rel" style="left:-50%">\n\t\t\t\t<div class="floatL aBG_L marginR7">A</div>\n\t\t\t\t<div class="floatL lineHeight24 ng-binding">{{assessment.fetchData.gameInfo.name}}</div>\n\t\t\t\t<div class="floatL info_19_19 marginT3 marginL10 display_N" ng-click="openADDetails()"></div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n   \t<div>\n\t\t<div class="lineHeight24 floatL pos_rel cursor marginL20 paddingT12 paddingB12 cursor" ng-click="goBack()" style="z-index:1">\n        \t<div class="floatL backArrow_10_16 marginT4 marginR10"></div>\n\t\t\t<div class="floatL color99 F13 cursor"\n\t\t\t\t ng-if="isNewDashboard"\n\t\t\t\t ui-sref="root.courses({\'series\':undefined})"\n\t\t\t\t translate="DASHBOARD_TEXT"></div>\n\t\t\t<div class="floatL color99 F13" ng-if="isNewDashboard">&nbsp; | &nbsp;</div>\n            <div class="floatL">\n                <div class="floatL newFolderIcon_14_10 marginT7 marginR7"></div>\n                <div class="floatL color99 F13">{{getBackButtonName()}}</div>\n            </div>\n            <div class="clear"></div>\n        </div>\n        <div class="floatR pos_rel" style="z-index:1">\n        \t<div class="floatL lineHeight28 paddingT10 marginR20 cursor" ng-click="openAssessmentTutorial()" ng-if="assessment.canSubmitQuestion()">\n        \t\t<div class="floatL tutorialIcon_21_22 marginT3"></div>\n        \t\t<div class="floatL color99 F13 marginL7">Tutorial</div>\n        \t\t<div class="clear"></div>\n        \t</div>\n\t        <div class="floatL timeOut_Div lineHeight18" style="padding:15px 20px" ng-if="assessment.fetchData.settings.timeLimit>0" ng-class="{critical:clock.isRed}">\n\t\t  \t\t<div class="floatL timerIcon marginT2 marginR7"></div>\n\t\t  \t\t<div class="floatL timercolor countDownTimer F14">{{clock.mmss2}}</div>\n\t\t  \t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\t\n\t\t<div class="clear"></div>\n\t</div>\t\n\t\n</div>\n\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/assessment/assessment.html",'<div class="pos_rel bg_f7" style="height:100%;min-width:980px">\n\t<div class=""  ng-controller="AssessmentAttemptController as assessment">\n\t\t<div ng-show="assessment.fetchData.$resolved">\n\t\t\t<div assessment-header></div>\n\t\t\t<div>\n\t\t\t\t<div class="floatR">\n\t\t\t\t\t<div full-height class="bg_ee borderL_cc floatR" style="width: 60px;">\n\t\t\t  \t\t\t<div class="assessment_rightTab" ng-class="{Open:assessment.showReviews}">\t\n\t\t\t  \t\t\t\t<div class="closingIcon" ng-click="assessment.showReviews=false;" style="margin:15px auto"></div>\n\t\t\t  \t\t\t\t<div ng-if="!assessment.tutorialOpen"class="lineHeight22 F11 color99 textalign_C" translate="ASSESSMENT_TXT_REVIEW"></div>\n\t\t\t\t\t\t\t<div ng-if="assessment.tutorialOpen" class="lineHeight22 F11 color99 textalign_C pos_rel" style="z-index: 1100;" translate="ASSESSMENT_TXT_REVIEW"></div>\n\t\t\t  \t\t\t\t<div class="borderT_cc borderB_cc paddingT15 paddingB15 bg_color pos_rel"\n\t\t\t  \t\t\t\t\t ng-class="{\'cursor\':(!assessment.showReviews)}" \n\t\t\t  \t\t\t\t\t ng-click="(assessment.tutorialOpen?0:assessment.showReviews=true)" \n\t\t\t  \t\t\t\t\t ng-style="getCss()">\n\t\t\t  \t\t\t\t\t<div class="marginB25 marginL10 marginR10 lineHeight30">\n\t\t\t  \t\t\t\t\t\t<div class="floatL Q_16_18 marginT7"></div>\n\t\t\t  \t\t\t\t\t\t<div class="floatR color66 F13">{{assessment.assessmentStats.total.length}}</div>\n\t\t\t  \t\t\t\t\t\t<div class="clear"></div>\n\t\t\t  \t\t\t\t\t</div>\n\t\t\t  \t\t\t\t\t<div class="marginB25 marginL10 marginR10 lineHeight30">\n\t\t\t  \t\t\t\t\t\t<div class="floatL newAssessment_ansIconBG marginT9"></div>\n\t\t\t  \t\t\t\t\t\t<div class="floatR color66 F13">{{assessment.assessmentStats.attempted.length}}</div>\n\t\t\t  \t\t\t\t\t\t<div class="clear"></div>\n\t\t\t  \t\t\t\t\t</div>\n\t\t\t  \t\t\t\t\t<div class="marginL10 marginR10 lineHeight30">\n\t\t\t  \t\t\t\t\t\t<div class="floatL color00 F22 pinkDot_10 marginT11 marginL3"></div>\n\t\t\t  \t\t\t\t\t\t<div class="floatR color66 F13">{{assessment.assessmentStats.visitLater.length}}</div>\n\t\t\t  \t\t\t\t\t\t<div class="clear"></div>\n\t\t\t  \t\t\t\t\t</div>\n\t\t\t  \t\t\t\t\t<div class="pos_abs borderColor" style="top:0;left:-1px;height:100%;width:1px;"></div>\n\t\t\t  \t\t\t\t</div>\n\t\t\t  \t\t\t</div>\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div full-height class="floatR bg_ff borderL_cc open_toward_right" ng-class="{shakeOpenPanel:(assessment.showReviews==true)}" ng-style="{\'width\':(assessment.showReviews==true?232:0),\'border-left\':(assessment.showReviews==true?\'1px solid #ccc\':\'0\')}" style="overflow-y:auto">\n\t\t\t\t\t\t<div class="marginT12" style="width:232px">\n\t\t\t\t\t\t\t<div class="paddingL15 paddingR15">\n\t\t\t\t\t\t\t\t<div class="lineHeight30 color00">\n\t\t\t\t\t\t\t\t\t<div class="floatL marginR10 Q_16_18 marginT7"></div>\n\t\t\t\t\t\t\t\t\t<div class="floatL F14" translate="ASSESSMENT_TOTAL_QUESTIONS" translate-value-a="{{assessment.assessmentStats.total.length}}"></div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="marginT10 marginB15" style="height:1px;background:#eee;"></div>\n\t\t\t\t\t\t\t\t<div class="marginB15">\n\t\t\t\t\t\t\t\t\t<div ng-repeat="qid in myQuestionsIds track by $index" \n\t\t\t\t\t\t\t\t\tclass="floatL lineHeight28 F12 textalign_C pos_rel defaultQnsBg marginR10 marginB10"\n\t\t\t\t\t\t\t\t\tng-class="{Current:(assessment.currentQuestion.staticData.id==qid),visitLater:(assessment.assessmentStats.visitLater.indexOf(qid)!=-1),Answered:(assessment.assessmentStats.attempted.indexOf(qid)!=-1)}"\n\t\t\t\t\t\t\t\t\tng-click="assessment.fetchQuestion(qid)">\n\t\t\t\t\t\t\t\t\t\t<div>{{$index+1}}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="pos_abs dot_10"></div>\t\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="lineHeight16 color66 F12 marginB10">\t\n\t\t\t\t\t\t\t\t\t<div class="floatL newAssessment_ansIconBG"></div>\n\t\t\t\t\t\t\t\t\t<div class="floatL marginL10" translate="LB_TXT_ANSWERED"></div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t<div class="lineHeight16 color66 F12 marginB10">\t\n\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:16px">\n\t\t\t\t\t\t\t\t\t\t<div class="pinkDot_10" style="margin:3px auto 0"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="floatL marginL10" translate="VISIT_LATER"></div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div assessment-attempt-tab class=""></div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\t\t\t\n\t\t</div>\n\t\t<div ng-show="!assessment.fetchData.$resolved" style="width: 100%;text-align: left;padding: 50px;">\n\t\t    <img ng-src="{{loaderImg}}"/>\n\t\t</div>    \n\t</div>\n\t<div class="getSupport1"></div>\n</div>'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/assessment/assessment_dummy_question.html",'<div class=\'qnsansArea\' style="direction:rtl;">\n\t<div style="min-width:900px;">\n\t\t<div class="margin0_auto open_transition_margingR" style="width:950px">\n\t\t\t<div class="marginT15 marginB15">\n\t\t\t\t<div class="floatR">\n\t\t\t\t\t<div ng-show="assessment.canSubmitQuestion()"  class="floatL blueBtn_36 paddingL20 paddingR20" mt-trans="ASSESSMENT_SUBMIT" style="border-radius: 3px;"></div>\n\t\t\t\t\t<div ng-show="!assessment.canSubmitQuestion()" class="floatL blueBtn_36 paddingL20 paddingR20" mt-trans="ASSESSMENT_VIEW_RESULT" style="border-radius: 3px;"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div style=\'width:100%;direction:ltr;\'>\n\t\t\t\t<div class=\'tickleDiv ofh pos_rel\' style="border:1px solid #ccc;border-radius:0;height:400px">\n\t\t\t\t\t<div class=\'tickleHeaderDiv ofh\'>\n\t\t\t\t\t\t<div class="qnsDiv" style="background:#fff;border-right:1px solid #ccc;height:398px">  <!-- Question area stats -->\n\t\t\t\t\t\t\t<div class="qansBg pos_abs" style="left:10px;width:auto;padding:0 5px;border-radius: 0 0 5px 5px;" translate="LB_TXT_Q_OF_N" translate-value-x="{{getCurrentQuestionIndex()+1}}" translate-value-y="{{myQuestionsIds.length}}"></div>\n\t\t\t\t\t\t\t<div style="padding:30px 14px 10px 14px;height:auto;overflow:auto;position:relative;">\n\t\t\t\t\t\t\t\t<div class="pos_abs color99 F12 lineHeight22" style="right: 10px;top:0">100 pts</div>\n\t\t\t\t\t\t\t\t<div class="" style="height:20px;background:#eee"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\'ansDiv pos_rel\'>\n\t\t\t\t\t\t\t<div class="qansBg marginL7" style="border-radius: 0 0 3px 3px;width:30px" mt-trans="TICKLE_A_TXT"></div>\n\t\t\t\t\t\t\t<div class="answerArea_Div paddingT10">\n\t\t\t\t\t\t\t\t<div class="paddingL20 paddingR15 options" ng-repeat="option in [1,2,3,4]">\n\t\t\t\t\t\t\t    \t<div class="optionsDiv noHover" style="cursor:auto">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL marginR10 marginT2 Circle"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="marginR31 marginL26" style="height:20px;background:#eee"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\t\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/assessment/assessment_match_image_labels_question.html",'<div class="answerArea_Div paddingT10" id="{{\'dclass-\'+assessment.currentQuestion.staticData.id}}">\n    <div class="paddingL20 paddingR15 options" ng-repeat="option in assessment.currentQuestion.staticData.images track by $index">\n    \t<div class="floatL marginR10">\n\t\t    <div class="marginB35 dropper" optionIndex={{$index}}>\n\t\t\t    <div class="wdt_hgt130 mixmimg">\n\t\t\t\t    <img alt="" ng-src="{{(option.processed_path || option.img.obj.processed_path)}}">\n\t\t\t\t</div>\n\t\t\t\t<div class="dragHere_Div">\n\t\t\t\t    <div class="lineHeight77 textalign_C colorc7_F11" translate="TXT_DRAG_HERE"></div>\n\t\t\t\t    <div class="Triangle"></div>\n\t\t\t\t\t<div class="attempt"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="pos_rel bottomPart text {{getDraggerClass(assessment.currentQuestion.staticData.shuffleList[$index])}}">\n\t\t\t\t<div ng-if="showDragger(assessment.currentQuestion.staticData.shuffleList[$index])" class="dragger" style="z-index:1" matchId={{assessment.currentQuestion.staticData.shuffleList[$index]}}  matchIndex={{$index}}>\n\t\t\t\t\t<div style="padding:5px 8px;" class="lineHeight16 color00_F12">\n\t\t\t\t\t\t{{assessment.currentQuestion.staticData.images[assessment.currentQuestion.staticData.shuffleList[$index]].text}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="Triangle"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="placeholder">\n\t\t\t\t\t<div ng-if="!assessment.canSubmitQuestion() && showCorrectAnswers()" style="padding:5px 8px;" class="lineHeight16 color00_F12">\n\t\t\t\t\t\t{{option.text}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="Triangle"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n    </div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/assessment/assessment_match_text_labels_question.html",'<div class="answerArea_Div paddingT10" id="{{\'dclass-\'+assessment.currentQuestion.staticData.id}}">\n    <div class="paddingL20 paddingR15 options" ng-repeat="option in assessment.currentQuestion.staticData.options track by $index">\n    \t<div class="marginB20">\n\t\t    <div class="marginR33 floatL dropper" optionIndex={{$index}}>\n\t\t\t    <div class="floatL fixedPart">\n\t\t\t\t    <div style="padding:0 10px;" class="color00_F13 lineHeight16">{{option.que}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="floatL flexPart">\n\t\t\t\t    <div class="lineHeight63 textalign_C colorc7_F11" translate="TXT_DRAG_HERE"></div>\n\t\t\t\t    <div class="Triangle"></div>\n\t\t\t\t\t<div class="attempt"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="pos_rel rtsPart text floatL {{getDraggerClass(assessment.currentQuestion.staticData.shuffleList[$index])}}" >\n\t\t\t\t<div ng-if="showDragger(assessment.currentQuestion.staticData.shuffleList[$index])" class="dragger"  style="z-index:1" matchId={{assessment.currentQuestion.staticData.shuffleList[$index]}} matchIndex={{$index}}>\n\t\t\t\t\t<div class="color00_F13 lineHeight16 paddingL10 paddingR5">\n\t\t\t\t\t\t{{assessment.currentQuestion.staticData.options[assessment.currentQuestion.staticData.shuffleList[$index]].ans}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="Triangle"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="placeholder" style="display:block">\n\t\t\t\t\t<div ng-if="!assessment.canSubmitQuestion() && showCorrectAnswers()" class="color00_F13 lineHeight16 paddingL10 paddingR5">\n\t\t\t\t\t\t{{option.ans}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="Triangle"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n    </div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/assessment/assessment_mcq_image_question.html",'<div class="answerArea_Div paddingT10">\n    <div class="paddingL20 paddingR15 options" ng-repeat="option in assessment.currentQuestion.staticData.options track by $index">\n \t\t<div class="imgGrid pos_rel {{getRowClass($index)}}" ng-click="selectOption(option,$index)">\n\t\t\t<div class="optArea">\n\t\t\t\t<div class="floatL" ng-class="{Circle:getNumCorrect()==1,Square:getNumCorrect()>1}"></div>\n\t\t\t\t<div class="floatL lineHeight16 color00_F14 marginL7" style="width: 175px;">{{option.text}}</div>\n\t\t\t\t<div class="attempt"></div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="imgArea">\n\t\t\t\t<img style="max-width:231px;max-height:118px" ng-src="{{(option.image.processed_path || option.image.obj.processed_path)}}"/>\n\t\t\t</div>\n\t\t</div>   \n    </div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/assessment/assessment_mcq_question.html",'<div class="answerArea_Div paddingT10">\n    <div class="paddingL20 paddingR15 options" ng-repeat="option in assessment.currentQuestion.staticData.options track by $index">\n    \t<div class="optionsDiv {{getRowClass($index)}}" ng-click="selectOption(option,$index)">\n\t\t\t<div class="fadedLayer"></div>\n\t\t   \t<div class="floatL marginR10 marginT2" ng-class="{Circle:getNumCorrect()==1,Square:getNumCorrect()>1}"></div>\n\t\t\t<div class="floatR Icon marginT2"></div>\n\t\t   \t<div class="lineHeight20 color00_F14 marginR31 marginL26">{{option.option}}</div>\n\t\t\t<div class="clear"></div>\t\n\t\t</div>\n    </div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/assessment/assessment_result.html",'<div style="width:620px;top:70px" class="bg_ff pos_rel margin0_auto borderR5">\n\t<div ng-show="showCloseButton" ng-click ="$dismiss()" class="crossIcon_15 pos_abs" style="right: 15px; top: 15px"></div>\n\t<div style="padding:20px 30px">\t\t\n\t\t<div class="textalign_C color36 F18 lineHeight30" mt-trans="YOUR_ASSESSMENT_COMPLETE"></div>\n\t\t<div ng-if="!hideScoreAndCertificate" class="borderT55_transparent borderB65_transparent">\n\t\t\t<div ng-hide="isLoading || isEvaluating"  class="color00 F13 lineHeight30  textalign_C">\n\t\t\t\t<div class="F13 color00 lineHeight20 marginB10">\n\t\t\t\t\t<div ng-show="myResult==\'PASS\'" mt-trans="YOUR_ASSESSMENT_COMPLETE_PASS"></div>\n\t\t\t\t\t<div ng-show="myResult==\'FAIL\'" mt-trans="YOUR_ASSESSMENT_COMPLETE_FAIL"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="F24 lineHeight36" ng-class="{color43b539:myResult==\'PASS\',colore05555:myResult==\'FAIL\'}">\n\t\t\t\t\t<b>{{score}}</b> / {{totalScore}} pts\n\t\t\t\t</div>\n\t\t\t\t<div class="color99 F12 lineHeight20 marginT5">(<span translate="ASSESSMENT_PASSING_SCORE" translate-value-a="{{passingScore}}"></span>)</div>\n\t\t\t\t<div class="">\n\t\t\t\t\t<div class="floatL pos_rel" style="left:50%">\n\t\t\t\t\t\t<div class="floatL pos_rel" style="left:-50%">\n\t\t\t\t\t\t\t<div ng-show="isCertificate" ng-click="downloadCertificate()" class="lineHeight34 color99 F14 border_99 borderR4 marginT15 paddingL20 paddingR20 cursor">\n\t\t\t\t\t\t\t\t<div class="floatL certificateIcon marginT6"></div>\n\t\t\t\t\t\t\t\t<div class="floatL marginL7" mt-trans="MSG_DOWNLOAD_CERT"></div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t</div>\t\n\t\t\t\t\t<div class="clear"></div>\t\n\t\t\t\t</div>\t\t\t\n\t\t\t</div>\n\t\t\t<div ng-show="isLoading && !isEvaluating" class="color00 F13 lineHeight30  textalign_C">\n\t\t\t\t<img ng-src="{{loaderImg}}"/>\n\t\t\t</div>\n\t\t\t<div ng-show="!isLoading && isEvaluating" class="color00 F13 lineHeight30  textalign_C" mt-trans="EVALUATING_ASSESSMENT"></div>\t\t\t\n\t\t</div>\n\t\t<div ng-if="hideScoreAndCertificate" class="borderT55_transparent borderB65_transparent">\n\t\t\t<div class="F13 color00 lineHeight20 marginB10 textalign_C">\n\t\t\t\t<div mt-trans1="ASSESSMENT_HIDE_SCORE_RESULT_MSG">The final result/score will be declared by your administrator.</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-hide="isLoading || isEvaluating" class="textalign_C">\n\t\t\t<div class="floatL pos_rel" style="left:50%;">\n\t\t\t\t<div class="floatL pos_rel lineHeight20" style="left:-50%;">\n\t\t\t\t\t<div ng-hide="isPreview" class="floatL color0072bc F13 underLine" mt-trans="ASSESSMENT_GO_BACK_AD" ng-click="goBackTo(\'AD\')"></div>\n\t\t\t\t\t<div ng-hide="isPreview" class="floatL marginL10 marginR10 marginT3" style="width:1px;height:14px;background:#0072bc"></div>\n\t\t\t\t\t<div class="floatL color0072bc F13 underLine" mt-trans="ASSESSMENT_GO_BACK_LB" ng-click="goBackTo(\'LB\')"></div>\n\t\t\t\t\t<div ng-hide="isPreview || !nextModuleInfo" class="floatL">\n\t\t\t\t\t\t<div class="floatL marginL10 marginR10 marginT3" style="width:1px;height:14px;background:#0072bc"></div>\n\t\t\t\t\t\t<div class="floatL color0072bc F13 underLine" mt-trans="NEXTQ_BTN_TXT" ng-click="goBackTo(\'NextModule\')">Next</div>\n\t\t\t\t\t\t<div class="floatL marginT3 marginR5 marginL5 {{nextModuleInfoDetails.iconS}}">{{nextModuleInfoDetails.shortKey}}</div>\n\t\t\t\t\t\t<div class="floatL ellipsis" style="max-width: 150px;">{{nextModuleInfo.name}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t</div>\t\t     \n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/assessment/assessment_summary.html",'<div style="width:620px;top:70px" class="bg_ff pos_rel margin0_auto borderR5">\n\t<div style="padding:20px 30px">\n\t\t<!-- div ng-click="$dismiss()" class="crossIcon_15 pos_abs closePopup" style="right: 15px; top: 15px"></div-->\n\t\t<div>\n\t\t\t<div ng-hide="timeUp" class="textalign_C color36 F18 lineHeight30" mt-trans="ASSESSMENT_SUBMIT"></div>\n\t\t\t<div ng-show="timeUp" class="textalign_C color36 F18 lineHeight30" mt-trans="LB_TXT_TIMEUP"></div>\n\t\t</div>\t\n\t\t<div class="borderT55_transparent borderB65_transparent">\n\t\t\t<div class="color00 F13 lineHeight20 textalign_C"\n\t\t\t\t ng-show="timeUp"\n\t\t\t\t translate="TIME_UP_STATEMENT"\n\t\t\t\t translate-value-a="{{timeLimit}}"></div>\n\t\t\t<div class="color00 F13 lineHeight20 textalign_C"\n\t\t\t\t ng-if="numUnAnswered>0 && numMarkedVisitLater>0" \n\t\t\t\t translate="ASSESSMENT_SUBMISSION_POPUP_MSG1"\n\t\t\t\t translate-value-a="{{numUnAnswered}}"\n\t\t\t\t translate-value-b="{{totalQuestions}}" \n\t\t\t\t translate-value-c="{{numMarkedVisitLater}}"></div>\t\t\t\t \n\t\t\t<div class="color00 F13 lineHeight20 textalign_C"\n\t\t\t\t ng-if="numUnAnswered>0 && numMarkedVisitLater==0" \n\t\t\t\t translate="ASSESSMENT_SUBMISSION_POPUP_MSG2"\n\t\t\t\t translate-value-a="{{numUnAnswered}}"\n\t\t\t\t translate-value-b="{{totalQuestions}}"></div>\t\t\t\t \n\t\t\t<div class="color00 F13 lineHeight20 textalign_C"\n\t\t\t\t ng-if="numMarkedVisitLater>0 && numUnAnswered==0" \n\t\t\t\t translate="ASSESSMENT_SUBMISSION_POPUP_MSG3"\n\t\t\t\t translate-value-a="{{totalQuestions}}"\n\t\t\t\t translate-value-b="{{numMarkedVisitLater}}"></div>\n\t\t\t<div class="color00 F13 lineHeight20 textalign_C"\n\t\t\t\t ng-if="numMarkedVisitLater==0 && numUnAnswered==0" \n\t\t\t\t translate="ASSESSMENT_SUBMISSION_POPUP_MSG4"\n\t\t\t\t translate-value-a="{{totalQuestions}}"></div>\t \t \t \n\t\t\t\t \n\t\t\t<div class="marginT15">\n\t\t\t\t<div class="floatL pos_rel" style="left:50%">\n\t\t\t\t\t<div class="floatL pos_rel" style="left:-50%">\n\t\t\t\t\t\t<div class="floatL color66 lineHeight32 F14 border_66 borderR3 paddingL20 paddingR20"\n\t\t\t\t\t\t\tng-class="{\'cursor\':(!timeUp)}"\n\t\t\t\t\t\t\tng-click="confirmSubmission(\'DNS\')" \n\t\t\t\t\t\t\tng-keyup="$event.keyCode == 13 && confirmSubmission(\'DNS\')"\n\t\t\t\t\t\t\ttranslate="ASSESSMENT_SUBMISSION_POPUP_DNA"\n\t\t\t\t\t\t\ttranslate-value-a="{{numUnAnswered}}" \n\t\t\t\t\t\t\ttranslate-value-b="{{totalQuestions}}"></div>\n\t\t\t\t\t\t<div ng-click="confirmSubmission(\'VL\')"\n\t\t\t\t\t\t\t ng-class="{\'cursor\':(!timeUp)}" \n\t\t\t\t\t\t\t class="floatL colore64d86 lineHeight32 F14 bordere64d86 borderR3 paddingL20 paddingR20 marginL10">\n\t\t\t\t\t\t\t<div class="floatL pinkDot_10 marginT11"></div>\n\t\t\t\t\t\t\t<div class="floatL marginL8" \n\t\t\t\t\t\t\t\t ng-keyup="$event.keyCode == 13 && confirmSubmission(\'VL\')" \n\t\t\t\t\t\t\t\t translate="ASSESSMENT_SUBMISSION_POPUP_VL"\n\t\t\t\t\t\t\t\t translate-value-a="{{numMarkedVisitLater}}"></div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t<div class="clear"></div>\t\n\t\t\t</div>\n\t\t\t\t\n\t\t</div>\t\n\t\t<div>\n\t\t\t<div style="left:50%;" class="floatL pos_rel">\n\t\t\t\t<div style="left:-50%;" class="floatL pos_rel">\n\t\t\t\t\t<div ng-hide="timeUp" tabindex=0 class="floatL border_cc_30 F13 paddingL20 paddingR20 marginR10" ng-click ="$dismiss()" ng-keyup="$event.keyCode == 13 && $dismiss()" mt-trans="HM_MSG_CANCEL"></div>\n\t\t\t\t\t<div ng-hide="timeUp" tabindex=0 class="floatL btn_0072bc F13 lineHeight30 borderR15 paddingL20 paddingR20" ng-click="confirmSubmission(\'SUBMIT\')" ng-keyup="$event.keyCode == 13 && confirmSubmission(\'SUBMIT\')" mt-trans="ASSESSMENT_CONFIRM_SUBMISSION"></div>\n\t\t\t\t\t<div ng-show="timeUp" tabindex=0 class="floatL btn_0072bc F13 lineHeight30 borderR15 paddingL20 paddingR20" ng-click="confirmSubmission(\'VIEW_RESULT\')" ng-keyup="$event.keyCode == 13 && confirmSubmission(\'VIEW_RESULT\')" mt-trans="ASSESSMENT_VIEW_RESULT"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t</div>\t     \n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/assessment/assessment_text_question.html",'<div class="answerArea_Div">   <!-- Input box tickle answer Area starts  -->\n\t<div class="paddingT10 paddingL20 paddingR15"> \n\t\t<div class="marginB20" ng-show="assessment.qMode==\'EDIT\'">\n\t\t\t<div style="position: relative;min-width:352px;width:60%" class="pos_rel espInput floatL border_cc bg_ff borderR2 paddingL10 paddingR10 paddingT5 paddingB5 displayInflex">\n\t\t\t\t<input autofucus class="inputBox_Text lineHeight18 F13 color00"\n\t\t\t\t \t  ng-model="assessment.learnerCurrentAnswer" \n\t\t\t\t\t  placeholder="{{ \'TICKLE_TEXT_PLACEHOLDER\' | translate}}" \n\t\t\t\t\t  type="text" \n\t\t\t\t\t  style="width:100%;height:18px;border:0;padding:0;outline:0">\n\t\t\t</div>\n\t\t\t<div tabindex=0 class="floatL marginL10 btn_0072bc F13 lineHeight30 borderR2 paddingL20 paddingR20" \n\t\t\t\t ng-click="assessment.saveTextAnswer()" \n\t\t\t\t mt-trans="BTN_DONE_TEXT"></div>\n\t\t\t<div tabindex=0 class="floatL color0072bc F13 marginL10 lineHeight30 cursor"\n\t\t\t\t ng-show="assessment.qMode==\'EDIT\' && assessment.uOpened"\n\t\t\t\t ng-click="assessment.cancelTextAnswerEdit()" \n\t\t\t\t mt-trans="HM_MSG_CANCEL"></div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="marginB20" ng-show="assessment.qMode==\'VIEW\'">\n\t\t\t<div ng-if="assessment.canSubmitQuestion()" tabindex=0 class="pos_rel paddingL10 paddingR10 paddingT5 paddingB5">{{assessment.currentQuestion.userData.lastAttempt}}</div>\n\t\t\t<div ng-if="!assessment.canSubmitQuestion()" \n\t\t\t\t class="marginB10" style="min-width:452px;width:100%;padding:10px;" \n\t\t\t\t ng-class="{\'wrgAns\':assessment.currentQuestion.userData.completionState==\'WRONG\',\'crtAns\':assessment.currentQuestion.userData.completionState==\'CORRECT\'}">\n\t\t\t\t<div class="floatL ans" style="width:95%">{{assessment.currentQuestion.userData.lastAttempt}}</div>\n\t\t\t\t<div class="floatR icon marginT2"></div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div ng-if="showCorrectAnswers()" class="pos_rel paddingL10 paddingR10 paddingT5 paddingB5" translate="ASSESSMENT_TXT_CORRECT_ANSWER" translate-value-a="{{assessment.currentQuestion.staticData.exactAnswer}}"></div>\n\t\t\t<div tabindex=0 class="paddingL10 floatL"\n\t\t\t\t ng-show="assessment.canSubmitQuestion()"\n\t\t\t\t ng-click="assessment.showTextAnswerEdit();assessment.uOpened=true" \n\t\t\t\t style="color: #999;text-decoration: underline; cursor:pointer;" \n\t\t\t\t mt-trans="PROFILE_EDIT_PIC"></div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="userAnswers"></div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/assessment/assessment_tutorial.html",'<div class="pos_rel">\n\t<div ng-show="currentStep==1" class="pos_abs" style="width: 250px;top: 140px;right: 84px;">\n\t\t<div class="pos_abs triangleRight_18_13" style="right: -13px;top: 60px;"></div>\n\t\t<div class="tuto_header bg_ee F13 color00 lineHeight20 borderB_dd" style="padding:9px 14px;border-radius:4px 4px 0 0">\n\t\t\t<div class="floatL" translate="CAPITAL_REVIEW"></div>\n\t\t\t<div class="floatR">\n\t\t\t\t<div class="floatL Ellipse Current marginT7"></div>\n\t\t\t\t<div class="floatL Ellipse marginL5 marginT7"></div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="bg_ff" style="padding:9px 14px;border-radius:0 0 4px 4px">\n\t\t\t<div class="color66 F13 tuto_body lineHeight22" translate="ASSESSMENT_TUTORIAL_FIRST_MESSAGE"></div>\n\t\t\t<div class="tuto_footer F12 lineHeight20 marginT15">\n\t\t\t\t<div class="floatL color99 cursor" ng-click="endTutorial()" style="text-decoration:underline" translate="SKIP_TUTORIAL"></div>\n\t\t\t\t<div class="floatR color0072bc cursor" ng-click="gotoNext()" translate="NEXT_TEXT"></div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t \n\t<div ng-show="currentStep==2" class="pos_abs" style="width: 250px;top: 360px;left: {{cssLeft}}px;">\n\t\t<div class="pos_abs triangleBottom_18_13" style="left: 116px;bottom: -13px;"></div>\n\t\t<div class="tuto_header bg_ee F13 color00 lineHeight20 borderB_dd" style="padding:9px 14px;border-radius:4px 4px 0 0">\n\t\t\t<div class="floatL" translate="VISIT_LATER"></div>\n\t\t\t<div class="floatR">\n\t\t\t\t<div class="floatL Ellipse marginT7"></div>\n\t\t\t\t<div class="floatL Ellipse Current marginL5 marginT7"></div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="bg_ff" style="padding:9px 14px;border-radius:0 0 4px 4px">\n\t\t\t<div class="color66 F13 tuto_body lineHeight22" translate="ASSESSMENT_TUTORIAL_SECOND_MESSAGE"></div>\n\t\t\t<div class="tuto_footer F12 lineHeight20 marginT15">\n\t\t\t\t<div class="floatL color99 cursor" ng-click="endTutorial()" style="text-decoration:underline" translate="SKIP_TUTORIAL"></div>\n\t\t\t\t<div class="floatR color0072bc cursor">\n\t\t\t\t\t<div class="floatL color99 cursor" ng-click="gotoPrev()" translate="PREV_TEXT"></div>\n\t\t\t\t\t<div class="floatL color0072bc cursor marginL8" ng-click="endTutorial()" translate="BTN_DONE_TEXT"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>  \n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/coaching/approve_disapprove_coaching.html",'<div style="width:520px;top:50px;padding:20px 0" class="bg_ff pos_rel margin0_auto">\n\t<div class="textalign_C color36 F18 lineHeight28" translate="CS_LEARNER_APPROVAL_POPUP_HEADER"></div>\n\t<div class="marginT20">\n\t\t<div style="left:50%;" class="floatL pos_rel">\n\t\t\t<div style="left:-50%;" class="floatL pos_rel">\n\t\t\t\t<textarea placeholder="{{\'CS_LEARNER_APPROVAL_POPUP_PLACEHOLDER\'|translate}}"\n\t\t\t\t\t\t  ng-model="comment" \n\t\t\t\t\t\t  type="text" class="color66 F13 lineHeight20 border_dd" \n\t\t\t\t\t\t  style="width:460px;height:85px;padding:5px 8px;resize: none"></textarea>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\t\n\t<div class="paddingT50" style="overflow-x: hidden">\n\t\t<div style="left:50%;" class="floatL pos_rel">\n\t\t\t<div style="left:-50%;" class="floatL pos_rel">\n\t\t\t\t<div tabindex=0 class="floatL border_cc_30 F13 paddingL20 paddingR20 marginR10" ng-click ="$dismiss()" ng-keyup="$event.keyCode == 13 && $dismiss()" translate="HM_MSG_CANCEL">Cancel</div>\n\t\t\t\t<div tabindex=0 class="floatL btn_0072bc F13 lineHeight30 borderR15 paddingL25 paddingR25" ng-click="confirmAction()" ng-keyup="$event.keyCode == 13 && confirmAction()">{{btnText}}</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>    \n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/coaching/view_coaching.html",'<div class="bg_ff pos_rel">\n\t<div class="pos_abs crossIcon_20_20" style="top:20px;right:20px" ng-click="closeMe()"></div>\n    <div style="padding:20px 0 0">\n\t\t<div class="color36 F18 lineHeight30" style="margin:0 210px 10px 30px">\n\t\t    <span mt-trans="LB_TXT_COACHING"></span>:&nbsp;<span class="bold">{{entityInfo.name}}</span>\n\t\t</div>\n\t\t<div  class="color00 lineHeight30 borderB_dd pos_rel" style="padding:0 35% 10px 30px;height:131px;">\n\t\t\t<div class="pos_abs bg_ff paddingL30" style="width:100%;z-index:1;left:0px;" ng-class="{\'borderB_dd\':(showReadMore && largeContent)}">\n\t\t\t\t<div class="color00 F13 lineHeight20 marginT10 mdesHeight setmarginZero_P" ng-class="{\'mDesHeightLarge\':(largeContent && showReadMore),\'mDesHeightSmall\':(largeContent && !showReadMore)}" ng-bind-html="renderHtml(entityInfo.desc)"></div>\n\t\t\t\t<span class="readMore cursor" style="color:#0072bc" ng-click="showReadMore = true;$evalAsync();" ng-show="!showReadMore && largeContent" mt-trans="M_VIEW_MORE">View more</span>\n\t\t\t\t<span class="readLess cursor" style="color:#0072bc" ng-click="showReadMore = false;$evalAsync();" ng-show="showReadMore && largeContent" mt-trans="M_VIEW_LESS">View less</span>\n\t            <div class="ofh" ng-if="entityInfo.docs && entityInfo.docs.length > 0">\n\t\t\t\t\t<div class="floatL cursor lineHeighT20">\n\t\t\t\t\t\t<div class="floatL attachmentIcon_17_16 marginR5 marginT7"></div>\n\t                    <div class="floatL color0072bc F13">\n\t                    \t<a href="{{entityInfo.docs[0].obj.original_path}}" target="_blank" style="text-decoration:none !important">{{entityInfo.docs[0].title}}</a>\n\t                    </div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="!sessionsHistory.$resolved" class="textalign_C pos_rel" style="width:100%;overflow-y:auto;" mt-trans="MSG_LOADING"></div>\n\t\t<div ng-if="sessionsHistory.$resolved && sessionsHistory.history.length>0" class="pos_rel">\n\t\t\t<div class="pos_abs" style="width:320px">\n\t\t\t\t<div class="borderR_dd FOReviewPopup_leftHeight">\n\t\t\t\t\t<div class="color00 F14 lineHeight20 bold paddingL30 paddingT15 paddingB15 borderB_dd" mt-trans="LB_TXT_COACHING"></div>\n\t\t\t\t\t<div ng-repeat="review in sessionsHistory.history track by $index" \n\t\t\t\t\t\t ng-click="loadSessionCycleData(review)"\n\t\t\t\t\t\t ng-class="{\'Current\':(review.reattemptVersion==currentReAttemptVersion)}"\n\t\t\t\t\t\t class="cursor lineHeight20 F14 paddingT10 paddingB10 paddingL30 Tab borderB_dd">\n\t\t\t\t\t\t<div class="floatL marginR15">S{{review.reviewCycle}}</div>\n\t\t\t\t\t\t<div class="floatL marginR10">{{getScheduledOnText(review)}}</div>\n\t\t\t\t\t\t<div class="floatL dropdown" ng-click="$event.stopPropagation();">\n\t\t\t\t\t\t\t<div class="dropdown-toggle FOReview_Icon"\n\t\t\t\t\t\t\t\tng-class="{\'Disapproved\':review.uistatus==\'disapproved\',\'Approved\':review.uistatus==\'updated_after_disapprove\'}" \n\t\t\t\t\t\t\t\tstyle="border: 0"></div>\n\t\t\t\t\t\t\t<div ng-if="review.uistatus==\'disapproved\' || review.uistatus==\'updated_after_disapprove\'" \n\t\t\t\t\t\t\t\t class="dropdown-menu" style="margin: 0; line-height: 20px; padding: 7px 10px; width: 305px; left: -142px; top: 35px">\n\t\t\t\t\t\t\t\t<div class="pos_abs triangleUp_27_14" style="top: -14px; left: 131px;"></div>\n\t\t\t\t\t\t\t\t<div ng-if="review.uistatus==\'disapproved\'" class="F13" mt-trans="COACHING_DISAPPROVED_TXT_LEARNER"></div>\n\t\t\t\t\t\t\t\t<div ng-if="review.uistatus==\'updated_after_disapprove\'" class="F13" mt-trans="COACHING_EDIT_FEEDBCK_TXT_LEARNER"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-if="review.uiComment" class="floatL dropdown marginL10" ng-click="$event.stopPropagation();">\n\t\t\t\t\t\t\t<div class="dropdown-toggle commentIcon" style="border: 0"></div>\n\t\t\t\t\t\t\t<div class="dropdown-menu" style="margin: 0; line-height: 20px; padding: 7px 10px; width: 200px; left: -138px; top: 35px">\n\t\t\t\t\t\t\t\t<div class="pos_abs triangleUp_27_14" style="top: -14px; left: 131px;"></div>\n\t\t\t\t\t\t\t\t<div class="F13">\n\t\t\t\t\t\t\t\t\t<div class="color00 bold">\n\t\t\t\t\t\t\t\t\t\t<span translate="CS_LEARNER_APPROVAL_TOOLTIP_HEADER"></span>\n\t\t\t\t\t\t\t\t\t\t<span>:</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="F12" ng-bind-html="renderHtml(review.uiComment)"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="floatR arrow_11_6_new marginR5"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div style="margin-left:320px;" class="bg_f7 pos_rel">\n\t\t\t\t<div ng-if="!isReattemptVersionFormViewable()" class="textalign_L margin0_auto FOReviewPopup_leftHeight paddingT30" style="width: 800px;">\n\t\t\t\t\t<div ng-if="sessionsHistory.historyMap[currentReAttemptVersion].scheduledOn == 0" class="paddingT50">\n\t\t\t\t\t\t<div class="marginB5 color00 F18" mt-trans="COACHING_FORM_TXT"></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class="floatL bg_bccad9 marginR5">{{sessionsHistory.historyMap[currentReAttemptVersion].reviewerInfo | mtShortName}}</div>\n\t\t\t\t\t\t\t<div class="floatL lineHeight32 marginR5 color00 F12">{{(sessionsHistory.reviewer.name || sessionsHistory.reviewer.email)}}:</div>\n\t\t\t\t\t\t\t<div class="floatL lineHeight32 marginR5 color99 F12" translate="COACHING_TXT_SESSION_UNSCHEDULED"></div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-if="sessionsHistory.historyMap[currentReAttemptVersion].reviewedOn == 0 && sessionsHistory.historyMap[currentReAttemptVersion].scheduledOn>0">\n\t\t\t\t\t\t<div class="marginB5 color00 F18" mt-trans="COACHING_FORM_TXT"></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class="floatL bg_bccad9 marginR5">{{sessionsHistory.historyMap[currentReAttemptVersion].reviewerInfo | mtShortName}}</div>\n\t\t\t\t\t\t\t<div class="floatL lineHeight32 marginR5 color00 F12">{{(sessionsHistory.historyMap[currentReAttemptVersion].reviewerInfo.name || sessionsHistory.historyMap[currentReAttemptVersion].reviewerInfo.email)}}:</div>\n\t\t\t\t\t\t\t<div class="floatL lineHeight32 marginR5 color99 F12" translate="M_TXT_REVIEW_PENDING_NONE"></div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="FOReviewPopup_leftHeight" ng-if="loadingVersionData" mt-trans="MSG_LOADING"></div>\n\t\t\t\t<div ng-if="formData.$resolved">\n\t\t\t\t\t<div class="FOReviewPopup_rightHeight">\n\t\t\t\t\t\t<div class="paddingT23 paddingB23 margin0_auto" style="width:734px">\n\t\t\t\t\t\t\t<div class="marginB5 color00 F18" mt-trans="COACHING_FORM_TXT"></div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="floatL bg_bccad9 marginR5">{{sessionsHistory.historyMap[currentReAttemptVersion].reviewerInfo | mtShortName}}</div>\n\t\t\t\t\t\t\t\t<div class="floatL lineHeight32 marginR5 color00 F12">{{(sessionsHistory.historyMap[currentReAttemptVersion].reviewerInfo.name || sessionsHistory.historyMap[currentReAttemptVersion].reviewerInfo.email)}}:</div>\n\t\t\t\t\t\t\t\t<div class="floatL lineHeight32 marginR5 color99 F12" translate="M_TXT_REVIEW_COMPLETE"></div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="lineHeight20 F13 marginT25 marginB7">\n\t\t\t\t\t\t\t\t<div class="floatL color00"><span translate="COACHING_TXT_SCHEDULED_DATE"></span> <span class="bold">{{getScheduledDateText(sessionsHistory.historyMap[currentReAttemptVersion].scheduledOn)}}</span></div>\n\t\t\t\t\t\t\t\t<div class="floatL color00 marginL20"><span translate="COACHING_TXT_REVIEWED_DATE"></span> <span class="bold">{{getReviewedDateText(sessionsHistory.historyMap[currentReAttemptVersion].reviewedOn)}}</span></div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="marginB20" ng-repeat="sdata in formData.levels[0].topics track by $index">\n\t\t\t\t\t\t\t<div class="coachingSection bg_ff pos_rel borderL_ee borderT_ee borderR_ee margin0_auto" style="width:734px">\n\t\t\t\t\t\t\t\t<div ng-show="getTotalTopics() > 1" class="sectionTopHeader normalBox pos_rel borderB_ee paddingL30 paddingR30 paddingB25 paddingT25">\n\t\t\t\t\t\t\t\t\t<div class="pos_abs bg_99 colorff F14 lineHeight20 borderR4 paddingL6 paddingR6" style="left:-8px;top:27px">{{$index+1}}</div>\n\t\t\t\t\t\t\t\t\t<div class="color00 F14 lineHeight24 bold">\n\t\t\t\t\t\t\t\t\t\t{{(sdata.name=="_" || sdata.name=="")?"Untitled Section":sdata.name}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div ng-repeat="lodata in sdata.los track by $index" ng-style="{\'background\': isLoNotEvaluated(lodata) ? \'#f5f5f5\' : \'\'}">\n\t\t\t\t\t\t\t\t\t<div class="coachingParameters normalBox borderB_ee" style="padding:25px 30px">\n\t\t\t\t\t\t\t\t\t\t<div class="color00 F14 lineHeight20">\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:22px">{{$index+1}}.</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:650px" ng-bind-html="renderHtml(lodata.quesText)"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="color99 F13 lineHeight20 marginL22 pos_rel" ng-class="{\'marginT20\':lodata.staticNode.obj.guidanceEnabled, \'marginT10\': !lodata.staticNode.obj.guidanceEnabled}">\n\t\t\t\t\t\t\t\t\t\t\t<div class="pos_abs color_cc F13 italic" style="top: -20px;" ng-show="lodata.staticNode.obj.guidanceEnabled && formData.userGeLOData[lodata.id].evaluation.isEvaluated && !formData.userGeLOData[lodata.id].evaluation.isNA && (formData.userGeLOData[lodata.id].evaluation.score > -1) && ((formData.userGeLOData[lodata.id].evaluation.score == 0 && lodata.staticNode.obj.guidance[0]) || (formData.userGeLOData[lodata.id].evaluation.score > 0 && lodata.staticNode.obj.guidance[formData.userGeLOData[lodata.id].evaluation.score/100]))"><i>"{{formData.userGeLOData[lodata.id].evaluation.score == 0 ? lodata.staticNode.obj.guidance[0] : lodata.staticNode.obj.guidance[formData.userGeLOData[lodata.id].evaluation.score/100]}}"</i></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="marginT8" eval-param-rating-partial\n\t\t\t\t\t\t\t\t\t\t\t\t  ng-style="{\'margin-bottom\':(lodata.staticNode.obj.allowComments?\'20px\':\'0px\')}"\n\t\t\t\t\t\t\t\t\t\t\t\t  ng-if="lodata.subType == \'2\'"\n\t\t\t\t\t\t\t\t\t\t\t\t  score="getRatingScore(lodata.id)"\n\t\t\t\t\t\t\t\t\t\t\t\t  firsthalf-rating-class="\'firsthalfRating_blue_7\'"\n\t\t\t\t\t\t\t\t\t\t\t\t  secondhalf-rating-class="\'secondhalfRating_blue_7\'"\n\t\t\t\t\t\t\t\t\t\t\t\t  is-review="true" reviewed="true"\n\t\t\t\t\t\t\t\t\t\t\t\t  show-zero="true"\n\t\t\t\t\t\t\t\t\t\t\t\t  is-na="formData.userGeLOData[lodata.id].evaluation.isNA"\n\t\t\t\t\t\t\t\t\t\t\t\t  default-rating-bg="\'defaultRatingBg_re\'" margin-style="{left:\'7px\'}">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div ng-if="lodata.subType == \'3\'" class="marginB20">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL lineHeight20" ng-class="{clicked:getRatingScore(lodata.id)>0 && !formData.userGeLOData[lodata.id].evaluation.isNA}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL radioBtn_grey marginT4"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL marginL7" mt-trans="BTN_YES">Yes</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL lineHeight20 marginL30" ng-class="{clicked:getRatingScore(lodata.id) == 0 && !formData.userGeLOData[lodata.id].evaluation.isNA}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL radioBtn_grey marginT4"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL marginL7" mt-trans="BTN_NO">No</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="lineHeight20" ng-if="lodata.staticNode.obj.allowComments || lodata.subType == \'1\'" style="width:100%"\n                                                ng-bind-html="renderHtml(formData.userGeLOData[lodata.id].evaluation.comment,[2,3].indexOf(lodata.subType) === -1)">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL lineHeight20 marginL30" ng-if="lodata.allowNA" ng-class="{clicked:formData.userGeLOData[lodata.id].evaluation.isNA}">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL radioBtn_grey marginT4"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL marginL7">Not Applicable</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatR" style="font-style: italic;margin-top: -20px;" ng-if="isLoNotEvaluated(lodata)">\n\t\t\t\t\t\t\t\t\t\t\t\tnot filled by reviewer\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="border_ee margin0_auto bg_ff marginB20" style="width:734px">\n\t\t\t\t\t\t\t<div ng-class1="{marginB20:!entityInfo.allowReviewDoc}"\n\t\t\t\t\t\t\t\t ng-if="formData.fixed.allowOverallFeedback && (formData.userGeData.postiveFeedback || formData.userGeData.constructiveFeedback)">\n\t\t\t\t\t\t\t\t<div class="coachingSection pos_rel" >\n\t\t\t\t\t\t\t\t\t<div class="sectionTopHeader normalBox pos_rel paddingL30 paddingR30 paddingB25 paddingT25"\n\t\t\t\t\t\t\t\t\t\t ng-class1="{\'borderB_ee\':!entityInfo.allowReviewDoc}">\n\t\t\t\t\t\t\t\t\t\t<div class="marginB30" ng-if="formData.userGeData.postiveFeedback">\n\t\t\t\t\t\t\t\t\t\t\t<div class="color00 F14 lineHeight24 bold" mt-trans="M_TXT_POSITIVE_FEEDBACK"> </div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="lineHeight20" ng-bind-html="renderHtml(formData.userGeData.postiveFeedback)"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div ng-if="formData.userGeData.constructiveFeedback">\n\t\t\t\t\t\t\t\t\t\t\t<div class="color00 F14 lineHeight24 bold" mt-trans="M_TXT_CONSTRUCTIVE_FEEDBACK_N"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="lineHeight20" ng-bind-html="renderHtml(formData.userGeData.constructiveFeedback)"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div ng-if="entityInfo.allowReviewDoc && sessionsHistory.historyMap[currentReAttemptVersion].reviewDocInfo.$resolved"\n\t\t\t\t\t\t\t\t class="coachingSection pos_rel"  style="padding:0px 30px">\n\t\t\t\t\t\t\t\t<div class="lineHeight20 marginB10">\n\t\t\t\t\t\t\t\t\t<div class="floatL cursor attachmentArea">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL newAttachmentIcon_17_15 marginT3 marginR5"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatL color0072bc F13">\n\t\t\t\t\t                    \t<a ng-click="contentClicked(sessionsHistory.historyMap[currentReAttemptVersion].reviewDocInfo)" href="{{sessionsHistory.historyMap[currentReAttemptVersion].reviewDocInfo.original_path}}" target="_blank" style="text-decoration:none !important">{{sessionsHistory.historyMap[currentReAttemptVersion].reviewDocInfo.title}}</a>\n\t\t\t\t\t                    </div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div ng-if="formData.userGeData.reviewDuration != null && (formData.userGeData.reviewDuration.hour > 0 || formData.userGeData.reviewDuration.minute > 0)" style="padding: 0 30px;" class="marginB20">\n\t\t\t\t\t\t\t\t<span translate="CS_TIME_TAKEN_FOR_REVIEW"></span>\n\t\t\t\t\t\t\t\t<span class="marginL10">\n\t\t\t\t\t\t\t\t\t<span>{{formData.userGeData.reviewDuration.hour}}</span>\n\t\t\t\t\t\t\t\t\t<span>Hrs</span>\n\t\t\t\t\t\t\t\t\t<span>{{formData.userGeData.reviewDuration.minute}}</span>\n\t\t\t\t\t\t\t\t\t<span>Mins</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="borderT_dd bg_ff paddingT20 paddingB20">\n\t\t\t\t\t\t<div class="margin0_auto" style="width:734px">\n\t\t\t\t\t\t\t<div ng-if="formData.fixed.showOverallScoreToLearner" class="floatL F16 lineHeight30">\n\t\t\t\t\t\t\t\t<span class="color66">Review Score:&nbsp;</span><span class="color00">{{formData.userGeData.percentageScore}}%</span>\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatR" ng-if="formData.fixed.allowLearnerApprove">\n\t\t\t\t\t\t\t\t<div ng-if="sessionsHistory.historyMap[currentReAttemptVersion].uistatus==\'not_approved_disapproved\' && canApproveOrDisapprove()" ng-click="approveCoachingReviewConfirm(false)" class="floatL border_cc_30 paddingL15 paddingR15" mt-trans="COACHING_TXT_DISAPPROVE"></div>\n\t\t\t\t\t\t\t\t<div ng-if="sessionsHistory.historyMap[currentReAttemptVersion].uistatus==\'not_approved_disapproved\' && canApproveOrDisapprove()" ng-click="approveCoachingReviewConfirm(true)" class="floatL btn_0072bc borderR15 cursor marginL10 lineHeight30 paddingL15 paddingR15" mt-trans="COACHING_TXT_APPROVE"></div>\n\t\t\t\t\t\t\t\t<div ng-if="sessionsHistory.historyMap[currentReAttemptVersion].uistatus==\'approved\' || sessionsHistory.historyMap[currentReAttemptVersion].uistatus2==\'approved\'" \n\t\t\t\t\t\t\t\t\t class="floatL btn_0072bc borderR15 cursor marginL10 lineHeight30 paddingL15 paddingR15 disable" \n\t\t\t\t\t\t\t\t\t mt-trans="COACHING_TXT_REVIEW_APPROVED"></div>\n\t\t\t\t\t\t\t\t<div ng-if="sessionsHistory.historyMap[currentReAttemptVersion].uistatus==\'disapproved\' || sessionsHistory.historyMap[currentReAttemptVersion].uistatus2==\'disapproved\'" \n\t\t\t\t\t\t\t\t\t class="floatL bgd14f48 borderR15 cursor marginL10 lineHeight30 paddingL15 paddingR15 disable colorff" \n\t\t\t\t\t\t\t\t\t mt-trans="COACHING_TXT_REVIEW_DISAPPROVED"></div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/audio-level-partial.html",'<canvas id="canvasAudio" width="50px" height="4px" class="floatL pos_rel marginL6 marginT6 borderR3" style="background:#666;" ng-if="!theme">\n</canvas>\n\n\n<div class="marginT15" style="width: 100%;" ng-if="theme">\n  <div class="floatL" style="width:30%;font-size:80%;margin-top:-9px;">Sound Level:</div>\n  <div class="floatL" style="\n    /* padding-top: 10px; */\n    height: 10px;\n    padding-top: 2px;\n    ">\n    <div class="floatL marginR5 bg_voiceIndicator" ng-class=" decibelLevel >=1 ? \'active\' : null " style="width: 10px; height: 8px; border-radius: 5px; border: 1px solid black;"></div>\n    <div class="floatL marginR5 bg_voiceIndicator" ng-class=" decibelLevel >=2 ? \'active\' : null " style="width: 10px; height: 8px; border-radius: 5px; border: 1px solid black;"></div>\n    <div class="floatL marginR5 bg_voiceIndicator" ng-class=" decibelLevel >=3 ? \'active\' : null " style="width: 10px; height: 8px; border-radius: 5px; border: 1px solid black;"></div>\n    <div class="floatL marginR5 bg_voiceIndicator" ng-class=" decibelLevel >=4 ? \'active\' : null " style="width: 10px; height: 8px; border-radius: 5px; border: 1px solid black;"></div>\n    <div class="floatL marginR5 bg_voiceIndicator" ng-class=" decibelLevel >=5 ? \'active\' : null " style="width: 10px; height: 8px; border-radius: 5px; border: 1px solid black;"></div>\n    <div class="floatL marginR5 bg_voiceIndicator" ng-class=" decibelLevel >=6 ? \'active\' : null " style="width: 10px; height: 8px; border-radius: 5px; border: 1px solid black;"></div>\n    <div class="floatL marginR5 bg_voiceIndicator" ng-class=" decibelLevel >=7 ? \'active\' : null " style="width: 10px; height: 8px; border-radius: 5px; border: 1px solid black;"></div>\n    <div class="floatL marginR5 bg_voiceIndicator" ng-class=" decibelLevel >=8 ? \'active\' : null " style="width: 10px; height: 8px; border-radius: 5px; border: 1px solid black;"></div>\n    <div class="floatL marginR5 bg_voiceIndicator" ng-class=" decibelLevel >=9 ? \'active\' : null " style="width: 10px; height: 8px; border-radius: 5px; border: 1px solid black;"></div>\n    <div class="floatL marginR5 bg_voiceIndicator" ng-class=" decibelLevel >=10 ? \'active\' : null " style="width: 10px; height: 8px; border-radius: 5px; border: 1px solid black;"></div>\n\n  </div>\n  <div class="clear"></div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/coaching-section-typeahead.html",'<a tabindex="-1" title="{{match.label}}" bind-html-unsafe="match.label | typeaheadHighlight:query" ></a>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/empty-state.html",'<div class="textalign_C" style="padding: 100px 0 0">\n  <img ng-src="{{imgBasePath + imgSrc}}" style="margin: 0 auto 24px; width: 250px; height: 250px;" />\n  <div class="lineHeight20 color2a2e36 F14 semiBold">{{messageTitle | translate}}</div>\n  <div ng-if="suggestionContent" class="lineHeight20 color989CA6 F14 marginT8" style="padding: 0 0 100px 0;">\n    {{suggestionContent | translate}}\n  </div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/eval-param-binary-partial.html",'<div ng-if="isReview" class="floatR pos_rel dropdown marginB8" style="width: 115px;">\n    <div class="pos_abs" ng-if="reviewed" style="left:0;top:0;width:100%;height:100%;background:#f9f9f9;border:1px solid #ddd;opacity: 0.8;z-index:1"></div>\n    <div class="dropdown-toggle lineHeight28" ng-class="{\'disabled\':reviewed}" style="background-color: #fff;" aria-haspopup="true" aria-expanded="false">\n        <div style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text ng-binding" ng-if="scoreValue == 0 || scoreValue">{{getScoreName(scoreValue)}}</div>\n        <div style="padding:0 25px 0 10px;background:transparent;" class="dropdown-text ng-binding coloraa_F12" ng-if="!scoreValue && scoreValue != 0">Select Score</div>\n        <div class="downArrow_12_7" style="top:12px"></div>\n    </div>\n    <div class="dropdown-menu" style="width:115px;top:22px;padding: 0;border:0;margin:0">\n        <ul style="max-height:150px;width:115px;top:8px">\n            <li ng-click="changeScore(500)">\n                <div class="floatL" style="width: 100%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{getScoreName(500)}}</div>\n                <div class="clear"></div>\n            </li>\n            <li ng-click="changeScore(0)">\n                <div class="floatL" style="width: 100%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{getScoreName(0)}}</div>\n                <div class="clear"></div>\n            </li>\n            <li ng-click="changeScore(100)" ng-if="binaryType == \'REMEDIATION\'">\n                <div class="floatL" style="width: 100%;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{getScoreName(100)}}</div>\n                <div class="clear"></div>\n            </li>\n\n        </ul>\n    </div>\n</div>\n<div ng-if="!isReview" class="floatR pos_rel dropdown " style="width: 115px;line-height:20px">\n    <b>{{getScoreName(scoreValue)}}</b>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/eval-param-rating-partial.html",'<div class="floatL pos_rel defaultRedRatingBg_14 marginR10 evalDesc_Parent" ng-if="isReview">\n    <div ng-click="changeScore(0)" class="pos_abs"\n         ng-class="{firsthalfRating_red_7: scoreValue == 0 && !isNA}">\n    </div>\n    <div ng-click="changeScore(0)" class="pos_abs"\n         ng-class="{secondhalfRating_red_7: scoreValue == 0 && !isNA}" style="left:7px">\n    </div>\n    <div class="pos_abs evalDesc_Hover" style="width:400px;top: 19px;" ng-show="guidanceEnabled && guidance[0]">\n        <div style="left: -5px;top: -2px;z-index:1;" class="triangleUp_27_14 pos_abs"></div>\n        <div class="ddBG1 pos_abs" style="max-width:360px;top:11px;left: -15px;padding: 0 15px;">{{guidance[0]}}</div>\n    </div>\n</div>\n<div class="floatL pos_rel defaultRatingBg marginR5 evalDesc_Parent"  ng-style="isReview?{cursor:\'pointer\'}:{cursor:\'auto\'}">\n    <div class="pos_abs" ng-class="getRatingClassName(scoreValue, 0)" ng-click="changeScore(50)" style="width:7px;height:14px;">\n    </div>\n    <div class="pos_abs" ng-class="getRatingClassName(scoreValue, 0.5)" ng-click="changeScore(100)"\n         style="left:7px;width:7px;height:14px;">\n    </div>\n    <div class="pos_abs evalDesc_Hover" style="width:400px;top: 19px;" ng-show="guidanceEnabled && guidance[1]">\n        <div style="left: -5px;top: -2px;z-index:1;" class="triangleUp_27_14 pos_abs"></div>\n        <div class="ddBG1 pos_abs" style="max-width:360px;top:11px;left: -15px;padding: 0 15px;">{{guidance[1]}}</div>\n    </div>\n</div>\n<div class="floatL pos_rel defaultRatingBg marginR5 evalDesc_Parent" ng-style="isReview?{cursor:\'pointer\'}:{cursor:\'auto\'}">\n    <div class="pos_abs" ng-class="getRatingClassName(scoreValue, 1)" ng-click="changeScore(150)"style="width:7px;height:14px;">\n    </div>\n    <div class="pos_abs" ng-class="getRatingClassName(scoreValue, 1.5)" ng-click="changeScore(200)"\n         style="left:7px;width:7px;height:14px;">\n    </div>\n    <div class="pos_abs evalDesc_Hover" style="width:400px;top: 19px;" ng-show="guidanceEnabled && guidance[2]">\n        <div style="left: -5px;top: -2px;z-index:1;" class="triangleUp_27_14 pos_abs"></div>\n        <div class="ddBG1 pos_abs" style="max-width:360px;top:11px;left: -15px;padding: 0 15px;">{{guidance[2]}}</div>\n    </div>\n</div>\n<div class="floatL pos_rel defaultRatingBg marginR5 evalDesc_Parent" ng-style="isReview?{cursor:\'pointer\'}:{cursor:\'auto\'}">\n    <div class="pos_abs" ng-class="getRatingClassName(scoreValue, 2)" ng-click="changeScore(250)"style="width:7px;height:14px;">\n    </div>\n    <div class="pos_abs" ng-class="getRatingClassName(scoreValue, 2.5)" ng-click="changeScore(300)"\n         style="left:7px;width:7px;height:14px;">\n    </div>\n    <div class="pos_abs evalDesc_Hover" style="width:400px;top: 19px;" ng-show="guidanceEnabled && guidance[3]">\n        <div style="left: -5px;top: -2px;z-index:1;" class="triangleUp_27_14 pos_abs"></div>\n        <div class="ddBG1 pos_abs" style="max-width:360px;top:11px;left: -15px;padding: 0 15px;">{{guidance[3]}}</div>\n    </div>\n</div>\n<div class="floatL pos_rel defaultRatingBg marginR5 evalDesc_Parent" ng-style="isReview?{cursor:\'pointer\'}:{cursor:\'auto\'}">\n    <div class="pos_abs" ng-class="getRatingClassName(scoreValue, 3)" ng-click="changeScore(350)"style="width:7px;height:14px;">\n    </div>\n    <div class="pos_abs" ng-class="getRatingClassName(scoreValue, 3.5)" ng-click="changeScore(400)"\n         style="left:7px;width:7px;height:14px;">\n    </div>\n    <div class="pos_abs evalDesc_Hover" style="width:400px;top: 19px;" ng-show="guidanceEnabled && guidance[4]">\n        <div style="left: -5px;top: -2px;z-index:1;" class="triangleUp_27_14 pos_abs"></div>\n        <div class="ddBG1 pos_abs" style="max-width:360px;top:11px;left: -15px;padding: 0 15px;">{{guidance[4]}}</div>\n    </div>\n</div>\n<div class="floatL pos_rel defaultRatingBg marginR5 evalDesc_Parent" ng-style="isReview?{cursor:\'pointer\'}:{cursor:\'auto\'}">\n    <div class="pos_abs" ng-class="getRatingClassName(scoreValue, 4)" ng-click="changeScore(450)"style="width:7px;height:14px;">\n    </div>\n    <div class="pos_abs" ng-class="getRatingClassName(scoreValue, 4.5)" ng-click="changeScore(500)" \n         style="left:7px;width:7px;height:14px;">\n    </div>\n    <div class="pos_abs evalDesc_Hover" style="width:400px;top: 19px;" ng-show="guidanceEnabled && guidance[5]">\n        <div style="left: -5px;top: -2px;z-index:1;" class="triangleUp_27_14 pos_abs"></div>\n        <div class="ddBG1 pos_abs" style="max-width:360px;top:11px;left: -15px;padding: 0 15px;">{{guidance[5]}}</div>\n    </div>\n</div>\n<div class="clear"></div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/flash-mission-media-view-partial.html",'<div class="pos_rel learningContent margin0_auto" ng-style="heightStyle"\n     ng-if="!loadingPptMedia && !videoPitch && pptMedia">\n    <div style="height: 100%;">\n      <div pdfplayer pdf-media="pptMedia" pdf-media-id="pdfId" dont-show-navigation-controls="true" scrolling="no"\n        style="width: 100%; height: 100%; float: left;">\n      </div>\n        <!--iframe crocodoc id="docPlayerIframePractice" ng-src="{{(pptMedia.uuid)+\'&isMission=true&dontshowbignavigation=true\' | trustUrl}}" scrolling="no"\n                style="width: 100%; height: 100%; float: left;">\n        </iframe-->\n    </div>\n    <div class="clear"></div>\n</div>\n<div style="position:absolute;bottom:0px;width:100%;"\n     ng-style="{\'height\':(videoPitch)?\'378px\':\'30px\'}"\n     ng-if="media">\n    <div jwplayer-mission="media" control-iframe-id="{{ \'#pdf_iframe_\' + pdfId}}"\n         height-data="{{(videoPitch)?\'378\':\'30\'}}"></div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/flash-recording-partial.html",'<!--TODO: Prakash have a look-->\n<div ng-show="currentState !== states.SUBMITTED_STATE">\n    <span  ng-if="currentState === states.RECORDING" class="micIcon"\n           style="position:absolute;left: 10px;"  ng-style="{top:(videoPitch)?\'395px\':\'435px\'}">\n    </span>\n    <timer class="color99 F14  recording-timer" ng-show="(currentState === states.RECORDING)"\n           id="countdown-timer" style="position: absolute;left:105px"\n           ng-style="{top:(videoPitch)?\'395px\':\'435px\'}" interval="1000"\n           autostart="false" language="en">\n        <span ng-if="hours">{{hhours}}:</span>{{mminutes}}:{{sseconds}}{{(hours)?\'h\':\'m\'}}\n    </timer>\n\n    <div class="border_e0" ng-style="heightStyle" mt-upload="uiState.VideoUploader"\n                             ng-if="videoPitch && (currentState === states.RECORD_READY_STATE) && !screenCapture" data-type="video">\n        <div class="selectArea" style="display:table;width:670px;height:376px;">\n            <div style="display:table-cell; vertical-align: middle;">\n                <div class="camcorderIcon margin0_auto"></div>\n                <div class="coloraa F14 lineHeight20 textalign_C marginT10"\n                     mt-trans="M_TXT_RECORD_VIDEO"></div>\n            </div>\n        </div>\n    </div>\n\n    <div ng-if="currentState === states.COUNTDOWN_RUNNING" ng-style="heightStyle" class="pos_abs F50 textalign_C colorff bg_00"\n         style="padding-top:170px;width: 672px;height:421px;background-color:rgba(0,0,0,0.7);z-index:2;bg-color:">\n         <div class="pos_abs F14 colorff lineHeight26 textalign_C" style="top:125px;width: 100%;">\n         \t<span>Your recording will start in:</span><br/>\n         </div>\n        <timer interval="1000" countdown="countDownNumber+1" language="en" finish-callback="timerEnds()">\n            <span ng-show="countdown>0">{{countdown}}</span>\n        </timer>\n    </div>\n    <div class="colorff F20 lineHeight30 textalign_C pos_abs"\n         ng-style="heightStyle"\n         ng-if="currentState == states.PREPARING"\n         style="padding-top: 140px;background-color:rgba(0,0,0,0.5);width: 672px;top:0">\n        <img ng-src="{{loadingImg}}"/> Preparing to record..</div>\n    <!-- error messaging divs starts -->\n    <div ng-if="currentState == states.ERROR_STATE" class="bg_1d color99 textalign_C paddingL50 paddingR50"\n         ng-style="heightStyle"\n         style="padding-top: 140px;width: 672px;top:0">\n        <div ng-bind-html="errorMessage" class="F24 lineHeight32"></div>\n        <div compile="errorSubMessage" class="F16 lineHeight24 marginT5" ng-if="!!errorSubMessage"></div>\n    </div>\n    <!-- error messaging divs ends -->\n    <swf-object swf-url="{{audioRecSwf}}"\n                swf-params="{movie:\'AudioRec-Video.swf\', quality:\'high\', allowscriptaccess:\'always\', wmode: \'transparent\'}"\n                swf-id="pitch-recording"\n                swf-width="640"\n                swf-height="1"\n                ng-style="heightStyle"\n                swf-callbacks="{\n                                \'setHeaders\': setHeaders,\n                                \'setAudio\': setAudio,\n                                \'prepared\': prepared,\n                                \'sendToJavaScript\': sendToJS,\n                                \'errorInRecording\': errorInRecording,\n                                \'retry\': retry,\n                                \'isFlashReady\': onSwfLoadHandler,\n                                \'connected\': connected,\n                                \'setUIMessages\':errorTopBarDisplay,\n                                \'stopRecordFromSwf\':stopRecordFromSwf,\n                                \'startTimer\': startTimer,\n                                \'alertOffline\': alertOffline,\n                                \'alertOnline\': alertOnline,\n                                \'errorSevere\' : errorSevere,\n                                \'errorAlert\':errorAlert,\n                                \'noMediaFound\':noMediaFound\n                            }"\n                ng-class="{ latentSwfObject: ((currentState !== states.PREPARING && currentState !== states.SELECT_UPLOAD_METHOD_STATE && currentState !== states.RECORDING)),\n                                        activeSwfObject: ((currentState === states.PREPARING || currentState === states.SELECT_UPLOAD_METHOD_STATE  ) && !videoPitch),\n                                        activeSwfObjectVideo: ((currentState === states.PREPARING || currentState === states.COUNTDOWN_RUNNING || currentState === states.SELECT_UPLOAD_METHOD_STATE ) && videoPitch),\n                                        recordingSwfObjectVideo:((currentState === states.RECORDING) && videoPitch),\n                                        recordingSwfObject: ((currentState === states.RECORDING) && !videoPitch)}"\n            >\n    </swf-object>\n</div>\n<div class="clear"></div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/html-recording-partial.html",'<div class="floatR">\n\t<div class="colorff tooltip_bottom_right tooltip_width170" ng-show="networkDown" style="top: 10px;right: 20px;position:absolute;z-index:1" mtitle="Your Internet connection seems offline."><img ng-src="{{nointernetImg}}"/></div>\n\t<div class="bg_ee pos_rel"\n         style="width: 672px; height: 421px"\n         ng-if="currentState == states.INSTALL_PLUGIN_STATE">\n\t\t<div class="textalign_C paddingL50 paddingR50" style="border-top: 140px solid transparent">\n\t\t\t<div class="color66 F24 lineHeight30 marginB10">Install\n                <a ng-click="installPlugin()"\n                      class="a_tag_overBlack txtDecoration_N cursor">MindTickle plugin\n                </a> to record this Mission.</div>\n\t\t\t<div class="color66 F14 lineHeight24 marginB4">This is a Screen Capture Mission and you will be able to record your screen only by installing MindTickle plugin from the Chrome App Store.</div>\n\t\t\t<a ng-click="installPlugin()"\n                  class="a_tag_overBlack F14 lineHeight20 txtDecoration_N display_IB cursor">Click here to install the plugin.</a>\n\t\t</div>\n\t</div>\n\n\n    <div class="bg_ee pos_rel"\n         style="width: 672px; height: 421px"\n         ng-if="currentState == states.CHECKING_PLUGIN_STATE">\n        <div class="textalign_C paddingL50 paddingR50" style="border-top: 180px solid transparent">\n            <!--<div class="color66 F24 lineHeight30 marginB10">Install <a href="#" class="a_tag_overBlack txtDecoration_N">Missions plugin</a> to record this Mission.</div>-->\n            <div class="color66 F24 lineHeight30"><img ng-src="{{loadingImg}}"/> Checking for Plugin permissions...</div>\n        </div>\n    </div>\n    <div class="bg_1d pos_rel"\n         style="width: 672px; height: 421px"\n         ng-if="currentState == states.INSTALL_PLUGIN_STATE_DISABLED">\n        <div class="textalign_C paddingL50 paddingR50" style="border-top: 180px solid transparent">\n            <!--<div class="color66 F24 lineHeight30 marginB10">Install <a href="#" class="a_tag_overBlack txtDecoration_N">Missions plugin</a> to record this Mission.</div>-->\n            <div class="color66 F24 lineHeight30 marginB8">Enable MindTickle plugin in Chrome Extensions.</div>\n            <div class="color66 F14 lineHeight20">Not sure how to do it? <a href="https://help.mindtickle.com/support/solutions/articles/3000059903-how-to-enable-mindtickle-plugins-in-chrome-extension-" target="_blank" class="a_tag_overBlack txtDecoration_N cursor">Click here</a></div>\n              <!--TODO: get faq link and this language-->\n        </div>\n    </div>\n\t<div ng-style="{width: ( missionLoType == \'VIDEO_PITCH\' && currentState == states.RECORD_READY_STATE ) ? \'\' : \'672px\', height: ( missionLoType == \'VIDEO_PITCH\' ) ? \'378px\':\'\'}" class="bg_00 pos_rel"\n\t\tng-class="{htmlRecordingParialHeightSmall:(missionLoType == \'VOICE_OVER_PPT\' && currentState == states.RECORDING), htmlRecordingParialHeightBig:(missionLoType != \'VOICE_OVER_PPT\' && !( missionLoType == \'VIDEO_PITCH\' && currentState == states.RECORD_READY_STATE ))}"\n         ng-if="((currentState == states.RECORD_READY_STATE)||\n                    (currentState == states.RECORDING )||\n                    currentState == states.SAVING ||\n                    currentState == states.SAVE_SUBMISSION ||\n                    currentState == states.PREPARING ||\n                    currentState == states.GET_CAM_MIC_ACCESS ||\n                    currentState == states.GET_CAM_MIC_ERROR ||\n                    currentState == states.ERROR_STATE ||\n                    currentState == states.SELECT_DEVICES ||\n                    currentState == states.COUNTDOWN_RUNNING) ">\n\t\t<div ng-if="currentState == states.COUNTDOWN_RUNNING"\n\t\t\tng-style="{height:(missionLoType != \'SCREEN_CAPTURE\' && missionLoType != \'VOICE_OVER_PPT\')?\'381px\':\'421px\'}" class="pos_abs F50 textalign_C colorff"\n\t\t\tstyle="padding-top: 200px; width: 672px; background-color: #000; opacity: 0.8; z-index: 2;">\n\t\t\t<div class="pos_abs F14 colorff lineHeight26 textalign_C"\n\t\t\t\tstyle="top: 150px; width: 100%;">\n\t\t\t\t<span ng-if="missionLoType == \'SCREEN_CAPTURE\'">Navigate to\n\t\t\t\t\tthe screen you want to record before the countdown finishes.</span><br />\n\t\t\t\t<span>Your recording will start in:</span><br />\n\t\t\t</div>\n\t\t\t<timer interval="1000" countdown="countDownNumber+1" language="en"\n\t\t\t\tfinish-callback="timerEnds()"> <span ng-show="countdown>0">{{countdown}}</span>\n\t\t\t</timer>\n\t\t</div>\n\t\t<div style="color: #c7c7c7; width: 100%;" class="F13 lineHeight40 textalign_C"\n             ng-if="(missionLoType == \'SCREEN_CAPTURE\') && (currentState == states.RECORD_READY_STATE || currentState == states.RECORDING)">\n\t\t\t<div class="">Target Length - {{targetLength()}}</div>\n\t\t\t<div class="pos_abs" style="top:12px;left:10px;" ng-if="getAudioTracks()">\n\t\t\t\t<div class="micIcon floatL"></div>\n\t\t\t\t<div audio-level-partial class="floatL"\n\t\t\t stream="getAudioTracks()" indicator-color=" 1 ? \'#ccc\': \'#666\'" >\n\t\t </div>\n              <timer class="floatL color99 F13 lineHeight16 marginL8 recording-timer"\n                     ng-if="(currentState === states.RECORDING)"\n                     id="countdown-timer"\n                     interval="1000"\n                     autostart="true"\n                     language="en">\n                  <span ng-if="hours">{{hhours}}:</span>{{mminutes}}:{{sseconds}}{{(hours)?\'h\':\'m\'}}\n              </timer>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<!-- error messaging divs starts -->\n\n\n\n\t\t<div ng-if="currentState == states.SELECT_DEVICES" class="bg_1d color99 textalign_C paddingL70 paddingR70" style="padding-top:20px;" ng-style="{height:(missionLoType != \'SCREEN_CAPTURE\' && missionLoType != \'VOICE_OVER_PPT\')?\'378px\':\'421px\'}">\n\t\t\t<!-- <div class="F16 lineHeight24 marginT5" ng-repeat="audioDevice in allDevices.audioinput" ng-click="selectDevice( \'audio\', audioDevice )">{{audioDevice.label}}</div>\n\t\t\t<div class="F16 lineHeight24 marginT5" ng-repeat="videoDevice in allDevices.videoinput" ng-click="selectDevice( \'video\', videoDevice )">{{videoDevice.label}}</div> -->\n\n\t\t\t<div class="colorff F18 paddingB5" style="text-align:center;">{{ "Mic " + (isVideoNeeded() ? "and Camera " : "") + "Settings" }}</div>\n\t\t\t<div class="color99 F13 paddingB20 lineHeight30">\n\t\t\t\t{{"Select device" + (isVideoNeeded() ? "s" : "") + " to provide Mic " + (isVideoNeeded() ? "& Camera " : "") + "access:"}}</div>\n\t\t\t<div>\n\n\t\t\t  <div ng-if="isVideoNeeded()"\n\t\t\t\t   style="float:left;padding-right:44px; border-right:1px solid #999; height:140px;" >\n\t\t\t\t  <div style="text-align:left;" class="color99 F13 lineHeight30">\n\t\t\t\t\t\t<div class="floatL cameraIcon_13_9 marginR5 marginT11"></div>\n\t\t\t\t\t\t<div class="floatL">Camera</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t<div class="pos_rel dropdown" ng-class="{ disable : disableFilter }" style="width:220px;">\n\t\t\t\t\t\t <div class="dropdown-toggle color99" style="border: none;">\n\t\t\t\t\t\t\t <div style="background: transparent;color: #999;border: 1px solid #999;padding: 5px 10px;text-align: left;" class="dropdown-text lineHeight20"><div class="ellipsis" style="width:90%">{{ selectedDevices["video"].label }}</div></div>\n\t\t\t\t\t\t\t <div class="icon-ddArrowBottom F7 color99 pos_abs" style="top:12px;right:12px"></div>\n\t\t\t\t\t\t </div>\n\t\t\t\t\t\t <div class="dropdown-menu" style="width:220px;top:32px;left:0px;padding: 0;margin:0;border:0">\n\t\t\t\t\t\t\t <ul style="max-height:152px;" ng-init="loadDefaultVideoAudio()">\n\t\t\t\t\t\t\t\t  <li class="ellipsis ng-binding ng-scope color00" ng-repeat="videoDevice in allDevices.videoinput" ng-click="selectDevice( \'video\', videoDevice )">{{videoDevice.label}}</li>\n\t\t\t\t\t\t\t </ul>\n\t\t\t\t\t\t </div>\n\t\t\t\t</div>\n\n\t\t\t\t<div  id="videoPreviewBox" style="width:220px;height:70px;">\n\t\t\t\t\t<video id="videoPreview" autoplay muted class="margin0_auto" style="max-width: 100%; display: block;transform: rotateY(180deg);height: 66px;margin-top:10px;"></video>\n\t\t\t\t</div>\n\n\n\t\t\t </div>\n\n\t\t\t\t<div style="float:left" ng-style="{ paddingLeft: isVideoNeeded()? \'44px\' : \'160px\' }">\n\t\t\t\t\t<div ng-style="{ textAlign:isVideoNeeded()? \'left\' : \'center\'}" class="color99 F13 lineHeight30">\n\t\t\t\t\t\t<div class="micIcon_10_12 marginR5 marginT10 toggleCheckbox checked floatL"></div>\n\t\t\t\t\t\t<div class="floatL">Microphone</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="pos_rel dropdown" ng-class="{ disable : disableFilter }" style="width:220px;">\n\t\t\t\t\t\t <div class="dropdown-toggle color99" style="border: none;">\n\t\t\t\t\t\t\t <div style="background: transparent;color: #999;border: 1px solid #999;padding: 5px 10px;text-align: left;" class="dropdown-text lineHeight20"><div class="ellipsis" style="width:90%">{{ selectedDevices["audio"].label }}</div></div>\n\t\t\t\t\t\t\t <div class="icon-ddArrowBottom F7 color99 pos_abs" style="top:12px;right:12px"></div>\n\t\t\t\t\t\t </div>\n\t\t\t\t\t\t <div class="dropdown-menu" style="width:220px;top:32px;left:0px;padding: 0;margin:0;border:0" >\n\t\t\t\t\t\t\t <ul style="max-height:152px;" ng-init="loadDefaultVideoAudio()">\n\t\t\t\t\t\t\t\t <li class="ellipsis ng-binding ng-scope color00" ng-repeat="audioDevice in allDevices.audioinput" ng-click="selectDevice( \'audio\', audioDevice )">{{audioDevice.label}}</li>\n\t\t\t\t\t\t\t </ul>\n\n\t\t\t\t\t </div>\n\n\t\t\t\t\t <div id="audioPreviewBox" style="width:100%" class="pos_abs ng-scope" ng-if="showAudioBox">\n\t\t\t\t\t\t <div audio-level-partial\n\t\t\t\t\t\t stream="audioStream" indicator-color=" 1 ? \'#ccc\': \'#666\'"\n\t\t\t\t\t\t theme="dashed"></div>\n\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t </div>\n\t\t\t   </div>\n\n\t\t\t   \t\t<!-- <div class="pos_abs marginL20" style="left:0;bottom:5px;">\n                    \t<div class="floatL lineHeight30 coloree F13 marginR5">Countdown:</div>\n                    \t<div class="floatL dropdown">\n                    \t\t<div class="dropdown-toggle" style="padding:0 20px 0 10px;background:transparent;">\n                    \t\t\t<div class="dropdown-text lineHeight28" style="width:20px">{{countDownNumber}}</div>\n                    \t\t\t<div class="downArrow_12_7" style="top:12px"></div>\n                    \t\t</div>\n                    \t\t<div class="dropdown-menu" style="min-width:60px;top:30px;padding-top: 0;margin:0">\n                    \t\t\t<ul style="max-height:90px;scroll:auto;">\n                    \t\t\t\t<li ng-repeat="cNumber in [3,5,10] track by $index" ng-click="setCountDownNumber(cNumber)">{{cNumber}}</li>\n                    \t\t\t</ul>\n                    \t\t</div>\n                    \t</div>\n                    \t<div class="clear"></div>\n                    </div> -->\n\n\n\t\t\t\t\t <div class="clear">&nbsp;</div>\n\n\t\t\t\t   <!-- <div ng-if="!isOffline && currentState === states.RECORD_READY_STATE && !loadingPptMedia" class="pos_abs marginL20" style="left:0;bottom:5px;">\n                   \t -->\n                   \t<div  style="width: 204px;margin:auto;"  ng-class="{ paddingT20 : missionLoType != \'VIDEO_PITCH\' }" >\n                   \t<div class="floatL lineHeight30 coloree F13 marginR5">Recording Countdown:</div>\n                   \t<div class="floatL dropdown">\n                   \t\t<div class="dropdown-toggle" style="padding:0 34px 0 4px;background:transparent;border:1px solid #999;">\n                   \t\t\t<div class="dropdown-text lineHeight28" style="width:20px;background:transparent;color:#999;">{{countDownNumber}}</div>\n                   \t\t\t<div class="downArrow_12_7" style="top:12px"></div>\n                   \t\t</div>\n                   \t\t<div class="dropdown-menu" style="min-width:60px;top:30px;padding-top: 0;margin:0; background:none; border:0px;">\n                   \t\t\t<ul style="max-height:90px;scroll:auto;">\n                   \t\t\t\t<li ng-repeat="cNumber in [3,5,10] track by $index" ng-click="setCountDownNumber(cNumber)">{{cNumber}}</li>\n                   \t\t\t</ul>\n                   \t\t</div>\n                   \t</div>\n                    \t<div class="clear"></div>\n                    </div>\n\t\t\t\t\t <div class="color99 F13 lineHeight30">\n\t\t\t\t\t \t<span class="checkbox_13_13_bg marginR5 toggleCheckbox cursor"\n\t\t\t\t\t\t\t  ng-click="toggleRememberMedia()"\n\t\t\t\t\t\t\t  ng-class="{checked: rememberMediaSettings}" style="display: inline-block;vertical-align: middle;"></span>\n\t\t\t\t\t \t<span  style="display: inline-block;vertical-align: middle;">Remember my settings</span>\n\t\t\t\t\t </div>\n\t\t\t\t\t <!-- <div ng-click="rememberDevices()" class="btn_0072bc borderR15 textalign_C cursor" >Remember</div> -->\n\t\t\t\t\t<div class="clear"></div>\n                   \t<div ng-click="setPreferences()" class="commonDD btn_0072bc F13 lineHeight28 borderR15 paddingL20 paddingR20" style="width:80px;margin:5px auto auto auto;">Done</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="currentState == states.ERROR_STATE" class="bg_1d color99 textalign_C paddingL50 paddingR50" style="height:421px;padding-top:160px">\n\t\t\t<div ng-bind-html="errorMessage" class="F24 lineHeight32">errorMessageData</div>\n\t\t\t<div compile="errorSubMessage" class="F16 lineHeight24 marginT5" ng-if="!!errorSubMessage"></div>\n\t\t</div>\n\t\t<!-- error messaging divs ends -->\n<!-- video capture and remaining screen starts -->\n\t\t<div class="display_N1" ng-if="(currentState == states.RECORD_READY_STATE ||\n\t\t                                currentState == states.PREPARING ||\n\t\t                                currentState == states.RECORDING ||\n\t\t                                currentState == states.COUNTDOWN_RUNNING) && videoUrl">\n\t\t\t<div class="pos_abs" style=""\n\t\t\t\tng-style="{left:(missionLoType == \'SCREEN_CAPTURE\') ? \'10px\':\'0px\',\n\t\t\t\t\t\t\tborder:(missionLoType == \'SCREEN_CAPTURE\') ? \'2px solid #999999\':\'none\',\n\t\t\t\t\t\t\twidth:(missionLoType == \'SCREEN_CAPTURE\') ? \' \':\'100%\'}">\n\t\t\t\t<div ng-if="missionLoType == \'SCREEN_CAPTURE\'" style="width: 140px; height: auto">\n\t\t\t\t\t<video id="inset-video" autoplay="autoplay" ng-src="{{videoUrl}}" muted class="margin0_auto" style="max-width: 100%; display: block;transform: rotateY(180deg);"></video>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="missionLoType != \'SCREEN_CAPTURE\' && currentState !== states.UPLOADING_VIDEO" style="height: auto;margin:0 auto"\n\t\t\t\t\tng-style=\'{width:(currentState != states.RECORD_READY_STATE) ? "672px" : "672px"}\'>\n\t\t\t\t\t<video id="html-video-stream" autoplay="autoplay" ng-src="{{videoUrl}}" muted class="margin0_auto" style="max-width: 100%; display: block;transform: rotateY(180deg);"\n\t\t\t\t\tng-style=\'{height:(currentState != states.RECORD_READY_STATE) ? "378px" : "378px"}\'></video>\n\t\t\t\t</div>\n\t\t\t</div>\n      \t\t<div class=" floatL color99 bg_1d textalign_C" style="width: 100%; padding: 140px 0;"\n        \t\tng-style=\'{height:(currentState == states.PREPARING) ? "421px" : "381px"}\'\n                 ng-if="(currentState == states.RECORD_READY_STATE ||\n\t\t                                currentState == states.PREPARING ||\n\t\t                                currentState == states.COUNTDOWN_RUNNING) && missionLoType != \'VOICE_OVER_PPT\' && missionLoType != \'VIDEO_PITCH\'">\n\t\t\t\t<div class="F24 lineHeight30 marginB8">Screen Recording goes here...</div>\n\t\t\t\t<div class="F14 lineHeight20">You can view it here, after your recording is done</div>\n\t\t\t</div>\n\t\t\t<div class="floatL color99 bg_1d textalign_C" style="height: 380px; width: 100%; padding: 100px 0 0;"\n                 ng-if="currentState == states.RECORDING && missionLoType != \'VOICE_OVER_PPT\'">\n                 \t<div class="marginB5"><img class="margin0_auto display_B" ng-src="{{recordingImg}}" /></div>\n                    <div class="F24 lineHeight30 marginB8">Screen Recording is ON...</div>\n                    <div class="F14 lineHeight20">After you stop recording the screen, you can view it here.</div>\n            </div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n<!-- video capture and remaining screen ends -->\n<!-- audio capture and remaining screen starts -->\n\t\t<div ng-if="(currentState == states.RECORD_READY_STATE ||\n\t\t                                currentState == states.PREPARING ||\n\t\t                                currentState == states.RECORDING ||\n\t\t                                currentState == states.COUNTDOWN_RUNNING) && !videoUrl && missionLoType != \'VOICE_OVER_PPT\'">\n\t\t\t<div class="color99 bg_1d textalign_C" style="height: 380px; width:100%; padding: 140px 0 0;"\n                 ng-if="(currentState == states.RECORD_READY_STATE ||\n                        currentState == states.PREPARING ||\n                        currentState == states.COUNTDOWN_RUNNING) ">\n                <!--  div class="marginB5"><img class="margin0_auto display_B" ng-src="{{recordingImg}}" /></div-->\n                <div ng-if="missionLoType != \'VOICE_OVER_PPT\' && missionLoType != \'VIDEO_PITCH\'">\n                \t<div class="F24 lineHeight30 marginB8" >Screen Recording goes here...</div>\n\t\t\t\t\t<div class="F14 lineHeight20">You can view it here, after your recording is done</div>\n                </div>\n                <div ng-if="missionLoType == \'VIDEO_PITCH\' && currentState == states.PREPARING" style="width:100%;">\n                \t<div class="F24 lineHeight30 marginB8" >Preparing...</div>\n                </div>\n\n\t\t\t</div>\n\t\t\t<div class="color99 bg_1d textalign_C" style="height: 380px; width: 100%; padding: 90px 0 0;" ng-if="currentState == states.RECORDING && missionLoType != \'VOICE_OVER_PPT\'">\n\t\t\t\t\t<div class="marginB5"><img class="margin0_auto display_B" ng-src="{{recordingImg}}" /></div>\n                    <div class="F24 lineHeight30 marginB8">Screen Recording is ON...</div>\n                    <div class="F14 lineHeight20">After you stop recording the screen, you can view it here.</div>\n            </div>\n\t\t</div>\n<!-- audio capture and remaining screen ends -->\n\t\t<div style="color: #c7c7c7; width: 100%;" class="F13 lineHeight40 textalign_C"\n             ng-if="(currentState == states.RECORDING) && (missionLoType != \'SCREEN_CAPTURE\')">\n\t\t\t\t<div class="pos_abs"\n\t\t\t\t\t style="left:10px" ng-if="getAudioTracks()"\n\t\t\t\t\t ng-style="{top:( currentState == states.RECORDING && missionLoType == \'VOICE_OVER_PPT\' ) ? \'437px\' : \'397px\'}">\n\t\t\t\t\t<div class="micIcon floatL"></div>\n\t\t\t\t\t\t\t\t\t <div audio-level-partial class="floatL"\n\t\t\t\t\t\t\t\t \t\t\t\tstream="getAudioTracks()"  indicator-color=" 1 ? \'#ccc\': \'#666\'" >\n\t\t\t\t\t\t\t \t\t</div>\n\t                <timer class="floatL color99 F13 lineHeight16 marginL8 recording-timer"\n\t                       ng-if="(currentState === states.RECORDING)"\n\t                       id="countdown-timer"\n\t                       interval="1000"\n\t                       autostart="true"\n\t                       language="en">\n\t                    <span ng-if="hours">{{hhours}}:</span>{{mminutes}}:{{sseconds}}{{(hours)?\'h\':\'m\'}}\n\t                </timer>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<div class="color99 bg_1d textalign_C"\n             style="height: 420px; padding: 160px 40px 0;" ng-if="currentState == states.SAVING || currentState == states.SAVE_SUBMISSION">\n\t\t\t<div class="F24 lineHeight34 marginB8">{{messageWait}}</div>\n\t\t\t<div class="F14 lineHeight20 color99">This may take a while. Moving away from this screen won\'t affect the process, as long as you keep this tab open and Do NOT sign out from this account. You can preview your drafts here once recording is processed.</div>\n\t\t</div>\n\t\t<div class="color99 bg_1d textalign_C"\n             style="height: 421px; padding: 160px 20px 0;"\n             ng-if="currentState == states.GET_CAM_MIC_ACCESS">\n             <a class="lineHeight20 F24 a_tag_overBlack txtDecoration_N display_IB cursor " ng-click="getCamMicAccess()"> Click Here</a>\n             <span class="lineHeight20 F24 display_IB"> to Grant Microphone and Camera access</span>\n\t\t\t<div class="F14 lineHeight20 marginT10">to start recording.</div>\n\t\t</div>\n\t\t<div class="color99 bg_1d textalign_C"\n             style="height: 421px; padding: 140px 60px 0;"\n             ng-if="currentState == states.GET_CAM_MIC_ERROR">\n\t\t\t<div class="F24 lineHeight34 marginB5">Failed to get Microphone and Camera access.</div>\n\t\t\t<a class="a_tag_overBlack F24 lineHeight34 txtDecoration_N display_B cursor marginB5" ng-click="getCamMicAccess()">Please try again.</a>\n\t\t\t<div class="F14 lineHeight20">Not sure how to do it? <a href="https://help.mindtickle.com/support/solutions/articles/3000059904-how-to-grant-microphone-and-camera-access-to-mindtickle-chrome-plugin-" target="_blank" class="a_tag_overBlack txtDecoration_N display_IB cursor">Click here.</a></div>\n\t\t</div>\n\t</div>\n</div>\n<div class="clear"></div>\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/media-view.html",'<div ng-if="getMedia() && isVideoType()" jwplayer-simple="{{getMedia()}}"\n\theight-data="{{\'200\'}}" \n\tstyle=""></div>\n<!--iframe ng-if="getMedia() && isCrocoDoc()"\n\t\tcrocodoc ng-src="{{getTrustedUrl()|| \'//:0\'}}" scrolling="no"\n\t  \tstyle="width:320px; height:200px; ">\n</iframe-->\n<div ng-if="getMedia() && isCrocoDoc()"\n  pdfplayer pdf-media="currentMedia.obj" scrolling="no"\n  style="width:320px; height:200px; ">\n</div>\n<div ng-if="getMedia() && isImage()" style="text-align: center;width: 320px;height: 200px;min-height: 200px;background: rgb(0, 0, 0);display: table-cell;\n    vertical-align: middle;">\n\t<img ng-if="!currentMedia" ng-src="{{loaderImg}}" style="max-width: 100%;max-height: 200px;"/>\n\t<img ng-if="currentMedia" ng-src="{{getTrustedUrl() || \'//:0\'}}" style="max-width: 100%;max-height: 200px;"/>\n</div>\n<div ng-if="getMedia() && isZip()"\n\t style="background-color: #272727;text-align: center;width: 320px;height: 200px;min-height: 200px;display: table-cell;\n    vertical-align: middle;">\n\t<img ng-src="{{getZipUrl()}}" style="width:50px; height:50px;">\n</div>\n<div ng-if="getMedia() && isText()" style="width: 100%;height: 100%;overflow-y: auto;border:1px solid #e0e0e0;padding: 10px;">\n\t<iframe class="yui3-cssreset" style="width: 100%;height: 368px;" ng-src="{{getSecureText(getMedia().object)}}"></iframe>\n</div>\n<div class="clear"></div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/mission-media-view-partial.html",'<div flash-mission-media-view-partial mission-media="missionMedia"\n     assets-base="assetsBase" api="api"\n     ng-if="missionLoType !== \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\'"></div>\n<div screen-recording-media-view-partial\n     mission-media="missionMedia"\n     assets-base="assetsBase" api="api"\n     ng-if="missionLoType === \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\'" class="bg_00" style="width:672px"></div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/mt-loader.html",'<div ng-style="{\'background\': bgColor}" ng-class="{fullPageloadingScreen: type === \'full\', smallPageLoadingScreen: type === \'small\'}">\n  <div class="loader">\n    <div class="loadingHeading"></div>\n    <div ng-class="{spinner: true, big: size === \'sizeBig\', xsmall: size === \'sizeXSmall\', small: size === \'sizeSmall\' }">\n      <div class="circlePart" ng-style="{\'border-top-color\': color}" />\n      <div class="circlePart" ng-style="{\'border-top-color\': color}" />\n      <div class="circlePart" ng-style="{\'border-top-color\': color}" />\n      <div class="circlePart" ng-style="{\'border-top-color\': color}" />\n    </div>\n  </div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/old-review-display-partial.html",'<div class="marginB20">\n    <div class="borderT30_transparent marginL20 marginR20 marginB20">\n        <!--<div class="pos_rel learningContent textalign_C colorff" ng-style="{\'height\':(videoPitch)?\'378px\':\'421px\'}" style="background: #000; padding-top: 170px;"-->\n             <!--ng-if="loadingPptMedia && submission.type != \'TASK_EVALUATION_MISSION_LEARNER_SUBMSSION\'"  mt-trans="M_TXT_PROCESSING"></div>-->\n        <div class="floatR marginR20" style="position: relative" ng-class="{height421: (submission.type == \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\'), \n        \t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight378: (submission.type == \'VIDEO_MISSION_LEARNER_SUBMSSION\'), \n        \t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight381: (submission.type == \'VOICE_OVER_PPT_MISSION_LEARNER_SUBMSSION\')}" \n        \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tng-style="{width:(submission.type == \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\')? \'672px\':\'640px\'}"\n             ng-if="!loadingPptMedia && submission.type != \'TASK_EVALUATION_MISSION_LEARNER_SUBMSSION\'">\n             <div class="pos_abs" style="top:0;left:0;height:100%;width:100%;background:#fff;opacity: 0.01;"></div>\n           <!--  <div mission-media-view-partial\n                 mission-media="submission.missionMedia"\n                 mission-lo-type="submission.type"\n                 assets-base="assetsBase"\n                 is-video="videoPitch"></div>\n -->\n            <div raplayer-view-partial\n                 submission="submission"\n                 assets-base="assetsBase"\n                 filters="playerFilters"\n                 comment-container-id="comment-detail-pane-{{submission.submissionId}}"\n                 apply-comment-filter="true"\n                >        \n            </div>     \n        </div>\n        <div class="floatR" style="width:672px;position: relative;" ng-if="submission.type == \'TASK_EVALUATION_MISSION_LEARNER_SUBMSSION\'">\n            <div class="floatR pos_rel" style="width:672px;" task-eval-mission-view-partial></div>\n        </div>\n        <div class="" style="margin-right:692px;background: #f5f5f5;overflow-y:auto;"\n            ng-class="{height421: (submission.type == \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\'), \n                      height378: (submission.type == \'VIDEO_MISSION_LEARNER_SUBMSSION\'), \n                      height381: (submission.type == \'VOICE_OVER_PPT_MISSION_LEARNER_SUBMSSION\')}" \n            >\n            <ul class="reviewPopupTab"  ng-show="submission.type !== \'TASK_EVALUATION_MISSION_LEARNER_SUBMSSION\'">\n                <li ng-click="tab =\'summary\'" ng-class="{active: tab==\'summary\' || !tab}" mt-trans="TXT_SUMMARY">Summary</li>\n                <li ng-click="tab =\'comment\';tabClicked(tab)" ng-class="{active: tab==\'comment\'}"><span mt-trans="TXT_COMMENTS">Comments</span>&nbsp;<span id="comment-detail-pane-{{submission.submissionId}}-count"></span></li>\n            </ul>\n\n            <!-- summary starts -->\n            <div ng-show="tab == \'summary\' || !tab" style="padding: 20px">\n                <div ng-if="!evalParamType || [\'NUMERIC\',\'BINARY\'].indexOf(evalParamType) > -1">\n                    <div ng-if="submission.draftState == \'RESET\'" class="lineHeight28 marginT10 marginB15 F13 paddingL10" style="text-align: left;background:#fffbcf;width: 450px;">\n                        <span class="bold">NOTE:</span> \n                        <span>This mission has been reset by the admin</span>\n                    </div>\n                    <div class="color00 F18 lineHeight30 ofh marginB20" ng-if="atleastOneReviewDone">\n                        <div class="floatL" mt-trans="M_TXT_SCORE_REP" mt-trans-val-score="{{submission.reviewScore/100}}"></div>\n                        <div class="floatL color99 F13 lineHeight18 i marginT7 marginL7" mt-trans="M_TXT_BASED_ON_REVIEWS" mt-trans-val-numreviews="{{submission.reviewCount}}"></div>\n                    </div>\n                    <div class="ofh textalign_L" ng-if="atleastOneReviewDone">\n                    \t<table width="100%" colspan="0" rowspan="0" border="0">\n                    \t\t<tr ng-repeat="evalParam in submission.evaluationParams">\n                    \t\t\t<td align="left" valign="top">\n                    \t\t\t\t<div class="floatL color00 F14 marginT5 marginB5 lineHeight20" style="max-width:300px">\n                                        {{evalParam}}\n                                        <span ng-show="companySettings.lsSettings.enableEvalParamWeight && evaluationParams[$index].weight !== 1"> \n                                            (<span style="text-indent: 5px;">x {{evaluationParams[$index].weight}}</span>)\n                                         </span>\n                                    </div>\n                    \t\t\t</td>\n                    \t\t\t<td align="left" valign="top" width="60%">\n                    \t\t\t\t<div class="floatL marginT7 marginL10">\n    \t\t                            <div eval-param-rating-partial score="evalParams($index)"\n    \t\t                                 firsthalf-rating-class="\'firsthalfRating_blue\'"\n    \t\t                                 secondhalf-rating-class="\'secondhalfRating_blue\'">\n    \t\t                            </div>\n    \t\t                        </div>\n                    \t\t\t</td>\n                    \t\t</tr>\n                    \t</table>\n                        \n                    </div>\n                    <div class="ofh bg_fdeae6 marginT30" style="width:450px" ng-if="allReviewsDone && submission.reviewScore < submission.certificateScore">\n                        <div class="" style="padding:10px">\n                            <div class="floatL F13 color00 lineHeight30 marginR10" style="width:335px">Learner could not meet the cut-off score ({{submission.certificateScore/100}}/5).</div>\n                            <!--<div class="floatL border_eb110f coloreb110f F14 lineHeight28 cursor borderR15 paddingL20 paddingR20">Redo</div>-->\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n                </div>\n                <div ng-if="evalParamType !== \'NUMERIC\'">\n                    <div class="ofh bg_fdeae6 marginT30" style="width:450px">\n                        <div class="" style="padding:10px">\n                            <div class="floatL F13 color00 lineHeight30 marginR10">Review Complete.</div>\n                            <!--<div class="floatL border_eb110f coloreb110f F14 lineHeight28 cursor borderR15 paddingL20 paddingR20">Redo</div>-->\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!-- summary ends -->\n            <!-- comment tab starts -->\n            <div  ng-show="tab == \'comment\'" class=\'showScroll\' id="comment-detail-pane-{{submission.submissionId}}"\n                 style="padding-left:10px;overflow: auto;position: relative;max-width:100%;padding-top:10px;height: 80%;text-align: left;">\n                 Reviewers have not submitted any comments for this submission.\n            </div>\n             <!-- comment tab ends -->\n        </div>\n        <div class="clear"></div>\n    </div>\n    <div class="F13 lineHeight32 marginB10">\n        <div ng-repeat="(id,reviewer) in submission.reviewerIdReviewMap" class="bg_f7 F13  marginL20 marginR20 lineHeight32 paddingT9 paddingR10 paddingB9 paddingL10 marginB10" ng-init="reviewerIndex = $index">\n            <table width="100%" colspan="0" rowspan="0" border="0">\n                <tr ng-if="reviewer.status==\'DECLINED\'">\n                    <td width="40%" valign="top" align="left">\n                        <div>\n                            <!--<div class="floatL bg_bccad9">{{reviewer | mtShortName}}</div>-->\n                            <div class="floatL color00 F13 marginL10">\n                                <span>{{submissions.reviewers[id].name}}</span>:<span class="colore71c22" mt-trans="M_TXT_REVIEW_DECLINED"></span><span class="color0072bc marginL15 cursor display_N" style="text-decoration:underline" mt-trans="M_TXT_UNDO"></span>\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                    </td>\n                    <td width="30%" valign="top" align="left">&nbsp;</td>\n                    <td width="30%" valign="top" align="left">&nbsp;</td>\n                </tr>\n                <tr ng-if="reviewer.status==\'PENDING\'">\n                    <td width="40%" valign="top" align="left">\n                        <!-- Shankar is awesome! This code will never break!-->\n                        <div>\n                            <!--<div class="floatL bg_bccad9">{{reviewer | mtShortName}}</div>-->\n                            <div class="floatL color00 F13 marginL10">\n                                <span>{{submissions.reviewers[id].name}}</span>:&nbsp;<span class="color99" mt-trans="M_TXT_REVIEW_PENDING_SPACE"></span><span class="color0072bc marginL15 cursor display_N" style="text-decoration:underline" mt-trans="M_TXT_UNDO"></span>\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                    </td>\n                    <td width="30%" valign="top" align="left">&nbsp;</td>\n                    <td width="30%" valign="top" align="left">&nbsp;</td>\n                </tr>\n                <tr>\n                    <td width="40%" valign="top" align="left">\n                        <div class="marginR10" style="width:450px">\n                            <div class="marginB15">\n                                <div class="floatL bg_bccad9">{{submissions.reviewers[id] | mtShortName}}</div>\n                                <div class="floatL color00 F13 marginL10">\n                                    <span>{{submissions.reviewers[id].name}}</span>&nbsp;<span class="color0072bc marginL15 cursor display_N" style="text-decoration:underline" mt-trans="M_TXT_UNDO"></span>\n                                </div>\n                                <div class="floatL coloraa F13">\n                                    <span>({{getSubmissionDateForReviewer(reviewer)}})</span>\n                                </div>\n                                <!--<div class="floatL bg_bccad9">{{reviewer | mtShortName}}</div>-->\n                                <!--<div class="floatL color00 F13 marginL10">-->\n                                    <!--<div class="floatL" style="max-width:275px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">{{reviewer.name}}:</div>-->\n                                    <!--<div class="clear"></div>-->\n                                <!--</div>-->\n                                <div class="clear"></div>\n                            </div>\n                            <div class="marginB10">\n                                <div class="floatL color00 F18 lineHeight22" style="width:42px"\n                                     ng-if="[\'NUMERIC\',\'BINARY\'].indexOf(evalParamType) > -1">\n                                     {{reviewer.score/100}}\n                                </div>\n                                <div class="floatL">\n                                    <div class="borderB10_transparent" ng-repeat="evalParam in submission.evaluationParams">\n                                        <div class="floatL F13 color00 lineHeight20" style="width:215px">\n                                            {{evalParam}}\n                                            <span ng-show="companySettings.lsSettings.enableEvalParamWeight && evaluationParams[$index].weight !== 1"> \n                                                (<span style="text-indent: 5px;">x {{evaluationParams[$index].weight}}</span>)\n                                            </span>\n                                        </div>\n                                        <div class="floatL marginL10">\n                                            <div class="marginT3" ng-if="evalParamType == \'NUMERIC\'"\n                                                 eval-param-rating-partial\n                                                 score="evalParams($index, id)"\n                                                 firsthalf-rating-class="\'firsthalfRating_blue\'"\n                                                 secondhalf-rating-class="\'secondhalfRating_blue\'">\n                                            </div>\n                                            <div class="lineHeight20" ng-if="evalParamType !== \'NUMERIC\'"\n                                                 eval-param-binary-partial\n                                                 binary-type="evalParamType"\n                                                 score="evalParams($index, id)">\n                                            </div>\n                                        </div>\n                                        <div class="clear"></div>\n                                    </div>\n                                </div>\n                                <div class="clear"></div>\n                            </div>\n                        </div>\n                    </td>\n                    <td width="30%" valign="top" align="left" ng-if="reviewer.positiveFeedback[0]">\n                        <div class="marginR10" style="width:250px">\n                            <div class="color00 F13 lineHeight32 marginB7" mt-trans="M_TXT_POSITIVE_FEEDBACK"></div>\n                            <div class="color00 F13 lineHeight20 marginB10">{{reviewer.positiveFeedback[0].text}}</div>\n                        </div>\n                    </td>\n                    <td width="30%" valign="top" align="left" ng-if="reviewer.constructiveFeedback[0]">\n                        <div class="" style="width:250px">\n                            <div class="color00 F13 lineHeight32 marginB7" mt-trans="M_TXT_CONSTRUCTIVE_FEEDBACK_N"></div>\n                            <div class="color00 F13 lineHeight20 marginB10">{{reviewer.constructiveFeedback[0].text}}</div>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            <div class="offlineTask_attachment uploaded cursor"\n                 ng-click="downloadAttachment(submission.reviewerIdReviewMap[reviewer.reviwerId].mediaId[0].object)"\n                 style="width: 100%;" ng-if="submission.reviewerIdReviewMap[reviewer.reviwerId].mediaId.length > 0">\n                <div class=\'floatL attachmentIcon_17_15 marginR7 marginT3\'></div>\n                <div class="floatL txtColor lineHeight20">{{submission.reviewerIdReviewMap[reviewer.reviwerId].mediaId[0].title}}</div>\n                <div class=\'clear\'></div>\n            </div>\n        </div>\n    </div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/raplayer.html",'<div class="pos_rel learningContent margin0_auto" style="height: 378px";\n     ng-if="pptMedia">\n    <div style="height: 100%;">\n      <div pdfplayer pdf-media="pptMedia" pdf-media-id="pdfId" scrolling="no" dont-show-navigation-controls="true"\n        style="width: 100%; height: 100%; float: left;">\n      </div>\n    </div>\n    <div class="clear"></div>\n</div>\n\n<div ng-attr-id="{{currentContainerId}}" \n    ng-style="{\'height\':(pptMedia)?\'30px\':\'378px\',\'position\':pptMedia ? \'absolute\': \'relative\' }" \n    style="background: #000;width: 100%;bottom: 0px">\n    <div class="colorff F20 lineHeight30 textalign_C pos_abs"\n      ng-if="checkingConversionVideo || checkingConversionScreen"\n      style="width: 100%;font-size: 15px;position: absolute;top:50%;margin-top: -15px;" ng-style="{background:\'#000\',opacity:\'1\'}">\n        <img ng-src="{{loadingImg}}"/> <span> Loading... </span> \n    </div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/recording-partial.html",'<!-- I am sorry if this code looks shit-->\n<div html-recording-partial\n     current-state="currentState"\n     fetch-data="fetchData"\n     states="states"\n     entity-id="entityId"\n     set-submit-view="setSubmitView"\n     register-ctrl="registerController"\n     practice-tab-object="practiceTabObject"\n     draft-order="draftOrder"\n     mission-lo-type="missionLoType"\n     has-permissions="hasPermissions"\n     record-page-change="recordPageChange"\n     assign-controls="assignControls"\n     parent-scope-watch="parentScopeWatch"\n     change-state="changeState"\n     check-mission-state="checkMissionState"\n     message-wait="messageWait"\n     next-func="nextFunc"\n     assets-base="assetsBase"\n     is-screen-video="isScreenVideo"\n     count-down-number="countDownNumber"\n     target-length="targetLength"\n     check-if-show-presentation\t= "checkIfShowPresentation"\n     ppt-media = "pptMedia"\n     ng-if="(missionLoType == \'SCREEN_CAPTURE\' || missionLoType == \'VOICE_OVER_PPT\' || missionLoType == \'VIDEO_PITCH\') && isHTML5MissionRecordingSupported() &&\n            !(currentState === states.SUBMITTED_STATE ||\n              currentState === states.SUBMITTED_VIEW_PRESENTATION)">\n</div>\n<div flash-recording-partial\n     current-state="currentState"\n     fetch-data="fetchData"\n     states="states"\n     entity-id="entityId"\n     register-ctrl="registerController"\n     draft-order="draftOrder"\n     set-submit-view="setSubmitView"\n     mission-lo-type="missionLoType"\n     has-permissions="hasPermissions"\n     record-page-change="recordPageChange"\n     currpage="currpage"\n     next-func="nextFunc"\n     parent-scope-watch="parentScopeWatch"\n     height-style="heightStyle"\n     assets-base="assetsBase"\n     current-voice-over-data="currentVoiceOverData"\n     assign-controls="assignControls"\n     change-state="changeState"\n     count-down-number="countDownNumber"\n     ng-if="( missionLoType == \'VIDEO_PITCH\' || missionLoType == \'VOICE_OVER_PPT\' ) && !isHTML5MissionRecordingSupported() &&\n            !(currentState === states.SUBMITTED_STATE ||\n              currentState === states.SUBMITTED_VIEW_PRESENTATION)">\n</div>\n<div>\n    <div class="">\n\n        <div class="clear"></div>\n    </div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/review_coaching.html",'<div class="bg_ff pos_rel">\n    <div style="padding:20px 0 0">\n    \t<div class="pos_abs" style="top:20px;right:30px">\n    \t\t<!--div class="floatL border_66 lineHeight28 F13 borderR15 marginR20 paddingL15 paddingR15">\n    \t\t\t<span class="navColor cursor" ng-class="{disable: !canGoPrevious()}" ng-click="gotoPrevious()" translate="M_PREV">&lt; Prev</span>\n    \t\t\t<span class="navcolor marginL5 marginR5">|</span>\n    \t\t\t<span class="navColor cursor" ng-class="{disable: !canGoNext()}" ng-click="gotoNext()" translate="M_NEXT">Next &gt;</span>\n    \t\t</div-->\n    \t\t<div class="floatL crossIcon_20_20 marginT5" ng-click="$dismiss()"></div>\n    \t\t<div class="clear"></div>\n    \t</div>\n\t\t<div class="color36 F18 lineHeight30 fs-hide" style="margin:0 210px 10px 30px">\n\t\t\t<span translate="M_REVIEW">Review</span>: {{entityInfo.name}}, <span class="fs-hide">{{(entityLearner.user.name || entityLearner.user.email) }}</span>\n\t\t</div>\n\t\t<div  class="color00 lineHeight30 borderB_dd pos_rel" style="padding:0 35% 10px 30px;height:131px;">\n\t\t\t<div class="pos_abs bg_ff paddingL30" style="width:100%;z-index:1;left:0px;" ng-class="{\'borderB_dd\':(showReadMore && largeContent)}">\n\t\t\t\t<div class="color00 F13 lineHeight20 marginT10 mdesHeight setmarginZero_P" ng-class="calculateDivHeight()" ng-bind-html="renderHtml(entityInfo.desc)"></div>\n\t\t\t\t<span class="readMore cursor" style="color:#0072bc" ng-click="showReadMore = true;$evalAsync();" ng-show="!showReadMore && largeContent" mt-trans="M_VIEW_MORE">View more</span>\n\t\t\t\t<span class="readLess cursor" style="color:#0072bc" ng-click="showReadMore = false;$evalAsync();" ng-show="showReadMore && largeContent" mt-trans="M_VIEW_LESS">View less</span>\n\t            <div class="ofh" ng-if="entityInfo.docs && entityInfo.docs.length > 0">\n\t\t\t\t\t<div class="floatL cursor marginT5">\n\t\t\t\t\t\t<div class="floatL attachmentIcon_17_16 marginR5 marginT9"></div>\n\t                    <div class="floatL color0072bc F13">\n\t                    \t<a href="{{(entityInfo.docs[0].obj.original_path || entityInfo.docs[0].obj.processed_path)}}" target="_blank" style="text-decoration:none !important">{{entityInfo.docs[0].title}}</a>\n\t                    </div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\t\t\t\n\t\t\t</div>\n            <!--  div class="floatL color0072bc F13 marginL3 i ng-binding">{{saveobj.text}}</div-->\n\t\t</div>\n\n\t\t<div  ng-show="reviewCycles[entityLearner.entityId][entityLearner.userId].$resolved"class="pos_rel">\n\t\t\t<div class="pos_abs" style="width:320px" ng-model="currentCycle">\n\t\t\t\t<div class="borderR_dd FOReviewPopup_leftHeight">\n\t\t\t\t\t<div class="color00 F14 lineHeight20 bold paddingL30 paddingT15 paddingB15 borderB_dd" translate="LB_TXT_COACHING">Coaching Sessions</div>\n\t\t\t\t\t<div ng-click="updateData(review.reviewCycle);"\n\t\t\t\t\t\t ng-repeat="review in reviewCycles[entityLearner.entityId][entityLearner.userId].allAttempts" \n\t\t\t\t\t\t class="cursor lineHeight20 F14 paddingT10 paddingB10 paddingL30 Tab borderB_dd" \n\t\t\t\t\t\t ng-class="{\'Current\':currentCycle==review.reviewCycle}">\n\t\t\t\t\t\t<div class="floatL marginR15">S{{review.reviewCycle}}</div>\n\t\t\t\t\t\t<div class="floatL marginR10">{{getScheduledOnText(review)}}</div>\n\t\t\t\t\t\t<div class="floatL dropdown" ng-click="$event.stopPropagation();">\n\t\t\t\t\t\t\t<div class="dropdown-toggle FOReview_Icon"\n\t\t\t\t\t\t\t\tng-class="{\'notSubmitted\':review.uistatus==\'not_reviewed\',\'Disapproved\':review.uistatus==\'disapproved\',\'Approved\':review.uistatus==\'updated_after_disapprove\'}" \n\t\t\t\t\t\t\t\tstyle="border: 0"></div>\n\t\t\t\t\t\t\t<div ng-if="review.uistatus!=\'not_reviewed\'" class="dropdown-menu" style="margin: 0; line-height: 20px; padding: 7px 10px; width: 305px; left: -142px; top: 35px">\n\t\t\t\t\t\t\t\t<div class="pos_abs triangleUp_27_14" style="top: -14px; left: 131px;"></div>\n\t\t\t\t\t\t\t\t<div ng-if="review.uistatus==\'disapproved\'" class="F13">The Learner has disapproved the feedback provided by you in the Coaching Form. You can edit the feedback after discussion with the Learner.</div>\n\t\t\t\t\t\t\t\t<div ng-if="review.uistatus==\'updated_after_disapprove\'" class="F13">You have edited the Coaching Form after the Learner had disapproved the feedback provided by you.</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-if="review.uiComment" class="floatL dropdown marginL10" ng-click="$event.stopPropagation();">\n\t\t\t\t\t\t\t<div class="dropdown-toggle commentIcon" style="border: 0"></div>\n\t\t\t\t\t\t\t<div class="dropdown-menu" style="margin: 0; line-height: 20px; padding: 7px 10px; width: 200px; left: -138px; top: 35px">\n\t\t\t\t\t\t\t\t<div class="pos_abs triangleUp_27_14" style="top: -14px; left: 131px;"></div>\n\t\t\t\t\t\t\t\t<div class="F13">\n\t\t\t\t\t\t\t\t\t<div class="color00 bold">\n\t\t\t\t\t\t\t\t\t\t<span translate="CS_LEARNER_APPROVAL_TOOLTIP_HEADER_REVIWER"></span>\n\t\t\t\t\t\t\t\t\t\t<span>:</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="F12" ng-bind-html="renderHtml(review.uiComment)"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="floatR arrow_11_6_new marginR5"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div style="margin-left:320px;" class="bg_f7 pos_rel">\n\t\t\t\t<!--<div class="FOReviewPopup_leftHeight paddingT30" -->\n\t\t\t\t\t <!--style="width:734px;margin:0px auto" -->\n\t\t\t\t\t <!--ng-if="reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].scheduledOn==0">You have not scheduled any Coaching Session with the learner.</div>-->\n\t\t\t\t<div ng-if="reviewCycles[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].userGeData.$resolved">\n\t\t\t\t\t<div class="FOReviewPopup_rightHeight">\n\t\t\t\t\t\t<div class="paddingT23 paddingB23 margin0_auto" style="width:734px">\n\t\t\t\t\t\t\t<div class="lineHeight24">\n\t\t\t\t\t\t\t\t<div class="floatL">\n\t\t\t\t\t\t\t\t\t<div class="floatL color00 F18" translate="COACHING_FORM_TXT">Coaching Form</div>\n\t\t\t\t\t\t\t\t\t<div class="floatL coloraa F14 lineHeight20 i marginL5 marginT3">(<span ng-if="getTotalTopics()>1">{{getTotalTopics()}} Sections,&nbsp;</span><span>{{getTotalEvalParams()}}</span> Parameters)</div>\n\t\t\t\t\t\t\t\t\t<div class="floatL color0072bc F13 marginL3 i">{{saveobj.text}}</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div ng-if="reviewCyclesMap[entityLearner.entityId][entityLearner.userId][currentCycle].canPopulateFromPrev && button.allowEdit" ng-click="populatePreLatestCycle();"class="floatR F13 color0072bc cursor">\n\t\t\t\t\t\t\t\t\t <div class="floatL populateIcon_13_10 marginT6 marginR8"></div>\n\t\t\t\t\t\t\t\t\t <div class="floatL" translate="M_POPULATE_PREV_SCORE">Populate Previous Scores</div>\n\t\t\t\t\t\t\t\t\t <div class="clear"></div>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t<div class="color99 F13 lineHeight20 marginT8" translate="COACHING_FORM_DESC">Fill your feedback on the Coaching Parameters below based on your One-on-one with the Learner.    122232242</div>\n\t\t\t\t\t\t\t<div class="lineHeight20 F13 marginT30 marginB7">\n\t\t\t\t\t\t\t\t<div class="floatL color00"><span translate="COACHING_TXT_SCHEDULED_DATE"></span> <span class="bold">{{getScheduledDateText(reviewCyclesMap[entityLearner.entityId][entityLearner.userId][currentCycle].scheduledOn)}}</span></div>\n\t\t\t\t\t\t\t\t<div class="floatL color00 marginL20"><span translate="COACHING_TXT_REVIEWED_DATE"></span> <span class="bold">{{getReviewedDateText(reviewCyclesMap[entityLearner.entityId][entityLearner.userId][currentCycle].reviewedOn)}}</span></div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class="floatL displayInflex pos_rel section-filter" style="width: 100%" ng-if="getTotalTopics() > 1">\n\t\t\t\t\t\t    \t<div style="left:10px; top: 10px;" class="searchIcon_15_14 pos_abs cursor hSearchIcon"></div>\n\t\t\t\t\t\t\t\t<input type="text" ng-enter="filterByQuery($item)" typeahead-on-select="filterByQuery($item)"  maxlength="100" style="width: 100%; height: 20px;border:1px solid #ddd;height: 35px; padding: 0px 30px 0px 30px; outline: 0px; color:#000; background: #fff;" placeholder="Search and select sections" ng-model="coachingSectionsUiStates.currentSelectedCoachingSection.name" class="lineHeight20 F13 hSearchBox" typeahead="state.name for state in coachingSections | filter:$viewValue | limitTo:8" typeahead-template-url="{{coachingSectionTypeaheadTemplate}}">\n\t\t\t\t\t\t\t\t<div ng-show="coachingSectionsUiStates.currentSelectedCoachingSection.name" class="cross_10_10 pos_abs" ng-click="clearFilter()" style="right:13px; top: 12px;" ></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="marginB20" id="js-coaching-section-{{sdata.id}}" ng-repeat="sdata in formData.levels[0].topics track by $index">\n\t\t\t\t\t\t\t<div class="coachingSection bg_ff pos_rel borderL_ee borderT_ee borderR_ee margin0_auto" ng-class="getSectionClass(sdata.id)" style="width:734px">\n\t\t\t\t\t\t\t\t<div ng-if="getTotalTopics()>1" ng-click="toggleSection(sdata.id)"  style="cursor: pointer;" class="sectionTopHeader normalBox pos_rel borderB_ee paddingL30 paddingR30 paddingB25 paddingT25">\n\t\t\t\t\t\t\t\t\t<div class="pos_abs bg_99 colorff F14 lineHeight20 borderR4 paddingL6 paddingR6" style="left:-8px;top:27px">{{$index+1}}</div>\n\t\t\t\t\t\t\t\t\t<div class="floatL color00 F14 lineHeight24 bold" style="width: 95%"><span ng-if="coachingSectionsUiStates.topics[sdata.id].mandatoryLosCount > 0"  >*</span> {{(sdata.name=="_" || sdata.name=="")?"Untitled Section":sdata.name}}</div>\n\t\t\t\t\t\t\t\t\t<div class="floatR downArrow_12_7 marginT10" ng-style="{\'transform\': coachingSectionsUiStates.topics[sdata.id].open ? \'rotate(0deg)\' : \'rotate(-90deg)\'}" style="color: #000;font-size: 16px;font-weight: bold;transform: rotate(-90deg);"></div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div ng-show="getTotalTopics() <= 1 || coachingSectionsUiStates.topics[sdata.id].open" class="pos_rel" eval-param-update topicid="sdata.id" lodata="lo" gelodata="reviewCycles[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].userGeData.userGeData[lo.id]"\n\t                                     entityid="entityLearner.entityId" userid="entityLearner.userId"\n\t                                 topic-id="sdata.id"    \n                                     version= "reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].version"\n                                     reattempt-version = "reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].reattemptVersion"\n                                     index="$index" savetext="saveobj.text" allow-edit="button.allowEdit"\n                                     is-remidiation-sent-in-prev-cycles="isRemidiationSentInPrevCycles"\n                                     coaching-sections-ui-states="coachingSectionsUiStates"\n                                     ng-repeat="lo in sdata.los track by $index">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-if="entityInfo.allowOverallFeedback || entityInfo.allowReviewDoc">\n\t\t\t\t\t\t\t<div class="coachingSection normalBox bg_ff pos_rel" style="margin:0 auto 20px;width:734px;border:1px solid #eee">\n\t\t\t\t\t\t\t\t<div ng-if="entityInfo.allowOverallFeedback" style="padding:25px 30px">\n\t\t\t\t\t\t\t\t\t<div class="">\n\t\t\t\t\t\t\t\t\t\t<div class="color00 F14 lineHeight24 bold marginB10" translate="M_TXT_POSITIVE_FEEDBACK">Positive Feedback</div>\n\t\t\t\t\t\t\t\t\t\t<div ng-if="button.allowEdit" class="displayInflex paddingB5 pos_rel borderB_dd" style="width:100%">\n\t\t\t\t\t\t\t\t\t\t\t<textarea type="text"\n\t\t\t\t\t\t\t\t\t\t\t\t   style="height:20px; border: 0px; padding:0px;color:#000; background: none;width:100%" \n\t\t\t\t\t\t\t\t\t\t\t\t   id="input_positiveFeedback"\n\t\t\t\t\t\t\t\t\t\t\t\t   ng-model="reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].postiveFeedback"\n                                                 ng-change="updateEntity(\'postiveFeedback\',reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].postiveFeedback)"\n                                                 rows="1" msd-elastic\n                                                 ng-model-options="{ debounce: 1000 }"\n\t\t\t\t\t\t\t\t\t\t\t\t   class="lineHeight20 F13" autocomplete="off" placeholder="{{\'TYPE_HERE\'|translate}}"></textarea>\n\t\t\t\t\t\t\t\t\t\t</div>\n                                        <div ng-if="!button.allowEdit" class="F13 color99 lineHeight20" ng-bind-html="renderHtml(reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].postiveFeedback)"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="marginT30">\n\t\t\t\t\t\t\t\t\t\t<div class="color00 F14 lineHeight24 bold marginB10" translate="M_TXT_CONSTRUCTIVE_FEEDBACK_N">Constructive Feedback</div>\n\t\t\t\t\t\t\t\t\t\t<div ng-if="button.allowEdit" class="displayInflex paddingB5 pos_rel borderB_dd" style="width:100%">\n\t\t\t\t\t\t\t\t\t\t\t<textarea type="text"\n\t\t\t\t\t\t\t\t\t\t\t\t   style="height:20px; border: 0px; padding:0px;color:#000; background: none;width:100%" \n\t\t\t\t\t\t\t\t\t\t\t\t   id="input_constructiveFeedback"\n\t\t\t\t\t\t\t\t\t\t\t\t   ng-model="reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].constructiveFeedback"\n                                                 ng-change="updateEntity(\'constructiveFeedback\',reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].constructiveFeedback)"\n                                                 ng-model-options="{ debounce: 1000 }"\n                                                 rows="1" msd-elastic\n                                                 class="lineHeight20 F13" autocomplete="off" placeholder="{{\'TYPE_HERE\'|translate}}"></textarea>\n                                        </div>\n                                        <div ng-if="!button.allowEdit" class="F13 color99 lineHeight20" ng-bind-html="renderHtml(reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].constructiveFeedback)"></div>\n                                    </div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div ng-if="entityInfo.allowReviewDoc" style="padding:25px 30px">\n\t\t\t\t\t\t\t\t\t<div class="lineHeight20 marginT10 marginB10">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL cursor attachmentArea"\n\t\t\t\t\t\t\t\t\t\t\tmt-upload="uploaderInfo.reviewDocUploader"\n\t\t\t\t\t\t\t\t\t\t\tng-show="!reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].reviewDocId && button.allowEdit">\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL attachmentIcon_17_16 marginT2"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL color0072bc F13 marginL5 marginR5" translate="CS_REVIEWER_REVIEW_UPLOAD_REVIEW_DOC">Upload Review Document</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatL cursor attachmentArea"\n\t\t\t\t\t\t\t\t\t\t\t ng-show="reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].reviewDocId && reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].reviewDocInfo.$resolved">\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL attachmentIcon_17_16 marginT2"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL color0072bc F13 marginL5 marginR5" style="max-width:260px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;">\n\t\t\t\t\t\t\t\t\t\t\t\t<a href="{{reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].reviewDocInfo.original_path}}" target="_blank" style="text-decoration:none !important">{{reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].reviewDocInfo.title}}</a>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-if="button.allowEdit" class="floatL deleteIcon_15_16 marginT2" ng-click="removeReviewDoc()"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style="padding:25px 30px">\n\t\t\t\t\t\t\t\t\t<div class="lineHeight20 marginT10 marginB10">\n\t\t\t\t\t\t\t\t\t\t<div ng-hide="!button.allowEdit && (reviewDuration==null || (reviewDuration.hour==0 && reviewDuration.minute==0))" class="floatL" translate="CS_TIME_TAKEN_FOR_REVIEW">Time taken for the Session:</div>\n\t\t\t\t\t\t\t\t\t\t<div ng-if="button.allowEdit" class="floatL">\n\t\t\t\t\t\t\t\t\t\t\t<div  class="floatL pos_rel dropdown marginL20">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="dropdown-toggle color99 paddingR5 paddingL5 paddingB3" style="border: none;border-bottom:1px solid #ddd" aria-haspopup="true" aria-expanded="true">\n\t\t\t\t\t\t\t\t\t                <div ng-if="reviewDuration!=null && reviewDuration.hour>=0" style="padding:0 25px 0 0px;background:transparent;color:#000;" class="dropdown-text lineHeight20">{{reviewDuration.hour}}</div>\n\t\t\t\t\t\t\t\t\t                <div class="icon-ddArrowBottom F7 color99 pos_abs" style="top:7px;right:2px"></div>\n\t\t\t\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t\t\t\t            <div class="dropdown-menu" style="width:40px;top:30px;padding: 0;margin:0;border:0;left:0;right:0;">\n\t\t\t\t\t\t\t\t\t                <ul class="newBoxShadow" style="max-height:152px;width:60px;padding:0 !important">\n\t\t\t\t\t\t\t\t\t                    <li ng-repeat="i in hourSlots "\n\t\t                                                    ng-hide="i==reviewDuration.hour"\n\t\t                                                    ng-click="updateDurationTime(\'hour\',i);">{{i}}</li>\n\t\t\t\t\t\t\t\t\t                </ul>\n\t\t\t\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL marginL5">hrs</div>\n\t\t\t\t\t\t\t\t\t\t\t<div  class="floatL pos_rel dropdown marginL10">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="dropdown-toggle color99 paddingR5 paddingL5 paddingB3" style="border: none;border-bottom:1px solid #ddd" aria-haspopup="true" aria-expanded="true">\n\t\t\t\t\t\t\t\t\t                <div ng-if="reviewDuration!=null && reviewDuration.minute>=0" style="padding:0 25px 0 0px;background:transparent;color:#000;" class="dropdown-text lineHeight20">{{reviewDuration.minute}}</div>\n\t\t\t\t\t\t\t\t\t                <div class="icon-ddArrowBottom F7 color99 pos_abs" style="top:7px;right:2px"></div>\n\t\t\t\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t\t\t\t            <div class="dropdown-menu" style="width:40px;top:30px;padding: 0;margin:0;border:0;left:0;right:0;">\n\t\t\t\t\t\t\t\t\t                <ul class="newBoxShadow" style="max-height:152px;width:60px;padding:0 !important">\n\t\t\t\t\t\t\t\t\t                    <li ng-repeat="i in minuteSlots"\n\t\t                                                    ng-hide="i==reviewDuration.minute"\n\t\t                                                    ng-click="updateDurationTime(\'minute\',i);">{{i}}</li>\n\t\t\t\t\t\t\t\t\t                </ul>\n\t\t\t\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL marginL5">mins</div>\t\n\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\t\t\n\t\t\t\t\t\t\t\t\t\t</div>\n\t                                    <div ng-if="!button.allowEdit && reviewDuration!=null && (reviewDuration.hour>0 || reviewDuration.minute>0)" class="floatL marginL10">{{reviewDuration.hour}} hrs {{reviewDuration.minute}} mins</div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="borderT_dd bg_ff paddingT20 paddingB20">\n\t\t\t\t\t\t<div class="margin0_auto" style="width:734px">\n\t\t\t\t\t\t\t<div ng-if="reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].reviewedOn!=0 "\n                                 class="floatL F16 lineHeight30">\n\t\t\t\t\t\t\t\t<span  class="color66"><span mt-trans="M_REVIEW_SCORE">Review Score</span>:&nbsp;</span><span class="color00">{{reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].percentageScore}}%</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatR">\n                                <div class="floatR">\n                                    <div mt-trans="CS_REVIEWER_REVIEW_TXT_EDIT_REVIEW" ng-click="handleEditForm()"ng-if="reviewCyclesMap[entityLearner.entityId][entityLearner.userId][entityLearner.currentCycle].reviewedOn!=0 && showEditButton"\n                                         class="floatL btn_0072bc border_cc_30 paddingL15 paddingR15">Edit Review</div>\n                                    <div ng-click="discardChanges()" class="floatL btn_0072bc borderR15 cursor  marginL10 lineHeight30 paddingL15 paddingR15 ng-binding" ng-if="activityButton == BUTTONS.EDIT_MODE.SAVE_CHANGES">{{BUTTONS.EDIT_MODE.DISCARD_CHANGES.TEXT}}</div>\n                                    <div ng-click="performActivity()" class="floatL btn_0072bc borderR15 cursor  marginL10 lineHeight30 paddingL15 paddingR15" ng-class="{disable: !activityButton.STATE}">{{activityButton.TEXT}}</div>\n                                    <div class="clear"></div>\n                                </div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\t\n\t\t\t\t\n\t\t\t</div>\n\t\t</div>\n        \n\t</div>\n\n</div>\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/reviewer-bar-partial.html",'<div ng-repeat="(id,reviewer) in reviewerIdReviewMap"\n     class="bg_f7 F13 lineHeight32 paddingT9 paddingR10 paddingB9 paddingL10 marginB10"\n     ng-init="reviewerIndex = $index">\n    <table width="100%" colspan="0" rowspan="0" border="0">\n        <tr ng-if="reviewer.status==\'DECLINED\'">\n            <td width="40%" valign="top" align="left">\n                <div>\n                    <!--<div class="floatL bg_bccad9">{{reviewer | mtShortName}}</div>-->\n                    <div class="floatL color00 F13 marginL10">\n                        <span mt-trans="M_TXT_REVIEWER_NUM" mt-trans-val-reviewer="{{reviewer.role.split(\'_\')[1]}}"></span>\n                        <span class="colore71c22" mt-trans="M_TXT_REVIEW_DECLINED"></span>\n                        <span class="color0072bc marginL15 cursor display_N"\n                              style="text-decoration:underline" mt-trans="M_TXT_UNDO"></span>\n                    </div>\n                    <div class="clear"></div>\n                </div>\n            </td>\n            <td width="30%" valign="top" align="left">&nbsp;</td>\n            <td width="30%" valign="top" align="left">&nbsp;</td>\n        </tr>\n        <tr ng-if="reviewer.status==\'PENDING\'">\n            <td width="40%" valign="top" align="left">\n                <!-- Shankar is awesome! This code will never break!-->\n                <div>\n                    <!--<div class="floatL bg_bccad9">{{reviewer | mtShortName}}</div>-->\n                    <div class="floatL color00 F13 marginL10">\n                        <span mt-trans="M_TXT_REVIEWER_NUM"\n                              mt-trans-val-reviewer="{{reviewer.role.split(\'_\')[1]}}"></span>&nbsp;\n                        <span class="color99" mt-trans="M_TXT_REVIEW_PENDING_SPACE"></span>\n                        <span class="color0072bc marginL15 cursor display_N"\n                              style="text-decoration:underline" mt-trans="M_TXT_UNDO"></span>\n                    </div>\n                    <div class="clear"></div>\n                </div>\n            </td>\n            <td width="30%" valign="top" align="left">&nbsp;</td>\n            <td width="30%" valign="top" align="left">&nbsp;</td>\n        </tr>\n        <tr>\n            <td width="40%" valign="top" align="left">\n                <div class="marginR10" style="width:420px">\n                    <div class="marginB15">\n                        <div class="floatL color00 F13 marginL10">\n                            <span mt-trans="M_TXT_REVIEWER_NUM" mt-trans-val-reviewer="{{$index+1}}"></span>&nbsp;\n                            <span class="color0072bc marginL15 cursor display_N" style="text-decoration:underline" mt-trans="M_TXT_UNDO"></span>\n                        </div>\n                        <!--<div class="floatL bg_bccad9">{{reviewer | mtShortName}}</div>-->\n                        <!--<div class="floatL color00 F13 marginL10">-->\n                        <!--<div class="floatL" style="max-width:275px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">{{reviewer.name}}:</div>-->\n                        <!--<div class="clear"></div>-->\n                        <!--</div>-->\n                        <div class="clear"></div>\n                    </div>\n                    <div class="marginB10">\n                        <div class="floatL color00 F18 lineHeight22" style="width:42px">{{reviewer.score/100}}</div>\n                        <div class="floatL">\n                            <div class="borderB10_transparent" ng-repeat="evalParam in evaluationParams">\n                                <div class="floatL F13 color00 lineHeight20" style="width:100px">{{evalParam}}</div>\n                                <div class="floatL marginT3 marginL10">\n                                    <div ng-if="evalParamType == \'NUMERIC\'"\n                                         eval-param-rating-partial\n                                         score="evalParams($index, reviewer.id)"\n                                         firsthalf-rating-class="\'firsthalfRating_blue\'"\n                                         secondhalf-rating-class="\'secondhalfRating_blue\'">\n                                    </div>\n                                    <div ng-if="evalParamType !== \'NUMERIC\'"\n                                         eval-param-binary-partial\n                                         binary-type="evalParamType"\n                                         score="evalParams($index, reviewer.id)">\n                                    </div>\n                                </div>\n                                <div class="clear"></div>\n                            </div>\n                        </div>\n                        <div class="clear"></div>\n                    </div>\n                </div>\n            </td>\n            <td width="30%" valign="top" align="left" ng-if="reviewer.positiveFeedback[0]">\n                <div class="marginR10" style="width:250px">\n                    <div class="color00 F13 lineHeight32 marginB7" mt-trans="M_TXT_POSITIVE_FEEDBACK"></div>\n                    <div class="color00 F13 lineHeight20 marginB10">{{reviewer.positiveFeedback[0].text}}</div>\n                </div>\n            </td>\n            <td width="30%" valign="top" align="left" ng-if="reviewer.constructiveFeedback[0]">\n                <div class="" style="width:250px">\n                    <div class="color00 F13 lineHeight32 marginB7" mt-trans="M_TXT_CONSTRUCTIVE_FEEDBACK_N"></div>\n                    <div class="color00 F13 lineHeight20 marginB10">{{reviewer.constructiveFeedback[0].text}}</div>\n                </div>\n            </td>\n        </tr>\n    </table>\n    <div class="offlineTask_attachment uploaded cursor"\n         ng-click="downloadAttachment(reviewerIdReviewMap[reviewer.reviwerId].mediaId[0].object)" style="width: 100%;"\n         ng-if="reviewerIdReviewMap[reviewer.reviwerId].mediaId">\n        <div class=\'floatL attachmentIcon_17_15 marginR7 marginT3\'></div>\n        <div class="floatL txtColor lineHeight20">{{reviewerIdReviewMap[reviewer.reviwerId].mediaId[0].title}}</div>\n        <div class=\'clear\'></div>\n    </div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/schedule_coaching_session.html",'<div style="padding: 20px 0" class="bg_ff">\n\t<div class="pos_abs" style="top:20px;right:20px">\n   \t\t<!--div class="floatL border_66 lineHeight28 F13 borderR15 marginR20 paddingL15 paddingR15">\n   \t\t\t<span class="navColor cursor" ng-class="{disable: !canGoPrevious()}" ng-click="gotoPrevious()">&lt; Prev</span>\n   \t\t\t<span class="navcolor marginL5 marginR5">|</span>\n   \t\t\t<span class="navColor cursor" ng-class="{disable: !canGoNext()}" ng-click="gotoNext()">Next &gt;</span>\n   \t\t</div-->\n   \t\t<div class="floatL crossIcon_20_20 marginT5" ng-click="$dismiss()"></div>\n   \t\t<div class="clear"></div>\n   \t</div>\n\t<div ng-if="!forReschedule" class="textalign_C color36 F18 lineHeight28 borderB35_transparent marginT10" translate="CS_SCHEDULE_REVIEW_SESSION">Schedule Review Session</div>\n\t<div ng-if="forReschedule" class="textalign_C color36 F18 lineHeight28 borderB35_transparent marginT10" translate="CS_RESCHEDULE_REVIEW_SESSION">Reschedule Review Session</div>\n\t<div class="textalign_C pos_abs" style="width: 100%; top: 90px; bottom: 71px; overflow-y: auto;">\n\t\t<div style="width: 650px" class="margin0_auto textalign_L">\n\t\t\t<div class="lineHeight30">\n\t\t\t\t<div>\n\t\t\t\t    <ul style="margin:0;padding:0;list-style:none">\n\t\t\t\t\t\t<li class="lineHeight20 F13 marginB15">\n\t\t\t\t\t\t    <div style="width: 190px;" class="floatL color99 marginR10" translate="CS_SCHEDULE_LEARNER_NAME">Learner Name</div>\n\t\t\t\t\t\t\t<div style="width: 300px;" class="floatL color00 fs-hide">{{(entityLearner.user.name?entityLearner.user.name:entityLearner.user.email)}}</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="lineHeight20 F13 marginB15">\n\t\t\t\t\t\t    <div style="width: 190px;" class="floatL color99 marginR10" translate="CS_REVIEWER_TXT_CS">Coaching Session</div>\n\t\t\t\t\t\t\t<div style="width: 300px;" class="floatL color00">{{entityInfo.name}}</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="lineHeight20 F13 marginB15" ng-if="entityInfo.coachingSessionsType==\'MULTIPLE\'">\n\t\t\t\t\t\t    <div style="width: 190px;" class="floatL color99 marginR10" translate="COACHING_TXT_COMPLETED">Sessions Completed</div>\n\t\t\t\t\t\t\t<div style="width: 300px;" class="floatL color00">{{(entityLearner.reviewCycle>0?(entityLearner.reviewCycle-1):"--")}}</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="lineHeight20 F13 marginB15" ng-if="entityInfo.coachingSessionsType==\'MULTIPLE\'">\n\t\t\t\t\t\t    <div style="width: 190px;" class="floatL color99 marginR10" translate="CS_SCHEDULE_FREQUENCY">Frequency of Sessions</div>\n\t\t\t\t\t\t\t<div style="width: 300px;" class="floatL color00" ng-if="entityInfo.coachingFrequency.unitType==\'WEEK\'" translate="CS_SCHEDULE_FREQUENCY_WEEK" translate-value-a="{{entityInfo.coachingFrequency.value}}"></div>\n\t\t\t\t\t\t\t<div style="width: 300px;" class="floatL color00" ng-if="entityInfo.coachingFrequency.unitType==\'DAY_OF_MONTH\'" translate="CS_SCHEDULE_FREQUENCY_MONTH" translate-value-a="{{entityInfo.coachingFrequency.value}}" translate-value-b="{{getDaySuffix(entityInfo.coachingFrequency.value)}}"></div>\n\t\t\t\t\t\t\t<div style="width: 300px;" class="floatL color00" ng-if="entityInfo.coachingFrequency.unitType==\'ADHOC_PER_MONTH\'" translate="CS_SCHEDULE_FREQUENCY_ADHOC_MONTHLY" translate-value-a="{{entityInfo.coachingFrequency.value}}"></div>\n\t\t\t\t\t\t\t<div style="width: 300px;" class="floatL color00" ng-if="entityInfo.coachingFrequency.unitType==\'ADHOC_PER_WEEK\'" translate="CS_SCHEDULE_FREQUENCY_ADHOC_WEEKLY" translate-value-a="{{entityInfo.coachingFrequency.value}}"></div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="lineHeight20 F13 marginB15">\n\t\t\t\t\t\t    <div style="width: 190px;" class="floatL color99 marginR10" translate="CS_REVIEWER_TXT_LATEST_SCORE">Latest Score</div>\n\t\t\t\t\t\t\t<div style="width: 300px;" class="floatL color00">{{(entityLearner.lastCycleScore>0?(entityLearner.lastCycleScore+\'%\'):"--")}}</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="lineHeight20 F13 marginB15">\n\t\t\t\t\t\t    <div style="width: 190px;" class="floatL color99 marginR10 lineHeight32" translate="CS_SCHEDULE_NEXT_DATE">Next Session Date</div>\n\t\t\t\t\t\t\t<div style="width: 300px;" class="floatL color00">\n\t\t\t\t\t\t\t\t<div class="floatL invitedArea" click-anywhere-but-here="closeCalendar()">\n\t\t\t\t\t            \t<div class="dropdown">\n\t\t\t\t\t\t            \t<div ng-click ="ui.showCalendarPopUp=!ui.showCalendarPopUp" class="dropdown-toggle" style="border:1px solid #ddd;">\n\t\t\t\t\t\t                 \t<div style="padding:0 30px 0 10px;background:fff;width:225px" class="dropdown-text lineHeight30">{{(nextSessionDateText?nextSessionDateText:(\'CS_SCHEDULE_SELECT_DATE\'|translate))}}</div> \n\t\t\t\t\t\t               \t</div>\n\t\t\t\t\t\t               \t<div class="pos_abs calIcon17_19" style="top: 5px; right: 7px"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t    \t\t\t<div id="calendar" ng-if="ui.showCalendarPopUp"  class="pos_abs bg_ff" style="border:1px solid #ccc;z-index:9;padding:5px">\n\t\t\t\t\t\t      \t\t\t<datepicker  ng-model="ui.dt" min-date="minDate"  show-weeks="false" class="well well-sm floatL bg_ff" style="margin:0;border: 0;border-right: 1px solid #ccc;border-radius: 0;padding:0"></datepicker>\n\t\t\t\t\t\t      \t\t\t<!--timepicker  ng-model="ui.dt" class="floatL" hour-step="1" minute-step="1" show-meridian="true" meridians="[\'AM\',\'PM\']" show-spinners="false"></timepicker-->\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t\t  \t</div>\n\t\t\t\t\t\t\t  \t<div class="floatL marginL10" ng-show="ui.showCalendarPopUp">\n\t\t\t\t\t\t       \t\t<div class="floatL correct_24_24 ok marginT3" ng-click="updateNextSessionDate()"></div>\n\t\t\t\t\t\t      \t    <div class="floatL wrong_24_24 marginL5 cancel marginT3" ng-click="ui.showCalendarPopUp=false"></div>\n\t\t\t\t\t\t      \t   <div class="clear"></div>\n\t\t\t\t\t      \t   </div>\n\t\t\t\t\t      \t   <div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<!--<li ng-show="isAnyDateSelected()" class="lineHeight20 F13 marginB15">-->\n\t\t\t\t\t\t    <!--<div style="width: 190px;" class="floatL color99 marginR10 lineHeight32" translate="CS_SCHEDULE_SESSION_TIME">Session Time</div>-->\n\t\t\t\t\t\t\t<!--<div style="width: 300px;" class="floatL color00">-->\n\t\t\t\t\t\t\t\t<!--<div class="floatL lineHeight20 cursor marginR10"-->\n\t\t\t\t\t\t\t\t\t <!--ng-click="changeEventType(\'ALL_DAY\')" -->\n\t\t\t\t\t\t\t\t\t <!--ng-class="{\'clicked\':(ui.eventType==\'ALL_DAY\')}">-->\n\t\t\t\t\t\t\t\t\t<!--<div class="floatL radioBtn_grey marginT4"></div>-->\n\t\t\t\t\t\t\t\t\t<!--<div class="floatL color00 F13 marginL7" translate="CS_SCHEDULE_SESSION_TIME_ALL_DAY">All Day</div>-->\n\t\t\t\t\t\t\t\t\t<!--<div class="clear"></div>-->\n\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t<!--<div class="floatL lineHeight20 cursor"-->\n\t\t\t\t\t\t\t\t\t <!--ng-click="changeEventType(\'SPECIFIC\')" -->\n\t\t\t\t\t\t\t\t\t <!--ng-class="{\'clicked\':ui.eventType==\'SPECIFIC\'}">-->\n\t\t\t\t\t\t\t\t\t<!--<div class="floatL radioBtn_grey marginT4"></div>-->\n\t\t\t\t\t\t\t\t\t<!--<div class="floatL color00 F13 marginL7" translate="CS_SCHEDULE_SESSION_TIME_ST">Specific Time</div>-->\n\t\t\t\t\t\t\t\t\t<!--<div class="clear"></div>-->\n\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t<!--<div class="clear"></div>-->\n\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t<!--<div class="clear"></div>-->\n\t\t\t\t\t\t<!--</li>-->\n\t\t\t\t\t\t<!--<li ng-show="isAnyDateSelected()" class="lineHeight20 F13 marginB15 pos_rel">-->\n\t\t\t\t\t\t\t<!--<div ng-hide="ui.eventType==\'SPECIFIC\'" class="pos_abs bg_ff" style="width:100%;height:100%;opacity:0.6;z-index:1"></div>-->\n\t\t\t\t\t\t    <!--<div style="width: 190px;" class="floatL color99 marginR10 lineHeight32" translate="CS_SCHEDULE_SESSION_STIME">Session Start Time</div>-->\n\t\t\t\t\t\t    <!--<div style="width: 190px;" class="floatL color99 marginR10 lineHeight32" translate="CS_SCHEDULE_SESSION_STIME">Session Start Time</div>-->\n\t\t\t\t\t\t\t<!--<div style="width: 300px;" class="floatL color00">-->\n\t\t\t\t\t\t\t\t<!--<div class="floatL dropdown marginR10" style="width: 60px">-->\n\t\t\t\t\t\t\t\t\t<!--<div class="dropdown-toggle lineHeight30">-->\n\t\t\t\t\t\t\t\t\t\t<!--<div class="" -->\n\t\t\t\t\t\t\t\t\t\t\t<!--style="padding: 0 25px 0 10px;" -->\n\t\t\t\t\t\t\t\t\t\t\t<!--ng-class="{\'color99\':(ui.stHR==null),\'color00\':(ui.stHR!=null)}">{{getClockTime(ui.stHR,\'hrs\')}}</div>-->\n\t\t\t\t\t\t\t\t\t\t<!--<div class="downArrow_12_7" style="top: 13px"></div>-->\n\t\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t\t<!--<div class="dropdown-menu"-->\n\t\t\t\t\t\t\t\t\t\t<!--style="min-width: 60px; top: 32px; margin: 0; padding: 0; border: 0;">-->\n\t\t\t\t\t\t\t\t\t\t<!--<ul style="max-height: 150px; overflow-y: auto">-->\n\t\t\t\t\t\t\t\t\t\t\t<!--<li ng-repeat="i in [1,2,3,4,5,6,7,8,9,10,11,12]"-->\n\t\t\t\t\t\t\t\t\t\t\t\t<!--ng-hide="i==ui.stHR" -->\n\t\t\t\t\t\t\t\t\t\t\t\t<!--ng-click="ui.stHR=i;generateAddToCalenderLinks()">{{getClockTime(i)}}</li>-->\n\t\t\t\t\t\t\t\t\t\t<!--</ul>-->\n\t\t\t\t\t\t\t\t\t<!--</div>\t-->\n\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t<!--<div class="floatL dropdown marginR10" style="width: 63px">-->\n\t\t\t\t\t\t\t\t\t<!--<div class="dropdown-toggle lineHeight30">-->\n\t\t\t\t\t\t\t\t\t\t<!--<div class="" -->\n\t\t\t\t\t\t\t\t\t\t\t <!--style="padding: 0 25px 0 10px;"-->\n\t\t\t\t\t\t\t\t\t\t\t <!--ng-class="{\'color99\':(ui.stMM==null),\'color00\':(ui.stMM!=null)}">{{getClockTime(ui.stMM,\'min\')}}</div>-->\n\t\t\t\t\t\t\t\t\t\t<!--<div class="downArrow_12_7" style="top: 13px"></div>-->\n\t\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t\t<!--<div class="dropdown-menu"-->\n\t\t\t\t\t\t\t\t\t\t<!--style="min-width: 63px; top: 32px; margin: 0; padding: 0; border: 0;">-->\n\t\t\t\t\t\t\t\t\t\t<!--<ul style="max-height: 150px; overflow-y: auto">-->\n\t\t\t\t\t\t\t\t\t\t\t<!--<li ng-repeat="i in [0,5,10,15,20,25,30,35,40,45,50,55]"-->\n\t\t\t\t\t\t\t\t\t\t\t\t<!--ng-hide="i==ui.stMM" -->\n\t\t\t\t\t\t\t\t\t\t\t\t<!--ng-click="ui.stMM=i;generateAddToCalenderLinks()">{{getClockTime(i)}}</li>-->\n\t\t\t\t\t\t\t\t\t\t<!--</ul>-->\n\t\t\t\t\t\t\t\t\t<!--</div>\t-->\n\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t<!--<div class="floatL dropdown marginR10" style="width: 60px">-->\n\t\t\t\t\t\t\t\t\t<!--<div class="dropdown-toggle lineHeight30">-->\n\t\t\t\t\t\t\t\t\t\t<!--<div class="color00" style="padding: 0 25px 0 10px;">{{ui.stAMPM}}</div>-->\n\t\t\t\t\t\t\t\t\t\t<!--<div class="downArrow_12_7" style="top: 13px"></div>-->\n\t\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t\t<!--<div class="dropdown-menu"-->\n\t\t\t\t\t\t\t\t\t\t<!--style="min-width: 60px; top: 32px; margin: 0; padding: 0; border: 0;">-->\n\t\t\t\t\t\t\t\t\t\t<!--<ul style="max-height: 150px; overflow-y: auto">-->\n\t\t\t\t\t\t\t\t\t\t\t<!--<li ng-repeat="i in [\'AM\',\'PM\']"-->\n\t\t\t\t\t\t\t\t\t\t\t\t<!--ng-hide="i==ui.stAMPM" -->\n\t\t\t\t\t\t\t\t\t\t\t\t<!--ng-click="ui.stAMPM=i;generateAddToCalenderLinks()">{{i}}</li>-->\n\t\t\t\t\t\t\t\t\t\t<!--</ul>-->\n\t\t\t\t\t\t\t\t\t<!--</div>\t-->\n\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t<!--<div class="clear"></div>-->\n\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t<!--<div class="clear"></div>-->\n\t\t\t\t\t\t<!--</li>-->\n\t\t\t\t\t\t<!--<li ng-show="isAnyDateSelected()" class="lineHeight20 F13 marginB15 pos_rel">-->\n\t\t\t\t\t\t\t<!--<div ng-hide="ui.eventType==\'SPECIFIC\'" class="pos_abs bg_ff" style="width:100%;height:100%;opacity:0.6;z-index:1"></div>-->\n\t\t\t\t\t\t    <!--<div style="width: 190px;" class="floatL color99 marginR10 lineHeight32" translate="CS_SCHEDULE_SESSION_ETIME">Session End Time</div>-->\n\t\t\t\t\t\t\t<!--<div style="width: 300px;" class="floatL color00">-->\n\t\t\t\t\t\t\t\t<!--<div class="floatL dropdown marginR10" style="width: 60px">-->\n\t\t\t\t\t\t\t\t\t<!--<div class="dropdown-toggle lineHeight30">-->\n\t\t\t\t\t\t\t\t\t\t<!--<div class="" -->\n\t\t\t\t\t\t\t\t\t\t\t<!--style="padding: 0 25px 0 10px;" -->\n\t\t\t\t\t\t\t\t\t\t\t<!--ng-class="{\'color99\':(ui.etHR==null),\'color00\':(ui.etHR!=null)}">{{getClockTime(ui.etHR,\'hrs\')}}</div>-->\n\t\t\t\t\t\t\t\t\t\t<!--<div class="downArrow_12_7" style="top: 13px"></div>-->\n\t\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t\t<!--<div class="dropdown-menu"-->\n\t\t\t\t\t\t\t\t\t\t<!--style="min-width: 60px; top: 32px; margin: 0; padding: 0; border: 0;">-->\n\t\t\t\t\t\t\t\t\t\t<!--<ul style="max-height: 150px; overflow-y: auto">-->\n\t\t\t\t\t\t\t\t\t\t\t<!--<li ng-repeat="i in [1,2,3,4,5,6,7,8,9,10,11,12]"-->\n\t\t\t\t\t\t\t\t\t\t\t\t<!--ng-hide="i==ui.etHR" -->\n\t\t\t\t\t\t\t\t\t\t\t\t<!--ng-click="ui.etHR=i;generateAddToCalenderLinks()">{{getClockTime(i)}}</li>-->\n\t\t\t\t\t\t\t\t\t\t<!--</ul>-->\n\t\t\t\t\t\t\t\t\t<!--</div>\t-->\n\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t<!--<div class="floatL dropdown marginR10" style="width: 63px">-->\n\t\t\t\t\t\t\t\t\t<!--<div class="dropdown-toggle lineHeight30">-->\n\t\t\t\t\t\t\t\t\t\t<!--<div class="" -->\n\t\t\t\t\t\t\t\t\t\t\t <!--style="padding: 0 25px 0 10px;"-->\n\t\t\t\t\t\t\t\t\t\t\t <!--ng-class="{\'color99\':(ui.etMM==null),\'color00\':(ui.etMM!=null)}">{{getClockTime(ui.etMM,\'min\')}}</div>-->\n\t\t\t\t\t\t\t\t\t\t<!--<div class="downArrow_12_7" style="top: 13px"></div>-->\n\t\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t\t<!--<div class="dropdown-menu"-->\n\t\t\t\t\t\t\t\t\t\t<!--style="min-width: 63px; top: 32px; margin: 0; padding: 0; border: 0;">-->\n\t\t\t\t\t\t\t\t\t\t<!--<ul style="max-height: 150px; overflow-y: auto">-->\n\t\t\t\t\t\t\t\t\t\t\t<!--<li ng-repeat="i in [0,5,10,15,20,25,30,35,40,45,50,55]"-->\n\t\t\t\t\t\t\t\t\t\t\t\t<!--ng-hide="i==ui.etMM" -->\n\t\t\t\t\t\t\t\t\t\t\t\t<!--ng-click="ui.etMM=i;generateAddToCalenderLinks()">{{getClockTime(i)}}</li>-->\n\t\t\t\t\t\t\t\t\t\t<!--</ul>-->\n\t\t\t\t\t\t\t\t\t<!--</div>\t-->\n\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t<!--<div class="floatL dropdown marginR10" style="width: 60px">-->\n\t\t\t\t\t\t\t\t\t<!--<div class="dropdown-toggle lineHeight30">-->\n\t\t\t\t\t\t\t\t\t\t<!--<div class="color00" style="padding: 0 25px 0 10px;">{{ui.etAMPM}}</div>-->\n\t\t\t\t\t\t\t\t\t\t<!--<div class="downArrow_12_7" style="top: 13px"></div>-->\n\t\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t\t<!--<div class="dropdown-menu"-->\n\t\t\t\t\t\t\t\t\t\t<!--style="min-width: 60px; top: 32px; margin: 0; padding: 0; border: 0;">-->\n\t\t\t\t\t\t\t\t\t\t<!--<ul style="max-height: 150px; overflow-y: auto">-->\n\t\t\t\t\t\t\t\t\t\t\t<!--<li ng-repeat="i in [\'AM\',\'PM\']"-->\n\t\t\t\t\t\t\t\t\t\t\t\t<!--ng-hide="i==ui.etAMPM" -->\n\t\t\t\t\t\t\t\t\t\t\t\t<!--ng-click="ui.etAMPM=i;generateAddToCalenderLinks()">{{i}}</li>-->\n\t\t\t\t\t\t\t\t\t\t<!--</ul>-->\n\t\t\t\t\t\t\t\t\t<!--</div>\t-->\n\t\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t\t<!--<div class="clear"></div>-->\n\t\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t\t<!--<div class="clear"></div>-->\n\t\t\t\t\t\t<!--</li>-->\n\n                        <li ng-show="isAnyDateSelected()" class="lineHeight20 F13 marginB15 pos_rel">\n                            <div style="width: 190px;" class="floatL color99 marginR10 lineHeight32" translate="CS_SCHEDULE_SESSION_TIME">Session Time</div>\n                            <div style="width: 400px;" class="floatL color00">\n                                <div  class="floatL marginR10" style="width: 400px">\n\n                                    <div class="floatL dropdown marginR10" style="width: 80px">\n                                        <div ng-hide="ui.eventType==\'SPECIFIC\'" class="pos_abs bg_ff" style="width:100%;height:100%;opacity:0.6;z-index:1"></div>\n                                        <div class="dropdown-toggle lineHeight28">\n                                            <div class=""\n                                                 style="padding: 0 5px;"\n                                                 ng-class="{\'color99\':(ui.stHR==null),\'color00\':(ui.stHR!=null)}">\n                                                <input type="text"  style="width: 70px; border: 0 none;" ng-model="ui.startDisplayTime" ng-model-options="{ debounce: 1000 }" ng-change="validateTime(ui.startDisplayTime,\'start\')" /></div>\n                                        </div>\n                                        <div class="dropdown-menu"\n                                             style="min-width: 60px; top: 32px; margin: 0; padding: 0; border: 0;">\n                                            <ul style="max-height: 150px; overflow-y: auto">\n                                                <li ng-repeat="i in timeSlots "\n                                                    ng-hide="i==ui.selectedStartSlot"\n                                                    ng-click="setSelectedTime(i,true);">{{getClockTime(i)}}</li>\n                                            </ul>\n                                        </div>\n                                    </div>\n\n\n                                    <div class="floatL marginR5 lineHeight28"> to </div>\n\n                                    <div class="floatL dropdown marginR10" style="width: 80px">\n                                        <div ng-hide="ui.eventType==\'SPECIFIC\'" class="pos_abs bg_ff" style="width:100%;height:100%;opacity:0.6;z-index:1"></div>\n                                        <div class="dropdown-toggle lineHeight28">\n                                            <div class=""\n                                                 style="padding: 0 5px;"\n                                                 ng-class="{\'color99\':(ui.etHR==null),\'color00\':(ui.etHR!=null)}">\n                                                <input type="text"  style="width: 70px; border: 0 none;" ng-model="ui.endDisplayTime" ng-model-options="{ debounce: 1000 }" ng-change="validateTime(ui.endDisplayTime,\'end\')" /></div>\n                                        </div>\n                                        <div class="dropdown-menu"\n                                             style="min-width: 60px; top: 32px; margin: 0; padding: 0; border: 0;">\n                                            <ul style="max-height: 150px; overflow-y: auto">\n                                                <li ng-repeat="i in timeSlots "\n                                                    ng-hide="i==ui.selectedEndSlot"\n                                                    ng-click="setSelectedTime(i,false);">{{getClockTime(i)}}</li>\n                                            </ul>\n                                        </div>\n                                    </div>\n\n                                    <div class="floatL lineHeight30" style="">\n                                        <div ng-click="changeEventType()" ng-class="{\'checked\':(ui.eventType==\'ALL_DAY\')}" type="checkbox" class="checkbox_16_16 floatL marginT7"></div>\n                                        <div class="floatL marginL5" translate="CS_SCHEDULE_SESSION_TIME_ALL_DAY" >All Day</div>\n                                        <div class="clear"></div>\n                                    </div>\n                                    <div class="clear"></div>\n\n                                </div>\n                                <div class="clear"></div>\n                            </div>\n                            <div class="clear"></div>\n                        </li>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<li class="lineHeight20 F13 marginB15" ng-show="ui.showWarningMsg">\n\t\t\t\t\t\t    <div style="width: 190px;" class="floatL color99 marginR10">&nbsp;</div>\n\t\t\t\t\t\t\t<div style="width: 300px;" class="floatL color00">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class="floatL marginR5 warningIcon_13 marginT7" style="position: relative;top: -4px;"></div>\n\t\t\t\t\t\t\t\t\t<div class="floatL colorea8212 F13" translate="CS_SCHEDULE_SESSION_WARNING">Warning!</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="colorea8212 F13" style="width:200px">\n\t\t\t\t\t\t\t\t\t{{ui.showWarningMsg}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="borderT_dd pos_fix paddingT20 marginB20" style="bottom: 0; width: 100%; overflow-x: hidden">\n\t\t<div class="floatL pos_rel" style="left: 50%">\n\t\t\t<div class="floatL pos_rel" style="left: -50%">\n\t\t\t\t<div tabindex=0 class="floatL border_cc_30 F13 paddingL20 paddingR20 marginR10 cancel" ng-click="$dismiss()" ng-keyup="$event.keyCode == 13 && $dismiss()" translate="CANCEL">Cancel</div>\n\t\t\t\t<div tabindex=0 class="floatL btn_0072bc F13 lineHeight30 borderR15 paddingL25 paddingR25" ng-class="{\'disable\':!ui.anythingChanged}" ng-click="schduleAppointment()">{{ui.btnText}}</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/screen-recording-media-view-partial.html",'<div class="video-container" ng-class="{fullscreen: isToggledFullScreen}" ng-attr-id="{{currentContainerId}}" ng-mousemove="handleMousseMove()">\n\t<div  class="pos_rel onScreen_playPause_Parent" ng-class="{fullscreen: isToggledFullScreen}">\n\t\t<div ng-click="playPause()"  ng-class="{mtPaused:isPlay}"  ng-if="!checkingConversionVideo && !checkingConversionScreen"\n             class="pos_abs onScreen_playPause" style="top: 40%;left: 45%;"></div>\n\t\t<div class="pos_abs videoInset secondaryVideoContainer"\n             style="width:140px;height:auto;cursor:move;border:2px solid #999" ng-draggable="dragOptions" ng-if="hasVideo">\n\t\t    <video class="mediaClass"\n                   id="Secondary"\n                   style="max-width:100%;display:block"\n                   control="false" muted preload="auto" >\n\t\t        <source ng-if="videoUrl && !checkingConversionVideo" ng-src="{{videoUrl | trustUrl}}" type="video/mp4">\n\t\t    </video>\n\t    </div>\n\t    <div ng-click="playPause()" class="floatL textalign_C marginR7 primaryVideoContainer" ng-class="{fullscreen: isToggledFullScreen}">\n\t\t    <video id="Primary"\n                   class="mediaClass"\n                   style="max-width:100%;max-height:100%;"\n                   control="false" preload="auto" ng-class="{fullscreen: isToggledFullScreen}">\n\t\t        <source ng-if="screenUrl && !checkingConversionScreen" ng-src="{{screenUrl | trustUrl}}" type="video/mp4">\n\t\t    </video>\n\t\t</div>\n\t\t<div class="clear"></div>   \n\t</div>\n\n  <div class="colorff F20 lineHeight30 textalign_C pos_abs"\n    ng-if="checkingConversionVideo || checkingConversionScreen || !metaLoaded || isWaiting"\n    style="height: 381px;padding-top: 160px;width: 100%;top:0" ng-style="{background:(isWaiting)?\'none\':\'#000\',opacity:(isWaiting)?\'0.5\':\'1\'}">\n    <img ng-src="{{loadingImg}}"/> <span ng-if="!isWaiting"> Loading... </span> \n  </div>\n\n    <div class="video-controls hideControlBar" ng-class="{show: hideClassEvent}" ng-if="metaLoaded">\n    \t<div class="floatL">\n    \t\t<button style="border:none" ng-class="{mtPaused:isPlay}" type="button" class="floatL play-pause marginR15 marginT9 playPauseBtn" ng-click="playPause()"></button>\n    \t</div>\n        <div class="floatR">\n\t        <div class="floatL color99 F12 lineHeight30" style="width:120px">{{currentTime}}</div>\n\t        <button style="border:none" ng-class="{mtMute:isMute}" type="button" class="floatL mute marginR12 marginT8 muteBtn" ng-click="mute()"></button>\n\t        <input type="range" class="floatL volume-bar marginR20 marginT14 volumeBarArea" min="0" max="1" step="0.1" value="{}" style="width:60px">\n\t        <button style="border:none" type="button" class="floatR full-screen marginT8 fullScreenBtn" ng-click="toggleFullscreen($a)"></button>\n    \t\t<div class="clear"></div>\n    \t</div>\n    \t<div style="margin-left:30px;margin-right:250px">\n    \t\t<input type="range" class="seek-bar marginR12 marginT14 seekBarArea" value="0">\n    \t</div>\n    \t<div class="clear"></div> \n    </div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/submissions-view-partial.html",'<div ng-if="!submissions.$resolved" style="width: 100%;text-align: center;padding: 50px;">\n    <img ng-src="{{loaderImg}}"/>\n</div>\n<div ng-if="submissions.$resolved" ng-repeat="(key, submissionId) in submissionsList" old-review-display-partial="{{$index}}" ></div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/tag-filter.html",'<div class="lineHeight30 bg_ee borderT_dd  ng-scope pos_rel" style="padding: 12px 12px 7px;" \n\tng-if="tagResource.resource.$resolved && tagResource.tags.length>0">\n\t<!-- <div ng-show="isLargeContent && showLeftArrow" class="pos_abs  F20 color99 cursor gradientLToR" style="left: 0px;top:0px;height:100%;width: 50px;" ng-click="tickleSlideLeft($event)">\n\t\t<div class="icon-ddArrowLeft marginT18 marginL10"></div>\n\t</div>\n\t<div ng-if="isLargeContent && showRightArrow" class="pos_abs  F20 color99 cursor gradientRToL" style="right: 0px;top:0px;height:100%;width: 50px;" ng-click="tickleSlideRight($event)">\n\t\t<div class="icon-ddArrowRight marginT18 marginL30"></div>\n\t</div> -->\n\n\t<div class="floatL cursor marginR5 marginB5 tagText F12 borderR3"\n\t\t\tng-repeat="tag in customTagList track by $index"\n\t\t\tng-style="{\'background-color\':(selectedTags.indexOf(tag.id) != -1?\'#999\':\'#fff\'),\'color\':(selectedTags.indexOf(tag.id) != -1?\'#fff\':\'#999\')}"\n\t\t\tng-click="selectTag([tag.id])"\n\t\t\tstyle="padding: 0 8px;border: 1px solid #ddd;max-width:180px; text-overflow: ellipsis;white-space: nowrap;overflow: hidden;" title="{{tag.name}}">{{ tag.name }}</div>\n\t<div ng-if="isLargeContent" class="dropdown floatL marginL5 marginT5">\n\t\t<div class="tagSliderBigDiv">\t\t\t\t\t\t\n\t\t\t<div class="pos_rel dropdown">\n\t\t\t\t<div class="dropdown-toggle paddingB5"\n\t\t\t\t\tng-click="isFocus()"\n\t\t\t\t\tstyle="border: none;border-bottom:1px solid #ddd;" aria-haspopup="true" aria-expanded="false">\n\t\t\t\t\t<div style="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#888" \n\t\t\t\t\t\tng-click="isFocus()" translate="DASHBOARD_N_MORE" translate-value-a="{{searchableTagList.length}}"\n\t\t\t\t\t\tclass="dropdown-text"></div>\n\t\t\t\t\t<div class="icon-ddArrowBottom F6 pos_abs color88" \n\t\t\t\t\t\tstyle="top:7px;right:5px"></div>\t\t\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div class="dropdown-menu newBoxShadow bg_ff" click-anywhere-but-here="input.tagSearchText=\'\';resetDropdownSelected()" style="width: 230px;top: 26px;left:-5px;padding: 0;margin:0;border:0;">\n\t\t\t\t\t<div class="pos_abs paddingB5 borderB_0072bc color99 lineHeight20" style="top: -26px;left: 5px;">\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\ttype="text" ng-model="input.tagSearchText"\n\t\t\t\t\t\t\tng-keypress="($event.which === 13)?applyTags():0" \n\t\t\t\t\t\t\tplaceholder="{{\'DASHBOARD_CONTENT_SELECT_TAGS\'|translate}}"\n\t\t\t\t\t\t\tclass="lineHeight22 F13 cursor focusMe bg_ee" \n\t\t\t\t\t\t\tstyle="width: 182px;height: 20px;border: 0px;padding: 0px 20px 0 0;outline: 0px;color:#000;">\t\t\t\t\t\t\t\n\t\t\t\t\t\t<div ng-if="input.tagSearchText.length > 0" \n\t\t\t\t\t\t\tng-click="input.tagSearchText=\'\';$event.stopPropagation()"\n\t\t\t\t\t\t\tstyle="right: 0px;top: 0px;padding:9px 5px 5px;" \n\t\t\t\t\t\t\tclass="icon-Close pos_abs F8 color99 cursor close"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul style="left:0px;width:230px;max-height:235px;position:relative;border:none;padding: 10px 0px;">\n\t\t\t\t\t\t<li class="color88 F13 lineHeight30"\n\t\t\t\t\t\t\tng-click="toggleDropdownSelectedTag(tag.id)"\n\t\t\t\t\t\t\tng-class=\'{color00:tag.name == x.name}\'\n\t\t\t\t\t\t\tng-repeat="tag in filteredTagList track by $index">\n\t\t\t\t\t\t\t<span class="icon-checkbox cursor F14 color99 floatL marginT8"\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tng-class="{\'icon-checkboxFilled\': dropdownSelectedTagList.indexOf(tag.id) !== -1}" style="display: inline-block;vertical-align: middle;"></span>\n\t\t\t\t\t\t\t<!-- <input type="checkbox" ng-checked="dropdownSelectedTagList.indexOf(tag.id) !== -1" class="focusMe"> -->\n              <div class="marginL24" ng-class="{color00: dropdownSelectedTagList.indexOf(tag.id) !== -1}" style="white-space:normal;">{{tag.name}}</div>\t\t\n              <div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<div class="textalign_C paddingT8 paddingB16 borderT_dd">\n\t\t\t\t\t\t<div class="cursor display_IB paddingR16 paddingL16" ng-class="{color0072bc: dropdownSelectedTagList.length > 0}" ng-click="clearDropdownSelect()" mt-trans="DASHBOARD_CLEAR_ALL"></div>\n\t\t\t\t\t\t<div class="borderR16 lineHeight30 cursor display_IB paddingL16 paddingR16 colorff bg_dd" ng-class="{bg_0072bc: dropdownSelectedTagList.length > 0}" ng-click="applyTags()" mt-trans="APPLY_FILTERS"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\t\t\t\t\t\t\n\t</div>\n\t<div class="clear"></div>\n</div>'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/tag-search-filter.html",'<div ng-if="!isNewDesignLanguage() && tagsList.length > 0" class="lineHeight20 color737d8a">\n  <div class="F12 marginB8" mt-trans="DASHBOARD_CONTENT_TAG_FILTER"></div>\n  <div class="">\n    <div ng-repeat="tag in tagsList" ng-class="{Active: isTagActive(tag.tagId)}"\n      ng-click="toggleTag(tag.tagId)" class="floatL tagDiv" style="margin:0 7px 7px 0">{{tag.tagName}}\n    </div>\n    <div class="clear"></div>\n  </div>\n</div>\n<div ng-if="isNewDesignLanguage() && tagsList.length > 0" class="lineHeight20 color737d8a">\n  <div ng-click="myVal=!myVal"\n    ng-init="myVal=true"\n    class="floatL F10 marginT5" \n    ng-class="{\'icon-triangleDown\':myVal,\'icon-triangleRight\':!myVal}"></div>\n    <div class="floatL F12 marginL8" mt-trans="TAGS"></div>\n    <div class="clear"></div>\n  <div ng-show="myVal" class="marginL16 marginT12">\n    <div class="floatL" \n        ng-class="{ marginB8: !isNewDesignLanguage(),\n          paddingB2: isNewDesignLanguage() }"\n        ng-repeat="tag in tagsList">\n  \t\t<div ng-click="toggleTag(tag.tagId)"\n            ng-class="{ Active: isTagActive(tag.tagId) }"\n            class="floatL tagDiv_2">{{ tag.tagName }}\n       </div>\n  \t\t<!--react-tag  ng-click="toggleTag(tag.tagId)" disabled="false"  applied="isTagActive(tag.tagId)" checkable="false" closable="false" children="tag.tagName"></react-tag-->\n  \t</div>\n    <div class="clear"></div>\n  </div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/task-eval-mission-view-partial.html",'<div ng-if="!submission && !submission.$resolved" style="width: 100%;text-align: center;padding: 50px;">\n\t<img ng-src="{{loaderImg}}"/>\n</div>\n<div style="border-radius: 3px;" ng-if="submission && submission.$resolved" >\n\t<div class="bg_f5 pos_rel ofh" style="padding:8px 10px">\n\t\t<div class="pos_abs color00 F16 lineHeight30 textalign_C" style="width:100%">Task {{mediaIndex+1}}/{{maxIndex + 1}}</div>\n\t\t<div class="floatL inactiveBtn_30 paddingL15 paddingR15 pos_rel" ng-class="{activated:(mediaIndex > 0)}" ng-click="gotoPrevMedia()">&lt; Prev</div>\n\t\t<div class="floatR inactiveBtn_30 paddingL15 paddingR15 pos_rel" ng-class="{activated:(mediaIndex < maxIndex)}" ng-click="gotoNextMedia()">Next &gt;</div>\n\t</div>\n\t<div>\n\t\t<div class="" style="height:398px;" ng-mouseover="hoverIn()" ng-mouseleave="hoverOut()" ng-mousemove="hoverIn()">\n\t\t\t<div class="mouseOver fade-out-title" style="width: 100%;height: 40px;\n\t\t\t\t\t\tbackground-color: rgba(0,0,0,0.7);\n\t\t\t\t\t\tcolor: white;text-align: center;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tpadding-top: 5px;z-index:2;" ng-show="showMediaName" ng-if="getMedia() && !isText()">\n\t\t\t\t{{getMedia().obj.title}}\n\t\t\t</div>\n\t\t\t<div ng-if="getMedia() && isVideoType()" jwplayer-simple="{{getMedia()}}"\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t   \t\t\t   height-data="{{\'378\'}}"></div>\n\t\t\t<!--iframe ng-if="getMedia() && isCrocoDoc()"\n\t\t\t\t\tcrocodoc ng-src="{{getTrustedUrl()|| \'//:0\'}}" scrolling="no"\n\t\t\t</iframe-->\n      <div ng-if="getMedia() && isCrocoDoc()"\n        pdfplayer pdf-media="currentMedia.obj" scrolling="no"\n        style="width: 100%; height: 100%; float: left;">\n      </div>\n\t\t\t<div ng-if="getMedia() && isImage()" style="text-align: center;">\n\t\t\t\t<img ng-if="!currentMedia" ng-src="{{loaderImg}}" style="margin-top: 100px;"/>\n\t\t\t\t<img ng-if="currentMedia" ng-src="{{getTrustedUrl() || \'//:0\'}}" style="max-width:100%;width:auto;height:378px;"/>\n\t\t\t</div>\n\t\t\t<div ng-if="getMedia() && isZip()"\n\t\t\t\t style="width: 100%;height: 100%;\n\t\t\t\t overflow-y: scroll;border:1px solid #e0e0e0;\n\t\t\t\t padding: 10px;text-align: center;background-color: #272727; padding-top: 16%;">\n\t\t\t\t<img ng-src="{{getZipUrl()}}">\n\t\t\t</div>\n\t\t\t<div ng-if="getMedia() && isXlsx()"\n\t\t\t\t style="width: 100%;height: 100%;\n\t\t\t\t overflow-y: scroll;border:1px solid #e0e0e0;\n\t\t\t\t padding: 10px;text-align: center;background-color: #272727; padding-top: 16%;">\n\t\t\t\t<div class="icon-xlsx F100" style="line-height: 250px;color:#666" ></div>\n\t\t\t</div>\n\t\t\t<div ng-if="getMedia() && isText()" style="width: 100%;height: 100%;overflow-y: auto;border:1px solid #e0e0e0;padding: 10px;">\n\t\t\t\t<iframe class="yui3-cssreset"  id={{iframeId}} style="width: 100%;height: 368px;"></iframe>\n\t\t\t\t{{loadIframe()}}\n\t\t\t</div>\n\t\t\t<div ng-if="!getMedia()" style="width: 100%;text-align: center;padding: 20%;">\n\t\t\t\t<img ng-src="{{loaderImg}}"/>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="!isText()"  ng-click="downloadMedia()" class="borderT6_transparent floatR color0072bc F13 lineHeight20 cursor" style="border: 1px solid #0072bc;border-radius: 4px;line-height: 30px;padding: 0 15px;">\n\t\t\t<div class="downloadIcon_16_16 floatL marginT7"></div>\n\t\t\t<div class="marginL6 floatL">Download</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\t\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/app-dashboard-header.html",'<div class="textalign_C paddingT20 paddingB20 borderB_dd">\n    <div class="floatL pos_rel lineHeight20 normalTabDB"\n         ng-class="{ \'Active\': ifRecentTabActive(moduleListHeaderValue.recents) }"\n         ng-click="changeTab(moduleListHeaderValue.recents)"\n         style="width:50%">\n        <div class="F0">\n            <div class="display_IB valign_M F13" mt-trans="LB_TXT_RECENTLY_ASSIGNED"></div>\n            <div class="display_IB valign_M icon-mail F17 marginL5"></div>\n        </div>\n        <div class="F12 marginT3 color99" ng-if="noOfEnThMoRequest.$resolved" translate="DASHBOARD_X_THIS_MONTH" translate-value-a="{{ noOfEnThMoRequest.total }}">\n            {{ noOfEnThMoRequest.total }} this month\n        </div>\n        <div class="F12 marginT3 color99" ng-if="!noOfEnThMoRequest.$resolved">\n            <img ng-src="{{smallLoader}}">\n        </div>\n        <div class="borderB_Tab"></div>\n    </div>\n    <div class="floatL pos_rel lineHeight20 normalTabDB"\n         ng-class="{ \'Active\': ifDueTabActive(moduleListHeaderValue.due) }"\n         ng-click="changeTab(moduleListHeaderValue.due)"\n         style="width:50%">\n        <div class="F0">\n            <div class="display_IB valign_M F13" translate="DASHBOARD_DUE_OR_OVERDUE">DUE/OVERDUE</div>\n            <div class="display_IB valign_M icon-due F18 marginL5"></div>\n        </div>\n        <div class="colored1c24 F12 marginT3" style="min-height: 20px;">\n            <span ng-if="noOfDueTodayReq.$resolved && noOfDueTodayReq.total > 0" translate="DASHBOARD_X_ENDING_TODAY" translate-value-a="{{ noOfDueTodayReq.total }}">{{noOfDueTodayReq.total}} Ending Today</span>\n        </div>\n        <div class="F12 marginT3 color99" ng-if="!noOfDueTodayReq.$resolved">\n            <img ng-src="{{smallLoader}}">\n        </div>\n        <div class="borderB_Tab"></div>\n    </div>\n    <div class="clear"></div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/app-due-area.html",'<dashboard-header></dashboard-header>\n<div class="marginT20">\n    <div class="marginB30">\n        <!--<completion-filter select-function="applyCompletionFilter" completion-types="completionTypes" selected-filter="selectedCompletionFilter"></completion-filter>-->\n        <entity-filter select-function="applyEntityFilter" entity-types="entityTypes" selected-filter="selectedEntityFilter"></entity-filter>\n        <div class="clear"></div>\n    </div>\n    <div class="marginB10 heightInnerInfiniteScrollDiv"\n         infinite-scroll="fetchNext()"\n         infinite-scroll-container="scrollContainer"\n         infinite-scroll-distance="2"\n         infinite-scroll-disabled="shouldNotScrollMore()"\n         infinite-scroll-immediate-check="false"\n         infinite-scroll-use-document-bottom="false"\n         style="min-height: 30px;">\n        <div ng-if="store.overDue.length > 0">\n            <div class="pos_rel F12 color99 lineHeight20">\n                <div class="pos_abs" style="width:100%;height:1px;background:#ddd;top:10px"></div>\n                <div class="floatL bg_f9 pos_rel paddingR20">\n                    <div class="floatL icon-calendar F14 marginT3"></div>\n                    <div class="floatL marginL7">{{\'DASHBOARD_OVERDUE_IN_LAST_X\' | translate:{num: OVER_DUE_PERIOD} | uppercase}}</div>\n                    <div class="clear"></div>\n                </div>\n                <div class="clear"></div>\n            </div>\n            <module-list-view over-due="store.overDue"></module-list-view>\n        </div>\n        <div ng-if="store.due.length > 0">\n            <div class="pos_rel F12 color99 lineHeight20">\n                <div class="pos_abs" style="width:100%;height:1px;background:#ddd;top:10px"></div>\n                <div class="floatL bg_f9 pos_rel paddingR20">\n                    <div class="floatL icon-calendar F14 marginT3"></div>\n                    <div class="floatL marginL7">{{\'DASHBOARD_DUE_IN_NEXT_X\' | translate:{num: TO_BE_DUE_PERIOD} | uppercase}}</div>\n                    <div class="clear"></div>\n                </div>\n                <div class="clear"></div>\n            </div>\n            <module-list-view due="store.due"></module-list-view>\n        </div>\n\n        <div class="textalign_C color88" style="border-top:100px solid transparent"\n             ng-if="(!anythingLoading() && store.due.length == 0 && store.overDue.length == 0)">\n            <div class="color88 noCoffeeCupImgWithText F40 marginB15"\n                 style="margin:0 auto 20px">\n            </div>\n            <div class="color88 F20 lineHeight30 marginB2" translate="YOU_HAVE_NOTHING_URGENT_TO_TEND_TO"></div>\n            <div class="F13 lineHeight20" translate="HOW_ABOUT_GRABING_CUP_OF_COFFEE" translate-value-a="{{OVER_DUE_PERIOD}}" translate-value-b="{{TO_BE_DUE_PERIOD}}"></div>\n        </div>\n        <img ng-if="anythingLoading()" ng-src="{{loader}}"/>\n    </div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/app-gamification-entity-thumb.html",'<div class="floatL pos_rel">\n    <div class="border_transparent borderR2" ng-class="{border_dd:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">\n        <div class="bg_ff newCourseThumbNail cursor borderR2 pos_rel" ng-click="openEntity(entity)"\n             ng-class="{inProgress_Course:( entity.data.type == \'REINFORCEMENT\' ? entity.data.state != \'COMPLETED\' : entity.data.state==\'ACTIVE\'), cmplt2day:(isDueToday() ||\n                entity.data.recertify), allCompleted_CourseDiv:((entity.data.state==\'COMPLETED\' ||\n                entity.data.state==\'TIMEDOUT\') && !entity.data.recertify), noShadow:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">\n            <div style="height:230px" class="pos_rel">\n                <div class="thumbNail_Img marginB9 cursor pos_rel">\n                    <img style="width:200px;max-width:200px;height:135px;min-height:135px; border-radius:2px 2px 0 0" alt="" \n                         ng-src="{{entity.data.thumb.url_180_120}}"\n                         ng-style="{opacity:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'0.3\':\'1\'}">\n                    <div ng-show="entity.data.type==\'COURSE\'" class="cTag" mt-trans="LB_TXT_COURSE"\n                         ng-style="{left:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'-1px\':\'0\'}"\n                         ng-class="{cTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}"></div>\n                    <div ng-show="entity.data.type==\'REINFORCEMENT\'" class="cTag" mt-trans="REINFORCEMENT_TXT"\n                         ng-style="{left:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'-1px\':\'0\'}"\n                         ng-class="{cTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Quest</div>\n                    <div ng-show="entity.data.type==\'UPDATE\'" class="qTag" mt-trans="LB_TXT_QUPDATE"\n                            ng-style="{left:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'-1px\':\'0\'}"\n                            ng-class="{qTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Q-Update</div>\n                    <div ng-show="entity.data.type==\'MISSION\'" class="mTag" mt-trans="LB_TXT_MISSION"\n                            ng-style="{left:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'-1px\':\'0\'}"\n                         ng-class="{mTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Mission</div>        \n                    <div ng-show="isMission(entity.data.type)" class="mTag" mt-trans="LB_TXT_MISSION"\n                            ng-style="{left:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'-1px\':\'0\'}"\n                         ng-class="{mTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Mission</div>\n                    <div ng-show="entity.data.type==\'ASSESSMENT\'" class="aTag" mt-trans="LB_TXT_ASSESSMENT"\n                          ng-style="{left:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'-1px\':\'0\'}"\n                          ng-class="{aTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Assessment</div>\n                    <div ng-show="entity.data.type==\'COACHING\'" class="sTag" mt-trans="LB_TXT_COACHING"\n                          ng-style="{left:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'-1px\':\'0\'}"\n                          ng-class="{sTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Coaching Sessions</div>\n                     <div ng-show="entity.data.type==\'ONE_TO_ONE_COACHING\'" class="sTag" mt-trans="LB_TXT_COACHING"\n                          ng-style="{left:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'-1px\':\'0\'}"\n                          ng-class="{sTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Coaching Sessions</div>\n                    <div ng-show="entity.data.type==\'PERFORMANCE_EVALUATION_COACHING\' " class="sTag" mt-trans="LB_TXT_PERFORMANCE_EVALUATION_COACHING"\n                         ng-style="{left:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'-1px\':\'0\'}"\n                         ng-class="{sTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Competency Assessment</div>\n                       <div ng-show="entity.data.type==\'CHECKLIST\'" class="clTag" mt-trans="LB_TXT_CHECKLIST"\n                          ng-style="{left:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'-1px\':\'0\'}"\n                          ng-class="{clTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Checklist</div>\n                       <div ng-show="entity.data.type==\'ILT\'" class="iltTag" mt-trans="LB_TXT_ILT"\n                          ng-style="{left:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'-1px\':\'0\'}"\n                          ng-class="{iltTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">ILT</div>\n                     <div class="pos_abs" style="top:0px; right:0px;">\n\t\t\t\t\t\t<div ng-show="entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'" class="floatL"\n                         \t style="background: rgba(0,0,0,0.4);padding:3px">\n                        \t<div class="icon-Lock_icon lineHeight12" style="color:#fff; font-size: 11px" ></div>\n                    \t</div>\n                    \t<div ng-if="entity.data.moduleRelevance && entity.data.moduleRelevance!=\'NONE\'" \n                    \t\t class="floatL pos_rel marginL5" style="background: rgba(0,0,0,0.4);padding:3px">\n                    \t\t <div class="colorff F11 lineHeight12">{{\'MODULE_RELEVANCE_SHORT_\'+entity.data.moduleRelevance | translate}}</div>\n                    \t</div>\n                     </div>     \n                    \n                </div>\n                <div class="color00 F16 cursor lineHeight24 marginB5 e2etest_EntityName paddingL10 paddingR10"\n                     mtitle="{{entity.data.name}}"\n                     ng-style="{opacity:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'0.5\':\'1\'}">\n                     <div class="tooltip_top_left" mtitle={{entity.data.name}}>\n                        <div class="truncate_2_line" style="max-height:46px">\n                            {{entity.data.name}}\n                            </div>\n                        </div>\n                </div>\n                <div class="paddingL10 paddingR10">\n                    <div  ng-if="entity.data.type==\'ILT\'">\n                        <div class="F12 lineHeight18 colorText" style="font-size: 12px">{{getILTStatus()}}</div>\n                    </div>\n                    <div  ng-if="entity.data.type!=\'COACHING\' && entity.data.type!=\'ONE_TO_ONE_COACHING\' && entity.data.type!=\'PERFORMANCE_EVALUATION_COACHING\' && entity.data.type!=\'ILT\' && entity.data.type!=\'REINFORCEMENT\'">\n                        <div ng-hide="(entity.data.state==\'COMPLETED\' || entity.data.state==\'TIMEDOUT\') || (isMission(entity.data.type) && entity.data.state==\'SUBMITTED\')" class="F12 lineHeight18 colorText" style="font-size: 12px">{{getDueDateText()}}</div>\n                        <div ng-show="(entity.data.state==\'COMPLETED\' || entity.data.state==\'TIMEDOUT\') && entity.data.type != \'MISSION\'" class="F12 lineHeight18 colorText">{{getCompletionDateText()}}</div>\n                    </div>\n                    <div ng-if="entity.data.type==\'REINFORCEMENT\'">\n                        <div ng-if="entity.data.state != \'COMPLETED\'" class="borderTop pos_rel">\n                            <div style="top:0;left:0;" class="progressBar_Bg" ng-style="{\'width\': (entity.data.percCompletion + \'%\') };"></div>\n                        </div>\n                        <div ng-if="entity.data.state ==\'COMPLETED\'" class="F12 lineHeight18 colorText">{{getReinforcementCompletionText()}}</div>\n                    </div>\n                    <div  ng-if="entity.data.type==\'COACHING\'">\n                        <div ng-if="entity.data.state==\'COMPLETED\'" class="F12 lineHeight18 color99" mt-trans="COACHING_TXT_COMPLETED"></div>\n                        <div ng-if="entity.data.state!=\'COMPLETED\'" class="F12 lineHeight18 colorText">\n                            {{getCoachingStatus(entity.data.scheduledOn)}}\n                        </div>\n                    </div>\n                    <div  ng-if="entity.data.type==\'ONE_TO_ONE_COACHING\'">\n                        <div ng-if="entity.data.state==\'COMPLETED\'" class="F12 lineHeight18 color99" mt-trans="COACHING_TXT_CLOSED"></div>\n                        <div ng-if="entity.data.state===\'UNSCHEDULED\'" style="color:#999" class="F12 lineHeight18 colorText">\n                            {{Game.Messages.COACHING_TXT_UNSCHEDULED}}\n                        </div>\n                        <div ng-if="entity.data.state!=\'COMPLETED\' && entity.data.state !==\'UNSCHEDULED\' && entity.data.scheduledSessions > 1 " class="F12 lineHeight18 colorText" translate="{{COACHING_TXT_N_SESSIONS_SCHEDULED}}"\n                         translate-value-a="{{entity.data.scheduledSessions}}">\n                        </div>\n                        <div ng-if="entity.data.state!=\'COMPLETED\' && entity.data.state !==\'UNSCHEDULED\' && entity.data.scheduledSessions <= 1 " class="F12 lineHeight18 colorText">\n                            {{getCoachingStatus(entity.data.scheduledOn)}}\n                        </div>\n                    </div>\n\n                    <!--<div class="F12 lineHeight18 colorText" style="font-size: 12px">Due On</div>-->\n                </div>\n            </div>\n            <div class="paddingL10 paddingR10">\n                <div ng-if="entity.data.type==\'ILT\'" class="floatL lineHeight30" ng-style="{opacity:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'0.3\':\'1\'}">\n                    <div ng-show="entity.data.lockState != \'LOCKED\'"\n                         class="floatL blueBorderBtn_30 F12 paddingL17 paddingR17">\n                        <div class="floatL" mt-trans="VIEW"></div>\n                        <div class="floatL icon-ddArrowRight F10 marginL5 marginT10"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-show="entity.data.lockState == \'LOCKED\'" class="floatL color99 F12 paddingL17 border_e5 lineHeight28  paddingL17 paddingR17" style="border-radius:15px;" >\n                        <div class="floatL color99">LOCKED</div>\n                        <div class="icon-Lock_icon marginT7 marginL6 floatL" style="font-size:13px;"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div class="clear"></div>\n                </div>\n                <div ng-if="entity.data.type==\'COACHING\'" class="floatL lineHeight30"\n                ng-style="{opacity:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'0.3\':\'1\'}">\n                    <div \n                          class="floatL colorText1 F12" translate="{{((entity.data.reviewCycle>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}"\n                         translate-value-a="{{entity.data.reviewCycle}}"></div>\n                    <div ng-if="(entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner) || entity.data.isCertificateAchived"\n                         class="floatL colorText1 F12">,&nbsp;</div>\n                    <div ng-if="entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner" class="floatL colorText1 F12"\n                         translate="COACHING_TXT_SCORE_SESSIONS" translate-value-a="{{entity.data.percentageScore}}%"></div>\n                    <div ng-click="downloadCertificate(); $event.stopPropagation();"\n                         ng-show="entity.data.isCertificateAchived" class="floatL certificateIcon marginT5 marginL5"></div>\n                    <div class="clear"></div>\n                </div>\n                <div ng-if="entity.data.type==\'ONE_TO_ONE_COACHING\' " class="floatL lineHeight30"\n                ng-style="{opacity:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'0.3\':\'1\'}">\n                    <div\n                          class="floatL colorText1 F12" translate="{{((entity.data.reviewCycle>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}"\n                         translate-value-a="{{entity.data.reviewCycle}}"></div>\n                    <div ng-if="(entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner) || entity.data.isCertificateAchived"\n                         class="floatL colorText1 F12">,&nbsp;</div>\n                    <div ng-if="entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner" class="floatL colorText1 F12"\n                         translate="COACHING_TXT_SCORE_SESSIONS" translate-value-a="{{entity.data.percentageScore}}%"></div>\n                    <div ng-click="downloadCertificate(); $event.stopPropagation();"\n                         ng-show="entity.data.isCertificateAchived" class="floatL certificateIcon marginT5 marginL5"></div>\n                    <div class="clear"></div>\n                </div>\n                <div ng-if="entity.data.type==\'PERFORMANCE_EVALUATION_COACHING\' " class="floatL lineHeight30"\n                     ng-style="{opacity:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'0.3\':\'1\'}">\n                    <!--<div-->\n                            <!--class="floatL colorText1 F12" translate="{{((entity.data.reviewCycle>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}"-->\n                            <!--translate-value-a="{{entity.data.reviewCycle}}"></div>-->\n                    <!--<div ng-if="(entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner) || entity.data.isCertificateAchived"-->\n                         <!--class="floatL colorText1 F12">,&nbsp;</div>-->\n                    <!--<div ng-if="entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner" class="floatL colorText1 F12"-->\n                         <!--translate="COACHING_TXT_SCORE_SESSIONS" translate-value-a="{{entity.data.percentageScore}}%"></div>-->\n                    <!--<div ng-click="downloadCertificate(); $event.stopPropagation();"-->\n                         <!--ng-show="entity.data.isCertificateAchived" class="floatL certificateIcon marginT5 marginL5"></div>-->\n                    <div class="clear"></div>\n                </div>\n                <!--- last line for new Mission starts -->\n                <div ng-if="entity.data.type == \'MISSION\' || isMission(entity.data.type)" class="floatL" style="width:100%">\n                    <div ng-show="entity.data.state!=\'SUBMITTED\' && entity.data.state!=\'COMPLETED\' && entity.data.state!=\'RESET\' && entity.data.state !=\'REVIEWER_REDO\' && entity.data.state !=\'MACHINE_REDO\' && entity.data.state!=\'ADDED\'"\n                    \n                        ng-style="{opacity:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\' && entity.data.state!=\'RESET\' && entity.data.state !=\'REVIEWER_REDO\')? \'0.3\':\'1\'}"\n                         class="lineHeight18 colorText1 F12" style="font-size: 12px;" mt-trans="M_TXT_SUBMISSION_PENDING"></div>\n                    <div ng-if="(entity.data.type == \'MISSION\' || isMission(entity.data.type)) && entity.data.state==\'SUBMITTED\' && (entity.data.numPending>0 || entity.data.reviewers.length ==0)"\n                         class="color00 F13 lineHeight18">{{getMissionReviewsStatus()}}</div>\n                    <div ng-show="entity.data.state==\'ADDED\' && isCourseActive() && !hasDueDatePassed() && entity.data.lockState != \'LOCKED\'"\n                         class="floatL blueBorderBtn_30 F12 paddingL17 paddingR17">\n                        <div class="floatL" mt-trans="START"></div>\n                        <div class="floatL icon-ddArrowRight F10 marginL5 marginT10"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-show="entity.data.lockState == \'LOCKED\' && entity.data.state == \'ADDED\'" class="floatL color99 F12 paddingL17 border_e5 lineHeight28  paddingL17 paddingR17" style="border-radius:15px;" >\n                        <div class="floatL color99">LOCKED</div>\n                        <div class="icon-Lock_icon marginT7 marginL6 floatL" style="font-size:13px;"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-show="entity.data.type == \'MISSION\' && entity.data.state==\'COMPLETED\' &&\n                                        entity.data.numPending==0 && entity.data.reviewers.length > 0 && [\'NUMERIC\',\'BINARY\'].indexOf(entity.data.evalParamType) > -1"\n                         class="floatL color00 F12 lineHeight30">\n                        <div class="floatL" mt-trans="M_TXT_SCORE_REP"\n                             mt-trans-val-score="{{(entity.data.score/100)}} / {{500/100}}"></div>\n                        <div ng-if="entity.data.score>=entity.data.certificateScore && !entity.data.hideCertificate"\n                             class="floatL cert_26_24 marginL10 marginT4"\n                             ng-click="downloadCertificate(); $event.stopPropagation();"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-if="!hideRedo() && entity.data.type == \'MISSION\' && entity.data.state==\'COMPLETED\' && (entity.data.reviewers.length > 0 && entity.data.numPending==0) && entity.data.score < entity.data.certificateScore"\n                         class="floatL redBorderBtn_30 F12 paddingL20 paddingR20 marginL10"\n                         ng-click="redoMission();$event.stopPropagation();">\n                        <div class="floatL" mt-trans="M_TXT_REDO"></div>\n                        <div class="clear"></div>\n                    </div>\n\n                    <div ng-if="!entity.data.recertify && isMission(entity.data.type) && (entity.data.state==\'COMPLETED\' || entity.data.state==\'MACHINE_REDO\')"\n                         class="floatL F12"\n                         >\n                         <div ng-class="getReviewScoreText(entity.data).kClass" class="floatL" >{{getReviewScoreText(entity.data).text}}</div>\n                        <div ng-if="entity.data.score >= entity.data.certificateScore && !entity.data.hideCertificate"\n                             class="floatL cert_26_24 marginL10 marginT4"></div>\n                        <div class="clear"></div>\n                    </div>\n\n            \n                    <div ng-show="isMission(entity.data.type) && entity.data.state==\'REVIEWER_REDO\'" class="F12 lineHeight18 color00"  mt-trans="M_TXT_REVIEWER_REDO"></div>\n                    <div ng-show="isMission(entity.data.type) && entity.data.state==\'RESET\'" class="F12 lineHeight18 color00"  mt-trans="M_TXT_ADMIN_RESET"></div>\n\n\n                    <div ng-click="downloadCertificate(); $event.stopPropagation();" ng-show="entity.data.isCertificateAchived && !entity.data.hideCertificate" ng-class="{reCert_26_24: entity.data.recertify}" class="floatL certificateIcon marginT5 marginL5"></div>\n\n\n                    <div ng-if="entity.data.recertify" class="floatR blueBorderBtn_30 F12 paddingL17 paddingR17">\n                        <div class="floatL" mt-trans="ASSESSMENT_TXT_RECERTIFY_CAPS"></div>\n                        <div class="floatL icon-ddArrowRight F10 marginL5 marginT10"></div>\n                        <div class="clear"></div>\n                    </div>\n                </div>\n\n                <!--- last line for new Mission ends -->\n\n                <div ng-if="entity.data.type == \'REINFORCEMENT\'">\n                    <div ng-if="showReinStartIcon" class="floatR">\n                        <img ng-src="{{startIcon}}" />\n                    </div>\n                    <div ng-if="reinforcementEntityStatus" class="F12 color00">{{reinforcementEntityStatus}}</div>\n                    <div class="clear" />\n                </div>\n                <div ng-if="entity.data.type!=\'COACHING\' && entity.data.type != \'MISSION\'  && !isMission(entity.data.type) && entity.data.type != \'ONE_TO_ONE_COACHING\' && entity.data.type != \'PERFORMANCE_EVALUATION_COACHING\' && entity.data.type != \'ILT\' && entity.data.type != \'REINFORCEMENT\'"\n                    class="floatL" style="width:100%">\n                    <div ng-if="entity.data.state==\'ACTIVE\'" class="borderTop pos_rel">\n                        <div style="top:0;left:0;" class="progressBar_Bg" ng-style="{\'width\': (entity.data.percCompletion + \'%\') };"></div>\n                    </div>\n                    <div ng-show="entity.data.state==\'ADDED\' && isCourseActive() && !hasDueDatePassed() && entity.data.lockState != \'LOCKED\'"\n                         class="floatL blueBorderBtn_30 F12 paddingL17 paddingR17">\n                        <div class="floatL" mt-trans="START"></div>\n                        <div class="floatL icon-ddArrowRight F10 marginL5 marginT10"></div>\n                        <div class="clear"></div>\n                    </div>\n    \n                    <div ng-show="entity.data.lockState == \'LOCKED\' && entity.data.state == \'ADDED\'"\n                         class="floatL color99 F12 paddingL17 border_e5 lineHeight28 paddingR17"\n                         style="border-radius:15px;" >\n                        <div class="floatL color99">LOCKED</div>\n                        <div class="icon-Lock_icon marginT7 marginL6 floatL" style="font-size:13px"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-if="entity.data.recertify" class="floatR blueBorderBtn_30 F12 paddingL17 paddingR17">\n                        <div class="floatL" mt-trans="ASSESSMENT_TXT_RECERTIFY_CAPS"></div>\n                        <div class="floatL icon-ddArrowRight F10 marginL5 marginT10"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-if="entity.data.type != \'ASSESSMENT\' && entity.data.type != \'REINFORCEMENT\' && entity.data.state==\'ACTIVE\'" class="floatL color00 F12 lineHeight30">\n                        <div class="floatL">{{entity.data.percCompletion | number : 0}}%</div>\n                        <div class="floatL marginL5" mt-trans="COMPLETE"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-if="entity.data.type == \'ASSESSMENT\' && entity.data.state==\'ACTIVE\'" class="floatL color00 F12 lineHeight30">\n                        <div class="floatL">{{entity.data.totalSubmittedLearningObjects}}/{{entity.data.totalLearningObjects}}</div>\n                        <div class="floatL marginL5" mt-trans="LB_TXT_ANSWERED"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-click="reAttemptEntity(); $event.stopPropagation();" class="floatR lineHeight30" ng-if="(entity.data.state==\'COMPLETED\' || entity.data.state==\'TIMEDOUT\') && entity.data.completionState==\'FAIL\' && isEntityCanBeReattempted()">\n                       \t<div class="floatL F13 marginR3 color0072bc" translate="REATTEMPT"></div>\n                       \t<div class="floatL icon-ddArrowRight F10 marginT11 color0072bc"></div>\n                       \t<div class="clear"></div>\n                     </div>\n                    <div ng-if="entity.data.timeLimit>0 && (entity.data.state==\'ACTIVE\' || entity.data.state==\'ADDED\' || entity.data.state==\'TIMEDOUT\') && !((entity.data.state==\'COMPLETED\' || entity.data.state==\'TIMEDOUT\') && entity.data.completionState==\'FAIL\' && isEntityCanBeReattempted())"\n                         class="floatR lineHeight30 timerDefault"\n                         ng-class="{critical : entity.data.clock.isRed}">\n                         \t<div class="floatL timerIcon marginR3 marginT7"></div>\n                        \t<div class="floatL timercolor F12 bold">{{entity.data.clock.mmss}}</div>\n                        \t<div class="clear"></div>\n                    </div>\n                    <div ng-show="(entity.data.state==\'COMPLETED\' || entity.data.state==\'TIMEDOUT\') && entity.data.type != \'MISSION\' && entity.data.type != \'ASSESSMENT\' && !isMission(entity.data.type)"\n                         class="floatL color00 F12 lineHeight30">\n                        <div ng-if="!entity.data.recertify" class="floatL" style="overflow: hidden;text-overflow: ellipsis;white-space: nowrap;max-width:60px;">{{entity.data.medalName}}</div>\n                        <div ng-show="entity.data.medalUrl" class="floatL marginL7 marginT3" style="width:24px;height:24px">\n                            <img ng-src="{{entity.data.medalUrl}}" style="width:100%;height:100%;display:block;border-radius:50%;"/>\n                        </div>\n                        <!--div class="floatL {{entity.data.medalClass}} marginT3 marginL7"></div-->\n                        <div ng-click="downloadCertificate(); $event.stopPropagation();" ng-show="entity.data.isCertificateAchived" class="floatL certificateIcon marginT5 marginL5"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-if="!entity.data.hideScoreAndCertificate" ng-show="(entity.data.state==\'COMPLETED\' || entity.data.state==\'TIMEDOUT\') && entity.data.type == \'ASSESSMENT\'" class="floatL color00 F12 lineHeight30">\n                        <div class="floatL" style="font-weight:600" ng-style="{color:(entity.data.completionState==\'FAIL\')? \'#ed1c22\':\'inherit\'}">{{entity.data.completionStateTxt}}</div>\n                       \t<div ng-click="downloadCertificate(); $event.stopPropagation();"\n                            ng-show="entity.data.completionCertificateEnabled && entity.data.completionState==\'PASS\' && !entity.data.isCertificateExpired"\n                            class="floatL passCert_26_24 marginT5 marginL5"></div>\n                       \t<div ng-show="entity.data.completionCertificateEnabled && entity.data.completionState==\'FAIL\'" class="floatL failCert_26_24 marginT5 marginL5"></div>\n                       \t<div ng-show="entity.data.recertify && entity.data.isCertificateExpired" class="floatL reCert_26_24 marginT5 marginL5"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div class="clear"></div>\n                </div>\n                <div class="clear"></div>\n            </div>\n            <div class="F13 paddingL15 paddingR15 textalign_C hover_on_locked_entity_message color66 marginR7 marginL7 paddingL30 paddingR30" ng-show="entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'"\n                 ng-if="isInSeries()" style="padding:0 20px; cursor:default;" ng-click="$event.stopPropagation();">\n                 <div style="display:table;height: 100%;">\n                     <div style="vertical-align:middle;display:table-cell; ">To unlock this module, please complete all the previous modules in this series.</div>\n                 </div>\n            </div>\n            <div class="F13 paddingL15 paddingR15 textalign_C hover_on_locked_entity_message color66 marginR7 marginL7 paddingL10 paddingR10" ng-show="entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'"\n                 ng-if="!isInSeries()" style="cursor:default;" ng-click="$event.stopPropagation();">\n             \n            <div style="display:table;height: 100%;"> \n             <div style="display:table-cell;vertical-align:middle;"> \n                     The module you are trying\n                    to access is a part of a\n                    sequentially locked series. To access this\n                    module you need to complete\n                    all previous modules in the\n                    series.\n                        <div class="F13 pos_abs cursor gotoSeries" ng-click="openSeries(entity)" style="color: #0072bc;left:0px;text-align: center;bottom: 8px;width:100%;">Go to Series</div>\n                   </div>\n            </div>\n            </div>\n    \n        </div>\n     </div>   \n        <div ng-if="!isNotLoading()" style="height: 270px; width: 200px; float: left; background-color:rgba(255,255,255,0.8); margin-top:-270px; text-align:center;">\n            <img style="margin-top: 200px;" ng-src="{{loaderGif}}"/>\n        </div>\n        <div class="pos_abs color99 lineHeight20 cursor" style="bottom:-25px;left:0;" ng-if="!isInSeries()" ng-click="gotoSeries()">\n            <div class=\'floatL F16 marginT1\'\n'+"                 ng-class=\"{'icon-questThin': entity.data.type=='REINFORCEMENT', 'icon-series': entity.data.type!='REINFORCEMENT'}\"></div>\n            <div class='floatL F12 ellipsis marginL7' style=\"width:170px\">{{entity.data.type=='REINFORCEMENT' ? \"All Quests\" : entity.data.seriesName}}</div>\n            <div class='clear'></div>\n        </div>\n    </div>"),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/app-gamification-loading-entity-thumb.html",'<div class="floatL pos_rel marginR20 marginB20">\n    <div class="border_transparent borderR2">\n        <div class="bg_ff newCourseThumbNail cursor borderR2 pos_rel">\n            <div style="height:230px" class="pos_rel">\n                <div class="thumbNail_Img marginB9 cursor pos_rel">\n                    <div class="bg_ee" style="width:200px;max-width:200px;height:135px;min-height:135px; border-radius:2px 2px 0 0">\n                        <div class="textalign_C paddingT65">\n                            <div class="marginR2 marginL2 display_IB bg_cc" style="height: 12px; width: 12px; border-radius: 100%; animation: bounceLoader 1s infinite ease-in-out both; animation-delay: -0.32s" />\n                            <div class="marginR2 marginL2 display_IB bg_cc" style="height: 12px; width: 12px; border-radius: 100%; animation: bounceLoader 1s infinite ease-in-out both;animation-delay: -0.16s" />\n                            <div class="marginR2 marginL2 display_IB bg_cc" style="height: 12px; width: 12px; border-radius: 100%; animation: bounceLoader 1s infinite ease-in-out both;" />\n                        </div>\n                    </div>\n                </div>\n                <div class="color00 F16 cursor lineHeight24 marginB5 e2etest_EntityName paddingL10 paddingR10">\n                    <div class="tooltip_top_left">\n                        <div class="truncate_2_line loaderText marginB12" style="height:12px; width:146px;"></div>\n                        <div class="truncate_2_line loaderText" style="height:12px; width:90px;"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\'clear\'></div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/app-learner-profile.html",'<div>\n\t<div class="borderT30_transparent marginL30 borderB30_transparent ofh">\n\t\t<div ng-click="goBack()" class="floatL color99 lineHeight16 cursor ofh">\n\t\t\t<div class="floatL icon-ddArrowLeft F12 marginT2"></div>\n\t\t\t<div class="floatL marginL8" translate="BACK_TEXT">Back</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t</div>\n\t<div class="profileRightHeight">\n\t\t<div class="paddingT40 paddingB50 paddingL10 paddingR10" style="width:1000px;margin:0 auto;overflow-x:hidden">\n\t\t\t\t<div class="floatL pos_rel" style="left:50%">\n\t\t\t\t\t<div class="floatL pos_rel" style="left:-50%">\n\t\t\t\t\t\t<div class="pos_rel floatL bg_27374b newBoxShadow marginB20" style="width:470px;min-height:320px">\n\t\t\t\t\t\t\t<div class="pos_rel" style="padding:10px 10px 0px 25px">\n\t\t\t\t\t\t\t\t<div class="pos_abs bg_ff borderR40 fs-hide" style="left:25px;top:-40px;border-radius:50%;">\n\t\t\t\t\t\t\t\t\t<div ng-if="!viewProfileCtrl.pic" class="icon-defaultprofile F80 color99"></div>\n\t\t\t\t\t\t\t\t\t<img ng-if="viewProfileCtrl.pic" style="border-radius:50%;width: 80px;height: 80px;max-width: 80px;max-height: 80px;" ng-src="{{viewProfileCtrl.pic}}">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="marginB30">\n\t\t\t\t\t\t\t\t\t<div class="floatR F13 colorff lineHeight20" ng-if="viewProfileCtrl.isMe()">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL hoverUnderline cursor" ng-click="globalCtrl.openEditProfile();" translate="PROFILE_EDIT_PIC">Edit</div>\n\t\t\t\t\t\t\t\t\t\t<div ng-if="globalCtrl.isMindTickleLoginEnabled()" class="floatL bg_ff marginT3 marginR7 marginL7" style="width:1px;height:14px;"></div>\n\t\t\t\t\t\t\t\t\t\t<div ng-if="globalCtrl.isMindTickleLoginEnabled()" class="floatL hoverUnderline cursor" ng-click="globalCtrl.openChangePassword();" translate="CHANGE_PASSWORD_HEADER">Change Password</div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="pos_abs bg_27374b" style="min-height:223px;left:0px;width:100%;z-index:1;padding:0 10px 30px 25px">\n\t\t\t\t\t\t\t\t\t <div class="divWithViewMoreLess"\n\t\t\t\t\t\t\t\t\t \t  style1="min-height:223px;"\n\t\t\t\t\t\t\t\t\t \t  ng-style="{\'max-height\':(viewProfileCtrl.largeContent&&viewProfileCtrl.showReadMore?\'223px\':\'\'),overflow:(viewProfileCtrl.largeContent&&viewProfileCtrl.showReadMore?\'hidden\':\'\')}">\n\t\t\t\t\t\t\t\t\t \t<div class="marginB15 lineHeight24">\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL colorff F20 fs-hide" style="max-width:220px">{{getUnescapedValue( viewProfileCtrl.learnerObj.name )}}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL marginL20" ng-if="!viewProfileCtrl.isMyProfile">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL icon-halfStar F16 colorf48414 marginT5"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL F24 colorf48414">{{viewProfileCtrl.getKscore()}}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="marginB15 lineHeight24" ng-if="viewProfileCtrl.isMyProfile">\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:140px;">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL icon-halfStar F16 colorf48414 marginT5"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL F24 colorf48414">{{viewProfileCtrl.getKscore()}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<!--div class="floatL colorcc F13 lineHeight16 marginT6 marginL7">(<span mt-trans="LB_TXT_TOTAL_SCORE">Total Score</span> {{viewProfileCtrl.learnerObj.company_score}})</div-->\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL F13 lineHeight20 colorf48414">Knowledge Score</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL colorff">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL"  ng-model="selectedDuration">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL F24">{{ getTimeInHours( selectedDuration ) }}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL F13 lineHeight13 marginT11 marginL3">Hrs</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\n\n\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- underline,colorff -->\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL lineHeight20 F13" style="width:190px;">\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <div class="floatL colorff">Time Spent in Last 7 Days</div> -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL colorff">Time Spent in</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL pos_rel dropdown lineHeight19 F13">\n\t\t\t\t\t\t\t\t\t\t\t            <div class="dropdown-toggle colorff F13" style="border: none;">\n\t\t\t\t\t\t\t\t\t\t\t                <div style="padding:0 25px 0 3px;background:transparent;color:#fff;" class="dropdown-text underline F13 lineHeight20"\n                                      ng-style="{ textDecoration:(viewProfileCtrl.getProfileDurations().month)? \'underline\': \'none\', cursor: (viewProfileCtrl.getProfileDurations().month)? \'pointer\': \'auto\' }">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ \'S_TXT_SESSION_LAST_X_DAYS\' | translate:{num: viewProfileCtrl.getProfileDurations()[selectedDuration].numDays} | lowercase}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t                <div class="icon-ddArrowBottom F6 pos_abs" style="top:8px;right:10px" ng-if="viewProfileCtrl.getProfileDurations().month"></div>\n\t\t\t\t\t\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t\t\t\t\t\t            <div class="dropdown-menu" ng-if="viewProfileCtrl.getProfileDurations().month" style="min-width:120px;top:18px;padding: 0;margin:0;border:0;border-radius:2px">\n\t\t\t\t\t\t\t\t\t\t\t                <ul class="newBoxShadow" style="max-height:192px;">\n\t\t\t\t\t\t\t\t\t\t\t                \t<li ng-repeat="(key, value) in viewProfileCtrl.getProfileDurations()"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tng-click="updateSelectedDuration(key)"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tng-if="key !== selectedDuration">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ \'S_TXT_SESSION_LAST_X_DAYS\' | translate:{num: value.numDays} }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t                </ul>\n\t\t\t\t\t\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t\t\t\t<div class="colorcc F13 lineHeight16">\n\t\t\t\t\t\t\t\t\t\t\t<table style="width:100%;border:0;">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr ng-if="viewProfileCtrl.isMe()">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td valign="top">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="marginR10 marginB15" style="max-width:170px;" mt-trans="HM_EMAIL_PLACEHOLDER">Email</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td valign="top">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="marginR10 marginB15 fs-hide" style="max-width:240px">{{viewProfileCtrl.learnerObj.email}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr ng-repeat="field in viewProfileCtrl.orderedFields">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td valign="top">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="marginR10 marginB15" style="max-width:170px;">{{field.displayName}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td valign="top">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="marginR10 marginB15" style="max-width:240px">{{getUnescapedValue(field.val)}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr ng-repeat="field in viewProfileCtrl.orderedManagerFields">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td valign="top">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="marginR10 marginB15" style="max-width:170px;">{{field.displayName}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td valign="top">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="marginR10 marginB15 fs-hide" style="max-width:240px">{{getUnescapedValue(field.val)}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr ng-if="viewProfileCtrl.userTzName">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td valign="top">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="marginR10 marginB15" style="max-width:170px;" translate="LB_TXT_TIMEZONE">Timezone</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td valign="top">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="marginR10 marginB15 fs-hide" style="max-width:240px">{{viewProfileCtrl.userTzName}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t </div>\n\t\t\t\t\t\t\t\t\t<div ng-if="viewProfileCtrl.largeContent" class="pos_abs lineHeight20 marginB15" style="bottom:0;left:25px;z-index:1">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL colorff lineHeight16 cursor">\n\t\t\t\t\t\t\t\t\t\t\t<div ng-if="viewProfileCtrl.showReadMore" class="floatL F13" ng-click="viewProfileCtrl.showReadMore=false" mt-trans="M_VIEW_MORE">View More</div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-if="!viewProfileCtrl.showReadMore" class="floatL F13" ng-click="viewProfileCtrl.showReadMore=true" mt-trans="M_VIEW_LESS">View Less</div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-if="viewProfileCtrl.showReadMore" class="floatL icon-ddArrowBottom F6 marginT6 marginL7"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-if="!viewProfileCtrl.showReadMore" class="floatL icon-ddArrowTop F6 marginT6 marginL7"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-if="viewProfileCtrl.isMe()" class="floatL pos_rel bg_ff newBoxShadow marginB20 marginL20" style="width:470px;height:320px">\n\t\t\t\t\t\t\t<div class="absDiv" ng-if="viewProfileCtrl.largeContent && !viewProfileCtrl.showReadMore"></div>\n\t\t\t\t\t\t\t<div class="" style="padding:10px 20px 12px">\n\t\t\t\t\t\t\t\t<div style="padding:0 25px 0 0px;" class="color00 F16 lineHeight24 bold" mt-trans="DASHBOARD_PROFILE_TAB2">Your Participation Stats</div>\n\t\t\t\t\t\t\t\t<div class="marginT3">\n\t\t\t\t\t\t\t\t\t<div class="pos_rel floatL dropdown marginB15">\n\t\t\t\t\t\t\t\t\t\t<div class="dropdown-toggle color99" style="border: none;" aria-haspopup="true" aria-expanded="false">\n\t\t\t\t\t\t\t                <div style="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#999" class="dropdown-text">{{viewProfileCtrl.selectedInvitedFrom.name}}</div>\n\t\t\t\t\t\t\t                <div ng-show="viewProfileCtrl.selectedInvitedFrom.id==\'ALL\'" class="icon-ddArrowBottom F6 pos_abs" style="top:7px;right:5px"></div>\n\t\t\t\t\t\t\t                <div ng-if="viewProfileCtrl.selectedInvitedFrom.id!=\'ALL\'"\n\t\t\t\t\t\t\t                \t ng-click="viewProfileCtrl.updateEntityStateAggsFilter({\'id\':\'ALL\'});$event.stopPropagation();"\n\t\t\t\t\t\t\t                \t style="right: 5px;top: 7px;opacity:1;" class="icon-Close pos_abs F10 color99 cursor close"></div>\n\t\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t\t\t\t\t<div class="dropdown-menu" style="width: 295px;top: 26px;left:-15px;padding: 0;margin:0;border:0;">\n\t\t\t\t\t\t\t\t\t\t\t<div onclick="$event.stopPropagation();$event.stopImmediatePropagation()" class="pos_abs paddingB5 borderB_0072bc color99 bg_ff lineHeight20" style="top: -26px;left: 15px;">\n\t\t\t\t\t\t\t\t\t\t\t\t<input ng-click="$event.stopPropagation();$event.stopImmediatePropagation()"\n\t\t\t\t\t\t\t\t\t\t\t\t\t  type="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t  ng-model="viewProfileCtrl.seriesSearchText"\n\t\t\t\t\t\t\t\t\t\t\t\t\t  placeholder="{{\'DASHBOARD_PROFILE_SELECT_SERIES\' | translate}}" class="lineHeight22 F13"\n\t\t\t\t\t\t\t\t\t\t\t\t\t  style="width: 265px;height: 20px;border: 0px;padding: 0px 20px 0 0;outline: 0px;color:#000;">\n\t\t\t\t\t\t\t\t\t\t\t\t<div ng-click="clearSearch(\'seriesSearchText\');"\n\t\t\t\t\t\t\t\t\t\t\t\t\t ng-if="seriesSearchText.length > 0"\n\t\t\t\t\t\t\t\t\t\t\t\t\t style="right: 5px;top: 8px;"\n\t\t\t\t\t\t\t\t\t\t\t\t\t class="icon-Close pos_abs F8 color99 cursor close"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t                <ul class="newBoxShadow bg_ff" style="max-height:192px;">\n\t\t\t\t\t\t\t                    <li class="color99 F13 lineHeight36"\n\t\t\t\t\t\t\t                    \tng-click="viewProfileCtrl.updateEntityStateAggsFilter(x);clearSearch(\'seriesSearchText\');"\n\t\t\t\t\t\t\t                    \tng-show="isFilterRowVisible(x.name)"\n\t\t\t\t\t\t\t                    \tng-repeat="x in customSeriesList">\n\t\t\t\t\t\t\t                    \t<div class="floatL icon-seriesOld F16 marginT10 marginR5"></div>\n\t\t\t\t                        \t\t\t<div class="floatL ellipsis" style="width: 210px;">{{x.name}}</div>\n\t\t\t\t                        \t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t                </ul>\n\t\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t<div class="pos_rel">\n\t\t\t\t\t\t\t\t\t\t<div ng-show="!loadingChartData" class="pos_abs color00 F13 textalign_C lineHeight22" style="z-index: 1;left: 150px;width: 130px;top: 81px;text-align: center;">\n\t\t\t\t\t\t\t\t\t\t\t<div class="F18">{{completionPerc}}%</div>\n\t\t\t\t\t\t\t\t\t\t\t<div translate="COMPLETE">Complete</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div ng-show="!loadingChartData" id="statspie" style="height:240px;width:430px"></div>\n\t\t\t\t\t\t\t\t\t\t<img ng-show="loadingChartData" ng-src="{{smallLoader}}"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-if="viewProfileCtrl.isMe()" class="floatL pos_rel bg_ff newBoxShadow marginB20" style="width:470px;min-height:222px;max-height:426px;overflow-y:auto;">\n\t\t\t\t\t\t\t<div class="absDiv" ng-if="viewProfileCtrl.largeContent && !viewProfileCtrl.showReadMore"></div>\n\t\t\t\t\t\t\t<div class="borderB_aa" style="padding:10px 20px 12px">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div class="floatL pos_rel dropdown">\n\t\t\t\t\t\t\t            <div class="dropdown-toggle color99" style="border: none;">\n\t\t\t\t\t\t\t                <div style="padding:0 25px 0 0px;background:transparent;font-size:16px;line-height:24px" class="dropdown-text bold">{{viewProfileCtrl.achievementFilter.text}}</div>\n\t\t\t\t\t\t\t                <div class="icon-ddArrowBottom F8 color00 pos_abs" style="top:9px;right:5px"></div>\n\t\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t\t            <div class="dropdown-menu" style="width:250px;top:30px;padding: 0;margin:0;border:0">\n\t\t\t\t\t\t\t                <ul class="newBoxShadow" style="max-height:192px;">\n\t\t\t\t\t\t\t                \t<li ng-repeat="f in viewProfileCtrl.learnerAchivementsFilters"\n\t\t\t\t\t\t\t                \t\tclass="ellipsis"\n\t\t\t\t\t\t\t                \t\tng-click="viewProfileCtrl.updateAchievementFilter(f)">{{f.text}}</li>\n\t\t\t\t\t\t\t                </ul>\n\t\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t\t        <div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="color99 F13 lineHeight20 marginT3">{{viewProfileCtrl.totalCompleted}} <span translate="DASHBOARD_PROFILE_TXT_MODULES">Modules</span></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="" style="max-height:356px;overflow-y:auto;">\n\t\t\t\t\t\t\t\t<div class="lineHeight32 color00 F14" style="padding:9px 20px">\n\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:228px;" mt-trans="DASHBOARD_PROFILE_TXT_MODULES">Modules</div>\n\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:185px;" mt-trans="DASHBOARD_PROFILE_TXT_PERC_SCORE">Score</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="lineHeight32 color00 F13 hover_f5 paddingL20 paddingR20"\n\t\t\t\t\t\t\t\t\t ng-repeat="achievement in viewProfileCtrl.learnerAchivements"\n\t\t\t\t\t\t\t\t\t style="cursor:default">\n\t\t\t\t\t\t\t\t\t<div class="borderT_dd paddingT9 paddingB9 cursor">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:228px" ng-click="openEntity({id:achievement.entityId})">\n\t\t\t\t\t\t\t\t\t\t\t<div ng-show="achievement.type==\'COURSE\' || achievement.type==2" class="floatL cBG_L marginT8 marginR5 entity_sml">C</div>\n\t\t\t\t\t\t\t\t\t    \t<div ng-show="achievement.type==\'UPDATE\' || achievement.type==3" class="floatL qBG_L marginT8 marginR5 entity_sml">Q</div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-show="achievement.type==\'MISSION\' || achievement.type==4 || achievement.type==9 || achievement.type==10 || achievement.type== 11 || achievement.type==12" class="floatL mBG_L marginT8 marginR5 entity_sml">M</div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-show="achievement.type==\'ASSESSMENT\' || achievement.type==5" class="floatL aBG_L marginT8 marginR5 entity_sml">A</div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-show="achievement.type==\'COACHING\' || achievement.type==6" class="floatL sBG_L marginT8 marginR5 entity_sml">C</div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-show="achievement.type==\'CHECKLIST\' || achievement.type==7" class="floatL clBG_L marginT8 marginR5 entity_sml">L</div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-show="achievement.type==\'ILT\' || achievement.type==8" class="floatL iltBG_L marginT8 marginR5 entity_sml">I</div>\n\t\t                        \t\t\t<div class="floatL ellipsis" style="width: 207px;">{{achievement.name}}</div>\n\t\t                        \t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatL" style="width:185px;">\n\t\t\t\t\t\t\t\t\t\t\t<div ng-show="achievement.type==\'MISSION\' || achievement.type==4"  class="floatL" style="width: 75px;">{{achievement.ps}}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-show="achievement.type!=\'MISSION\' && achievement.type!=4 && !achievement.hideScoreAndCertificate"  class="floatL" style="width: 75px;">{{achievement.ps}}%</div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-show="achievement.type!=\'MISSION\' && achievement.type!=4 && achievement.hideScoreAndCertificate"  class="floatL" style="width: 75px;">--</div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-if="!achievement.isCertificateAchived" style="width:26px" class="floatL">--</div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-if="achievement.isCertificateAchived && !achievement.hideCertificate"\n\t\t\t\t\t\t\t\t\t\t\t\t ng-click="viewProfileCtrl.downloadCertificate(achievement.entityId, achievement.certificateUrl, achievement.name, achievement.type)"\n\t\t\t\t\t\t\t\t\t\t\t\t class="floatL icon-certPass certPassColor F24  marginT6 cursor"></div>\n\n\t\t\t\t\t\t\t\t\t\t\t<div ng-if="achievement.medalUrl==null" class="floatR marginR10" style="width:30px;height:30px;">--</div>\n\t\t\t\t\t\t\t\t\t\t\t<div ng-if="achievement.medalUrl!=null" class="floatR marginR10" style="width:30px;height:30px;">\n\t\t\t\t\t\t\t\t\t\t\t\t<img alt="{{achievement.medalName}}" title="{{achievement.medalName}}" ng-src="{{achievement.medalUrl}}" width="100%" height="100%" style="display:block;border-radius:50%"/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="lineHeight22 textalign_C paddingT10" ng-show="viewProfileCtrl.loadingAchivements">\n\t\t\t\t\t\t\t\t\t<img  ng-src="{{smallLoader}}"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div ng-click="viewProfileCtrl.loadMoreAchivements()" ng-show="!viewProfileCtrl.loadingAchivements && viewProfileCtrl.totalCompleted>0 && viewProfileCtrl.learnerAchivements.length<viewProfileCtrl.totalCompleted" class="lineHeight32 color0072bc textalign_C paddingT10 F13 hover_f5 paddingL20 paddingR20">Load More</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-if="viewProfileCtrl.isMe()" class="floatL pos_rel bg_ff newBoxShadow marginB20 marginL20" style="width:470px;min-height:222px;max-height:426px;overflow-y:auto;">\n\t\t\t\t\t\t\t<div class="absDiv" ng-if="viewProfileCtrl.largeContent && !viewProfileCtrl.showReadMore"></div>\n\t\t\t\t\t\t\t<div class="borderB_aa" style="padding:10px 20px 12px">\n\t\t\t\t\t\t\t\t<div style="padding:0 25px 0 0px;" class="color00 F16 lineHeight24 bold" mt-trans="DASHBOARD_PROFILE_TXT_ALL_A_SERIES">All Assigned Series</div>\n\t\t\t\t\t\t\t\t<div class="color99 F13 lineHeight20 marginT3">{{viewProfileCtrl.totalAssignedTracks}} <span mt-trans="DASHBOARD_PROFILE_SERIES">Series</span></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="" style="max-height:356px;overflow-y:auto;">\n\t\t\t\t\t\t\t\t<div class="lineHeight32 color00 F14" style="padding:9px 20px">\n\t\t\t\t\t\t\t\t\t<div class="floatL marginR10" style="width:240px;" mt-trans="DASHBOARD_PROFILE_SERIES">Series</div>\n\t\t\t\t\t\t\t\t\t<div class="floatL lineHeight16 marginR10" style="width:90px;">#<span mt-trans="DASHBOARD_PROFILE_MODULE_COMPLETED">Modules Completed</span></div>\n\t\t\t\t\t\t\t\t\t<div class="floatR marginR10" mt-trans="DASHBOARD_PROFILE_TXT_PERC_SCORE">% Score</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="lineHeight32 color00 F13 hover_f5 paddingL20 paddingR20 cursor"\n\t\t\t\t\t\t\t\t\t ng-if="!viewProfileCtrl.loadingTrackPerformance"\n\t\t\t\t\t\t\t\t\t ng-repeat="tp in viewProfileCtrl.trackPerformance track by $index"\n\t\t\t\t\t\t\t\t\t ng-click="gotoSeries(tp)"\n\t\t\t\t\t\t\t\t\t style="cursor:default">\n\t\t\t\t\t\t\t\t\t<div class="borderT_dd paddingT9 paddingB9 cursor">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL marginR10 ellipsis" style="width:240px;">\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL icon-seriesOld F16 marginT7 marginR5"></div>\n\t\t                        \t\t\t<div class="floatL ellipsis" style="width: 210px;">{{tp.name}}</div>\n\t\t                        \t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatL marginR10" style="width:100px;">{{tp.c}}/{{tp.a}}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatR marginR10">{{tp.ps}}%</div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="lineHeight22 textalign_C paddingT10" ng-show="viewProfileCtrl.loadingTrackPerformance">\n\t\t\t\t\t\t\t\t\t<img  ng-src="{{smallLoader}}"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/app-profile-sidebar.html",'<div class="floatR pos_rel"\n     style="box-shadow: 0 2px 4px 0 rgba(0,0,0,0.08); z-index: 0;"\n\t wt-step="4" wt-group="demo" wt-text="{{ \'WT_M_ACTIVITY_PANEL\' | translate }}" wt-position="left"\n\t wt-title="<div class=\'floatL F14 marginT4 lineHeight14\'>{{ \'Activity Panel\' }}</div>">\n    <div class="dashBoardLeftHeight open_toward_right bg_ff"\n        style="width: 280px; -webkit-transition: margin .3s linear;-moz-transition: margin .3s linear;-ms-transition: margin .3s linear;-o-transition: margin .3s linear;transition: margin .3s linear;"\n        ng-style="{\'margin-right\':(globalCtrl.scope.sideBarOpen?0:-280)}"\n        ng-class="{\'borderL_dd\':!isNewDesignLanguage(),\'borderL_e8eaed\':isNewDesignLanguage() }">\n        <!-- <div class="paddingB20" ng-hide="!globalCtrl.scope.sideBarOpen"> -->\n        <div class="paddingB20">\n            <div class="pos_rel" style="padding:20px">\n                <div \n                \tng-click="globalCtrl.setSideBarState( false )"\n                    class="pos_abs cursor" \n                    ng-class="{\'icon-Close F12 color99\':!isNewDesignLanguage(),\'icon-collapsePanelLine F16 color4D7CC7\':isNewDesignLanguage()}"\n                \tstyle="top:0px;right:0px;padding:10px 10px 5px 3px;"></div>\n                <div class="textalign_C marginB10" ng-click="gotoProfile()">\n                    <div ng-if="learner.pic == \'\'"\n                         class="icon-defaultprofile F80 color99 cursor"></div>\n                    <img ng-if="learner.pic != \'\'"\n                         ng-click=""\n                         ng-src="{{learner.pic}}"\n                         class="cursor fs-hide"\n                         style="border-radius:50%;width: 80px;height: 80px;max-width: 80px;max-height: 80px;">\n                </div>\n                <div class="textalign_C F16 lineHeight22 cursor fs-hide" \n                    ng-click="gotoProfile()"\n                    ng-class="{\'bold color00\':!isNewDesignLanguage(),\'semiBold color2a2e36\':isNewDesignLanguage()}">{{learner.name}}</div>\n                <div ng-if="learner.profile.dp || learner.profile.rg" class="textalign_C color99 F13 lineHeight18 marginT7">\n                    <span ng-if="learner.profile.dp && globalCtrl.isProfileFieldAvailable(\'dp\')">{{learner.profile.dp}},</span>\n                    <span ng-if="learner.profile.rg && globalCtrl.isProfileFieldAvailable(\'rg\')"> {{learner.profile.rg}}</span>\n                </div>\n                <div class="textalign_C pos_rel marginT12" style="font-size: 0;" ng-if="achievements.data.request.$resolved">\n                    <div class="display_IB valign_M marginL5" ng-repeat="achievement in achievements.data.entities">\n                        <div ng-if="achievement.achievementType == \'BADGE\'" class="badgeArea" style="padding:0;border:0">\n                            <img ng-src="{{achievement.medalUrl}}" style="width: 30px;height: 30px;">\n                            <div ng-if="achievement.achievedOn<=0" class="pos_abs textalign_L bg_ff border_dd color36 F13 lineHeight20 hoverOnBadge"\n                                 style="width:255px;top:29px;padding: 10px;left:-10px;margin:0;z-index:1;box-shadow: 0 0 3px #ccc;"\n                                 translate="LB_BADGE_EARNER_ON_ENTITY_NO_TIME"\n                                 translate-value-medal="{{achievement.medalName}}"\n                                 translate-value-type="{{getEntityType(achievement.type)}}"\n                                 translate-value-name="{{achievement.name}}">\n                            </div>\n                            <div ng-if="achievement.achievedOn>0" class="pos_abs textalign_L bg_ff border_dd color36 F13 lineHeight20 hoverOnBadge"\n                                 style="width:255px;top:29px;padding: 10px;left:-10px;margin:0;z-index:1;box-shadow: 0 0 3px #ccc;"\n                                 translate="LB_BADGE_EARNER_ON_ENTITY"\n                                 translate-value-medal="{{achievement.medalName}}"\n                                 translate-value-date="{{achievement.achievedOn * 1000| date}}"\n                                 translate-value-type="{{getEntityType(achievement.type)}}"\n                                 translate-value-name="{{achievement.name}}">\n                            </div>\n                        </div>\n                        <div ng-if="achievement.achievementType == \'CERTIFICATE\' && !hideCertificate(achievement)">\n                            <div class="bgHover_ee borderR2 marginL psCertificate" style="position:static;">\n                                <div class=" icon-certPass certPassColor F24"\n                                     style="border: none;padding:4px 4px 2px"></div>\n                                <div class="showOnHover pos_abs bg_ff border_dd color36 F13 lineHeight20 display_N" style="width:255px;top:29px;left:-10px;border:0px;z-index:1">\n                                \t<div style="padding: 10px;margin:0;box-shadow: 0px 0px 3px #ccc !important;">\n        \t\t\t\t\t\t\t\t<div class="color36 F13 lineHeight20 marginB2"\n\t                                         translate="LB_CERTIFICATE_EARNED_ON_ENTITY"\n\t                                         translate-value-date="{{ (achievement.achievedOn * 1000)| date}}"\n\t                                         translate-value-type="{{getEntityType(achievement.type)}}"\n\t                                         translate-value-name="{{achievement.name}}">\n\t                                    </div>\n\t                                    <span class="cursor color0072bc F13"\n\t                                          ng-click="downloadCertificate(achievement.entityId, achievement.certificateUrl, achievement.name, achievement.type)" translate="MSG_DOWNLOAD_CERT">\n\t                                        Download Certificate\n\t                                    </span>                        \t\n                                \t</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-show="(achievements.data.total - achievements.data.entities.length)>0" \n                    \t class="display_IB textalign_C border_cd valign_M color99 F11 lineHeight30 borderR15 cursor marginL5 plusMoreArea"\n                         style="min-width:30px;height:30px;">\n                        +{{achievements.data.total - achievements.data.entities.length}}\n                        <div class="pos_abs textalign_L bg_ff border_dd color36 F13 lineHeight20 hoverOnPlusMore"\n                             style="width:255px;top:29px;padding: 10px;left:-10px;margin:0;z-index:1;box-shadow: 0 0 3px #ccc;">\n                             <span translate="DASHBAORD_N_MORE_ACHIEVEMENTS"></span>\n                             <span class="cursor color0072bc" ui-sref="root.participant({uid:globalCtrl.getMyId()})"  translate="DASHBAORD_N_MORE_ACHIEVEMENTS_LNK_TXT"></span>\n                        </div>\n                    </div>\n                </div>\n\n                <mt-loader ng-if="!achievements.data.request.$resolved" type="small" size="sizeSmall"></mt-loader>\n                <!-- <div class="textalign_C pos_rel marginT10" style="font-size: 0;" ng-if="!achievements.data.request.$resolved">\n                    <img ng-src="{{smallLoader}}"/>\n                </div> -->\n                <div class="paddingT20 marginT20"\n                    ng-class="{\'borderT_dd\':!isNewDesignLanguage(),\'borderT_e8eaed\':isNewDesignLanguage()}"\n                     ng-if="achievements.data.request.$resolved && achievements.data.reviewesRecevied.total>0 || achievements.data.nextCoachingSession">\n                    <div class="lineHeight18"  ng-if="achievements.data.request.$resolved && achievements.data.reviewesRecevied.total>0">\n                        <div class="floatL icon-pitchHeadphone F20 color99"></div>\n                        <div class="floatL F13 color99 marginT1 marginL10 dropdown" style="width: 192px;line-height:18px">\n                            <span class="color0072bc dropdown-toggle cursor" style="border: none;" translate="M_REVIEWS_RECEIVED_IN_PART1" translate-value-a="{{achievements.data.reviewesRecevied.total}}"></span>\n                            <div class="dropdown-menu" style="width:255px;top:25px;left:-40px;padding: 0px;margin:0;box-shadow: 0px 0px 3px #ccc !important;max-height: 180px;overflow-y: auto;">\n                                <div ng-repeat="m in achievements.data.reviewesRecevied.modules"\n                                     class="cursor hoverBg lineHeight16"\n                                     style="padding:10px" ng-click="gotoMissions(m.id)">\n                                    <div class="floatL mBG marginR5">M</div>\n                                    <div class="floatL color99 F13 ellipsis" style="max-width:205px">{{m.name}}</div>\n                                    <div class="clear"></div>\n                                </div>\n                                <div ng-show="(achievements.data.reviewesRecevied.total-achievements.data.reviewesRecevied.modules.length)>0"class="lineHeight36">+&nbsp;{{achievements.data.reviewesRecevied.total-achievements.data.reviewesRecevied.modules.length}}</div>\n                            </div>\n                            <span translate="M_REVIEWS_RECEIVED_IN_PART2" translate-value-a="{{LATEST_REVIEWS_PERIOD}}"></span></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div class="lineHeight18"\n                    \t ng-class="{\'marginT15\':(achievements.data.reviewesRecevied.total>0)}"\n                         ng-if="achievements.data.request.$resolved && achievements.data.nextCoachingSession">\n                        <div class="floatL icon-stopwatch F20 color99"></div>\n                        <div class="floatL F13 color99 marginT1 marginL10" style="width: 192px;">\n                            <div translate="DASHBOARD_NEXT_CS">Next Coaching Session</div>\n                            <div class="marginT5">\n                                {{achievements.data.nextCoachingSession.scheduledOn * 1000 | date: \'MMM dd, yyyy\'}}\n                            </div>\n                        </div>\n                        <div class="clear"></div>\n                    </div>\n\n                    <mt-loader ng-if="!achievements.data.request.$resolved" type="small" size="sizeSmall"></mt-loader>\n                    <!-- <div class="textalign_C pos_rel marginT10" style="font-size: 0;" ng-if="!achievements.data.request.$resolved">\n                        <img ng-src="{{smallLoader}}"/>\n                    </div> -->\n                </div>\n            </div>\n            <div class="marginB20"\n                ng-class="{\'borderT_dd\':!isNewDesignLanguage(),\'borderT_e8eaed\':isNewDesignLanguage()}"\n                style="padding:20px 20px 0px" \n                ng-if="achievements.data.request.$resolved">\n                <div class="">\n                    <div class="floatL lineHeight18" \n                        ng-class="{\'bold color00 F13\':!isNewDesignLanguage(),\'semiBold color2a2e36 F12\':isNewDesignLanguage()}"\n                        style="max-width:225px" \n                        translate="DASHBOARD_RECENT_MODULE_TITLE">Recently Viewed Modules</div>\n                    <div ng-if="false" class="floatR color99 F10 icon-triangleDown cursor marginT5"\n                         ng-class="{\'icon-triangleRight\':false}"></div>\n                    <div class="clear"></div>\n                </div>\n                <div ng-if="achievements.data.request.$resolved && achievements.data.recentModules.length > 0">\n                    <div class="lineHeight16 marginT15 cursor"\n                         ng-repeat="module in achievements.data.recentModules track by $index"\n                         ng-click="openEntity(module)">\n                        <div ng-if="module.state==\'COMPLETED\'" class="floatR F12 color67cc5f marginL8" translate="COMPLETE">Complete</div>\n                        <div class="floatL1">\n                            <div class="floatL {{getEntityTypeObjByName(module.type).iconS}} marginR5 borderR2">\n                                {{getEntityTypeObjByName(module.type).shortKey}}</div>\n                            <div class="floatL1 ellipsis" \n                                ng-class="{\'color99 F13\':!isNewDesignLanguage(),\'color606369 F12 NLD_PsideBarRowHover\':isNewDesignLanguage()}"\n                                style="max-width1:145px">{{module.name}}</div>\n                            <div class="clear"></div>\n                        </div>\n                        \n                        <div class="clear"></div>\n                    </div>\n                </div>\n                <div ng-if="achievements.data.request.$resolved && achievements.data.recentModules.length == 0"\n                     class="color99 F13 lineHeight20 marginT10">\n                    {{\'DASHBOARD_NO_RECENTLY_ASSIGNED_MODULE\' | translate }}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/app-recently-assigned-area.html",'<div wt-step="3" wt-group="demo" wt-text="{{ \'WT_M_RECENT\' | translate }}" wt-position="left"\n     wt-title="<div class=\'icon-recent F18 floatL marginR8\'></div><div class=\'floatL F14 lineHeight18\'>{{ \'Recent\' }}</div>"\n     style="background-color:#f9f9f9;" class="paddingL10 paddingR10">\n    <dashboard-header></dashboard-header>\n    <div class="marginT20">\n        <div class="marginB30">\n            <entity-filter select-function="applyEntityFilter" entity-types="entityTypes" selected-filter="selectedEntityFilter"></entity-filter>\n            <completion-filter disable-filter="entityTypes[\'1\'].name == selectedEntityFilter()" select-function="applyCompletionFilter" completion-types="completionTypes" selected-filter="selectedCompletionFilter"></completion-filter>\n            <module-relevance-filter disable-filter="entityTypes[\'1\'].name == selectedEntityFilter()" ng-if="lsSettings.moduleRelevanceEnabled" select-function="applyModuleRelevanceFilter" module-relevance-types="moduleRelevanceTypes" selected-filter="selectedRelevanceFilter"></module-relevance-filter>\n            <div class="clear"></div>\n        </div>\n        <div class="heightInnerInfiniteScrollDiv"\n             infinite-scroll="fetchNext()"\n             infinite-scroll-container="scrollContainer"\n             infinite-scroll-distance="0"\n             infinite-scroll-disabled="anythingLoading()"\n             infinite-scroll-immediate-check="false"\n             infinite-scroll-use-document-bottom="false"\n             style="min-height: 30px;">\n            <month-view ng-if="!anythingLoading() || months.length > 0"\n                        ng-repeat="month in months track by month"\n                        month="month"\n                        style="min-height: 30px;">\n            </month-view>\n            <div ng-if="(!anythingLoading()) && months.length == 0 &&\n                        selectedEntityFilter() == entityTypes[defaultEntityFilterIndex].name &&\n                        selectedCompletionFilter()==\'all\'&&\n                        selectedRelevanceFilter().indexOf(\'all\') !== -1"\n                 class="textalign_C color88" style="margin-top:100px">\n                <div class="noEmptyImg" style="margin:0 auto 20px"></div>\n                <div class="F18 lineHeight30 marginT5" translate="NOT_BEEN_ASSIGNED_TO_ANY_SERIES"></div>\n                <div class="F13 lineHeight20" translate="WHEN_ASSIGNED_YOU_WILL_BE_NOTIFIED"></div>\n            </div>\n            <div class="textalign_C" style="border-top:100px solid transparent" ng-if="(!anythingLoading()) && months.length == 0 &&\n                                                        (selectedEntityFilter() != entityTypes[defaultEntityFilterIndex].name ||\n                                                         selectedCompletionFilter()!=\'all\'|| selectedRelevanceFilter().indexOf(\'all\')===-1)">\n                <div class="color88 noTagsDirectionImg F40 marginB15" style="margin:0 auto 20px"></div>\n                <div class="color88 F20 lineHeight30 marginB2" translate="FILTERS_HAVE_LEAD_YOU_NOWHERE">This Series is empty.</div>\n                <div class="color88 F13 lineHeight18">\n                    <span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n                    <span class="cursor color0072bc" translate="RESET_FILTERS" ng-click="resetFilters()"></span>\n                </div>\n            </div>\n            <img ng-if="anythingLoading()" ng-src="{{smallLoader}}"/>\n        </div>\n    </div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/app-series-sidebar-list.html",'<div class="lineHeight36 marginB20">\n    <div ng-class="{\'dashBoardLeftTitleBlock paddingL16\':isNewDesignLanguage(), \'color737d8a paddingL10\':!isNewDesignLanguage()}">\n        <div class="floatL F16 marginT10"\n            ng-class="{\'icon-pinFilledOld marginR8\':!isNewDesignLanguage()}"\n            ng-if="listTitle == \'PINNED SERIES\'"></div>\n        <div class="floatL F11">{{listTitle}}</div>\n        <div class="clear"></div>\n    </div>\n\n    <div class="paddingL10 noHoverForIpad leftSidelistDBSecondCol"\n         ng-if="request.$resolved"\n         ng-class="{ \'Active\' : ($stateParam && $stateParam.series == series.id),\n                    \'paddingL10\': !isNewDesignLanguage(),\n                    \'paddingL20\': isNewDesignLanguage()}"\n         ng-click="gotoSeries(series)" \n         ng-repeat="series in shortList1">\n        <div class="floatL  marginR8"\n        \t ng-class="{\'icon-seriesOld F16 marginT10\':!isNewDesignLanguage(),\'icon-seriesLine F14 marginT11 seriesIcon_Color\':isNewDesignLanguage()}"></div>\n        <div class="floatR  marginT12 marginR8 paddingL4 seriesNamePinnedHover cursor pos_rel"\n            style="z-index: 1;"\n             ng-class="{\'icon-pinOutlineOld\': !series.pinned && !isNewDesignLanguage(),\n                        \'icon-pinFilledOld\': series.pinned && !isNewDesignLanguage(),\n                        \'icon-pinFilled_New tooltip_bottom_right nowrap\':series.pinned && isNewDesignLanguage(),\n                        \'icon-pinLine_New tooltip_bottom_right nowrap\':!series.pinned && isNewDesignLanguage()}"\n             ng-click="togglePin(series.id);$event.stopPropagation()"\n             mtitle="{{ (series.pinned && isNewDesignLanguage()) ? (\'LB_TXT_UNPIN_THIS_SERIES\' | translate) : (\'LB_TXT_PIN_THIS_SERIES\' | translate)}}"></div>\n        <div class="F13 tooltip_bottom_left noHoverForIpad marginR8" mtitle="{{series.name}}">\n            <div class="ellipsis">{{series.name}}</div>\n        </div>\n        <div class="clear"></div>\n    </div>\n\n    <div class="paddingL10 noHoverForIpad leftSidelistDBSecondCol"\n         ng-if="request.$resolved && expanded"\n         ng-class="{ \'Active\' : ($stateParam && $stateParam.series == series.id),\n                    \'paddingL10\': !isNewDesignLanguage(),\n                    \'paddingL20\': isNewDesignLanguage()}"\n         ng-click="gotoSeries(series)" \n         ng-repeat="series in shortList2">\n        <div class="floatL marginR8"\n        \t ng-class="{\'icon-seriesOld F16 marginT10\':!isNewDesignLanguage(),\'icon-seriesLine F14 marginT11 seriesIcon_Color\':isNewDesignLanguage()}"></div>\n        \n        <div class="floatR  marginT12 marginR8 paddingL4 seriesNamePinnedHover cursor"\n                ng-class="{\'icon-pinOutlineOld\': !series.pinned && !isNewDesignLanguage(),\n                            \'icon-pinFilledOld\': series.pinned && !isNewDesignLanguage(),\n                            \'icon-pinFilled_New tooltip_bottom_right nowrap\':series.pinned && isNewDesignLanguage(),\n                            \'icon-pinLine_New tooltip_bottom_right nowrap\':!series.pinned && isNewDesignLanguage()}"\n             ng-click="togglePin(series.id);$event.stopPropagation()"\n             mtitle="{{ (series.pinned && isNewDesignLanguage()) ? (\'LB_TXT_UNPIN_THIS_SERIES\' | translate) : (\'LB_TXT_PIN_THIS_SERIES\' | translate) }}"></div>\n        <div class="F13 tooltip_bottom_left noHoverForIpad marginR8" mtitle="{{series.name}}">\n            <div class="ellipsis">{{series.name}}</div>\n        </div>     \n        <div class="clear"></div>\n    </div>\n\n    <mt-loader ng-if="!request.$resolved" type="small" size="sizeXSmall" bg-color="transparent" color="white"></mt-loader>\n    <!-- <div class="marginL34" ng-if="!request.$resolved"><img ng-src="{{loaderGif}}"/></div> -->\n    <div class="lineHeight20">\n        <a class="F12 marginL20 cursor" \n            ng-class="{\'hoverColorff\':isNewDesignLanguage(), \'hoverColora7aaae\':!isNewDesignLanguage()}"\n            ng-click="expandList()"\n           ng-if="shortList2.length > 0 && !expanded"><span translate="DASHBOARD_N_MORE" translate-value-a="{{shortList2.length}}"></span>\n        </a>\n    </div>\n    <div class="lineHeight20">\n        <a class="F12 marginL20 cursor" \n            ng-class="{\'hoverColorff\':isNewDesignLanguage(), \'hoverColora7aaae\':!isNewDesignLanguage()}"\n            ng-click="expandList()"\n           ng-if="shortList2.length > 0 && expanded"><span translate="M_VIEW_LESS">View less</span>\n        </a>\n    </div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/app-series-sidebar.html",'<div class="floatL NDL_sideBar dashBoardLeftHeight" style="width:236px"\n\t ng-class="{\'bg_27374b\':!isNewDesignLanguage()}"\n     wt-step="2" wt-group="demo" wt-text="{{ \'WT_M_RECENT_N_SERIES_LIST\' | translate }}" wt-position="right"\n     wt-title="<div class=\'icon-seriesOld F18 floatL marginR8\'></div><div class=\'floatL F14 lineHeight14 marginT4\'>{{ \'Recent and Series List\' }}</div>">\n    <div class="lineHeight36 paddingT10 cursor" ng-class="{ \'marginB15\' : !isReinforcementEnabled }" ng-click="gotoHome(\'recents_link\')">\n        <div class="leftSidelistDBSecondCol" ng-class="{ \'Active\' : isDashboard(),\n            \'paddingL16\':isNewDesignLanguage(),\n            \'paddingL10\':!isNewDesignLanguage()}">\n            <div class="floatL icon-recent22 F16 marginT10 marginR8" ng-class="{\'icon-recent\':!isNewDesignLanguage(),\'icon-recent_new\':isNewDesignLanguage()}"></div>\n            <div class="floatL F13" translate="DASHBOARD_TXT">Dashboard</div>\n            <div class="clear"></div>\n        </div>\n    </div>\n    <div ng-if="isReinforcementEnabled" class="lineHeight36 paddingT10 marginB15 cursor" ng-click="gotoReinforcement()">\n        <div class="leftSidelistDBSecondCol" ng-class="{ \'Active\' : isReinforcement(),\n            \'paddingL16\':isNewDesignLanguage(),\n            \'paddingL10\':!isNewDesignLanguage()}">\n            <div class="floatL icon-questThick F16 marginT10 marginR8"></div>\n            <div class="floatL F13">All Quests</div>\n            <div class="clear"></div>\n        </div>\n    </div>\n    <app-series-sidebar-list\n        list-type="\'PINNED\'"\n        ng-if="(seriesList.request.$resolved && seriesList[\'PINNED\'].length > 0) || !seriesList.request.$resolved">\n    </app-series-sidebar-list>\n    <app-series-sidebar-list\n        list-type="\'INVITE_ONLY\'"\n        ng-if="(seriesList.request.$resolved && seriesList[\'INVITE_ONLY\'].length > 0) || !seriesList.request.$resolved">\n    </app-series-sidebar-list>\n    <app-series-sidebar-list\n        list-type="\'OPEN\'"\n        ng-if="(seriesList.request.$resolved && seriesList[\'OPEN\'].length > 0) || !seriesList.request.$resolved">\n    </app-series-sidebar-list>\n\n    <div ng-if="seriesList.request.$resolved && seriesList[\'OPEN\'].length == 0 && seriesList[\'INVITE_ONLY\'].length == 0 && seriesList[\'PINNED\'].length == 0" class="F12 lineHeight16 paddingL16 paddingR16 paddingT24" ng-class="{\'colorccd0e9\':!isNewDesignLanguage()}" translate="ALL_SERIES_ASSIGNED_WILL_APPEAR_HEAR"></div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/app-series-thumb.html",'<div class="floatL border_transparent">  <!-- Series course starts -->\n<div class="floatL pos_rel cursor" style="width:200px;height:270px" ng-click="openSeries(series)">   \n    <div class="seriesTop"></div>\n    <div style="border-top:0;border-radius:0 0 2px 2px;" class="border_dd dashboardBoxshadow bg_ff">\n        <div style="padding:10px">\n            <div class="pos_rel" style="width:178px;height:235px">\n            \t<div class="" ng-class="{ \'Images{{ thumbs.length }}\': true, Multiple: ((series.entities.length - thumbs.length) > 0) }" style="bottom:0px;height:120px;width:100%">\n                    <div ng-repeat="thumb in thumbs track by $index"\n                         class="floatL"\n                         ng-class="{ \'Img{{ $index+1 }}\' : true }">\n                         <div class="floatL pos_rel" style="left:50%">\n                         \t<div class="floatL pos_rel" style="left:-50%">\n                        \t\t<img ng-src="{{thumb}}"/>\n                        \t</div>\n                        </div>\n                        <div class="clear"></div>\t\t\n                        \n                    </div>\n                    <div class="clear"></div>\n                    <div ng-if="!series.thumb" class="pos_abs colorff textalign_C totalRemainingEntity" style="width: 88px;right: 0;top: 61px;background-color:rgba(0,0,0,0.3)">\n                        <div style="display:table-cell;vertical-align:middle;height:59px" ng-if="(series.entities.length - thumbs.length)> 0">\n                            <div class="F24 lineHeight26">+{{series.totalEntities - thumbs.length}}</div>\n                            <div class="F12 lineHeight16">more</div>\n                        </div>\n\n                    </div>\n                </div>\n                <div class="">\n                \t<div class="color00 F16 cursor lineHeight22 pos_rel marginT7 marginB5">\n                        <div class="pos_rel sname">\n                            <div class="pos_rel truncate_2_line sname bold" style="max-height:48px;">{{series.name}}</div>\n                            <!--div class="pos_abs icon-ddArrowRight F12 color00" style="bottom:5px;right:-14px"></div-->\n                        </div>\n                    </div>\n                    <div class="color99 lineHeight22">\n                \t\t<div class="floatL icon-seriesOld F14 marginT3 marginR5"></div>\n                    \t<div class="floatL F12" mt-trans="DASHBOARD_PROFILE_SERIES">SERIES</div>\n                    \t<div class="clear"></div>\n                    </div>\n                    <div class="pos_abs" style="bottom:0;width:100%">\n                    \t<div class="seriesProgressArea inProgress_Series" ng-if="series.totalCompletedEntities!=0">\n                    \t\t<div class="borderTop pos_rel">\n\t\t\t                    <div style="top: 0px; left: 0px;" class="progressBar_Bg" ng-style="{\'width\': ((series.totalCompletedEntities*100)/series.totalEntities) + \'%\'}"></div>\n\t\t\t                </div>\n\t\t                    <div class="color00 F12 lineHeight30">\n\t\t                        <div class="floatL">{{series.totalCompletedEntities}}/{{series.totalEntities}}</div>\n\t\t                        <div class="floatL marginL5" translate="DASHBOARD_SERIES_THUMB_MODULES_COMPLETED">Modules Complete</div>\n\t\t                        <div class="floatL icon-ddArrowRight F10 marginL10 marginT10"></div>\n\t\t                        <div class="clear"></div>\n\t\t                    </div>\n\t\t                </div> \n\t\t                <div ng-if="series.totalCompletedEntities==0" class="floatL blueBorderBtn_30 F12 paddingL17 paddingR17">\n\t\t                    <div class="floatL" mt-trans="VIEW"></div>\n\t\t                    <div class="floatL icon-arrowRight F10 marginL5 marginT9"></div>\n\t\t                    <div class="clear"></div>\n\t\t                </div>   \n\t                </div>    \n                </div>\n                \n            </div>\n        </div>\n    </div>\n</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/courses.html",'<div class="pos_rel">\n    <div class="pos_abs" style="width:236px;left:0;top:0">\n        <app-series-sidebar style="display: block;"></app-series-sidebar>\n        <div class="clear"></div>\n    </div>\n    <app-profile-sidebar></app-profile-sidebar>\n    <div class="bg_f9 dashBoardLeftHeight open_transition_margingR scrollContainer pos_rel" \n    \t style="margin:0 0px 0 236px" \n    \t ng-style="{\'margin-left\':(globalCtrl.scope.sideBarOpen?236:236)}">\n    \t <div\n    \t ng-click="globalCtrl.setSideBarState( true )"\n    \t ng-if="!globalCtrl.scope.sideBarOpen" \n         mtitle="Activity"\n         ng-class="{\'icon-profileDrawer\':!isNewDesignLanguage(),\'icon-learnerActivity_New\':isNewDesignLanguage()}"\n    \t class="NDL_profileDrawer tooltip_middle_right F20 color99 cursor" style="top:0px;right:0px;position:absolute;padding: 10px 10px 5px 3px;z-index: 1"></div>\n        <div class="marginL20" style="min-height1: 100%;" ng-style="{\'margin-right\':(globalCtrl.scope.sideBarOpen?20:38), \'min-height\': isNewDesignLanguage() ? auto : \'100%\'}">\n            <div ui-view class="maincontaier"></div>\n        </div>\n    </div>\n    <div class="clear"></div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/dashboard-content-list-row.html",'<div ng-click="previewContent()" ng-class="{viewedContent:content.locked==false ||content.lockState==\'UNLOCKED\',notViewd:content.locked==true ||content.lockState==\'LOCKED\'}" class="cmnHover paddingL20 paddingR20">\n\t<div class="borderB_dd paddingT10 paddingB10">\n\t\t<div class="floatL" style="width:40%">\n\t\t\t<div class="floatL">\n\t\t\t\t<div ng-if="!content.locked" \n\t\t\t\t\t ng-click="bookmarkContent()" \n\t\t\t\t\t stop-event \n\t\t\t\t\t ng-class="{\'icon-starMarked colorf5d078\':content.starred,\'icon-star color99\':!content.starred}" \n\t\t\t\t\t class="noHoverForIpad floatL F16 paddingT17 paddingL5 paddingR10 tooltip_middle_left tooltip_width110"\n\t\t\t\t\t mtitle="{{ content.starred ? \'Unstar this file\' : \'Star this file\'}}"></div>\n\t\t\t\t<div ng-if="content.locked" class="pos_rel" click-anywhere-but-here="hideTip()">\n\t\t\t\t\t<div ng-click="bookmarkContent();" stop-event ng-class="{\'icon-starMarked colorf5d078\':content.starred,\'icon-star color99\':!content.starred}" class="floatL F16 paddingT17 paddingL5 paddingR10 paddingT5"></div>\n\t\t\t\t\t<div ng-show="!isTipHidden"style="left: 19px;top: 21px;z-index: 2;" class="cmn_dd pos_abs">\n\t\t\t\t\t    <!-- div style="left: -45px;t;top: 7px;z-index: 2;" class="triangleLeft_28_14 pos_abs"></div-->\n\t\t\t\t\t\t<div class="ddBG pos_rel borderR5" style="width:auto">\n\t\t\t\t\t\t\t<div style="padding: 3px 8px;width: 300px;">\t\n\t\t\t\t\t\t\t\t<div class="color56 F12 lineHeight18 lockedContentMsg">{{\'LB_TXTX_CANT_STAR\'|translate}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t\t<div class="floatL marginL5">\n\t\t\t\t<div ng-class="contentClass" class="pos_rel marginT15 F20">\n\t\t\t\t    <div style="top:-8px;right:-4px" class="viewedIcon pos_abs"></div>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t\t<div class="floatL marginL18 marginT5" style="width:250px">\n\t\t\t\t<div class="lineHeight20 marginB3">\n          <div class="tooltip_bottom_left_2" mtitle="{{content.title}}">\n            <div class="color00 F13 ellipsis">{{content.title}}</div>\n          </div>\n\t\t\t\t\t<div class="color99 F12 marginT3">{{getContentInfo()}}</div>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div class="tags lineHeight20 color99 F12" ng-if="content.tagList.length">\n          <div class="floatL icon-tag marginT5"></div>\n          <div class="floatL marginL5" ng-repeat="tag in content.tagList | limitTo:2">{{tag.tagName}}<span ng-if="!$last">,</span></div>\n          <div class="floatL pos_rel" ng-mouseover="showAppliedTags($event);" ng-mouseout="hideAppliedTags($event);" ng-if="content.tagList.length > 2"><span class="marginR5">,</span>+{{content.tagList.length - 2}} more\n            <div class="moreAppliedTags pos_abs border_dd bg_ff boxShadow_cd display_N" style="top:20px;left:10px;padding:2px 5px;max-width:200px;z-index: 1;">\n              <span class="floatL marginR5" ng-repeat="tag in content.tagList.slice(2, content.tagList.length)">{{tag.tagName}}<span ng-if="!$last">,</span></span>\n              <div class="clear"></div>\n            </div>\n          </div>\n          <div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t\t<div class="clear"></div>\t\n\t\t</div>\n\t\t<div class="floatL color99 F13 lineHeight20 marginT14" style="width:30%">\n\t\t\t<div ng-if="content.entityType==\'COURSE\'" class="floatL cBG_L entity_sml marginT2">C</div>\n\t\t\t<div ng-if="content.entityType==\'UPDATE\'" class="floatL qBG_L entity_sml marginT2">Q</div>\n\t\t\t<div class="floatL ellipsis marginL8" style="width: 210px;">{{content.entity_name}}</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="floatL color99 F13 lineHeight20 marginT14" style="width:30%">\n\t\t\t<div class="floatL icon-seriesOld F16 marginT2 marginR8"></div>\n            <div class="floatL ellipsis" style="width: 210px;">{{content.seriesName}}</div>\n            <div class="clear"></div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n\t\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/dashboard-content-list.html",'<div class="contentFile_Div">\n\t<div class="floatL contentPageHeight paddingL15 paddingR25" ng-if="isNotContentSingle()">\n\t\t<div class="borderT15_transparent" style="width:230px">\n\t\t\t<div class="lineHeight30 marginB30"\n\t\t\t\t wt-step="3" wt-group="demo" wt-text="{{ \'WT_M_STARRED_N_ALL\' | translate }}"\n\t\t\t\t wt-title="<div class=\'icon-asset F18 floatL marginR8\'></div><div class=\'floatL F14 marginT4 lineHeight14\'>{{ \'Starred and All Files\' }}</div>"\n\t\t\t\t wt-position="right" style="background-color: #f9f9f9;">\n\t\t\t\t<div class="hoverFiles cursor paddingL10" \n\t\t\t\t\t ng-click="dashboardContentsCtrl.setIsStarted(true)"\n\t\t\t\t\t ng-class="{ \'Active\':(dashboardContentsCtrl.isStared==true && !dashboardContentsCtrl.searchQuery)}">\n\t\t\t\t\t<div class="floatL textalign_C" style="width:17px">\n\t\t\t\t\t\t<div class="icon-star F16 marginT7 margin0_auto"></div>\n\t\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t\t<div class="floatL F12 marginL10" mt-trans="LB_TXT_STARRED_FILES">Starred Files</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="hoverFiles cursor paddingL10" \n\t\t\t\t\t ng-click="dashboardContentsCtrl.setIsStarted(false)"\n\t\t\t\t\t ng-class="{ \'Active\':(dashboardContentsCtrl.isStared==false && !dashboardContentsCtrl.searchQuery)}">\n\t\t\t\t\t<div class="floatL textalign_C" style="width:17px">\n\t\t\t\t\t\t<div class="icon-allFiles F16 marginT7 margin0_auto"></div>\n\t\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t\t<div class="floatL F12 marginL10" mt-trans="LB_TXT_ALL_FILES"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\t\n\t\t\t</div>\n\t\t\t<div style="background-color: #f9f9f9;"\n\t\t\t\twt-step="4" wt-group="demo" wt-text="{{ \'WT_M_FILTERS\' | translate }}"\n                wt-title="<div class=\'icon-filter F18 floatL marginR8\'></div><div class=\'floatL F14 marginT4 lineHeight14\'>{{ \'Filters\' }}</div>"\n                wt-position="right">\n\t\t\t\t<div class="lineHeight20 color737d8a marginB20 marginL10">\n\t\t\t\t\t<div class="F11 marginB10" mt-trans="DASHBOARD_CONTENT_SERIES_MODULE_FILTER">FILTER BY SERIES/MODULE</div>\n\t\t\t\t\t<div class="pos_rel dropdown" style="width:220px">\n\t\t\t\t\t\t<div class="dropdown-toggle paddingB5"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.seriesSearchText=\'\'"\n\t\t\t\t\t\t\t style="border: none;border-bottom:1px solid #ddd;" aria-haspopup="true" aria-expanded="false">\n\t\t\t                <div style="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#888" \n\t\t\t                \t ng-click="isFocus()"\n\t\t\t                \t class="dropdown-text ellipsis">{{dashboardContentsCtrl.seriesFilter.name}}</div>\n\t\t\t                <div ng-show="dashboardContentsCtrl.seriesFilter.id==\'ALL\'" \n\t\t\t                \tclass="icon-ddArrowBottom F6 pos_abs" \n\t\t\t                \tstyle="top:7px;right:5px"></div>\n\t\t\t                <div ng-if="dashboardContentsCtrl.seriesFilter.id!=\'ALL\' || dashboardContentsCtrl.seriesSearchText.length > 0" \n\t\t\t                \t ng-click="dashboardContentsCtrl.updateContentSeriesFilter({\'id\':\'ALL\'});$event.stopPropagation();clearSearch();" \n\t\t                \t style="right: 0px;top: 0px;padding:8px 5px 5px;opacity:1;" \n\t\t\t                \t class="icon-Close pos_abs F10 color99 cursor close"></div>\n\t\t\t            </div>\n\t\t\t\t\t\t<div class="dropdown-menu" style="width: 230px;top: 26px;left:-5px;padding: 0;margin:0;border:0;">\n\t\t\t\t\t\t\t<div ng-click="$event.stopPropagation()" class="pos_abs paddingB5 borderB_0072bc color99 lineHeight20" style="top: -26px;left: 5px;">\n\t\t\t\t\t\t\t\t<input type="text" ng-keypress="($event.which === 13)?triggerSearch():0" \n\t\t\t\t\t\t\t\t\t   placeholder="{{dashboardContentsCtrl.seriesFilter.name}}"\n\t\t\t\t\t\t\t\t\t   ng-model="dashboardContentsCtrl.seriesSearchText"\n\t\t\t\t\t\t\t\t\t   class="lineHeight22 F13 cursor focusMe" \n\t\t\t\t\t\t\t\t\t   style="width: 220px;height: 20px;border: 0px;padding: 0px 20px 0 0;outline: 0px;color:#000;background:#f9f9f9;">\n\t\t\t\t\t\t\t\t<div ng-show="dashboardContentsCtrl.seriesSearchText.length > 0" \n\t\t\t\t\t\t\t\t\t ng-click="clearSearch(\'seriesSearchText\');" \n\t\t\t\t\t\t\t\t style="right: 0px;top: 0px;padding:9px 5px 5px;" \n\t\t\t\t\t\t\t\t\t class="icon-Close pos_abs F8 color99 cursor close"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t                <ul class="newBoxShadow bg_ff" style="max-height:225px;left:0px;width:230px;">\n\t\t\t                    <li class="color88 F13 lineHeight36"\n\t\t\t                    \tng-click="dashboardContentsCtrl.updateContentSeriesFilter(x)" \n\t\t\t                    \tng-class=\'{color00:dashboardContentsCtrl.seriesFilter.name == x.name}\'\n\t\t\t\t\t\t            ng-repeat="x in customSeriesList">\n\t\t\t                    \t<div class="floatL icon-seriesOld F16 marginT10 marginR8"></div>\n\t                       \t\t\t<div class="floatL ellipsis" style="width: 123px;">{{x.name}}</div>\n\t                       \t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t                </ul>\n\t\t\t            </div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="pos_rel dropdown marginT15" style="width:220px">\n\t\t\t\t\t\t<div class="dropdown-toggle color88 paddingB5" ng-click="dashboardContentsCtrl.moduleSearchText=\'\'" style="border: none;border-bottom:1px solid #ddd;" aria-haspopup="true" aria-expanded="false">\n\t\t\t                <div style="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#888" \n\t\t\t                \t ng-click="isFocus()"\n\t\t\t                \t class="dropdown-text ellipsis">{{dashboardContentsCtrl.moduleFilter.name}}</div>\n\t\t\t                <div \n\t\t\t                \tng-show="dashboardContentsCtrl.moduleFilter.id==\'ALL\'" \n\t\t\t                \tclass="icon-ddArrowBottom F6 pos_abs" \n\t\t\t                \tstyle="top:7px;right:5px"></div>\n\t\t\t                <div ng-if="dashboardContentsCtrl.moduleFilter.id!=\'ALL\' || dashboardContentsCtrl.moduleSearchText.length > 0" \n\t\t\t                \t ng-click="dashboardContentsCtrl.updateContentModuleFilter({\'id\':\'ALL\'});$event.stopPropagation();clearSearch();"\n\t\t                \t style="right: 0px;top: 0px;padding:8px 5px 5px;opacity:1;" class="icon-Close pos_abs F10 color88 cursor close"></div>\n\t\t\t            </div>\n\t\t\t\t\t\t<div class="dropdown-menu" style="width: 230px;top: 26px;left:-5px;padding: 0;margin:0;border:0;">\n\t\t\t\t\t\t\t<div ng-click="$event.stopPropagation()" class="pos_abs paddingB5 borderB_0072bc color99 lineHeight20" style="top: -26px;left: 5px;">\n\t\t\t\t\t\t\t\t<input type="text" \n\t\t\t\t\t\t\t\t\t   ng-keypress="($event.which === 13)?triggerSearch():0" \n\t\t\t\t\t\t\t\t\t   placeholder="{{\'DASHBOARD_CONTENT_SELECT_MODULE\'|translate}}" \n\t\t\t\t\t\t\t\t\t   ng-model="dashboardContentsCtrl.moduleSearchText" \n\t\t\t\t\t\t\t\t\t   class="lineHeight22 F13 cursor focusMe" \n\t\t\t\t\t\t\t\t\t   style="width: 220px;height: 20px;border: 0px;padding: 0px 20px 0 0;outline: 0px;color:#000;background:#f9f9f9;">\n\t\t\t\t\t\t\t\t<div ng-if="dashboardContentsCtrl.moduleSearchText.length > 0" \n\t\t\t\t\t\t\t\t\t ng-click="clearSearch(\'moduleSearchText\');" \n\t\t\t\t\t\t\t\t style="right: 0px;top: 0px;padding:8px 5px 5px;" class="icon-Close pos_abs F10 color99 cursor close"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t                <ul class="newBoxShadow bg_ff" style="max-height:225px;left:0px;width:230px;">\n\t\t\t                    <li class="color99 F13 lineHeight30"\n\t\t\t                    \tng-click="dashboardContentsCtrl.updateContentModuleFilter(module)" \n\t\t\t      \t\t\t\t\tng-repeat="module in customModuleList">\n\t\t\t                    \t<div ng-if="module.type==\'COURSE\'" class="floatL cBG_L marginT7 marginR8 entity_sml marginR5">C</div>\n\t\t\t                    \t<div ng-if="module.type==\'UPDATE\'" class="floatL qBG_L marginT7 marginR8 entity_sml marginR5">Q</div>\n\t                       \t\t\t<div class="floatL ellipsis" \n\t                       \t\t\t\t ng-class=\'{color00:dashboardContentsCtrl.moduleFilter.name == module.name}\'\n\t                       \t\t\t\t style="width: 123px;">{{module.name}}</div>\n\t                       \t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t                </ul>\n\t\t\t            </div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t\t<div class="lineHeight20 color737d8a marginB30 marginL10">\n\t\t\t\t\t<div class="F11 marginB5" mt-trans="DASHBOARD_CONTENT_FILE_TYPE">FILE TYPE</div>\n\t\t\t\t\t<div class="" style="width:220px">\n\t\t\t\t\t\t<div class="floatL icon-video F20 colorf07878 cursor marginB5 marginR4"\n\t\t\t\t\t\t\t ng-class="{\'icon-videoFilled\':dashboardContentsCtrl.isInCurrentFilter(\'VIDEO\')}" \n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'VIDEO\')"></div>\n\t\t\t\t\t\t<div class="floatL icon-pdf F20 colord5605f cursor marginB5 marginR4"\n\t\t\t\t\t\t\t ng-class="{\'icon-pdfFilled\':dashboardContentsCtrl.isInCurrentFilter(\'DOCUMENT_PDF\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'DOCUMENT_PDF\')"></div>\n\t\t\t\t\t\t<div class="floatL icon-ppt F20 colorf5b175 cursor marginB5 marginR4"\n\t\t\t\t\t\t\t ng-class="{\'icon-pptFilled\':dashboardContentsCtrl.isInCurrentFilter(\'DOCUMENT_PPT\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'DOCUMENT_PPT\')"></div>\n\t\t\t\t\t\t<div class="floatL icon-doc F20 color83a6d4 cursor marginB5 marginR4"\n\t\t\t\t\t\t\t ng-class="{\'icon-docFilled\':dashboardContentsCtrl.isInCurrentFilter(\'DOCUMENT_WORD\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'DOCUMENT_WORD\')"></div>\n\t\t\t\t\t\t<div class="floatL icon-xls F20 color61bd87 cursor marginB5 marginR4"\n\t\t\t\t\t\t\t ng-class="{\'icon-xlsFilled\':dashboardContentsCtrl.isInCurrentFilter(\'DOCUMENT_XLS\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'DOCUMENT_XLS\')"></div>\n\t\t\t\t\t\t<div class="floatL icon-image F20 color90cac0 cursor marginB5 marginR4"\n\t\t\t\t\t\t\t ng-class="{\'icon-imageFilled\':dashboardContentsCtrl.isInCurrentFilter(\'IMAGE\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'IMAGE\')"></div>\n\t\t\t\t\t\t<div class="floatL icon-embeded F20 colora28bc0 cursor marginB5 marginR4 cursor"\n\t\t\t\t\t\t\t ng-class="{\'icon-embededFilled\':dashboardContentsCtrl.isInCurrentFilter(\'EMBED\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'EMBED\')"></div>\n\t\t\t\t\t\t<div class="floatL icon-audio F20 colore2cc63 cursor marginB5 marginR4"\n\t\t\t\t\t\t\t ng-class="{\'icon-audioFilled\':dashboardContentsCtrl.isInCurrentFilter(\'AUDIO\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'AUDIO\')"></div>\n\t\t\t\t\t\t<div class="floatL icon-note F20 colorf07878 cursor marginB5 marginR4"\n\t\t\t\t\t\t\t ng-class="{\'icon-noteFilled\':dashboardContentsCtrl.isInCurrentFilter(\'NOTE\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'NOTE\')"></div> \n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="taggingEnabled" class="lineHeight20 color737d8a marginB30 marginL10">\n\t\t\t\t\t<div class="F11 marginB10" mt-trans="DASHBOARD_CONTENT_TAG_FILTER"></div>\n\t\t\t\t\t<div ng-if="!dashboardContentsCtrl.isTagListLoading" class="marginB15">\n\t\t\t\t\t\t<div ng-repeat="tagId in currentlyAppliedTagList"\n\t\t\t\t\t\t\tclass="floatL tagDiv Active paddingR20 pos_rel"\n\t\t\t\t\t\t\tstyle="max-width: 216px;text-overflow: ellipsis;overflow: hidden;white-space: nowrap; cursor: default;" title="{{dashboardContentsCtrl.tagDetailsMap[tagId].tagName}}">\n\t\t\t\t\t\t\t{{dashboardContentsCtrl.tagDetailsMap[tagId].tagName}}\n\t\t\t\t\t\t\t<span ng-click="onRemoveTag(tagId)"\n\t\t\t\t\t\t\t\tclass="icon-Close pos_abs F8 cursor" style="right:7px;top:6px"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="pos_rel dropdown" style="width:220px">\n\t\t\t\t\t\t<div class="dropdown-toggle paddingB5"\n\t\t\t\t\t\t\tng-click="dashboardContentsCtrl.tagSearchText=\'\'"\n\t\t\t\t\t\t\tstyle="border: none;border-bottom:1px solid #ddd;" aria-haspopup="true" aria-expanded="false">\n\t\t\t\t\t\t\t<div style="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#888" \n\t\t\t\t\t\t\t\tng-click="isFocus()" mt-trans="DASHBOARD_CONTENT_SELECT_TAGS"\n\t\t\t\t\t\t\t\tclass="dropdown-text ellipsis"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="dropdown-menu newBoxShadow bg_ff" \n\t\t\t\t\t\t\tclick-anywhere-but-here="resetSelection();"\n\t\t\t\t\t\t\tstyle="max-height:285px;width: 230px;top: 26px;left:-5px;padding: 0;margin:0;border:0;">\n\t\t\t\t\t\t\t<div ng-click="$event.stopPropagation()" class="pos_abs paddingB5 borderB_0072bc color99 lineHeight20" style="top: -26px;left: 5px;">\n\t\t\t\t\t\t\t\t<input type="text" ng-keypress="($event.which === 13)?triggerSearch():0" \n\t\t\t\t\t\t\t\t\tplaceholder="{{\'DASHBOARD_CONTENT_SELECT_TAGS\'|translate}}"\n\t\t\t\t\t\t\t\t\tng-model="dashboardContentsCtrl.tagSearchText"\n\t\t\t\t\t\t\t\t\tclass="lineHeight22 F13 cursor focusMe" \n\t\t\t\t\t\t\t\t\tstyle="width: 220px;height: 20px;border: 0px;padding: 0px 20px 0 0;outline: 0px;color:#000;background:#f9f9f9;">\n\t\t\t\t\t\t\t\t<div ng-show="dashboardContentsCtrl.tagSearchText.length === 0"\n\t\t\t\t\t\t\t\t\tclass="icon-ddArrowBottom F6 pos_abs" \n\t\t\t\t\t\t\t\t\tstyle="top:7px;right:5px"></div>\n\t\t\t\t\t\t\t\t<div ng-show="dashboardContentsCtrl.tagSearchText.length > 0" \n\t\t\t\t\t\t\t\t\tng-click="clearSearch(\'tagSearchText\');" \n\t\t\t\t\t\t\t\t\tstyle="right: 0px;top: 0px;padding:9px 5px 5px;" \n\t\t\t\t\t\t\t\t\tclass="icon-Close pos_abs F8 color99 cursor close"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ul style="max-height:225px;left:0px;width:230px;position:relative;border:none;padding: 5px 0px;">\n\t\t\t\t\t\t\t\t<li class="color88 F13 lineHeight30"\n\t\t\t\t\t\t\t\t\tng-repeat="tagId in customTagList"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span ng-click="toggleTagSelection(tagId);$event.stopPropagation();">\n\t\t\t\t\t\t\t\t\t\t<span class="icon-checkbox F14 cursor color99 floatL marginT8"\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tng-class="{\'icon-checkboxFilled\': dashboardContentsCtrl.dropdownSelectedTagList.indexOf(tagId) !== -1}"\n\t\t\t\t\t\t\t\t\t\t\tstyle="display: inline-block;vertical-align: middle;"></span>\n                    <div class="marginL24" ng-class="{\'color00\':dashboardContentsCtrl.dropdownSelectedTagList.indexOf(tagId) !== -1}" style="white-space:normal;">{{dashboardContentsCtrl.tagDetailsMap[tagId].tagName}}</div>\n                    <div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t<div class="textalign_C paddingT10 paddingB10 borderT_dd">\n\t\t\t\t\t\t\t\t<div class="cursor display_IB paddingR20 paddingL20" \n\t\t\t\t\t\t\t\t\tng-click="resetSelection();$event.stopPropagation();" ng-class="{\'color0072bc\': dropdownSelectedTagList.length > 0}" mt-trans="DASHBOARD_CLEAR_ALL"></div>\n\t\t\t\t\t\t\t\t<div class="borderR16 lineHeight30 cursor display_IB paddingL25 paddingR25 colorff bg_dd" ng-class="{\'bg_0072bc\': dropdownSelectedTagList.length > 0}"\n\t\t\t\t\t\t\t\t\tng-click="onApplyTags();" mt-trans="APPLY"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\t\n\t\n\t<div style="margin-left:270px;background-color:#f9f9f9;"\n\t\t wt-step="2"\n\t\t wt-group="demo"\n\t\t wt-text="{{ \'WT_M_FILE_LIST\' | translate }}"\n\t\t wt-title="<div class=\'icon-asset F18 floatL marginR8\'></div><div class=\'floatL F14 marginT4 lineHeight14\'>{{ \'File List\' }}</div>"\n\t\t wt-position="left"\n         class="contentPageHeight paddingL5 paddingR20 scrollContainer">\n\t\t<div class="pos_rel">\n\t\t\t<div class="pos_abs" style="left: 85px;top: 15px;">\n                <div class="pos_abs autocomplete-results" style="left: 5px; top: 12px; z-index: 100;" ng-if="!resultFound && clickInPreviewDD && showDropDown && dashboardContentsCtrl.searchquery.length >= 3 && dashboardContentsCtrl.suggestions.length == 0 && !dashboardContentsCtrl.initialContentLoading">\n                    <div style="width:348px;left:0;top:0px;box-shadow:0px 1px 0px #dadada;" class="ddBG1 pos_abs">\n                        <div class="F13 lineHeight30 color99 i" style="border-bottom:1px solid #ccc;padding:0px 20px">Press Enter to see all results for "{{dashboardContentsCtrl.searchquery}}"</div>\n                        <ul class="lineHeight45 listHolder" style="margin:0;padding:0;max-height:240px;overflow-y:auto">\n                            <li class="hover_f7 lineHeight20 color00 F13  checkbox_parent cursor selected" style="padding: 10px 15px; ">\n                                No Result found\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="pos_abs autocomplete-results" ng-if="showPreviewDD()" style="left: 5px; top: 12px; z-index: 100;">\n                    <div style="width:348px;left:0;top:0px;box-shadow:0px 1px 0px #dadada;" class="ddBG1 pos_abs">\n                        <div class="F13 lineHeight30 color99 i" style="border-bottom:1px solid #ccc;padding:0px 20px"><span translate="PRESS_ENTER_TO"></span> <span translate="SEE_ALL_RES"></span>"{{dashboardContentsCtrl.searchquery}}"</div>\n                        <ul class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content ui-corner-all" id="contentSearch" tabindex="0" style="top: 14px; left: 0px; z-index: 1; width: 347px !important;padding:0px;border-bottom: 0px;">\n                            <li ui-sref=".participant({uid:suggested.id})" ng-repeat="suggested in dashboardContentsCtrl.suggestions" class="hover_f7 lineHeight20 F13 borderB_ee checkbox_parent cursor selected" style="padding: 10px;" ng-click="previewSuggestedContent(suggested)">\n                                <div ng-class="getContentClass(suggested.type)" class="floatL pos_rel marginR10">\n                                    <div style="top:-8px;right:-4px" class="viewedIcon pos_abs"></div>\n                                </div>\n                                <div class="floatL F13 lineHeight20 marinR10" style="width: 235px;">\n                                    <div class="color00 marginB2 ng-binding" style="text-overflow: ellipsis;overflow: hidden;white-space: nowrap;">{{suggested.title}}</div>\n                                    <div class="color99" style="text-overflow: ellipsis;overflow: hidden;white-space: nowrap;">\n                                        <span class="ng-binding">{{suggested.entity_name}}</span>\n                                        <span class="ng-binding">, {{getNiceDate(suggested.added_on)}}</span>\n                                    </div>\n                                </div>\n                                <div class="clear"></div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n\t\t\t</div>\n\t\t\t<div class="ofh marginT20 marginB25 lineHeight30">\n\t\t\t\t<div class="floatL F20 marginR10" ng-class="{\'icon-star color00 marginT5\':dashboardContentsCtrl.isStared,\'icon-allFiles marginT4\':!dashboardContentsCtrl.isStared}"></div>\n\t\t\t\t<div class="floatL F16 color00 lineHeight30" data-ng-bind-html="dashboardContentsCtrl.currentContentsTitle"></div>\n\t\t\t\t<div class="floatL F13 color0072bc cursor marginL30"\n\t\t\t\t\t ng-if="dashboardContentsCtrl.searchQuery.length > 0"\n\t\t\t\t\t ng-click="clearGlobalSearch()">Clear Search</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\n        <!--<div class="paddingT10 paddingB15 borderT_ee F14" ng-if="dashboardContentsCtrl.displaySearchInfoHeader">-->\n            <!--{{Game.Messages.LB_TXT_SEARCH_RESULT_FOR1}} <span class="bold">"{{decodeURIComponent(dashboardContentsCtrl.searchQuery)}}"</span>-->\n        <!--</div>-->\n        <div ng-show="dashboardContentsCtrl.initialContentLoading" style="margin-left:270px" class="paddingR20 paddingT50">\n\t\t\t<!-- img ng-src="{{loaderImg}}"/-->\n\t\t\t<img ng-src="{{smallLoader}}"/>\n\t\t</div>\n\t\t<div class="bg_ff newBoxShadow marginB30"\n\t\t\t style="min-width: 870px;"\n\t\t\t infinite-scroll="dashboardContentsCtrl.loadNextPageContents()"\n\t\t\t infinite-scroll-container="\'.scrollContainer\'"\n\t\t\t infinite-scroll-immediate-check="false"\n\t\t\t infinite-scroll-use-document-bottom="false"\n\t\t\t infinite-scroll-distance="10"\n\t\t\t infinite-scroll-disabled="dashboardContentsCtrl.moreContentsLoading ||\n\t\t\t \tdashboardContentsCtrl.initialCoursesLoading ||\n\t\t\t \tdashboardContentsCtrl.currentContents.length >= dashboardContentsCtrl.totalContents">\n\t\t\t<div ng-show="dashboardContentsCtrl.currentContents.length==0 && false"\n\t\t\t\t style="padding:20px"\n\t\t\t\t class="color00 F13" mt-trans="LB_TXT_NO_RESULT_FOUND"></div>\n\t\t\t<div dashboard-content-list-row ng-repeat="content in dashboardContentsCtrl.currentContents" content="content"></div>\n\t\t\t<div ng-click="dashboardContentsCtrl.loadNextPageContents()" \n\t\t\t\tng-show="dashboardContentsCtrl.moreContentsLoading==false && dashboardContentsCtrl.totalContents>0 && dashboardContentsCtrl.currentContents.length<dashboardContentsCtrl.totalContents && !dashboardContentsCtrl.initialContentLoading" \n\t\t\t\tstyle="text-align:center;margin:15px;" class="paddingT20 paddingB20 cursor color0072bc" mt-trans="LB_TXT_LOAD_MORE"></div>\n\t\t\t<div ng-show="dashboardContentsCtrl.moreContentsLoading && !dashboardContentsCtrl.initialContentLoading" style="text-align:center;" class="paddingT20 paddingB20">\n\t\t\t\t<img ng-src="{{smallLoader}}"/>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="dashboardContentsCtrl.totalContents==0 && !dashboardContentsCtrl.isStared && !dashboardContentsCtrl.searchQuery && !dashboardContentsCtrl.isAnyFilterApplied() && !dashboardContentsCtrl.initialContentLoading" class="textalign_C color88" style="margin-top:100px">\n        \t<div class="noEmptyImg" style="margin:0 auto 20px"></div>\n        \t<div class="F18 lineHeight30 marginT5" translate="NO_FILES_TO_VIEW"></div>\n        \t<div class="F13 lineHeight20" translate="ASSIGNED_FILE_WILL_BE_SHOWN_HERE"></div>\n        </div>\n        <div ng-if="dashboardContentsCtrl.totalContents==0 && dashboardContentsCtrl.searchQuery && !dashboardContentsCtrl.initialContentLoading" class="textalign_C color88" style="margin-top:100px">\n        \t<div class="noSearchResultImg" style="margin:0 auto 20px"></div>\n        \t<div class="F18 lineHeight30 marginT5" translate="NO_RESULT_FOUND"></div>\n        \t<div class="F13 lineHeight20" translate="TRY_ADJUSTING_YOUR_SEARCH"></div>\n        </div>\n        <div ng-if="dashboardContentsCtrl.totalContents==0 && dashboardContentsCtrl.isAnyFilterApplied() && !dashboardContentsCtrl.searchQuery && !dashboardContentsCtrl.initialContentLoading" class="textalign_C color88" style="margin-top:100px">\n        \t<div class="noTagsDirectionImg" style="margin:0 auto 20px"></div>\n        \t<div class="F18 lineHeight30 marginT5" translate="FILTERS_HAVE_LEAD_YOU_NOWHERE"></div>\n        \t<div class="color88 F13 lineHeight18">\n\t\t\t\t<span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n\t\t\t\t<span class="cursor color0072bc" translate="RESET_FILTERS" ng-click="dashboardContentsCtrl.resetFilters()"></span>\n\t\t\t</div>\n        </div>\n        <div ng-if="dashboardContentsCtrl.totalContents==0 && dashboardContentsCtrl.isStared && !dashboardContentsCtrl.isAnyFilterApplied() && !dashboardContentsCtrl.initialContentLoading" class="textalign_C color88" style="margin-top:100px">\n        \t<div class="noStarredImg" style="margin:0 auto 20px"></div>\n        \t<div class="F18 lineHeight30 marginT5" translate="YOU_HAVENOT_STARRED_ANY_FILES"></div>\n        \t<div class="F13 lineHeight20">\n        \t\t<span translate="HOW_ABOUT_FINDING_SOME_USEFUL_FILES"></span>\n        \t\t<span class="color0072bc cursor" ui-sref="root.contents({\'starred\':false})" translate="LB_TXT_ALL_FILES"></span>\n        \t</div>\n        </div>\n\t</div>\n\t<div class="clear"></div>\n\t<div ui-view class="display_N">dummy</div><!-- This is view single content from content files DO NOT REMOVE -->\n</div>\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/dashboard-notifications.html",'<div class="dashBoardLeftHeight">\n    <div class=""\n         infinite-scroll="fetchNext()"\n         infinite-scroll-distance="0"\n         infinite-scroll-disabled="!store || store.loading || store.currentNotifs.length >= store.totalNotifs"\n         infinite-scroll-parent="true"\n         style="width:860px;margin:20px auto 0;">\n        <div class="marginT25 marginB25 lineHeight20">\n            <div class="floatL F16 color00">\n                <div class="floatL icon-notification F20 marginR10"></div>\n                <div class="floatL" translate="NOTIFICATIONS">Notifications</div>\n                <div class="clear"></div>\n            </div>\n            <div class="floatR color99 F13 cursor" ng-click="store.markAllRead()" translate="MARK_ALL_AS_READ">Mark all as read</div>\n            <div class="clear"></div>\n        </div>\n        <div class="marginB20" ng-repeat="sequence in store.timewiseDividedNotifs.sequences">\n            <div class="color99 lineHeight20 marginB10">\n                <div class="floatL icon-calendar F14 marginT2 marginR7"></div>\n                <div class="floatL F11 textTransform">{{sequence}}</div>\n                <div class="clear"></div>\n            </div>\n            <div class="newBoxShadow1 bg_ff">\n                <div class="notifListParent">\n                    <div class="notifList" ng-repeat="notification in store.timewiseDividedNotifs[sequence]" notification-type></div>\n                </div>\n            </div>\n        </div>\n        <div ng-show="store && store.totalNotifs==0">\n        \t<div class="cursor_d ng-scope" translate="NO_NOTIFS">You have no notification.</div>\n        </div>\n        <div class="marginB20" ng-if="!store || store.loading">\n            <div class="color99 lineHeight20 marginB10">\n                <div class="floatL icon-calendar F14 marginT2 marginR7"></div>\n                <div class="floatL F11 textTransform animated-background marginT5" style="height: 10px; width: 69px;"></div>\n                <div class="clear"></div>\n            </div>\n            <div class="newBoxShadow1 bg_ff">\n                <div class="notifListParent">\n                    <div class="notifList" ng-if="!store || store.loading"\n                         ng-init="notification={type: \'LOADING\', subType: \'ANIMATED_LOADER\'}"\n                         notification-type>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div ng-if="announcement && store && store.notificationById[announcement]" announcement-detail id="{{announcement}}"></div>\n    </div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/dashboard-participant-snippet.html",'<div style="padding:30px 10px; height:246px;" class="floatL bg_ff newBoxShadow pos_rel marginR30 marginB40">\n\t<div ng-show="participantsCtrl.entity" class="pos_abs border_cc bg_f9" style="padding:6px 10px;left:-13px;top:8px;">\n\t\t<div class="floatL color99 F12 lineHeight24 marginR6">{{user.entity_score}}</div>\n\t\t<div class="floatL" data-ng-bind-html="participantsCtrl.getMedalCss(user.entity_score)"></div>\n\t\t<div class="clear"></div>\t\t\t\t\n\t</div>  \n\t<div style="width:230px" class="textalign_C">\n\t   <div class="marginB10">\n\t\t\t<div style="left:50%" class="floatL pos_rel">\n\t\t\t\t<div style="left:-50%" class="floatL pos_rel">\n\t\t\t\t\t<img ui-sref="root.participant({uid:user.id,lObj:user})" class="cursor fs-hide" style="width:64px;height:64px;border-radius:50%;" alt="" ng-src="{{user.pic}}">\n\t\t\t\t\t<div style="right:-43px;top:16px" class="pos_abs">\n\t\t\t\t\t\t<div class="floatL halfStar_11_16 marginT8"></div>\n\t\t\t\t\t\t<!--div class="floatL lineHeight32 colorf48414 F18">{{participantsCtrl.getKScore(user.company_score)}}</div-->\n\t\t\t\t\t\t<div class="floatL lineHeight32 colorf48414 F18">{{participantsCtrl.getUserKscore(user)}}</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div ui-sref="root.participant({uid:user.id,lObj:user})" class="cursor color00 F16 lineHeight26 fs-hide">{{user.name | characters:15}}</div>\n\t\t\t<div class="color99 F13 lineHeight20" ng-repeat="fieldVal in user.firstTwoFieldsArr track by $index">{{fieldVal | characters:15}}</div>\n\t\t<div>\n\t\t\t<div style="left:50%" class="floatL pos_rel">\n\t\t\t\t<div style="left:-50%" class="floatL pos_rel">\n\t\t\t\t\t<div ng-show="globalCtrl.getMyId()==user.id" ng-click="globalCtrl.openEditProfile(false)" class="blueBorderBtn_30 F13 paddingL17 paddingR17 marginT15" mt-trans="PROFILE_EDIT_PIC"></div>\n\t\t\t\t\t<div ng-if="!participantsCtrl.entity || settings.fixed.isMessages">\n\t\t\t\t\t\t<div ng-hide="globalCtrl.getMyId()==user.id" ng-click="globalCtrl.sendPrivateMessage(user)" class="blueBorderBtn_30 F13 paddingL17 paddingR17 marginT15" mt-trans="MSG_BTN_TXT"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\t\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/dashboard-participants.html",'<div class="participantSection">\n\t<div ng-if="participantsCtrl.entity" class="borderT15_transparent  cursor marginL20">\n\t\t<div class="cursor floatL" ng-click="globalCtrl.goback()">\n\t\t\t<div class="floatL marginR5 marginT4 backArrow_10_16"></div>\n\t\t\t<div class="floatL color99 F14 lineHeight24" mt-trans="BACK_TEXT">Back</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n\t<div class="floatL participantPageHeight" style="width:270px">\n\t\t<div ng-style="{\'padding-top\':(!participantsCtrl.entity) ? \'70px\':\'50px\'}" style="padding:50px 20px 30px">\n\t\t\t<div class="paddingB25" \n\t\t\t\t ng-if="participantsCtrl.isPartnerTraining"\n\t\t\t\t ng-init="myVal=true">\n\t\t\t\t<div class="color99 lineHeight20 marginB8">\n\t\t\t\t\t<div ng-click="myVal=!myVal"\n\t\t\t\t\t\t class="floatL F10 marginT5" \n\t\t\t\t\t\t ng-class="{\'icon-triangleDown\':myVal,\'icon-triangleRight\':!myVal}"></div>\n\t\t\t\t\t<div class="floatL F11 marginL7">My Groups</div>\n\t\t\t\t\t<div class="floatL icon-tag F13 marginT4 marginL9"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-show="myVal">\n\t\t\t\t\t<div ng-repeat="myGroup in participantsCtrl.myGroupsSection"\n\t\t\t\t\t\t ng-click="participantsCtrl.setGroup(myGroup.id)"\n\t\t\t\t\t\t ng-class="{Active:participantsCtrl.group==myGroup.id}"\n\t\t\t\t\t\t class="floatL tagDiv">{{myGroup.name}}({{myGroup.count}})</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="paddingB10" \n\t\t\t\t ng-if="globalCtrl.getProfileFieldName(profileField)!=\'NA\' && !participantsCtrl.isPartnerTraining"\n\t\t\t\t ng-hide="participantsCtrl.loadingTags"\n\t\t\t\t ng-repeat="(profileField,tags) in participantsCtrl.tagSections track by $index">\n\t\t\t\t<div class="color99 lineHeight20 marginB8">\n\t\t\t\t\t<div ng-click="myVal=!myVal" ng-init="myVal=($index==0)"\n\t\t\t\t\t\t class="floatL F10 marginT5 cursor" \n\t\t\t\t\t\t ng-class="{\'icon-triangleDown\':myVal,\'icon-triangleRight\':!myVal}"></div>\n\t\t\t\t\t<div ng-click="myVal=!myVal" class="floatL F11 marginL7 cursor">{{globalCtrl.getProfileFieldName(profileField)}}</div>\n\t\t\t\t\t<div class="floatL icon-tag F13 marginT4 marginL9"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-show="myVal">\n\t\t\t\t\t<div ng-if="tagName!=\'\'"\n\t\t\t\t\t\t ng-click="participantsCtrl.setCurrentTag(profileField,tag.key)"\n\t\t\t\t\t\t ng-class="{Active:participantsCtrl.currentTagValue==tag.key}"\n\t\t\t\t\t\t ng-repeat="tag in tags"\n\t\t\t\t\t\t class="floatL tagDiv">{{tag.key}}({{tag.val}})</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div ng-show="participantsCtrl.initialParticipantsLoading" style="margin-left:270px" class="paddingT50 paddingL10">\n\t\t<img ng-src="{{smallLoader}}"/>\n\t</div>\n\t<div ng-hide="participantsCtrl.initialParticipantsLoading" style="margin-left:270px" class="participantPageHeight paddingL15 paddingR20">\n\t    <div ng-class="{borderT20_transparent:!participantsCtrl.entity}" class="borderB22_transparent">\n\t\t    <div class="floatL color00 lineHeight30">\n\t\t    \t<div class="floatL icon-peers1 F15 marginR8 marginT7"></div>\n\t\t    \t<div class="floatL F16" translate="DASHBOARD_TAB_TIP_PEERS">Peers</div>\n\t\t    \t<div class="clear"></div>\n\t\t    </div>\n\t\t\t<div class="floatR pos_rel dropdown marginT5">\n\t\t\t\t<div class="dropdown-toggle color99" style="border: none;" aria-haspopup="true" aria-expanded="true">\n\t                <div style="padding:0 25px 0 0px;background:transparent;color:#999;" class="dropdown-text lineHeight20">{{participantsCtrl.getCurrentSortText()}}</div>\n\t                <div class="icon-ddArrowBottom F7 color99 pos_abs" style="top:7px;right:2px"></div>\n\t            </div>\n\t            <div class="dropdown-menu" style="width:160px;top:30px;padding: 0;margin:0;border:0;left:auto;right:0;">\n\t                <ul class="newBoxShadow" style="max-height:152px;">\n\t                    <li ng-if="!participantsCtrl.entity" \n\t                    \tclass="ellipsis" \n\t                    \tng-class="{\'color00\':(participantsCtrl.sorton==\'companies.score.value\' && participantsCtrl.sortorder==\'desc\')}"\n\t                    \tng-click="participantsCtrl.changeSortOnWithOrder(\'companies.score.value\',\'desc\')" \n\t                    \ttranslate="DASHBOARD_PART_SORT_KSCORE_DESC">Top Scorer First</li>\n\t                    <li ng-if="!participantsCtrl.entity" \n\t                    \tclass="ellipsis" \n\t                    \tng-class="{\'color00\':(participantsCtrl.sorton==\'companies.score.value\' && participantsCtrl.sortorder==\'asc\')}"\n\t                    \tng-click="participantsCtrl.changeSortOnWithOrder(\'companies.score.value\',\'asc\')" \n\t                    \ttranslate="DASHBOARD_PART_SORT_KSCORE_ASC">Top Scorer Last</li>\n\t                    <li ng-if="participantsCtrl.entity" \n\t                    \tclass="ellipsis" \n\t                    \tng-class="{\'color00\':(participantsCtrl.sorton==\'companies.entities.score.value\' && participantsCtrl.sortorder==\'desc\')}"\n\t                    \tng-click="participantsCtrl.changeSortOnWithOrder(\'companies.entities.score.value\',\'desc\')" \n\t                    \ttranslate="DASHBOARD_PART_SORT_KSCORE_DESC">Top Scorer First</li>\n\t                    <li ng-if="participantsCtrl.entity" \n\t                    \tclass="ellipsis" \n\t                    \tng-class="{\'color00\':(participantsCtrl.sorton==\'companies.entities.score.value\' && participantsCtrl.sortorder==\'asc\')}"\n\t                    \tng-click="participantsCtrl.changeSortOnWithOrder(\'companies.entities.score.value\',\'asc\')" \n\t                    \ttranslate="DASHBOARD_PART_SORT_KSCORE_ASC">Top Scorer Last</li>\n\t                    <li class="ellipsis" \n\t                    \tng-class="{\'color00\':(participantsCtrl.sorton==\'name\' && participantsCtrl.sortorder==\'asc\')}"\n\t                    \tng-click="participantsCtrl.changeSortOnWithOrder(\'name\',\'asc\')" \n\t                    \ttranslate="A_Z">A-Z</li>\n\t                    <li class="ellipsis" \n\t                    \tng-class="{\'color00\':(participantsCtrl.sorton==\'name\' && participantsCtrl.sortorder==\'desc\')}"\n\t                    \tng-click="participantsCtrl.changeSortOnWithOrder(\'name\',\'desc\')" \n\t                    \ttranslate="Z_A">Z-A</li>\n\t                </ul>\n\t            </div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n        <div class="paddingT10 paddingB15 borderT_ee F13" ng-if="participantsCtrl.displaySearchInfoHeader">\n\t\t\t<div class="floatL">\n            {{Game.Messages.LB_TXT_SEARCH_RESULT_FOR1}} <span class="bold">"{{decodeURIComponent(participantsCtrl.searchQuery)}}"</span>\n\t\t\t</div>\n\t\t\t<div class="floatL F13 color0072bc cursor marginL30"\n\t\t\t\t ng-if="participantsCtrl.displaySearchInfoHeader"\n\t\t\t\t ng-click="clearGlobalSearch()">\n\t\t\t\tClear Search\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div  infinite-scroll="participantsCtrl.loadNextPageParticipants()" infinite-scroll-distance="0" infinite-scroll-disabled="participantsCtrl.moreParticipantsLoading || participantsCtrl.totalParticipants===0|| participantsCtrl.currentParticipants.length>=participantsCtrl.totalParticipants"  infinite-scroll-immediate-check="false">\n\t\t\t<div dashboard-participant-snippet ng-repeat="user in participantsCtrl.currentParticipants track by $index"></div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div ng-click="participantsCtrl.loadNextPageParticipants()" ng-show="participantsCtrl.moreParticipantsLoading==false && participantsCtrl.totalParticipants>0 && participantsCtrl.currentParticipants.length<participantsCtrl.totalParticipants" style="text-align:center;margin:15px;" class="paddingR20 cursor color0072bc" mt-trans="LB_TXT_LOAD_MORE"></div>\n\t\t<div ng-show="participantsCtrl.moreParticipantsLoading" style="margin-left:245px" class="paddingR20"><img ng-src="{{smallLoader}}"/></div>\n\t\t<div ng-show="participantsCtrl.initialParticipantsLoading==false && participantsCtrl.currentParticipants.length==0"class="textalign_C color88" style="margin-top:100px">\n\t     \t<div class="noSearchResultImg" style="margin:0 auto 20px"></div>\n\t     \t<div class="F18 lineHeight30 marginT5" translate="NO_RESULT_FOUND"></div>\n\t     \t<div class="F13 lineHeight20" translate="TRY_ADJUSTING_YOUR_SEARCH"></div>\n\t    </div>\n\t</div>\n\t<div class="clear"></div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/dashboard.html",'<div walkthrough wt-start="startWalkthrough"\n     wt-next="goNextStepWalkThrough"\n     wt-prev="goPrevStepWalkThrough"\n     wt-cancel="cancelWalkthrough"\n     wt-active="walkThroughActive">\n    <div class="bg_ff lineHeight36 borderB_ee"\n\t style="padding:12px 15px;box-shadow:0 0px 2px #eaeaea;min-width:1020px">\n        <div class="floatL pos_rel">\n            <div ng-click="globalCtrl.gotoHome()" ng-if="showLSHomeImg()" class="floatL marginR13 cursor">\n                <img ng-src="{{getLSHomeImg()}}" style="max-height:36px;width:auto;"/>\n            </div>\n            <div ng-click="globalCtrl.gotoHome()" class="floatL color00 F18 lsName cursor fs-hide">{{lsDisplayName}}</div>\n            <div ng-hide="hideTopSearchBox()" class="floatL displayInflex pos_rel border_bb borderR2 marginL35" style="padding: 7px 10px;border: 1px solid #aaa;">\n                <div style="left: 8px;top: 10px;" class="icon-search pos_abs color99 F15"></div>                \n                <div ng-if="searchTagOnly && !clickInPreviewDD && (searchQuery || \'\').trim()" class="lineHeight20 pos_abs bg_ff marginL20" style="width:270px;top:7px;cursor:text;" \n                ng-click="hideText()">\n                Content with {{searchQuery}}... Tags\n              </div> \n                <input type="text"\n                       id="search_input"\n                       maxlength="100"\n                       click-anywhere-but-here="onClickOut()"\n                       ng-click="onClickIn()"\n                       ng-keypress="($event.which === 13)?triggerSearch(\'via_enter\', searchQuery):globalCtrl.keyup()"\n                       ng-keydown="handleKeyDown($event)"\n                       placeholder="{{globalCtrl.getSearchPlaceHolderText()}}"\n                       autocomplete="off"\n                       ng-model="searchQuery",\n                       ng-focus="currentKBActiveItem=-1"\n                       class="lineHeight22 F13 global-search-input" style="width: 300px;height: 20px;border: 0px;padding: 0px 10px 0 20px;outline: 0px;color:#000;background: none;">                \n                <div style="right:5px; top: 12px;" class="icon-Close pos_abs F10 color99 cursor"\n                     ng-if="searchQuery && searchQuery.length > 0" ng-click="clearSearch($event);"></div>\n                <global-search-suggestions ng-if="globalCtrl.dashboardSearchType==\'GLOBAL\'"></global-search-suggestions>     \n                <div ng-if="globalCtrl.dashboardSearchType!=\'GLOBAL\' && showPreviewDD()" class="pos_abs autocomplete-results"\n                     style="left: -1px; top: 35px; z-index: 100;">\n                    <div style="width:322px;left:0;top:0px;box-shadow:0px 1px 0px #dadada;" class="ddBG1 pos_abs">\n                        <div class="F13 lineHeight30 color99 i" style="border-bottom:1px solid #ccc;padding:0px 20px">\n                            <span translate="PRESS_ENTER_TO"></span> <span translate="SEE_ALL_RES"></span>"{{searchQuery}}"\n                        </div>\n                        <ul class="lineHeight45 listHolder" style="margin:0;padding:0;max-height:240px;overflow-y:auto">\n                            <li class="hover_f7 lineHeight20 color00 F13  checkbox_parent cursor selected"\n                                ng-repeat="suggested in suggestions" style="padding: 5px 10px;" ng-click="openEntity(suggested)">\n                                <div>\n                                    <div ng-class="getIconClassForItem(suggested).tag"\n                                         class="floatL marginT2 marginR10"\n                                         style="width: 16px;height: 16px;font-size: 10px;line-height: 16px;">\n                                        {{getIconClassForItem(suggested).type}}\n                                    </div>\n                                    <div class="floatL"\n                                         style="width: 248px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"\n                                         ng-if="suggested.name">\n                                        {{suggested.name}}\n                                    </div>\n                                    <div class="floatL"\n                                         style="width: 248px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"\n                                         ng-if="suggested.title">\n                                        {{suggested.title}}\n                                    </div>\n                                    <div class="floatR marginT2 marginR10 lockCIcon"\n                                         ng-show="suggested.type != \'SERIES\' && suggested.lockState == \'LOCKED\'">&nbsp;\n                                    </div>\n                                    <div class="clear"></div>\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="clear"></div>\n                \n                <div style="left: 350px;top: -1px;z-index: 2;" class="cmn_dd pos_abs" ng-if="hasNotSeenNewSearch()">\n\t\t\t        <div style="left: -13px;top: 5px;z-index: 2;" class="triangleLeft_28_14 pos_abs"></div>\n\t\t\t        <div class="ddBG pos_rel borderR2 newBoxShadow" style="width:auto;padding: 8px 20px 8px 10px;">\n\t\t\t            <div class="lineHeight22 textalign_L" style="width: 230px;">\n\t\t\t                <div style="right: 0px;top: 0px;padding: 8px 8px 5px 5px;" class="icon-Close pos_abs F10 color99 cursor " ng-click="setSeenNewSearch()"></div>\n\t\t\t\t\t\t\t<div class="color00 F13">Introducing Improved Search</div>\n\t\t\t\t\t\t\t<div class="color99 F12 lineHeight18 marginT5">Go ahead and find Series, Modules, Files and Peers from one place.</div>\n\t\t\t\t\t\t\t<div class="F12 marginT8">\n\t\t\t\t\t\t\t\t<a class="color0072bc txtDecoration_N" target="_blank" href="https://help.mindtickle.com/support/solutions/articles/3000069673-global-search-walkthrough" ng-click="setSeenNewSearch()">To know more, click here.</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t            </div>\n\t\t\t        </div>\n\t\t\t    </div>\n                \n            </div>\n            <div class="clear"></div>\n        </div>\n        <div class="floatR">\n\t\t\t<div ng-if="showAnalyticsLink" class="floatL lineHeight28 F13 marginT3 cursor buttonLearningSiteStyle marginR10" style="\n            border-radius: 16px;color: #0072bc;border: 1px solid rgb(0, 114, 188);padding: 0 10px;">\n       \t\t\t<a href="{{showAnalyticsLink}}" target="_blank" style="color: #0072bc;">\n\t\t\t   \t\t<div class="floatL cursor" mt-trans="TXT_SRI_DASHBOARD">SRI Dashboard</div>\n\t\t\t   \t\t<div class="clear"></div>\n\t\t\t   </a>\n        \t</div>\n            <div ng-if="userIsManager" ng-click="goToManagerAnalytics()" class="floatL lineHeight28 F13 marginT3 cursor buttonLearningSiteStyle" style="\n            border-radius: 16px;color: #0072bc;border: 1px solid rgb(0, 114, 188);padding: 0 10px;">\n        \t\t\t<div mt-trans="TXT_YOUR_TEAM_REPORT">Your Team\'s Report</div>\n            </div>\n            <div ng-controller="NotficationsCtrl as notifCtrl" class="floatL pos_rel marginL40">\n                <div class="floatL">\n                    <div class="floatL menuItem" click-anywhere-but-here="globalCtrl.hideNotifications()"\n                         ng-click="globalCtrl.toggleNotifications(store.numUnseenNotifs);notifCtrl.markAllNotifsSeen();">\n                        <div class="icon-notification hoverBlack F20 color99 cursor marginT8 notificationIcon_Section pos_rel"\n                            ng-class="{ active:activeMenu==2}">\n                            <div ng-show="store.numUnseenNotifs>0"\n                                class="ff_opanSans pos_abs bg_ff6266 textalign_C colorff F12 lineHeight18 borderR9"\n                                style="height:18px;min-width:18px;top: -8px;left: 13px;">\n                                    {{store.numUnseenNotifs}}\n                            </div>\n                            <div ng-click="$event.stopPropagation()" notif-drop-down></div>\n                        </div>\n                    </div>\n                    <div class="floatL menuItem marginL30 " click-anywhere-but-here="globalCtrl.hideMessages()"\n                         ng-click="globalCtrl.toggleMessages(); notifCtrl.markAllMessagesRead();">\n                        <div class="icon-mail hoverBlack F17 color99 cursor marginT9 messageIcon_Section pos_rel"\n                             ng-class="{ active:activeMenu==1}">\n                            <div ng-show="notifCtrl.numUnreadMessages>0"\n                                 class="ff_opanSans pos_abs bg_ff6266 textalign_C colorff F12 lineHeight18 borderR9"\n                                 style="height:18px;min-width:18px;top: -8px;left: 15px;">{{notifCtrl.numUnreadMessages}}</div>\n                            <div class="ff_opanSans cmn_dd pos_rel" style="right:0px;top:12px;z-index:100" ng-show="activeMenu==1">\n                                <!--  div class="triangleTop_28_14 pos_abs" style="right:-5px;top:-2px;z-index:1;"></div-->\n                                <div style="width:363px;max-height:295px;overflow-y:auto;right: -40px;top: 11px;" class="ddBG pos_abs newBoxShadow custRow">\n                                    <ul style="margin:0;padding:0;">\n                                        <li class="color00 F13 lineHeight18" style="padding-top:7px !important;padding-bottom:7px !important;">\n                                            <div translate="MESSAGES"\n                                                 translate-value-num_1="{{notifCtrl.numUnreadMessages}}"></div>\n                                        </li>\n                                        <li ng-show="notifCtrl.totalMessages==0"\n                                            class="hover_f9 cursor color00 F13 lineHeight18">\n                                            <div mt-trans="NO_MESSAGES" mt-trans-evt="showPopop()" mt-trans-val-num="0">\n                                            </div>\n                                        </li>\n                                        <div private-message ng-repeat="message in notifCtrl.currentMessages"></div>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="clear"></div>\n                </div>\n                <div class="clear"></div>\n            </div>\n\n            <!--div ng-click="globalCtrl.showGetSupport()" class="floatL icon-help hoverBlack F20 color99 cursor marginT8 marginL40"></div-->\n            <div class="floatL ddParent marginL30 cursor" click-anywhere-but-here="globalCtrl.hideProfileDD()">\n\n                <div ng-show="{{globalCtrl.pic==\'\'}}"\n                     click-anywhere-but-here="globalCtrl.hideProfileDD()"\n                     ng-click="globalCtrl.toggleProfileDD()"\n                     class="icon-defaultprofile F32 color99  cursor marginT2"></div>\n                <img ng-show="{{globalCtrl.pic!=\'\'}}"\n                     ng-click="globalCtrl.toggleProfileDD()"\n                     ng-src="{{globalCtrl.pic}}" alt="" style="width:32px;height:32px;border-radius:50%;display:block;" class="fs-hide"/>\n                <div class="commonDD cursor pos_rel">\n                    <div click-anywhere-but-here="globalCtrl.kscoreChanged=false"\n                         class="ddDiv pos_rel" style="right:-52px;top:7px;z-index:11" ng-show="globalCtrl.kscoreChanged">\n                        <div style="width:235px;right:20px;top:11px;padding:10px 15px" class="ddBG1 pos_abs newBoxShadow">\n                            <div class="lineHeight20 F13 color00"  translate="KSCORE_WENT_UP"\n                                 translate-value-a="{{globalCtrl.kscoreUpBy}}" translate-value-b="{{globalCtrl.kscoreUpBy*100}}"></div>\n                        </div>\n                    </div>\n                    <div class="ddDiv pos_rel" style="right:-52px;top:7px;z-index:11" ng-show="showProfileDD==1">\n                        <div style="width:190px;right:20px;top:10px;" class="ddBG1 pos_abs">\n                            <ul style="margin:0;padding:0;" class="newBoxShadow headerProfileDD">\n                                <li ng-click="globalCtrl.openParticipants(globalCtrl.getMyId())" translate="MY_PROFILE"></li>\n                                <li class="restartTutorial" ng-click="expandTutorialClick()">\n                                \t<div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatL" translate="VIEW_TUTORIALS">View Tutorial</div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatR downArrow_12_7 marginL10 marginT14"\n\t\t\t\t\t\t\t\t\t\t\t ng-class="{\'upArrow_12_7\': expandtutorial}"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</div>\n                                </li>\n                                <li class="restartSubTutorial" ng-show="expandtutorial">\n                                \t<ul>\n                                \t\t<li ng-click="globalCtrl.openVideoWalk()" style="padding:0 0 0 10px !important" translate="NEW_DASHBOARD">Dashboard</li>\n                                \t\t<li ng-click="showGlobalSearchIntroVideo()" style="padding:0 0 0 10px !important" translate="GLOBAL_SEARCH">Global Search</li>\n                                \t</ul>\n                                </li>\n                                <li ng-click="signOut()" translate="SIGN_OUT_CAMEL"></li>\n                                <!--li ui-sref="root.participant({uid:globalCtrl.getMyId()})"\n                                    ng-click="showProfileDD=0;" class="hover_f9 color37 F13" style="padding-top:10px !important;padding-bottom:10px !imporatnt;">\n                                    <div class="floatL" style="width:28px">\n                                        <div ng-show="{{globalCtrl.pic==\'\'}}" class="icon-defaultprofile F32 color99"></div>\n                                        <img ng-show="{{globalCtrl.pic!=\'\'}}" ng-src="{{globalCtrl.pic}}" alt="" style="width:28px;height:28px;border-radius:50%;"/>\n                                    </div>\n                                    <div class="floatL marginL10">\n                                        <div class="lineHeight15" translate="MY_PROFILE"></div>\n                                        <div class="lineHeight14 F11 marginT1" style="color:#f59b42;">\n                                            <span mt-trans="LB_TXT_KNOWLEDGE_SCORE"></span><span>{{globalCtrl.getMyKscore()}}</span>\n                                        </div>\n                                    </div>\n                                    <div class="clear"></div>\n                                </li>\n                                <li ng-click="signOut()" class="hover_f9 color37 F13 lineHeight19" style="padding-top:10px !important;padding-bottom:10px !important;">\n                                    <div class="floatL" style="width:28px">\n                                        <div class="signOutIcon margin0_auto"></div>\n                                    </div>\n                                    <div class="floatL marginL5" translate="SIGN_OUT"></div>\n                                    <div class="clear"></div>\n                                </li-->\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!--div class="pos_rel floatL icon-notification hoverBlack F20 color99 cursor marginT8 marginL40">\n                <div class="ff_opanSans pos_abs bg_ed1c24 textalign_C colorff F12 lineHeight18 borderR9 display_N1" style="height:18px;min-width:18px;top: -8px;left: 13px;">1</div>\n            </div>\n            <div class="pos_rel floatL icon-mail hoverBlack F17 color99 cursor marginT9 marginL40">\n                <div class="ff_opanSans pos_abs bg_ed1c24 textalign_C colorff F12 lineHeight18 borderR9 display_N1" style="height:18px;min-width:18px;top: -8px;left: 15px;">1</div>\n            </div-->\n            <div class="floatL marginL8 kSoreArea pos_rel">\n                <div class="floatL icon-halfStar colorf48414 F16 marginT10"></div>\n                <div class="floatL colorf48414 F20 marginL3">{{globalCtrl.getMyKscore()}}</div>\n                <div class="clear"></div>\n                <div class="pos_abs textalign_L bg_ff border_dd color36 F13 lineHeight20 hoverOnKscore "\n                    style="width:225px;top:30px;padding: 10px;right:0px;margin:0;z-index:1;box-shadow: 0 0 3px #ccc;" >\n                    <div translate="DASHBOARD_KSCORE_INFO_HEADER" translate-value-a="{{globalCtrl.getMyKscore()}}"></div>\n                    <div ng-if="showOtherTabs() && !isParticipantsDisabled()"\n                        ui-sref="root.participants"\n                        translate="DASHBOARD_KSCORE_INFO_HEADER_COMPARE"\n                        class="cursor color0072bc" ></div>\n                </div>\n\n            </div>\n            <div class="clear"></div>\n        </div>\n        <div class="clear"></div>\n    </div>\n    <div class="lineHeight30 F12 bg_1b2a3d display_N">\n        <div class="floatL pos_rel" style="left:50%">\n            <div class="floatL pos_rel" style="left:-50%">\n                <div class="floatL textHeader Active paddingL10 paddingR10"\n                     ng-if="globalCtrl.isProfileFilled && showOtherTabs()"\n                     ng-class="{\'Active\': globalCtrl.isTabActive(\'courses\')}"\n                     ng-click="globalCtrl.gotoHome()" translate="DASHBOARD_TAB_TIP_HOME">HOME</div>\n                <div class="floatL textHeader paddingL10 paddingR10 marginL10"\n                     ng-if="globalCtrl.isProfileFilled && showOtherTabs()"\n                     ng-class="{\'Active\': globalCtrl.isTabActive(\'contents\')}"\n                     ui-sref="root.contents" translate="DASHBOARD_TAB_TIP_ASSETS">MY FILES</div>\n                <div class="floatL textHeader paddingL10 paddingR10 marginL10"\n                     ng-if="globalCtrl.isProfileFilled && showOtherTabs() && !isParticipantsDisabled()"\n                     ng-class="{\'Active\': globalCtrl.isTabActive(\'participants\')}"\n                     ui-sref="root.participants" translate="DASHBOARD_TAB_TIP_PEERS">PEERS</div>\n\n\n                <div class="floatL textHeader paddingL10 paddingR10 marginL10"\n                     ng-if="globalCtrl.isProfileFilled && showReviewsTab()"\n                     ng-class="{\'Active\': globalCtrl.isTabActive(\'reviews\')}"\n                     ng-click="goToReviewDasboard()"\n                     translate="DASHBOARD_TAB_TIP_REVIEWS">REVIEWS</div>\n                <div class="clear"></div>\n            </div>\n        </div>\n        <div class="clear"></div>\n    </div>\n    <div>\n        <div class="floatL dashBoardLeftHeight bg_1b2a3d" style="width:60px;overflow-y:initial">\n            <div class="paddingT10">\n                <div class="tooltip_bottom_left_2" mtitle="{{\'DASHBOARD_TAB_TIP_HOME\'|translate}}">\n                    <div ng-if="globalCtrl.isProfileFilled && showOtherTabs()"\n                         class="textalign_C icon-homeOld dashboardLSColor F20 paddingT8 paddingB8 marginB13"\n                         ng-class="{\'Active\': globalCtrl.isTabActive(\'courses\')}"\n                         wt-step="1" wt-group="demo" wt-text="{{ \'WT_M_HOME\' | translate }}"\n                         wt-title="<div class=\'icon-homeOld F18 floatL marginR8\'></div><div class=\'floatL F14 marginT4 lineHeight14\'>{{ \'DASHBOARD_TAB_TIP_HOME\' | translate }}</div>"\n                         wt-position="right"\n                         ng-click="globalCtrl.gotoHome()"></div>\n                </div>\n                <div class="tooltip_bottom_left_2" mtitle="{{\'DASHBOARD_TAB_TIP_ASSETS\'|translate}}">\n                    <div ng-if="globalCtrl.isProfileFilled && showOtherTabs()"\n                         class="textalign_C icon-asset dashboardLSColor F20 paddingT8 paddingB8 marginB13"\n                         ng-class="{\'Active\': globalCtrl.isTabActive(\'contents\')}"\n                         ng-click="globalCtrl.gotoAssets()"></div>\n                </div>\n                <div class="tooltip_bottom_left_2" mtitle="{{\'DASHBOARD_TAB_TIP_PEERS\'|translate}}">\n                    <div ng-if="globalCtrl.isProfileFilled && showOtherTabs() && !isParticipantsDisabled()"\n                         class="textalign_C icon-peers dashboardLSColor F22 paddingT7 paddingB7 marginB13"\n                         ng-class="{\'Active\': globalCtrl.isTabActive(\'participants\')}"\n                         ng-click="globalCtrl.gotoPeers()"></div>\n                </div>\n                <div class="tooltip_bottom_left_2" mtitle="{{\'DASHBOARD_TAB_TIP_REVIEWS\'|translate}}">\n                    <div ng-if="globalCtrl.isProfileFilled"\n                          id="review_icon"\n                         class="textalign_C pos_rel icon-review dashboardLSColor F22 paddingT7 paddingB7 marginB13 hide"\n                         ng-class="{\'Active\': globalCtrl.isTabActive(\'reviews\')}" ng-click="goToReviewDasboard()">\n                        <div ng-show="globalCtrl.csDataModel.tabCounts.total>0"\n                             class="ff_opanSans pos_abs bg_ff6266 textalign_C colorff F12 lineHeight18 borderR9"\n                             style="height:18px;min-width:18px;top: -3px;right: 12px;">\n                            {{globalCtrl.csDataModel.tabCounts.total}}\n                        </div>\n                    </div>\n                </div>\n                <div class="tooltip_bottom_left_2" mtitle="{{\'DASHBOARD_TAB_TIP_TASKS\'|translate}}">\n                    <div class="textalign_C icon-micFilled dashboardLSColor F22 paddingT7 paddingB7 marginB13 hide"\n                         ng-if="globalCtrl.isProfileFilled"\n                         ng-class="{\'Active\': globalCtrl.isTabActive(\'voss\')}"\n                         ng-click="globalCtrl.gotoVoss()"\n                         id="tasks_icon"></div>\n                </div>\n            </div>\n            <div class="tooltip_bottom_left_pos_abs" mtitle="{{\'GET_SUPPORT\'|translate}}" style="bottom:50px;width:100px;">\n                <div ng-click="globalCtrl.showGetSupport()"\n                     class="textalign_C icon-help hoverBlack1 F20 color99 cursor"\n                     style="position:fixed;bottom:20px;left:19px"></div>\n            </div>\n        </div>\n        <div class="bg_f9 marginL60" ui-view class="maincontaier" style="min-width:960px;"></div>\n        <div class="clear"></div>\n    </div>\n</div>\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/global-search-suggestions.html",'<div class="pos_abs autocomplete-results"  style="left: -1px; top: 35px; z-index: 1;">\n\t<div style="min-width:402px;max-width: 600px;left:0;top:2px;" ng-if="(!searchQuery && clickInPreviewDD && recentSearches.length>0) || showPreviewDD() || (clickInPreviewDD && searchQuery && isSuggestionsEmpty())" class="wh-50 ddBG1 pos_abs dashboardBoxshadow paddingT10 paddingB10">\n\t\t<div ng-show="!searchQuery && clickInPreviewDD && recentSearches.length>0">\n\t\t\t<div class="F12 lineHeight30 pos_rel">\n\t\t\t\t<div class="pos_abs bg_dd" style="width:100%;height:1px;left:0;top:15px"></div>\n\t\t\t\t<div class="floatL pos_rel bg_ff paddingR10 paddingL15">RECENT SEARCH</div>\n\t\t\t\t<div ng-click="clearRecentSearches()" class="floatR pos_rel bg_ff color0072bc cursor paddingR10 paddingL10">Clear</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<ul class="hover_li">\n\t\t\t\t<li ng-repeat="sitem in recentSearches"\n\t\t\t\t\tng-click="triggerSearch(\'recent_searches\', sitem.query);"\n\t\t\t\t\tclass="lineHeight18 color00 cursor highlightThis" style="padding:7px 10px 7px 15px">\n\t\t\t\t\t<div class="icon-search floatL F14 marginT3"></div>\n\t\t\t\t\t<div class="F13 marginL10 marginL24">{{sitem.query}}</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div ng-if="(searchQuery && isSuggestionsEmpty())">\n\t\t\t<ul class="hover_li1">\n\t\t\t\t<li class="lineHeight18 color00" style="padding:7px 10px 7px 15px">\n\t\t\t\t\t<div class="F13 marginL1011 marginL2422">\n\t\t\t\t\t\t<span translate="NO_RESULT_FOUND">No results found</span> \n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div ng-if="showPreviewDD()">\n\t\t\t<div>\n\t\t\t\t<ul class="hover_li">\n\t\t\t\t\t<!--li class="lineHeight18 color00 cursor" style="padding:7px 10px 7px 15px">\n\t\t\t\t\t\t<div class="icon-search floatL F14 marginT3"></div>\n\t\t\t\t\t\t<div class="F13 marginL10 marginL24">\n\t\t\t\t\t\t\t<span translate="NO_RESULT_FOUND">Show all results for </span> \n\t\t\t\t\t\t\t<span class="bg_fffdd9">&nbsp;{{searchQuery}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</li-->\n\t\t\t\t\t<li ng-repeat="sec in searchSections"\n\t\t\t\t\t\tng-click="gotoSearchSec(sec)" \n\t\t\t\t\t\tclass="lineHeight18 color00 cursor highlightThis" \n\t\t\t\t\t\tstyle="padding:7px 10px 7px 15px">\n\t\t\t\t\t\t<div class="icon-search floatL F14 marginT3"></div>\n\t\t\t\t\t\t<div ng-if="sec.type==\'all\'" class="F13 marginL10 marginL24">\n\t\t\t\t\t\t\t<span class="color99">{{sec.text}} </span> \n\t\t\t\t\t\t\t<span class="bg_fffdd9">&nbsp;{{searchQuery}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-if="sec.type!=\'all\'" class="F13 marginL10 marginL24">\n\t\t\t\t\t\t\t<span class="bg_fffdd9">{{searchQuery}}</span>\n\t\t\t\t\t\t\t<span class="color99">{{sec.text}}</span> \n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="lineHeight18 color00 cursor highlightThis" style="padding:7px 10px 7px 15px"\n\t\t\t\t\t\tng-click="searchWithTag( searchQuery )">\n\t\t\t\t\t\t<div class="floatL icon-tag F14 marginT3"></div>\n\t\t\t\t\t\t<div class="F13 marginL10 marginL24">\n\t\t\t\t\t\t\t<span class="color99">Content with</span>\n\t\t\t\t\t\t\t<span class="bg_fffdd9">{{searchQuery}}</span>\n\t\t\t\t\t\t\t<span class="color99">... Tags</span> \n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="F12 lineHeight30 pos_rel marginR10">\n\t\t\t\t\t<div class="pos_abs bg_dd" style="width:100%;height:1px;left:0;top:15px"></div>\n\t\t\t\t\t<div class="floatL pos_rel bg_ff paddingR10 paddingL15">TOP RESULTS</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<ul class="hover_li">\n\t\t\t\t\t<li ng-repeat="suggested in suggestions" ng-click="openEntity(suggested)" class="lineHeight18 color00 cursor highlightThis" style="padding:7px 10px 7px 15px">\n\t\t\t\t\t\t<!--<div class="floatL qBG marginT2">Q</div>-->\n\t\t\t\t\t\t<!--<div class="F13 marginL10 marginL24">-->\n\t\t\t\t\t\t\t<!--<span class="bg_fffdd9">Sale</span>-->\n\t\t\t\t\t\t\t<!--<span>Process</span> -->\n\t\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t\t<!--<div class="clear"></div>-->\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div ng-class="getIconClassForItem(suggested).tag"\n\t\t\t\t\t\t\t\t ng-if="getIconClassForItem(suggested).tag"\n\t\t\t\t\t\t\t\t class="floatL marginT1 marginR10"\n\t\t\t\t\t\t\t\t style="width: 16px;height: 16px;font-size: 12px;line-height: 16px;">\n\t\t\t\t\t\t\t\t{{getIconClassForItem(suggested).type}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatL marginR10"\n\t\t\t\t\t\t\t\t ng-class="{\'icon-person F16 color00\':!(getIconClassForItem(suggested).pic)}"\n\t\t\t\t\t\t\t\t ng-if="!getIconClassForItem(suggested).tag">\n\t\t\t\t\t\t\t\t<img ng-if="getIconClassForItem(suggested).pic" class="textalign_C display_B" style="width:16px; height:16px;border-radius: 50%;"\n\t\t\t\t\t\t\t\t\t\tng-src="{{getIconClassForItem(suggested).pic}}"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatR marginT2 marginR10 lockCIcon"\n\t\t\t\t\t\t\t\t ng-show="suggested.type != \'SERIES\' && suggested.lockState == \'LOCKED\'">&nbsp;\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatL1 F13"\n\t\t\t\t\t\t\t\t style="min-width: 313px;max-width: 526px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"\n\t\t\t\t\t\t\t\t ng-if="suggested.name">\n\t\t\t\t\t\t\t\t{{suggested.name}}&nbsp;\n\t\t\t\t\t\t\t\t<span class="color88" ng-if="suggested.searchType==\'MODULES\' && getResultReasonPriority(suggested)==4">\n\t\t\t\t\t\t\t\t\t<span>has</span>\n\t\t\t\t\t\t\t\t\t<!-- span>&#39;</span-->\n\t\t\t\t\t\t\t\t\t<span class="bg_fffdd9">{{searchQuery}}</span>\n\t\t\t\t\t\t\t\t\t<!--  span>&#39;</span-->\n\t\t\t\t\t\t\t\t\t<span ng-if="suggested.type!=\'COACHING\'">in Topic name</span>\n\t\t\t\t\t\t\t\t\t<span ng-if="suggested.type==\'COACHING\'" >in Section name</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="color88" ng-if="suggested.searchType==\'MODULES\' && getResultReasonPriority(suggested)==3">\n\t\t\t\t\t\t\t\t\t<span>has</span>\n\t\t\t\t\t\t\t\t\t<span>&#39;</span>\n\t\t\t\t\t\t\t\t\t<span class="bg_fffdd9">{{searchQuery}}</span>\n\t\t\t\t\t\t\t\t\t<span>...&#39; Tag</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="color88" ng-if="(suggested.searchType == \'MODULES\' || suggested.searchType == \'SERIES\') && getResultReasonPriority(suggested)==2">\n\t\t\t\t\t\t\t\t\t<span>has</span>\n\t\t\t\t\t\t\t\t\t<!--  span>&#39;</span-->\n\t\t\t\t\t\t\t\t\t<span class="bg_fffdd9">{{searchQuery}}</span>\n\t\t\t\t\t\t\t\t\t<!-- span>&#39;</span-->\n\t\t\t\t\t\t\t\t\t<span>in</span>\n\t\t\t\t\t\t\t\t\t<span>Description</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatL1 F13"\n\t\t\t\t\t\t\t\t style="min-width: 233px;max-width: 526px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"\n\t\t\t\t\t\t\t\t ng-if="suggested.title">\n\t\t\t\t\t\t\t\t{{suggested.title}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/global-search.html",'<div class="">\n\t<div class="menuParent F14 lineHeight50 ofh paddingT5 pos_rel"\n\t\t ng-if="searchTypesCounts[\'ALL\'] > 0"\n\t\t style="width:840px;margin:0px 0 0 20px">\n\t\t<div class="pos_abs borderB_dd" style="width:100%;bottom:0px;"></div>\n\t\t<div class="floatL textalign_C menuItem pos_rel" style="width:20%"\n\t\t\t ng-class="{ active: ( typeOfSearch === TYPES_OF_SEARCH.ALL ) }"\n\t\t\t ng-click="selectType( TYPES_OF_SEARCH.ALL )"><span translate="LB_TXT_CAP_TOP">TOP</span> ({{searchTypesCounts[\'ALL\']}})</div>\n\t\t<div class="floatL textalign_C menuItem pos_rel" style="width:20%"\n\t\t\t ng-class="{ active: ( typeOfSearch === TYPES_OF_SEARCH.MODULE ) }"\n\t\t\t ng-click="selectType( TYPES_OF_SEARCH.MODULE )"><span translate="LB_TXT_CAP_MODULES">MODULES</span> ({{searchTypesCounts[\'MODULES\']}})</div>\n\t\t<div class="floatL textalign_C menuItem pos_rel" style="width:20%"\n\t\t\t ng-class="{ active: ( typeOfSearch === TYPES_OF_SEARCH.FILE ) }"\n\t\t\t ng-click="selectType( TYPES_OF_SEARCH.FILE )"><span translate="LB_TXT_CAP_FILES">FILES</span> ({{searchTypesCounts[\'FILES\']}})</div>\n\t\t<div class="floatL textalign_C menuItem pos_rel" style="width:20%"\n\t\t\t ng-class="{ active: ( typeOfSearch === TYPES_OF_SEARCH.SERIES ) }"\n\t\t\t ng-click="selectType( TYPES_OF_SEARCH.SERIES )"><span translate="LB_TXT_CAP_SERIES">SERIES</span> ({{searchTypesCounts[\'SERIES\']}})</div>\n\t\t<div class="floatL textalign_C menuItem pos_rel" style="width:20%"\n\t\t\t ng-if="TYPES_OF_SEARCH.PEER"\n\t\t\t ng-class="{ active: ( typeOfSearch === TYPES_OF_SEARCH.PEER ) }"\n\t\t\t ng-click="selectType( TYPES_OF_SEARCH.PEER )"><span translate="LB_TXT_CAP_PEERS">PEERS</span> ({{searchTypesCounts[\'PEERS\']}})</div>\n\t\t<!--<div class="floatL textalign_C menuItem pos_rel" style="width:20%"-->\n\t\t\t <!--ng-class="{ active: ( typeOfSearch === TYPES_OF_SEARCH.REVIEW ) }"-->\n\t\t\t <!--ng-click="selectType( TYPES_OF_SEARCH.REVIEW )">REVIEWS (3)</div>-->\n\t\t<div class="clear"></div>\n\t</div>\n\t<div ng-if="typeOfSearch === TYPES_OF_SEARCH.ALL">\n\t\t<div top-list-search-partial  class="wh-137 ofh" ng-class="{ \'wh-81\': ( searchTypesCounts[\'ALL\'] === 0) }"></div>\n\t\t<div class="clear"></div>\n\t</div>\n\t<div module-list-search-partial ng-if="typeOfSearch === TYPES_OF_SEARCH.MODULE"></div>\n\t<div file-list-search-partial ng-if="typeOfSearch === TYPES_OF_SEARCH.FILE"></div>\n\t<div series-list-search-partial ng-if="typeOfSearch === TYPES_OF_SEARCH.SERIES"></div>\n\t<div peer-list-search-partial ng-if="typeOfSearch === TYPES_OF_SEARCH.PEER"></div>\n\t<!--<div review-list-search-partial ng-if="typeOfSearch === TYPES_OF_SEARCH.REVIEW"></div>-->\n\t<div class="textalign_C color88 wh-61 display_N">\n\t\t<div class="borderT100_transparent">\n\t\t\t<div class="noSearchResultImg" style="margin:0 auto 20px"></div>\n\t\t\t<div class="F18 lineHeight30 marginT5 ng-scope" translate="NO_RESULT_FOUND">No Results Found</div>\n\t\t\t<div class="F13 lineHeight20 ng-scope" translate="TRY_ADJUSTING_YOUR_SEARCH">Try adjusting your search</div>\n\t\t</div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/milestone-list.html",'<div ng-style="milestoneStyle" ng-class="{\'paddingT25\':!isNewDesignLanguage(),\'paddingT8\':isNewDesignLanguage()}">\n  <div ng-click="toggleCollapse()" class="paddingB8 marginB12 borderB_bb">\n    <div class="floatL color88" ng-class="{\'icon-section F10 marginT5\':!isNewDesignLanguage(),\'icon-seriesSectionNew F12 marginT4\':isNewDesignLanguage()}"> </div>\n    \n    <div ng-if="!isNewDesignLanguage()"\n        class="floatR paddingT5 cursor color99 marginR8" \n        ng-class="{\'F7 icon-ddArrowBottom\':!isCollapsed, \'F10 icon-ddArrowRight\':isCollapsed}"></div>\n    \n    <div ng-if="isNewDesignLanguage()" \n        class="floatR paddingT5 cursor color99 marginR8" \n        ng-class="{\'F5 icon-downFillcaret\':!isCollapsed, \'F8 icon-rightFillcaret\':isCollapsed}"></div>\n\n    <div ng-if="!isNewDesignLanguage()"\n      class="floatL marginL12 lineHeight19 F14 color88 cursor"  style= "font-weight: 600;">{{currentMilestone.name}}</div>\n    <div ng-if="!isNewDesignLanguage()"\n      class="floatL marginL8 borderR9 border_88 color88 lineHeight16 F12 textalign_C cursor" \n      style="width: 25px; height: 18px;">{{milestone.module_count}}</div>\n\n    <div ng-if="isNewDesignLanguage()"\n      class="floatL marginL12 lineHeight20 F14 color989ca6 cursor" style= "font-weight: 600;">{{currentMilestone.name}}</div>\n    <div ng-if="isNewDesignLanguage()"\n      class="floatL marginL8 color989ca6 lineHeight14 F12 cursor">\n      <div class="floatL margint4 bg989ca6 marginT9" style="width: 2px;height: 2px;border-radius: 50%"></div> \n      <div class="floatL marginL8 marginT4">{{milestone.module_count}} Module(s)</div>\n      <div class="clear "></div>\n    </div>\n\n    <div class="clear"></div>\n  </div>\n  <div collapse="isCollapsed">\n    <div ng-if="milestone.module_count === 0" class="marginB30 marginL24">\n      <span translate="TXT_MILESTONE_NO_RESULT" style= "font-weight: 400;" class="color989ca6 F13">There are no results in this\n        Section.</span>\n    </div>\n    <module-list-view ng-repeat="i in arrOfBatches track by $index" milestone-view="true" milestone-id="milestone.id"\n      from="$index * BATCH_SIZE" series="seriesData" series-id="seriesId" base-top="topDistance" base-bottom="baseBottom"\n      total-module-count="module_count" batches="batches" batch-size="BATCH_SIZE" scroll-container="\'.scrollContainer\'"\n      fetch-func="fetchFunc" index="$index + 1">\n    </module-list-view>\n    <div class="clear"></div>\n  </div>\n  <div class="clear"></div>\n</div>\n\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/module-list-view.html",'<div ng-class="{ paddingT10: !milestoneView }">\n    <div ng-if="getModuleList()" ng-repeat="thumb in getModuleList()" class="floatL pos_rel marginR20 marginB40">\n        <app-gamification-entity-thumb ng-if="thumb.type !== \'SERIES\'" month="month" entity="thumb"></app-gamification-entity-thumb>\n        <app-series-thumb ng-if="thumb.type === \'SERIES\'" series="thumb" month="month"></app-series-thumb>\n        <div class="clear"></div>\n    </div>\n    <div class="floatL pos_rel">\n        <loading-entity-thumb\n            ng-if="!getModuleList()"\n            class="floatL"\n            ng-repeat="i in numOfModules track by $index">\n        </loading-entity-thumb>\n    </div>\n    <div class="clear"></div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/month-view.html",'<div class="pos_rel F12 color99 lineHeight20">\n    <div class="pos_abs" style="width:100%;height:1px;background:#ddd;top:10px"></div>\n    <div class="floatL pos_rel paddingR20" ng-class="{\'bg_f9\':!isNewDesignLanguage(),\'bg_ff\':isNewDesignLanguage()}">\n        <div class="floatL icon-calendar F14 marginT3"></div>\n        <div class="floatL marginL7">{{getMonthTitle()}}</div>\n        <div class="clear"></div>\n    </div>\n    <div class="clear"></div>\n</div>\n<module-list-view month="month"></module-list-view>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search-module.html",'<div class="bg_f9 dashBoardLeftHeight open_transition_margingR scrollContainer borderT20_transparent borderB25_transparent">\n    <div style="min-height: 30px;margin:0px 20px">\n    \t<div class="lineHeight30">\n    \t\t<div class="floatL icon-search F16 color00 marginT7"></div>\n    \t\t<div class="floatL F16 marginL10" translate="LB_TXT_SEARCH_RESULT_FOR2" translate-value-searchquery="{{searchText}}"></div>\n    \t\t<div class="floatL F13 color0072bc cursor marginL30" ng-click="clearSearch()">Clear Search</div>\n    \t\t<div class="clear"></div>\n    \t</div>\n        <module-list-view\n                ng-if="searchResult.request.$resolved || searchResult.entities.length > 0"\n                search="searchResult.entities.length > 0">\n        </module-list-view>\n        <img ng-if="!searchResult.request.$resolved" ng-src="{{loader}}"/>\n        <div ng-if="searchResult.request.$resolved && searchResult.entities.length  < 1" class="textalign_C color88" style="margin-top:100px">\n        \t<div class="noSearchResultImg" style="margin:0 auto 20px"></div>\n        \t<div class="F18 lineHeight30 marginT5" translate="NO_RESULT_FOUND"></div>\n        \t<div class="F13 lineHeight20" translate="TRY_ADJUSTING_YOUR_SEARCH"></div>\n        </div>\n    </div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/series.html",'<div class="paddingL10 paddingR10" wt-step="3" wt-group="demo" wt-text="{{ \'WT_MODULES\' | translate }}" wt-position="left"\n wt-title="<div class=\'icon-seriesOld F18 floatL marginR8\'></div><div class=\'floatL F14 lineHeight18\'>{{ \'Modules\' }}</div>"\n style="background-color:#f9f9f9;min-height: 300px;">\n\t<div class="seriesTopPart" style="width:100%;">\n\t\t<div class="borderB_dd1 paddingB13">\n\t\t\t<div class="lineHeight24 F16 color00 borderT22_transparent borderB12_transparent" ng-if="seriesNameResolver.$resolved">\n\t\t\t\t<div class="floatL paddingT3 paddingB3">\n\t\t\t\t\t<div class="floatL F20 marginT2 marginR10" ng-class="{\'icon-questThick\': isReinforcementSeries, \'icon-seriesOld\': !isReinforcementSeries}"></div>\n\n\t\t\t\t\t<div style="max-width:400px" class="floatL ellipsis marginR10">{{isReinforcementSeries ? "All Quests" : series.name}}</div>\n\t\t\t\t\t<div ng-if="!isReinforcementSeries" class="tooltip_bottom_left floatL icon-pinOutlineOld color99 cursor paddingT4 paddingL10 tooltip_width120 noHoverForIpad bg_f9"\n\t\t\t\t\t wt-step="4" wt-group="demo" wt-text="{{ \'WT_M_PINNED_SERIES\' | translate }}" wt-position="left" wt-title="<div class=\'icon-pinOutlineOld F18 floatL marginR8\'></div><div class=\'floatL F14 lineHeight18\'>{{ \'Pin Series\' }}</div>"\n\t\t\t\t\t mtitle="{{series.pinned ? \'Unpin this Series\' : \'Pin this Series\'}}" ng-class="{\'icon-pinFilledOld\': series.pinned}"\n\t\t\t\t\t ng-click="togglePin()"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="showSubscribe()" ng-click="addSeriesToMyBoard()" class="floatR blueBorderBtn_30 F12 paddingL20 paddingR20 pos_rel subscribeBtn"\n\t\t\t\t style="background:none">\n\t\t\t\t\t<div>Subscribe</div>\n\t\t\t\t\t<div class="pos_abs bg_ff newBoxShadow lineHeight20 color00 F12 subsscribeHover" style="width:280px;top: 35px;right: 0;padding: 10px 15px;">Subscribe\n\t\t\t\t\t\tto this Series to receive updates. This will move it to Assigned Series.</div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-show="subscribed" class="floatR bgfffbcf color00 lineHeight30 paddingL10 paddingR10">\n\t\t\t\t\t<div class="floatL F13 ">Successfully subscribed and added to Assigned Series</div>\n\t\t\t\t\t<div ng-click="subscribed=false" class="floatL icon-Close F10 cursor marginL10 marginT11"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="lineHeight24 F16 color00 borderT25_transparent borderB15_transparent" ng-if="!seriesNameResolver.$resolved">\n\t\t\t\t<img ng-src="{{smallLoader}}">\n\t\t\t</div>\n\t\t\t<div class="color99 F13 lineHeight20" ng-class="{\'truncate_2_line\':height>40}" ng-if="(series.desc != \'null\' && series.desc != \'\') || isReinforcementSeries"\n\t\t\t dd-text-collapse dd-text-collapse-max-length="110"\n\t\t\t\t dd-text-collapse-text="{{isReinforcementSeries ? \'Imbibe knowledge for longer duration by completing question based challenges\' : series.desc}}">\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<tag-filter series="seriesId" select-tag="applyTagFilter" selected-tags="selectedTags" ng-if="!isReinforcementSeries" ></tag-filter>\n\t\t<div class="paddingT10 paddingB20 borderT_dd">\n\t\t\t<entity-filter ng-if="!isReinforcementSeries" select-function="applyEntityFilter" entity-types="entityTypes" selected-filter="selectedEntityFilter"></entity-filter>\n\t\t\t<completion-filter is-only-filter="isReinforcementSeries" select-function="applyCompletionFilter" completion-types="completionTypes" selected-filter="selectedCompletionFilter" ></completion-filter>\n\t\t\t<module-relevance-filter ng-if="!isReinforcementSeries && lsSettings.moduleRelevanceEnabled" select-function="applyModuleRelevanceFilter" module-relevance-types="moduleRelevanceTypes" selected-filter="selectedRelevanceFilter"></module-relevance-filter>\n\t\t\t<div class=\'floatR pos_rel dropdown marginR10 F13 color99 cursor\'\n\t\t\t\tstyle="line-height: 20px" \n\t\t\t\tng-if="!noMileStone() && isMilestone" \n\t\t\t\tng-click="collapseAll()">{{getHideLinkText()}}</div>\n\t\t\t<div ng-if="getAvailableAppliedTagsCount()>0" class="floatL F13 marginL20 color99 dropdown" style="line-height:18px">\n\t\t\t\t<div class="color99 dropdown-toggle cursor paddingB2" style="border: none;border-bottom:1px solid #ddd" translate="N_TAGS_SELECTED"\n\t\t\t\t translate-value-n="{{getAvailableAppliedTagsCount()}}"></div>\n\t\t\t\t<div class="dropdown-menu" style="width:220px;top:20px;left:-10px;padding: 0px;margin:0;box-shadow: 0px 0px 3px #ccc !important;max-height: 180px;overflow-y: auto;">\n\t\t\t\t\t<div ng-repeat="tag_id in selectedTags" class="cursor hoverBg lineHeight16" ng-if="selectedTagObjs[tag_id]" style="padding:10px">\n\t\t\t\t\t\t<div class="floatL color99 F13 ellipsis" style="max-width:160px">{{selectedTagObjs[tag_id].name}}</div>\n\t\t\t\t\t\t<div class="floatR icon-Close F10 color99 paddingT3 paddingR5 paddingB3 paddingL5" ng-click="applyTagFilter([tag_id])"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div ng-if="selectedTags.length>0" class="floatL cursor color0072bc F13 marginL20" translate="DASHBOARD_CLEAR_ALL"\n\t\t\t ng-click="clearAllTagFilters()"></div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n\t<div ng-if="!isMilestone || !lbsf.isMilestone[seriesId]" class="checkHeightInnerInfiniteScrollDiv" ng-class="{heightInnerInfiniteScrollDiv:(seriesData.request.$resolved && seriesData.entities.length > 0),\n\t\t\t\t\theight_0_InnerInfiniteScrollDiv:(seriesData.request.$resolved && seriesData.entities.length == 0)}"\n\t infinite-scroll="fetchNext()" infinite-scroll-container="scrollContainer" infinite-scroll-distance="0"\n\t infinite-scroll-disabled="anythingLoading()" infinite-scroll-immediate-check="false"\n\t infinite-scroll-use-document-bottom="false">\n\t\t<module-list-view ng-if="seriesData.request.$resolved || seriesData.entities.length > 0" series="seriesId">\n\t\t</module-list-view>\n\t</div>\n\t<div class="milestoneContainer" ng-if="isMilestone && lbsf.isMilestone[seriesId] && hasMilestones() && series">\n\t\t<milestone-list ng-repeat="milestone in milestones.milestones" style="display: block" ng-value="currentMilestone = milestone"\n\t\t ng-if="hasFilters || milestone.module_count">\n\t\t</milestone-list>\n\t</div>\n\t<div class="textalign_C" style="border-top:100px solid transparent" ng-if="isSeriesEmpty()">\n\t\t<div class="color88 icon-emptyFolder F40 marginB15"></div>\n\t\t<div class="color88 F20 lineHeight30 marginB2" translate="THIS_SERIES_IS_EMPTY">\n\t\t\tThis Series is empty.\n\t\t</div>\n\t\t<div class="color88 F13 lineHeight18" translate="ONCE_MODULE_ADDED_NOTIFICATION">\n\t\t\tOnce a Module is added, you will notified by an email.\n\t\t</div>\n\t</div>\n\t<div class="textalign_C" style="border-top:100px solid transparent" ng-if="isSeriesEmptyWithFilters()">\n\t\t<div class="color88 noTagsDirectionImg" style="margin:0 auto 20px"></div>\n\t\t<div class="color88 F20 lineHeight30 marginB2" translate="FILTERS_HAVE_LEAD_YOU_NOWHERE">\n\t\t\tThis Series is empty.\n\t\t</div>\n\t\t<div class="color88 F13 lineHeight18">\n\t\t\t<span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n\t\t\t<span class="cursor color0072bc" translate="RESET_FILTERS" ng-click="resetFilters()"></span>\n\t\t</div>\n\t</div>\n\t<div ng-if="anythingLoading() || ( milestones.request && !milestones.request.$resolved )" class="marginB20" style="width: 100%;text-align:center;margin-top: -75px;">\n\t\t<img ng-src="{{smallLoader}}">\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/discussions/answer.html",'<div>\n\t<div class="marginB50" style="width:700px">\n\t\t<div>\n\t\t\t<div class="floatL cursor" style="display: block;" ng-click="globalCtrl.goback()">\n\t\t\t\t<div class="floatL marginT4 backArrow_10_16"></div>\n\t\t\t\t<div class="floatL color99 F14 lineHeight24 marginL5" mt-trans="BACK_TEXT"></div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="borderB_00 paddingB10 marginT25" style="">\n\t\t\t<div class="floatL marginR15" style="">\n\t\t\t\t<div style="vertical-align:middle;display:table-cell;width:40px;height:40px;max-width:40px;max-height:40px">\n\t\t\t\t\t<img ng-src="{{ansCtrl.currentQst.user.pic ? ansCtrl.currentQst.user.pic : globalCtrl.defaultImage}}" alt="" class="margin0_auto pfit circleImg" style="border-radius:50%">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="floatL" style="width:640px">\n\t\t\t\t<div class="color66 F13 lineHeight16 marginB5">\n\t\t\t\t\t<span>{{ansCtrl.currentQst.user.name}}&nbsp;<span mt-trans="POSTED_ON"></span>&nbsp;{{discCtrl.getTopicName(ansCtrl.currentQst.topicId)}}.</span> \n\t\t\t\t\t<span class="color9b_F11 lineHeight11 marginT2 marginL5">{{ansCtrl.currentQst.createTime*1000 | date}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="color00 F14 lineHeight20 marginB5 bold">{{ansCtrl.currentQst.text}}</div>\n\t\t\t\t<div class="like_unlike_reply lineHeight18">\n\t\t\t\t\t<span class="color0072bc F13 cursor reply_link" mt-trans="MSG_REPLY_TXT"></span>\n\t\t\t\t\t<span class="color66 F13 numAns">({{ansCtrl.answers.length}} <span mt-trans="LB_TXT_REPLIES"></span>)</span>\n\t\t\t\t\t<span class="colorc3_F13 marginR6 marginL6">|</span>\n\t\t\t\t\t<span ng-show="ansCtrl.currentQst.liked==false" ng-click="ansCtrl.likeQuestion(ansCtrl.currentQst)" class="color0072bc F13 cursor like_dislike_link" mt-trans="LINK_LIKE_TXT"></span>\n\t\t\t\t\t<span ng-show="ansCtrl.currentQst.liked==true" ng-click="ansCtrl.unLikeQuestion(ansCtrl.currentQst)" class="color0072bc F13 cursor like_dislike_link" mt-trans="LINK_DISLIKE_TXT"></span>\n\t\t\t\t\t<span class="color66 F13 numQLikes">({{ansCtrl.currentQst.likes.length}} <span mt-trans="LB_TXT_LIKES"></span>)</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="userAnswers" style="">\n\t\t\t<div ng-show="ansCtrl.answers.length==0" class="textalign_C marginT10 marginB10" mt-trans="LB_TXT_NO_ANSWERS"></div>\n\t\t\t<div class="borderB_ee paddingB10 marginT25 paddingL55 pos_rel" ng-repeat="answer in ansCtrl.answers">\n\t\t\t\t<div ng-show="answer.canDelete" ng-click="ansCtrl.deleteAnswer(answer)" class="floatR pos_rel Black_crossIcon_10_10" style="top:-5px;right:1px;"></div>\n\t\t\t\t<div class="floatL marginR15">\n\t\t\t\t\t<div style="vertical-align:middle;display:table-cell;width:40px;height:40px;max-width:40px;max-height:40px" class="ownerName">\n\t\t\t\t\t\t<img ng-src="{{answer.user.pic ? answer.user.pic : globalCtrl.defaultImage}}" alt="pic" class="margin0_auto pfit circleImg" style="border-radius:50%">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="floatL" style="width:585px">\n\t\t\t\t\t<div class="color66 F13 lineHeight16 marginB5">\n\t\t\t\t\t\t<span>{{answer.user.name}}</span> \n\t\t\t\t\t\t<span class="marginT2 marginL5">{{answer.createTime*1000 | date}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="color00 F13 lineHeight18 marginB5" ng-bind-html="answer.text | breakFilter"></div>\n\t\t\t\t\t<div class="like_unlike_reply lineHeight20">\n\t\t\t\t\t\t<span ng-click="ansCtrl.likeAnswer(answer)" ng-show="answer.liked==false" class="color0072bc F13 cursor like_dislike_link" mt-trans="LINK_LIKE_TXT"></span>\n\t\t\t\t\t\t<span ng-click="ansCtrl.unLikeAnswer(answer)" ng-show="answer.liked==true" class="color0072bc F13 cursor like_dislike_link" mt-trans="LINK_DISLIKE_TXT"></span>\n\t\t\t\t\t\t<span class="color66 F13 numALikes">({{answer.likes.length}} <span mt-trans="LB_TXT_LIKES"></span>)</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="paddingB10 marginT25 paddingL55">\n\t\t\t<div class="floatL marginR15" style="">\n\t\t\t\t<div style="vertical-align:middle;display:table-cell;width:40px;height:40px;max-width:40px;max-height:40px" class="ownerName">\n\t\t\t\t\t<img ng-src="{{learnerJson.pic ? learnerJson.pic : globalCtrl.defaultImage}}" alt="pic" class="margin0_auto pfit circleImg" style="border-radius:50%">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="floatL" style="width:585px">\n\t\t\t\t<div class="textArea pos_rel" style="position: relative;">\n\t\t\t\t\t<textarea ng-model="ansCtrl.newAnswer" class="discussTA lineHeight18" placeholder="{{ \'ADD_YOUR_REPLY\' | translate}}" style="height:48px;font-size:13px;border:0; width:561px; outline:none"></textarea>\n\t\t\t\t</div>\n            <div>\n\t\t\t\t<div ng-click="ansCtrl.postAnswer()" class="floatL marginT12 marginB10 btn_0072bc F14 lineHeight30 borderR15 paddingL20 paddingR20" mt-trans="HM_BTN_SUBMIT">Submit</div>\t\n            </div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/discussions/layout.html",'<div class="discussionsParentDiv" style="height:{{discCtrl.fromCourse?discCtrl.height-51:discCtrl.height-100}}px">\n\t<div style="min-height: 100%;" class="pos_rel">\n\t\t<div class="pos_abs  leftNav" style="top:0px; width: 220px; border-right: 1px solid #ededed; min-height: 100%;background:#f7f7f7">\n\t\t\t<div class="leftNav_Menu marginL20 marginT40">\n\t\t\t\t<div class="marginB20" style="width: 200px;">\n\t\t\t\t\t<div ui-sref=".questions({type:\'all\'})"\n\t\t\t\t\t\t ng-class="{active:discCtrl.isAllActive()}" \n\t\t\t\t\t\t class="leftNav_Item paddingL15 cursor" mt-trans="MSG_ALL_QUESTION"></div>\n\t\t\t\t\t<div ui-sref=".questions({type:\'my\'})"\n\t\t\t\t\t\t ng-class="{active:discCtrl.isMyActive()}" \n\t\t\t\t\t\t class="leftNav_Item paddingL15 cursor" mt-trans="MSG_MY_QUESTIONS"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="borderT_c7 marginR20 marginB10"></div>\n\t\t\t\t<div class="leftTopicNav" style="width:200px">\n\t\t\t\t\t<div class="marginB20" ng-repeat="page in discCtrl.pages">\n\t\t\t\t\t\t<div class="color00_F13 lineHeight18 marginB10" style="width: 201px;">{{page.name | characters:30}}</div>\n\t\t\t\t\t\t<div ng-repeat="topic in page.topics"\n\t\t\t\t\t\t\t ui-sref=".questions({type:\'{{topic.id}}\'})"\n\t\t\t\t\t\t\t ng-class="{active: discCtrl.isTopicActive(topic.id)}" \n\t\t\t\t\t\t\t class="leftNav_Item paddingL15 cursor">{{topic.name | characters:25}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div style="margin-left: 221px; background: rgb(255, 255, 255);" class="rightArea paddingL39 contentPageHeight">\n\t\t\t<div ui-view class="paddingB50 paddingT20" style="width: 700px">\n\t\t\t\t<div loading translate="LOADING_VIEW"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/discussions/question.html",'<div>\n\t<div>\n\t\t<div>\n\t\t\t<div class="floatL cursor marginB25 " style="display: block;" ng-click="globalCtrl.goback()">\n\t\t\t\t<div class="floatL backArrow_10_16 marginT4"></div>\n\t\t\t\t<div class="floatL color99 F14 lineHeight24 marginL5" mt-trans="BACK_TEXT"></div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n      <div>\n\t      \t<div ng-click="qstCtrl.postQuestion()" class="floatL btn_0072bc F14 lineHeight30 borderR15 marginB10 paddingL20 paddingR20 postQstBtn" mt-trans="MSG_POST_QUESTION"></div>\n           <div class="clear"></div>\n      </div>\n      \t<div ng-show="qstCtrl.intialLoading==true"><img ng-src="{{loaderImg}}"/></div>\n\t\t<div ng-show="!qstCtrl.intialLoading && qstCtrl.questions.length==0" class="paddingT15 marginB10 cmndisClass" mt-trans="LB_TXT_NO_QUESTIONS"></div>\n\t\t<div class="borderT_dd paddingT15 marginB15 cmndisClass" ng-repeat="question in qstCtrl.questions">\n\t\t\t<div ng-show="question.canDelete" ng-click="qstCtrl.deleteQuestion(question)" class="floatR pos_rel Black_crossIcon_10_10" style="top:-5px;right:1px;"></div>\n\t\t\t<div class="floatL marginR10">\n\t\t\t\t<div style="vertical-align: middle; display: table-cell; width: 40px; height: 40px;max-width:40px;max-height:40px">\n\t\t\t\t\t<img ng-click="qstCtrl.openAnswers(question)" ng-src="{{question.user.pic ? question.user.pic : globalCtrl.defaultImage}}" alt="" class="margin0_auto circleImg cursor" style="max-width:40px;max-height:40px;border-radius:50%">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="floatL" style="width: 640px">\n\t\t\t\t<div class="color66 F13 lineHeight16 marginB5"> \n\t\t\t\t\t<span>{{question.user.name}}&nbsp;<span mt-trans="POSTED_ON"></span>&nbsp;{{discCtrl.getTopicName(question.topicId)}}.</span>\n\t\t\t\t\t<span class="color9b_F11 lineHeight11 marginT2 marginL5">{{question.createTime*1000 | date}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div ng-click="qstCtrl.openAnswers(question)" class="color00 F14 lineHeight20 marginB5 bold cursor">{{question.text}}</div>\n\t\t\t\t<div class="lineHeight18">\n\t\t\t\t\t<span ng-click="qstCtrl.openAnswers(question)" class="color0072bc F13 cursor" mt-trans="MSG_REPLY_TXT"></span>\n\t\t\t\t\t<span class="color66 F13 numAns">({{question.numAnswers}} <span mt-trans="LB_TXT_REPLIES"></span>)</span> \n\t\t\t\t\t<span class="colorc3_F13 marginR6 marginL6">|</span> \n\t\t\t\t\t<span ng-show="question.liked==false" ng-click="qstCtrl.likeQuestion(question)" class="color0072bc F13 cursor like_dislike_link" mt-trans="LINK_LIKE_TXT"></span>\n\t\t\t\t\t<span ng-show="question.liked==true" ng-click="qstCtrl.unLikeQuestion(question)" class="color0072bc F13 cursor like_dislike_link" mt-trans="LINK_DISLIKE_TXT"></span> \n\t\t\t\t\t<span class="color66 F13 numLikes">({{question.likes.length}} <span mt-trans="LB_TXT_LIKES"></span>)</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t</div>\n</div>\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/missions/mission_result.html",'<div style="width:620px;top:70px" class="bg_ff pos_rel margin0_auto borderR5">\n\t<div style="padding:20px 30px">\t\t\n\t\t<div class="textalign_C color36 F18 lineHeight30">{{header}}</div>\n\t\t<div class="borderT55_transparent borderB65_transparent">\n\t\t\t<div class="F13 color00 lineHeight20 marginB10 textalign_C">\n\t\t\t\t<div ng-if="numReviewers==0" class="bold F18 color00 marginB10" mt-trans="M_TXT_NO_REVIEWERS_ADDED"></div>\n\t\t\t\t<div ng-if="numReviewers>0" class="bold F18 color00 marginB10">{{numPending}}/{{numReviewers}} <span mt-trans="M_TXT_REVIEW_PENDING_SPACE"></span></div>\n\t\t\t\t<div class="color99" mt-trans="TXT_MISSION_SCORE_WHEN_ALL_REVIEWS_SUBMITTED">Final summary will be available when all reviews are submitted.</div>\n\t\t\t\t<div ng-if="topSubmissionsAvailable" class="color99" ng-click="goBackTo(\'TOP_SUBMISSIONS\')" mt-trans="TXT_VIEW_MISSION_TS"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-hide="isLoading || isEvaluating" class="textalign_C">\n\t\t\t<div class="floatL pos_rel" style="left:50%;">\n\t\t\t\t<div class="floatL pos_rel lineHeight20" style="left:-50%;">\n\t\t\t\t\t<div class="floatL color0072bc F13 underLine" mt-trans="EXIT_TO_SERIES" ng-click="goBackTo(\'LB\')"></div>\n\t\t\t\t\t<div ng-if="topSubmissionsAvailable" class="floatL">\n\t\t\t\t\t\t<div class="floatL marginL10 marginR10 marginT3" style="width:1px;height:14px;background:#0072bc"></div>\n\t\t\t\t\t\t<div class="floatL color0072bc F13 underLine" ng-click="goBackTo(\'TOP_SUBMISSIONS\')">{{M_TXT_SUBMISSION}}</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-if="nextModuleInfo" class="floatL">\n\t\t\t\t\t\t<div class="floatL marginL10 marginR10 marginT3" style="width:1px;height:14px;background:#0072bc"></div>\n\t\t\t\t\t\t<div class="floatL color0072bc F13 underLine" mt-trans="NEXTQ_BTN_TXT" ng-click="goBackTo(\'NextModule\')">Next</div>\n\t\t\t\t\t\t<div class="floatL marginT3 marginR5 marginL5 {{nextModuleInfoDetails.iconS}}">{{nextModuleInfoDetails.shortKey}}</div>\n\t\t\t\t\t\t<div class="floatL ellipsis" style="max-width: 150px;">{{nextModuleInfo.name}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t</div>\t\t     \n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/missions/practice-tab.html",'<!-- pitch practicise and submit area starts -->\n<!--TODO: Prakash have a look-->\n<div ng-show="!practice.fetchData.$resolved" style="width: 100%;text-align: center;padding: 50px;">\n    <img ng-src="{{loaderImg}}"/>\n</div>\n<div ng-show="practice.fetchData.$resolved">\n    <div class="borderT30_transparent marginL20 marginR20">\n        <div class="floatR pos_rel" style="width:672px;">\n            <div style="position: relative" ng-if="(currentState !== states.ERROR_STATE)&&\n                    (currentState !== states.ERROR_STATE_MISSION) &&\n                    !(showErrorInRecording || showMicAccessDenied) &&\n                    (currentState !== states.TEM_UPLOAD_STATE) &&\n                    (currentState !== states.TEM_START_STATE)">\n                <div ng-if="!isOffline && ((currentState === states.RECORD_READY_STATE) && !videoPitch)"\n                     style="position: absolute; top: 0px;z-index: 2;\n                            text-align: center; height: 30px; color:white;\n                            width: 672px;"\n                     class="F13 bg_1d">\n                    <span ng-if="timerDisplayOption" style="line-height: 30px;">{{timerDisplayOption}}</span>\n                    <span style="line-height: 30px;"\n                          ng-if="!(practice.fetchData.settings.pptUploadByAdmin) &&\n                                    (currentState === states.RECORD_READY_STATE)">{{pptMedia.title}}</span>\n                    <span ng-if="!(practice.fetchData.settings.pptUploadByAdmin) &&\n                                    (currentState === states.RECORD_READY_STATE)"\n                          class="floatR colorc7 F13 lineHeight30 marginR10 cursor"\n                          ng-click="practice.removePptMedia()" mt-trans="M_TXT_REPLACE">\n                    </span>\n                    <div class="clear"></div>\n                </div>\n\n                <!-- mission video landing page -->\n                <div style="height: 378px;width:672px;display:table;" class="color99 F14 bg_1d" ng-if="currentState == states.SELECT_UPLOAD_METHOD_STATE">\n                    <div style="vertical-align:middle; display:table-cell;">\n\t                    <div class="videoRecord" style="margin:auto;"></div>\n\t                    <div style=" text-align:center;" class="marginT20">\n\t                        <div>This is a Video Roleplay Mission.</div>\n\t                        <div>Record your submission through webcam or upload a video file.</div>\n\t                    </div>\n\t                    <div class="floatL pos_rel marginT20" style="left:50%;">\n\t                        <div class="floatL pos_rel" style="left:-50%;">\n\t                            <div ng-click="switchTo(states.RECORD_READY_STATE)" class="btn bg_0072bc F13 lineHeight36 cursor borderR2 paddingL20 paddingR20 start floatL colorff">Record Video</div>\n\t                            <div class="F13 lineHeight36 floatL color99 marginL10 marginR10">or</div>\n\t                            <div ng-click="switchTo(states.UPLOADING_VIDEO)" class="btn bg_0072bc F13 lineHeight36 cursor borderR2 paddingL20 paddingR20 start floatL colorff">Upload Video</div>\n\t                        </div>\n\n\t                    </div>\n                    </div>\n\n                </div>\n                <!-- mission video landing page -->\n\n                <!--<div ng-if="currentState === states.COUNTDOWN_RUNNING" ng-style="heightStyle"-->\n                     <!--style="padding-top:15%;position: absolute; top: 0px; font-size: 70px;-->\n                     <!--text-align: center; color: white;width: 672px; vertical-align: middle;-->\n                     <!--background-color: rgba(0,0,0,0.6);z-index:2;">-->\n                    <!--<timer interval="1000" countdown="4" language="en" finish-callback="timerEnds()">-->\n                        <!--<span ng-show="countdown>0">{{countdown}}</span>-->\n                    <!--</timer>-->\n                <!--</div>-->\n                <div class="floatL marginB10 bg_1d" style="width: 672px;" ng-style="{height: (currentState == states.SAVING || [\n                \'SCREEN_CAPTURE\',\'VOICE_OVER_PPT\'].indexOf(practice.fetchData.learningObject.staticData.missionLOType) > -1  && !(currentState === states.SUBMITTED_STATE)  ) ? \'421px\' : \'378px\'}"  ng-if="!isOffline &&\n                        (currentState !== states.TEM_UPLOAD_STATE) &&\n                        (currentState !== states.TEM_UPLOADED_STATE) &&\n                        (currentState !== states.TEM_START_STATE ) &&\n                        (currentState !== states.SELECT_UPLOAD_METHOD_STATE)">\n                    <div class="border_e0" ng-style="heightStyle" mt-upload="uiState.PPTUploader"\n                         ng-if="currentState === states.UPLOAD_PPT || currentState === states.UPLOADING_PPT">\n                        <div class="selectArea">\n                            <div style="margin-top: 130px;">\n                                <div class="newUploadIcon_48_48 margin0_auto"></div>\n                                <div class="color99 F24 lineHeight40 textalign_C borderT5_transparent borderB5_transparent"\n                                     mt-trans="M_TXT_ADD_PRESENTATION_HEADER"></div>\n                                <div class="coloraa F14 lineHeight20 textalign_C" mt-trans="M_TXT_ADD_PRESENTATION_DETAIL"></div>\n                            </div>\n                        </div>\n                    </div>\n\n\n                    <div>\n                        <div ng-show="isNetworkDown" class="wifi-not-connected" style="position: absolute;top:6px;right:10px;color:white">\n                            <div style="right: -4px;top: 20px;z-index: 100;" class="offlineMsg pos_abs display_N">\n                                <div style="right:2px;top:-2px;z-index:1;" class="triangleUp_27_14 pos_abs"></div>\n                                <div class="ddBG1 pos_abs F13 paddingT10 paddingB10 paddingL10 paddingR10" style="width:190px;right:0;top:11px;">\n                                    Your internet connection seems offline.\n                                </div>\n                            </div>\n                        </div>\n                        <div class="border_e0" ng-style="heightStyle" mt-upload="uiState.VideoUploader"\n                             ng-if="currentState === states.UPLOADING_VIDEO" data-type="video">\n                            <div class="selectArea" style="display:table;width:670px;height:376px;">\n                                <div style="display:table-cell; vertical-align: middle;">\n                                    <div class="uploadIcon margin0_auto"></div>\n                                    <div class="coloraa F14 lineHeight20 textalign_C marginT10"\n                                         mt-trans="M_TXT_UPLOAD_VIDEO"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div ng-style="heightStyle"\n                         ng-if="(currentState !== states.UPLOAD_PPT && currentState !== states.UPLOADING_PPT && currentState !== states.SELECT_UPLOAD_METHOD_STATE)"\n                         class="pos_rel">\n                        <div class="colorff F20 lineHeight30 textalign_C pos_abs bg_1d"\n                             ng-if="currentState == states.SAVE_SUBMISSION || currentState == states.SAVING"\n                             ng-style="heightStyle"\n                             style="/*padding-top: 140px;background-color:#000;*/width: 100%;top:0; display:table">\n                            <div style="vertical-align:middle;display:table-cell;">\n                            \t<img ng-src="{{loadingImg}}"/> Saving submission..\n                            </div>\n\n                        </div>\n                        <div class="pos_rel learningContent textalign_C colorff bg_1d color99 F24 lineHeight20 "\n                             ng-style="heightStyle" style="display:table-cell;width:672px; vertical-align:middle;"\n                             ng-if="( currentState !== states.UPLOAD_PPT && currentState !== states.UPLOADING_PPT ) &&\n                                    ( currentState == states.LOADING_PPT_STATE || loadingPptMedia )"\n                             mt-trans="M_TXT_PROCESSING">\n                        </div>\n                        <div class="pos_rel learningContent margin0_auto" ng-style="heightStyle"\n                             ng-if="checkIfShowPresentation()">\n                            <div ng-if="(currentState !== states.SUBMITTED_VIEW_PRESENTATION &&\n                                        currentState !== states.RECORDING &&\n                                        currentState !== states.RECORD_READY_STATE)"\n                                 class="pos_abs" style="top:0;left:0;height:100%;width:100%;background:#fff;opacity: 0.01;"\n                                 ng-style=""></div>\n                            <div style="height: 100%;">\n                                <div ng-if="practice.recordPageChange" pdfplayer pdf-media="pptMedia" scrolling="no" iframe-class="practiceTabPdfPlayerIframe"\n                                        style="width: 100%; height: 100%; float: left;" on-page-change="practice.recordPageChange">\n                                </div>\n                                <!--iframe crocodoc id="docPlayerIframePractice" ng-src="{{getTrustedUrl((pptMedia.uuid))}}" scrolling="no"\n                                        style="width: 100%; height: 100%; float: left;" on-page-change="practice.recordPageChange">\n                                </iframe-->\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                        <div ng-if="(currentState == states.PREVIEW_DRAFT || currentState == states.DRAFT_STATE)" class="lineHeight40 textalign_C colorff F14 bg_00" style="height:40px;">\n                            {{timerDisplayOption}}\n                        </div>\n                        <div ng-if="showMissionMedia()"\n                             mission-media-view-partial\n                             mission-media="submission.missionMedia"\n                             mission-lo-type="submission.type"\n                             assets-base="assetsBase"\n                             is-video="videoPitch" ng-class="{pos_rel:(practice.fetchData.learningObject.staticData.missionLOType === \'VOICE_OVER_PPT\')}"></div>\n                        <!--<div style="position:absolute;bottom:0px;width:100%;"-->\n                             <!--ng-style="{\'height\':(videoPitch)?\'378px\':\'30px\'}"-->\n                             <!--ng-if="(currentState === states.PREVIEW_DRAFT ||-->\n                                    <!--currentState === states.DRAFT_STATE ||-->\n                                    <!--currentState === states.SUBMITTED_STATE) &&-->\n                                    <!--missionService.mediaHash[media.missionMedia[0].object]">-->\n                            <!--<div jwplayer="missionService.mediaHash[media.missionMedia[0].object]" control-iframe-id="#docPlayerIframePractice"-->\n                                 <!--height-data="{{(videoPitch)?\'378\':\'30\'}}"></div>-->\n                        <!--</div>-->\n                        <div class="pos_rel learningContent textalign_C colorff bg_1d"\n                             ng-style="heightStyle" style="padding-top: 170px;"\n                             ng-if="practice.isMediaFailed()" mt-trans="M_TXT_FAILED_CONVERT_MEDIA">\n                        </div>\n                        </div>\n                </div>\n            </div>\n\n\n            <div class="F13 bg_1d" ng-show="showErrorInRecording"  ng-style="heightStyle"\n                 style=" width: 672px; color: #fff; padding-top: 25%;text-align: center"\n                 ng-bind-html="recordingErrorMessage">\n            </div>\n            <div class="F13 bg_1d" ng-show="currentState == states.ERROR_STATE_MISSION"  ng-style="heightStyle"\n                 style="width: 672px; color: #fff;text-align: center; display:table;"\n                 >\n                 <div style="vertical-align:middle;display:table-cell;">\n                \t <div class="color99 F24 lineHeight20 textalign_C">{{error.label}}</div>\n                     <div class="color99 F14 lineHeight20 textalign_C marginT10 paddingL60 paddingR60" ng-bind-html="error.subMessage"></div>\n                     <div class="color99 F14 lineHeight20" ng-if="error.isRetryable">\n                        <span style="text-decoration: underline;" class="cursor linkBlue" ng-click="retryCurrentUpload()">Retry</span> or\n                        <span style="text-decoration: underline;" class="cursor linkBlue" ng-click="goToStart(states.RECORD_READY_STATE)">Cancel</span>\n                     </div>\n                     <div class="color99 F14 lineHeight20" ng-if="!error.isRetryable">\n                        <span style="text-decoration: underline;" class="cursor linkBlue" ng-click="goToStart(states.RECORD_READY_STATE)" >Back</span>\n                     </div>\n                 </div>\n\n            </div>\n            <div class="F20" ng-show="showMicAccessDenied"  ng-style="heightStyle"\n                 style="width: 672px; color: #fff; padding-top: 20%;text-align: center">\n                <img style="height: 96px; width: 96px;" ng-src="{{srcMicAccessDenied}}"/>\n            </div>\n            <div recording-partial\n                 ng-if="currentDraftOrder"\n                 style="position: absolute;"\n                 current-state="currentState"\n                 set-submit-view="setSubmitView"\n                 has-permissions="hasPermissions"\n                 states="states"\n                 practice-tab-object="practiceTabObject"\n                 height-style="heightStyle"\n                 entity-id="practice.fetchData.gameInfo.id"\n                 draft-order="currentDraftOrder"\n                 mission-lo-type="practice.fetchData.learningObject.staticData.missionLOType"\n                 record-page-change="practice.recordPageChange"\n                 currpage="currpage"\n                 is-screen-video="practice.fetchData.learningObject.staticData.isVideo"\n                 current-voice-over-data="currentVoiceOverData"\n                 parent-scope-watch="lookOutForChild"\n                 next-func="addDrafts"\n                 fetch-data="practice.fetchData"\n                 assign-controls="assignControls"\n                 change-state="changeState"\n                 assets-base="assetsBase"\n                 target-length="getTargetLengthString"\n                 check-if-show-presentation\t= "checkIfShowPresentation"\n                 ppt-media = "pptMedia"\n                 check-mission-state="checkMissionState"\n                 count-down-number="countDownNumber"\n                 class=""\n                 ng-class="{dontShowMe:(currentState === states.DRAFT_STATE ||\n                                        currentState === states.UPLOAD_PPT ||\n                                        currentState === states.PAUSED_OFFLINE ||\n                                        currentState === states.PAUSED_ONLINE ||\n                                        currentState === states.DRAFT_STATE ||\n                                        currentState === states.SUBMITTED_STATE ||\n                                        currentState === states.SUBMITTED_VIEW_PRESENTATION)\n                            }">\n            </div>\n            <div ng-if="currentState === states.UPLOADING_VIDEO" ng-show="!isUploading" ng-click="switchTo(states.RECORD_READY_STATE)" class="floatL F13 lineHeight34 paddingR15 paddingL15 borderR2 cursor pos_rel border_0072bc color0072bc">\n\t\t          Switch to Record\n\t\t    </div>\n            <div>\n                <div class="">\n                    <div ng-if="!isOffline && currentState === states.RECORD_READY_STATE && !loadingPptMedia">\n\t\t                \t<div style="bottom: 0;left: 0;" ng-click="switchTo(states.UPLOADING_VIDEO)" ng-if="\n                            practice.fetchData.learningObject.staticData.missionLOType == \'VIDEO_PITCH\'" class="floatL F13 lineHeight34 paddingR15 paddingL15 borderR2 cursor pos_abs border_0072bc color0072bc" >\n\t\t                \t\tSwitch to Upload\n\t\t                \t</div>\n\t\t             <div  class="floatL pos_rel" style="left:50%">\n                        <div class="floatL pos_rel" style="left:-50%">\n                            <div ng-click="toggleRecording()" class="btn F13 lineHeight36 cursor borderR2 floatL paddingL20 paddingR20 start">\n                                <div class="floatL whiteCircle_12_12 marginT13"></div>\n                                <div class="floatL marginL7" mt-trans="M_TXT_START_RECORDING"></div>\n                                <div class="clear"></div>\n                            </div>\n                            <div class="floatL settingIcon_17_17 marginT7 marginL10 tooltip_bottom_left_2"\n                                 mtitle="Mic and Camera Settings"\n                                 style="white-space:nowrap;"\n                                 ng-if="isHTML5MissionRecordingSupported()" ng-click="changeState( states.SELECT_DEVICES )">\n                            </div>\n                        </div>\n                       </div>\n\n                    </div>\n                    <!-- <div ng-if="currentState === states.SELECT_DEVICES" class="floatL pos_rel" style="left:50%;">\n                        <div class="floatL pos_rel" style="left:-50%">\n                            <div ng-click="showReRecordControls()" class="btn bg_0072bc F13 lineHeight36 cursor borderR2 paddingL20 paddingR20 start">\n                                <div class="floatL marginL7"> Continue </div>\n                                <div class="clear"></div>\n                            </div>\n                        </div>\n                    </div> -->\n                    <div ng-if="currentState === states.RECORDING" class="floatL pos_rel" style="left:50%">\n                        <div class="floatL pos_rel" style="left:-50%" ng-click="toggleRecording()">\n\n                            <div class="btn F13 lineHeight36 cursor borderR2 paddingL20 paddingR20 stop floatL">\n                                <div class="floatL whiteCircle_blink_12_12 marginT13"></div>\n                                <div class="floatL marginL7" mt-trans="M_TXT_STOP_RECORDING"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-if="currentState === states.SAVING" class="floatL pos_rel" style="left:50%">\n                        <div class="floatL pos_rel" style="left:-50%">\n                            <div class="floatL border_999 color99 F14\n                                        lineHeight34 borderR2 paddingL20\n                                        paddingR20 marginR10 cursor"\n                                        mt-trans="HM_MSG_CANCEL" ng-if="[\'SCREEN_CAPTURE\',\'VIDEO_PITCH\'].indexOf(practice.fetchData.learningObject.staticData.missionLOType) > -1"\n                                        ng-click="changeState(states.PURIFY_STATE)">\n                                      </div>\n                            <!--<div class="floatL border_999 color99 F14 lineHeight34 borderR2 paddingL20 paddingR20"-->\n                                 <!--mt-trans="M_TXT_PROCESSING"></div>-->\n                            <!--<div class="clear"></div>-->\n                        </div>\n                    </div>\n                    <div ng-if="currentState === states.DRAFT_STATE"\n                         class="floatR bg_0072bc colorff F14 lineHeight36 cursor borderR2 paddingL20 paddingR20 marginL10"\n                         ng-click="submitDraft()" mt-trans="M_TXT_SUBMIT_DRAFT_STATEMENT">\n                    </div>\n\n                    <div ng-if="(currentState === states.RECORD_READY_STATE ||\n                                currentState === states.DRAFT_STATE || currentState === states.UPLOAD_PPT) && hasDrafts()"\n                         class="dropdown border_0072bc color0072bc F14 lineHeight34 pos_rel cursor borderR2 floatR" style="right:0px; bottom:0px;">\n                        <div class="dropdown-toggle lineHeight34 paddingL20 paddingR20" style="border:0">\n                            <div class="floatL" mt-trans="M_TXT_VIEW_DRAFTS"></div>\n                            <div class="floatL downArrow_blue_12_7 marginT14 marginL5"></div>\n                            <div class="clear"></div>\n                        </div>\n                        <div class="dropdown-menu" style="right:-1px">\n                            <div class="triangleBottom_28_14 pos_abs" style="left: 40px;top: -50px;z-index:2;"></div>\n                            <ul class="pos_abs lineHeight30" style="right: 0px;bottom: 49px;width: 420px;max-height:420px;overflow-y:auto;z-index:1">\n                                <li class="" ng-repeat="(draftKey, draftValue) in practice.fetchData.learningObject.userData.draftIdDraftMap">\n                                    <div class="pos_rel">\n                                        <div class="floatL" ng-click="setSubmitView(draftKey)" style="width:360px">\n                                            {{getDraftDisplayText(draftValue)}}\n                                        </div>\n                                        <div class="floatR marginT8 newDeleteIcon_15_16" ng-click="discardDraft(draftKey)"></div>\n                                        <div class="clear"></div>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n\n                    <!-- old code of draft -->\n                    <div ng-if="currentState === states.PREVIEW_DRAFT" class="floatL pos_rel" style="left:50%">\n                        <div class="floatL pos_rel" style="left:-50%">\n                            <div class="floatL border_999 color99 F14 lineHeight36 cursor borderR2 paddingL20 paddingR20"\n                                 ng-click="discardDraft(draftKey)">\n                                {{discardDraftText(draftKey)}}\n                            </div>\n                            <div  ng-show="submission.missionMedia.isVideoProcessingDone" class="floatL bg_ff color0072bc F14 lineHeight36 cursor borderR2 paddingL20 paddingR20 marginL10"\n                                 ng-click="saveDraft()" style="border: solid 1px #0072bc">\n                                {{saveDraftText()}}\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n\n                    <!-- old code of draft -->\n\n\n                    <!-- draft -->\n                   <!--  <div ng-if="currentState === states.PREVIEW_DRAFT">\n\n                            <div class="floatL F13 lineHeight34 paddingR15 paddingL15 borderR2 cursor" style="border: solid 1px #0072bc; color:#0072bc;" ng-click="showReRecordControls()">\n                               Create New\n                            </div>\n                            <div class="floatR bg_0072bc colorff F14 lineHeight34 cursor borderR2 paddingL20 paddingR20 marginL10"\n                                 style="border: solid 1px #0072bc">\n                                Submit this Draft\n                            </div>\n                            <div class="floatR bg_ff color0072bc F14 lineHeight36 cursor borderR2" style="/* border: solid 1px #0072bc */"> -->\n\n\n                    <!-- <div class="dropdown border_0072bc color0072bc F14 lineHeight34 pos_rel cursor borderR2 floatR">\n                        <div class="dropdown-toggle lineHeight34 paddingL20 paddingR20" style="border:0">\n                            <div class="floatL" mt-trans="M_TXT_VIEW_DRAFTS"></div>\n                            <div class="floatL downArrow_blue_12_7 marginT14 marginL5"></div>\n                            <div class="clear"></div>\n                        </div>\n                        <div class="dropdown-menu" style="right:-1px;border:0px;">\n                            <div class="triangleBottom_28_14 pos_abs" style="left: 40px;top: -50px;z-index:2;"></div>\n                            <ul class="pos_abs lineHeight30" style="right: 0px;bottom: 49px;width: 420px;max-height:420px;overflow-y:auto;z-index:1">\n                                <li class="" ng-repeat="(draftKey, draftValue) in practice.fetchData.learningObject.userData.draftIdDraftMap">\n                                    <div class="pos_rel">\n                                        <div class="floatL" ng-click="setSubmitView(draftKey)" style="width:360px">\n                                            {{getDraftDisplayText(draftValue)}}\n                                        </div>\n                                        <div class="floatR marginT8 newDeleteIcon_15_16" ng-click="discardDraft(draftKey)"></div>\n                                        <div class="clear"></div>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div> -->\n                      <!--\n\t\t\t\t\t\t\t<div class="pos_rel dropdown open" ng-class="{ disable : disableFilter }" style="width: 90px;">\n\t\t\t\t\t\t\t\t <div class="dropdown-toggle color99 lineHeight34" style="border: none;" aria-haspopup="true" aria-expanded="true">\n\t\t\t\t\t\t\t\t\t <div style="background: transparent;color: #0072bc;border: 1px solid #0072bc;padding: 5px 10px;text-align: left;line-height:24px;" class="dropdown-text lineHeight20 borderR2">Draft 1</div>\n\t\t\t\t\t\t\t\t\t <div class="icon-ddArrowBottom F7 color0072bc pos_abs" style="top:14px;right:12px"></div>\n\t\t\t\t\t\t\t\t </div>\n\t\t\t\t\t\t\t\t <div class="dropdown-menu" style="width: 90px;top:34px;left:0px;padding: 0;margin:0;border:0;">\n\t\t\t\t\t\t\t\t\t <ul style="max-height:152px;width: 90px;border:1px solid #0072bc;">\n\t\t\t\t\t\t\t\t\t\t  <li class="ellipsis" style="color:#0072bc;">Draft 2</li>\n\t\t\t\t\t\t\t\t\t </ul>\n\t\t\t\t\t\t\t\t </div>\n\t\t\t\t\t\t\t</div> -->\n\n<!--                             </div>\n                            <div class="clear"></div>\n                    </div> -->\n                    <div ng-if="currentState === states.PAUSED_OFFLINE" class="floatL pos_rel" style="left:50%">\n                        <div class="floatL pos_rel" style="left:-50%">\n                            <div class="floatL border_999 color99 F14 lineHeight34 borderR2 paddingL20 paddingR20" mt-trans="M_TXT_CONNECTING"></div>\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n                    <div ng-if="currentState === states.PAUSED_ONLINE" class="floatL pos_rel" style="left:50%">\n                        <div class="floatL pos_rel" style="left:-50%">\n                            <div class="floatL border_999 color99 F14 lineHeight34 cursor borderR2 paddingL20 paddingR20"\n                                 ng-click="cancelPausedRecording()" mt-trans="M_TXT_RECORD_AGAIN">\n                            </div>\n                            <div ng-click="resumePausedRecording()" class="btn F13 lineHeight36 cursor borderR2 paddingL20 paddingR20 start marginL10">\n                                <div class="floatL whiteCircle_12_12 marginT13"></div>\n                                <div class="floatL marginL7" mt-trans="M_TXT_RESUME_RECORDING"></div>\n                                <div class="clear"></div>\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n                    <div ng-if="currentState === states.DRAFT_STATE"\n                         class="floatL border_0072bc color0072bc F14 lineHeight34 cursor borderR2 paddingL20 paddingR20"\n                         ng-click="showReRecordControls()" mt-trans="M_TXT_RECORD_NEW">\n                    </div>\n                    <div class="clear"></div>\n                  <!--   <div ng-if="!isOffline && currentState === states.RECORD_READY_STATE && !loadingPptMedia" class="pos_abs marginL20" style="left:0;bottom:5px;">\n                    \t<div class="floatL lineHeight30 coloree F13 marginR5">Countdown:</div>\n                    \t<div class="floatL dropdown">\n                    \t\t<div class="dropdown-toggle" style="padding:0 20px 0 10px;background:transparent;">\n                    \t\t\t<div class="dropdown-text lineHeight28" style="width:20px">{{countDownNumber}}</div>\n                    \t\t\t<div class="downArrow_12_7" style="top:12px"></div>\n                    \t\t</div>\n                    \t\t<div class="dropdown-menu" style="min-width:60px;top:30px;padding-top: 0;margin:0">\n                    \t\t\t<ul style="max-height:90px;scroll:auto;">\n                    \t\t\t\t<li ng-repeat="cNumber in [3,5,10] track by $index" ng-click="setCountDownNumber(cNumber)">{{cNumber}}</li>\n                    \t\t\t</ul>\n                    \t\t</div>\n                    \t</div>\n                    \t<div class="clear"></div>\n                    </div> -->\n                </div>\n            </div>\n            <div>\n                <!-- <div class="displayN">\n                    <div ng-if="!isOffline && currentState === states.RECORD_READY_STATE" class="floatL pos_rel" style="left:50%">\n                        <div class="floatL pos_rel" style="left:-50%">\n                            <div ng-click="toggleRecording()" class="btn F13 lineHeight36 cursor borderR2 paddingL20 paddingR20 start">\n                                <div class="floatL whiteCircle_12_12 marginT13"></div>\n                                <div class="floatL marginL7" mt-trans="M_TXT_START_RECORDING"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-if="currentState === states.DRAFT_STATE"\n                         class="floatR bg_0072bc colorff F14 lineHeight36 cursor borderR2 paddingL20 paddingR20 marginL10"\n                         ng-click="submitDraft()" mt-trans="M_TXT_SUBMIT_DRAFT_STATEMENT">\n                    </div>\n\n                    <div ng-if="(currentState === states.RECORD_READY_STATE ||\n                                currentState === states.DRAFT_STATE || currentState === states.UPLOAD_PPT) && hasDrafts()"\n                         class="dropdown border_0072bc color0072bc F14 lineHeight34 pos_rel cursor borderR2 floatR">\n                        <div class="dropdown-toggle lineHeight34 paddingL20 paddingR20" style="border:0">\n                            <div class="floatL" mt-trans="M_TXT_VIEW_DRAFTS"></div>\n                            <div class="floatL downArrow_blue_12_7 marginT14 marginL5"></div>\n                            <div class="clear"></div>\n                        </div>\n                        <div class="dropdown-menu" style="right:-1px">\n                            <div class="triangleBottom_28_14 pos_abs" style="left: 40px;top: -50px;z-index:2;"></div>\n                            <ul class="pos_abs lineHeight30" style="right: 0px;bottom: 49px;width: 400px;z-index:1" style="">\n                                <li class="" ng-repeat="(draftKey, draftValue) in practice.fetchData.learningObject.userData.draftIdDraftMap">\n                                    <div class="pos_rel">\n                                        <div class="floatL" ng-click="setSubmitView(draftKey)" style="width:360px">\n                                            {{draftValue.draftOrder}} - {{(draftValue.duration/60 > 1) ? ("0"+((draftValue.duration-(draftValue.duration%60))/60)).slice(-2) : "00"}}:{{(draftValue.duration%60 > 1) ? ("0"+(draftValue.duration%60)).slice(-2) : "00"}} m\n                                        </div>\n                                        <div class="floatR marginT8 newDeleteIcon_15_16" ng-click="discardDraft(draftKey)"></div>\n                                        <div class="clear"></div>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div ng-if="currentState === states.RECORDING" class="floatL pos_rel" style="left:50%">\n                        <div class="floatL pos_rel" style="left:-50%" ng-click="toggleRecording()">\n                            <div class="btn F13 lineHeight36 cursor borderR2 paddingL20 paddingR20 stop">\n                                <div class="floatL whiteCircle_blink_12_12 marginT13"></div>\n                                <div class="floatL marginL7" mt-trans="M_TXT_STOP_RECORDING"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-if="currentState === states.SAVING" class="floatL pos_rel" style="left:50%">\n                        <div class="floatL pos_rel" style="left:-50%">\n                            <div class="floatL border_999 color99 F14 lineHeight34 borderR2 paddingL20 paddingR20" mt-trans="M_TXT_PROCESSING"></div>\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n                    <div ng-if="currentState === states.PREVIEW_DRAFT" class="floatL pos_rel" style="left:50%">\n                        <div class="floatL pos_rel" style="left:-50%">\n                            <div class="floatL border_999 color99 F14 lineHeight36 cursor borderR2 paddingL20 paddingR20"\n                                 ng-click="discardDraft(draftKey)">\n                                {{draftKey? Game.Messages.M_TXT_DISCARD : Game.Messages.M_TXT_CREATING + ".."}}\n                            </div>\n                            <div class="floatL bg_ff color0072bc F14 lineHeight36 cursor borderR2 paddingL20 paddingR20 marginL10"\n                                 ng-click="saveDraft()" style="border: solid 1px #0072bc">\n                                {{isSaving?Game.Messages.BTN_SAVING_TEXT:(Game.Messages.M_TXT_SAVE_DRAFT + " " + currentDraftOrder)}}\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n                    <div ng-if="currentState === states.PAUSED_OFFLINE" class="floatL pos_rel" style="left:50%">\n                        <div class="floatL pos_rel" style="left:-50%">\n                            <div class="floatL border_999 color99 F14 lineHeight34 borderR2 paddingL20 paddingR20" mt-trans="M_TXT_CONNECTING"></div>\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n                    <div ng-if="currentState === states.PAUSED_ONLINE" class="floatL pos_rel" style="left:50%">\n                        <div class="floatL pos_rel" style="left:-50%">\n                            <div class="floatL border_999 color99 F14 lineHeight34 cursor borderR2 paddingL20 paddingR20"\n                                 ng-click="cancelPausedRecording()" mt-trans="M_TXT_RECORD_AGAIN">\n                            </div>\n                            <div ng-click="resumePausedRecording()" class="btn F13 lineHeight36 cursor borderR2 paddingL20 paddingR20 start marginL10">\n                                <div class="floatL whiteCircle_12_12 marginT13"></div>\n                                <div class="floatL marginL7" mt-trans="M_TXT_RESUME_RECORDING"></div>\n                                <div class="clear"></div>\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n                    <div ng-if="currentState === states.DRAFT_STATE"\n                         class="floatL border_0072bc color0072bc F14 lineHeight34 cursor borderR2 paddingL20 paddingR20"\n                         ng-click="showReRecordControls()" mt-trans="M_TXT_RECORD_NEW">\n                    </div>\n\n                    <div class="clear"></div>\n                </div> -->\n            </div>\n            <div ng-if="!videoPitch && !screenCapture">\n                <div class="floatL pos_rel" style="left:50%" ng-click="viewSubmission()"\n                     ng-if="currentState === states.SUBMITTED_VIEW_PRESENTATION">\n                    <div class="floatL pos_rel" style="left:-50%">\n                        <div class="border_0072bc color0072bc F14 lineHeight34 pos_rel cursor borderR2 paddingL20 paddingR20"\n                             mt-trans="M_TXT_VIEW_SUBMISSION">\n                        </div>\n                    </div>\n                </div>\n                <div class="floatL pos_rel" style="left:50%" ng-click="viewPresentation()"\n                     ng-if="currentState === states.SUBMITTED_STATE">\n                    <div class="floatL pos_rel" style="left:-50%">\n                        <div class="border_0072bc color0072bc F14 lineHeight34 pos_rel cursor borderR2 paddingL20 paddingR20"\n                             mt-trans="M_TXT_VIEW_PRESENTATION"></div>\n                    </div>\n                </div>\n                <div class="clear"></div>\n            </div>\n            <div ng-if="currentState == states.TEM_START_STATE" style="width: 100%;text-align: center;padding: 50px;">\n                <img ng-src="{{loaderImg}}"/>\n            </div>\n            <div class="" ng-if="currentState == states.TEM_UPLOAD_STATE">  <!-- offline task evaluation area  starts-->\n            \t<div class="pos_rel">\n            \t\t<div ng-repeat="documentType in documentList track by $index" class="marginB10"\n                         ng-class="{offlineTask_email_parent:(documentType == UploadDocumentType.TEXT),\n                                     offlineTask_attachment_parent:(documentType == UploadDocumentType.MEDIA),\n                                     offlineTask_attachment:(documentType == UploadDocumentType.MEDIA),\n                                     uploaded:isUploaded($index, documentType),\n                                     bg_f5:(documentType == UploadDocumentType.MEDIA),\n                                     F13:(documentType == UploadDocumentType.MEDIA),\n                                     marginB10:(documentType == UploadDocumentType.MEDIA)}">\n                        <div ng-if="documentType == UploadDocumentType.TEXT" email-editor="{{$index}}"></div>\n                        <div ng-if="documentType == UploadDocumentType.MEDIA"\n                             tem-upload-box="{{\'tem_uploader_\'+ practice.fetchData.learningObject.staticData.id+\'_media_\'+$index}}"></div>\n            \t\t</div>\n            \t\t<div>\n\t            \t\t<div class="floatL pos_rel" style="left:50%">\n\t            \t\t\t<div class="floatL pos_rel" style="left:-50%">\n\t            \t\t\t\t<div class="sub_mission_btn F13 lineHeight36 borderR2 paddingL50 paddingR50 pos_rel deactiveSubmitBtn"\n                                     ng-class="{readyToSubmit:canSubmitTem()}">\n                                    <div ng-click="submitDraft()">Submit Mission</div>\n                                    <div class="hoverOnSubmitMission pos_abs bg_ff lineHeight20 F13 color00" style="bottom: 49px;min-width: 260px;left: -40px;">\n                                        <div style="left: 118px;bottom:-13px;z-index:1;" class="triangleBottom_28_14 pos_abs"></div>\n                                        <div class="border_dd" style="padding:10px;">\n                                            <div>{{Game.Messages.M_TXT_PLZ_COMPLETE_TASKS}}</div>\n                                            <div class="marginT3">\n                                                <ul class=\'paddingL20\'>\n                                                    <li ng-repeat="value in documentState" class=\'marginB3 lineHeight18\' style=\'list-style: disc outside\'>{{value}}</li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n\t            \t\t</div>\n\t            \t\t<div class="clear"></div>\n            \t\t</div>\n            \t</div>\n            </div> <!-- offline task evaluation area  ends-->\n        \t<div task-eval-mission-view-partial ng-if="currentState == states.TEM_UPLOADED_STATE"></div>\n        </div>\n        <div class="" style="margin-right:692px">\n            <div ng-if="practice.fetchData.learningObject.userData.attemptType == \'RESET\' && practice.fetchData.learningObject.userData.progressState == \'NOT_SUBMITTED\'" class="lineHeight28 marginT10 marginB10 F13 paddingL10" style="text-align: left;background:#fffbcf;width: 450px;">\n                <span class="bold">NOTE:</span> \n                <span>This mission has been reset by the admin.</span>\n            </div>\n            <div class="ofh">\n                <div class="floatL color00 F18 lineHeight30" mt-trans="M_TXT_MISSION_DESCRIPTION"></div>\n                <div class="floatL color476635 F13 lineHeight28 bg_dafac8 border_c4e7b0 paddingL10 paddingR10 marginL10" ng-if="!isOffline && !isTEM">\n                    <div class="floatL clock_12_12 marginT9" ng-if="!isTEM"></div>\n                    <div class="floatL marginL5" ng-if="!isTEM">\n                        <span mt-trans="M_TXT_TARGET_LENGTH"></span> - &nbsp;<span>\n                        {{getTargetLengthString(practice.fetchData.gameInfo.specialStaticSettings.targetLength)}}\n                    </span>\n                    </div>\n                    <div class="clear"></div>\n                </div>\n                <div class="clear1"></div>\n            </div>\n            <div class=" borderB_dd pos_rel marginB20 paddingB20">\n                <div class="color00 F13 lineHeight18 marginT20"\n                 dd-text-collapse\n\t\t\t \t dd-text-collapse-max-length="400"\n\t\t\t \t dd-text-expand-collapse-type="2"\n\t\t\t \t dd-text-collapse-text="{{practice.fetchData.gameInfo.desc}}">\n                </div>\n                <div ng-class="{\'borderT_dd marginT20\':practice.fetchData.gameInfo.specialStaticSettings.docs[0]}">\n\t                <div media-view\n\t                \tng-class="{\'paddingT20\':practice.fetchData.gameInfo.specialStaticSettings.docs[0]}"\n\t                \tmedia="practice.fetchData.gameInfo.specialStaticSettings.docs[0]"\n\t                \tclass="ofh"\n\t                \tstyle="width:320px"></div>\n\t                <div class="borderT15_transparent lineHeight20 ofh" ng-repeat="doc in practice.fetchData.gameInfo.specialStaticSettings.docs">\n\t                    <div class="floatL color00 F13 floatL marginR20">{{doc.title}}</div>\n\t                    <a href="{{doc.original_path || doc.obj.original_path}}" target="_blank" class="floatL cursor  display_B" style="text-decoration:none">\n\t                       <div class="color0072bc marginR5 F13">Download</div>\n\t                    </a>\n\t                    <div class="clear"></div>\n\t                </div>\n\t             </div>\n            </div>\n\n            <div class="lineHeight24 ofh marginB20"\n                 ng-if="[\'NUMERIC\',\'BINARY\'].indexOf(practice.fetchData.learningObject.staticData.evalParamType) > -1">\n                <div class="floatL color00 F13" mt-trans="M_TXT_CERT_CUTOFF"></div>\n                <div class="floatL marginT5 marginL10">\n                    <div eval-param-rating-partial score="practice.fetchData.settings.certificateScore"\n                         firsthalf-rating-class="\'firsthalfRating\'"\n                         secondhalf-rating-class="\'secondhalfRating\'">\n                    </div>\n                </div>\n                <div class="floatL color00 F16 paddingL5">\n                    <span>{{practice.fetchData.settings.certificateScore / 100}}</span><span>/5</span>\n                </div>\n            </div>\n            <div class="marginB20">\n                <div class="color66 F13 lineHeight20">\n                    <div class="floatL marginR5 lineHeight22" mt-trans="M_TXT_EVAL_PARAMS_N"></div>\n\n                    <div class="floatL marginR5 marginB5 bg_f5 border_cc paddingL5 paddingR5"\n                         ng-repeat="evalParams in practice.fetchData.learningObject.staticData.evaluationParams">\n                        <span>{{evalParams.evalParam.name}}</span>\n                        <span ng-show="companySettings.lsSettings.enableEvalParamWeight && evalParams.weight !== 1"> \n                            (<span style="text-indent: 5px;">x {{evalParams.weight}}</span>)\n                        </span>\n                    </div>\n                    <div class="clear"></div>\n                </div>\n            </div>\n        </div>\n        <div class="clear"></div>\n    </div>\n</div>\n<!-- pitch practicise and submit area starts -->\n\n<audio class="display_N" ng-repeat="n in [1,2,3,4,5,6,7,8,9,10]" data-count-down-number="{{n}}">\n  <source ng-src="{{getCountdownVoiceURL(n)}}" type="audio/mp3">\n</audio>\n<audio class="display_N" data-count-down-number="start">\n  <source ng-src="{{getCountdownVoiceStartURL()}}" type="audio/mp3">\n</audio>\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/missions/profile-snipet.html",'<div class="profileCard">  <!-- profile card starts -->\n\t\t<div style="padding:30px 10px;" class="textalign_C">\n\t\t    <div class="pos_rel marginB10">\n\t\t        <img class="margin0_auto" style="width:64px;height:64px;border-radius:50%;display:block" src="images/img_80_80.png" alt="">\n\t\t\t\t<div style="left:145px;top:16px" class="pos_abs">\n\t\t\t\t\t<div class="floatL halfStar_11_16 marginT8"></div>\n\t\t\t\t\t<div class="floatL lineHeight32 colorf48414 F18 ng-binding">636</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="cursor color00 F16 lineHeight28">Test Name</div>\n            <div class="color99 F13 lineHeight20">Sales Executive</div>\n\t\t    <div class="color99 F13 lineHeight20">California</div>\n\t\t\t<div>\n\t\t\t\t<div style="left:50%" class="floatL pos_rel">\n\t\t\t\t\t<div style="left:-50%" class="floatL pos_rel">\n\t\t\t\t\t\t<div class="blueBorderBtn_30 F13 paddingL17 paddingR17 marginT15">Message</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\t\n\t</div>  <!-- profile card ends -->\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/missions/review-tab.html",'<div ng-if="!practice.fetchData.$resolved" style="width: 100%;text-align: center;padding: 50px;">\n    <img ng-src="{{loaderImg}}"/>\n</div>\n<!-- pitch practicise and submit area starts -->\n\n<div ng-if="practice.fetchData.$resolved ">\n\t<div class="marginB20">\n\t    <div class="borderT30_transparent marginR0 marginB20">\n\t        <div class="pos_rel learningContent textalign_C colorff"\n\t\t\t\t ng-style="{\'height\':(videoPitch)?\'378px\':\'421px\'}"\n\t\t\t\t style="background: #000; padding-top: 170px;"\n\t\t\t\t ng-if="loadingPptMedia"\n\t\t\t\t mt-trans="M_TXT_PROCESSING">\n\t\t\t</div>\n\t        <div class="floatR" style="width:672px;position: relative"\n\t        \tng-class="{height421: (submission.type == \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\'), \n        \t\t\t\t   height378: (submission.type == \'VIDEO_MISSION_LEARNER_SUBMSSION\'), \n        \t\t\t\t   height381: (submission.type == \'VOICE_OVER_PPT_MISSION_LEARNER_SUBMSSION\')}" \n        \t\t\t\t   ng-style="{width:(submission.type == \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\')? \'672px\':\'640px\'}"\n\t\t\t\t ng-if="(currentState === states.SUBMITTED_STATE || currentState === states.SUBMITTED_VIEW_PRESENTATION) && !loadingPptMedia && reviewState(practice) !== 1 && currentState !== states.OFFLINE_UPLOADED_STATE">\n\t            <div class="pos_abs" style="top:0;left:0;height:100%;width:100%;background:#fff;opacity: 0.01;"></div>\n\n                <div ng-if="showMissionMedia()" raplayer-view-partial\n                     submission="submission"\n                     assets-base="assetsBase"\n                     filters="practice.playerFilters"\n                     comment-container-id="comment-detail-pane-{{submission.submissionId}}"\n                    >    \t\n                </div>         \n\n\t        </div>\n\t        <div class="floatR pos_rel" style="width:672px;" task-eval-mission-view-partial ng-if="currentState == states.TEM_UPLOADED_STATE"></div>\n\t        <div  ng-if="reviewState(practice) === 1 && currentState !== states.TEM_UPLOADED_STATE"\n\t\t\t\t  class="floatR F40 colorcc textalign_C marginB10"\n\t\t\t\t  style="background:#eee;height: 330px; width: 640px;line-height: 310px;"\n\t\t\t\t  mt-trans="M_TXT_SUBMISSION_PENDING">\n\t\t\t</div>\n\n\t\n\t\t\t<div style="margin-right:692px;background: #f5f5f5;overflow-y:auto;"  ng-class="{height421: (submission.type == \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\'), \n        \t\t\t\t   height378: (submission.type == \'VIDEO_MISSION_LEARNER_SUBMSSION\'), \n        \t\t\t\t   height381: (submission.type == \'VOICE_OVER_PPT_MISSION_LEARNER_SUBMSSION\'),\n        \t\t\t\t   height330: (reviewState(practice) === 1 && currentState !== states.TEM_UPLOADED_STATE)}"\n        \t\t\t\t>\n\t\t\t\t<ul class="reviewPopupTab"  ng-show="submission.type !== \'TASK_EVALUATION_MISSION_LEARNER_SUBMSSION\'">\n\t\t\t\t\t<li ng-click="tab =\'review\'" ng-class="{active: tab==\'review\' || !tab}" mt-trans="TXT_SUMMARY">Summary</li>\n\t\t\t\t\t<li ng-click="tab =\'comment\';tabClicked(tab);" ng-class="{active: tab==\'comment\'}"><span mt-trans="TXT_COMMENTS">Comments</span>&nbsp;<span id="comment-detail-pane-{{submission.submissionId}}-count"></span></li>\n\t\t\t\t</ul>\n\t\t\t\t<!-- summary starts -->\n\t\t\t\t<div ng-show="tab == \'review\' || !tab" style="padding: 20px;">\n\t\t\t        <div>\n\t\t\t            <div ng-if="reviewState(practice) === 1">\n\t\t\t                <div class="color00 F18 lineHeight30"  mt-trans="M_TXT_SUBMISSION_PENDING"></div>\n\t\t\t                <div class="color99 F13 lineHeight18" mt-trans="M_TXT_SUBMIT_FOR_REVIEW"></div>\n\t\t\t            </div>\n\t\t\t            <div ng-if="reviewState(practice) === 5">\n\t\t\t                <div class="color00 F18 lineHeight30" mt-trans="M_TXT_NO_REVIEWERS_ADDED"></div>\n\t\t\t                <div class="color99 F13 lineHeight18" mt-trans="M_TXT_SUMMARY_AFTER_REVIEWS"></div>\n\t\t\t\t\t\t\t<div class="color99 F13 lineHeight18 cursor"\n\t\t\t\t\t\t\t\t ng-if="[\'NUMERIC\',\'BINARY\'].indexOf(practice.fetchData.learningObject.staticData.evalParamType) > -1 && practice.showTopSubmission" mt-trans="TXT_VIEW_MISSION_TS">\n\t\t\t\t\t\t\t\tYou can view <span style=\'color:#0072bc\' ng-click="switchTab(\'submission\')">Top Submissions</span> from other participants in this Mission.\n\t\t\t\t\t\t\t</div>\n\t\t\t            </div>\n\t\t\t            <div ng-if="reviewState(practice) === 2 && (practice.fetchData.entityLearner.reviewers.length) == 1">\n\t\t\t                <div class="color00 F18 lineHeight30">\n\t\t\t\t\t\t\t\t{{practice.fetchData.entityLearner.reviewers.length - reviewsCompleteLength}}/{{practice.fetchData.entityLearner.reviewers.length}}&nbsp;{{Game.Messages.M_TXT_REVIEW_PENDING_NONE}}\n\t\t\t\t\t\t\t</div>\n\t\t\t                <div class="color99 F13 lineHeight18" mt-trans="M_TXT_SUMMARY_AFTER_REVIEWS"></div>\n\t\t\t\t\t\t\t<div class="color99 F13 lineHeight18 cursor"\n\t\t\t\t\t\t\t\t ng-if="[\'NUMERIC\',\'BINARY\'].indexOf(practice.fetchData.learningObject.staticData.evalParamType) > -1 && practice.showTopSubmission" mt-trans="TXT_VIEW_MISSION_TS">\n\t\t\t\t\t\t\t\tYou can view <span style=\'color:#0072bc\' ng-click="switchTab(\'submission\')">Top Submissions</span> from other participants in this Mission.\n\t\t\t\t\t\t\t</div>\n\t\t\t            </div>\n\t\t\t            <div ng-if="reviewState(practice) === 2 && (practice.fetchData.entityLearner.reviewers.length) != 1">\n\t\t\t                <div class="color00 F18 lineHeight30">\n\t\t\t\t\t\t\t\t{{practice.fetchData.entityLearner.reviewers.length - reviewsCompleteLength}}/{{practice.fetchData.entityLearner.reviewers.length}}&nbsp;{{Game.Messages.M_TXT_REVIEW_PENDING_SPACE}}\n\t\t\t\t\t\t\t</div>\n\t\t\t                <div class="color99 F13 lineHeight18" mt-trans="M_TXT_SUMMARY_AFTER_REVIEWS"></div>\n\t\t\t                <div class="color99 F13 lineHeight18 cursor"\n\t\t\t\t\t\t\t\t ng-if="[\'NUMERIC\',\'BINARY\'].indexOf(practice.fetchData.learningObject.staticData.evalParamType) > -1 && practice.showTopSubmission" mt-trans="TXT_VIEW_MISSION_TS">\n\t\t\t\t\t\t\t\tYou can view <span style=\'color:#0072bc\' ng-click="switchTab(\'submission\')">Top Submissions</span> from other participants in this Mission.\n\t\t\t\t\t\t\t</div>\n\t\t\t            </div>\n\t\t\t\t\t\t<div ng-if="reviewState(practice) === 4 &&\n\t\t\t            \t\t\t[\'NUMERIC\',\'BINARY\'].indexOf(practice.fetchData.learningObject.staticData.evalParamType) === -1 && !practice.fetchData.learningObject.fixed.hideCertificate">\n\t\t\t\t\t\t\t<div class="ofh bg_dafac8 marginT30"\n\t\t\t\t\t\t\t\t style="width:450px"\n\t\t\t\t\t\t\t\t ng-if="practice.fetchData.learningObject.userData.score >= practice.fetchData.settings.certificateScore">\n\t\t\t\t\t\t\t\t<div class="" style="padding:10px">\n\t\t\t\t\t\t\t\t\t<div class="floatL marginR10" style="width:365px">\n\t\t\t\t\t\t\t\t\t\t<div class="color00 F15 lineHeight24" mt-trans="M_TXT_CONGRATS"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="color00 F13 lineHeight20"\n\t\t\t\t\t\t\t\t\t\t\t ng-if="!practice.fetchData.settings.certificate"\n\t\t\t\t\t\t\t\t\t\t\t mt-trans="M_TXT_REVIEW_COMPLETE">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="color00 F13 lineHeight20"\n\t\t\t\t\t\t\t\t\t\t\t ng-if="(practice.fetchData.settings.certificate)"\n\t\t\t\t\t\t\t\t\t\t\t mt-trans="LB_TXT_CERTIFICATE_EARNED">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="floatR cert_26_24 marginT13 cursor"\n\t\t\t\t\t\t\t\t\t\t ng-if="practice.fetchData.settings.certificate"\n\t\t\t\t\t\t\t\t\t\t style="width:35px"\n\t\t\t\t\t\t\t\t\t\t ng-click="downloadCertificate()">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ofh bg_fdeae6 marginT30"\n\t\t\t\t\t\t\t\t ng-if="practice.fetchData.learningObject.userData.score < practice.fetchData.settings.certificateScore"\n\t\t\t\t\t\t\t\t style="width:450px">\n\t\t\t\t\t\t\t\t<div class="" style="padding:10px">\n\t\t\t\t\t\t\t\t\t<div class="floatL F13 color00 lineHeight30 marginR10" style="width:335px"\n\t\t\t\t\t\t\t\t\t\t mt-trans="M_TXT_REVIEW_COMPLETE"></div>\n\t\t\t\t\t\t\t\t\t<div class="floatL border_eb110f coloreb110f F14 lineHeight28 cursor borderR15 paddingL20 paddingR20"\n\t\t\t\t\t\t\t\t\t\t style="color:#eb110f;border:1px solid #eb110f;" ng-if="!hideRedo()" ng-click="reattempt()" mt-trans="M_TXT_REDO"></div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t            <div ng-if="reviewState(practice) === 4 &&\n\t\t\t            \t\t\t[\'NUMERIC\',\'BINARY\'].indexOf(practice.fetchData.learningObject.staticData.evalParamType) > -1">\n\t\t\t            \t\t\t<div class="lineHeight28 marginT10 marginB10 F13 paddingL10 displayN" style="text-align: left;background:#fffbcf;width: 450px;">\n\t\t\t\t\t\t                <span class="bold">NOTE:</span> \n\t\t\t\t\t\t                <span>This mission has been reset by the admin.</span>\n\t\t\t\t\t\t            </div>\n\t\t\t                <div class="color00 F18 lineHeight30 ofh marginB20">\n\t\t\t                    <div class="floatL" mt-trans="M_TXT_SCORE_REP"\n\t\t\t\t\t\t\t\t\t mt-trans-val-score="{{practice.fetchData.learningObject.userData.score/100}}"></div>\n\t\t\t                    <div class="floatL color99 F13 lineHeight18 i marginT7 marginL7"\n\t\t\t\t\t\t\t\t\t mt-trans="M_TXT_BASED_ON_REVIEWS"\n\t\t\t\t\t\t\t\t\t mt-trans-val-numreviews="{{getNumReviewers()}}">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t                </div>\n\t\t\t                <div class="showScroll" style="height: 120px;overflow: scroll;">\n\t\t\t                \t<table width="100%" colspan="0" rowspan="0" border="0">\n\t\t\t                \t\t<tr ng-repeat="evalParam in practice.fetchData.learningObject.staticData.evaluationParams">\n\t\t\t                \t\t\t<td align="left" valign="top">\n\t\t\t                \t\t\t\t<div class="floatL color00 F14 marginT5 marginB5 lineHeight20" style="max-width:300px">{{evalParam.evalParam.name}}\n\t\t\t                \t\t\t\t\t<span ng-show="companySettings.lsSettings.enableEvalParamWeight && evalParam.weight !== 1"> \n\t\t\t                \t\t\t\t\t\t(<span style="text-indent: 5px;">x {{evalParam.weight}}</span>)\n\t\t\t                \t\t\t\t\t</span>\t\n\t\t\t                \t\t\t\t</div>\n\t\t\t                \t\t\t</td>\n\t\t\t                \t\t\t<td align="left" valign="top" width="60%">\n\t\t\t                \t\t\t\t<div class="floatL marginT7 marginL10">\n\t\t\t\t\t                            <div class="floatL marginT3 marginL10">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div eval-param-rating-partial score="evalParams($index)"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t firsthalf-rating-class="\'firsthalfRating_blue\'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t secondhalf-rating-class="\'secondhalfRating_blue\'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t                        </div>\n\t\t\t\t\t                        </div>\n\t\t\t                \t\t\t</td>\n\t\t\t                \t\t</tr>\n\t\t\t                \t</table>\n\t\t\t\t                    \n\t\t\t                </div>\n\t\t\t                <div class="ofh bg_dafac8 marginT30"\n\t\t\t\t\t\t\t\t style="width:450px"\n\t\t\t\t\t\t\t\t ng-if="practice.fetchData.learningObject.userData.score >= practice.fetchData.settings.certificateScore && !practice.fetchData.learningObject.fixed.hideCertificate">\n\t\t\t                    <div class="" style="padding:10px">\n\t\t\t                        <div class="floatL marginR10" style="width:365px">\n\t\t\t                            <div class="color00 F15 lineHeight24" mt-trans="M_TXT_CONGRATS"></div>\n\t\t\t                            <div class="color00 F13 lineHeight20"\n\t\t\t\t\t\t\t\t\t\t\t ng-if="practice.fetchData.settings.certificate"\n\t\t\t\t\t\t\t\t\t\t\t mt-trans="M_TXT_MET_CUTOFF"\n\t\t\t\t\t\t\t\t\t\t\t mt-trans-val-score="{{practice.fetchData.settings.certificateScore/100}}">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t                            <div class="color00 F13 lineHeight20"\n\t\t\t\t\t\t\t\t\t\t\t ng-if="!(practice.fetchData.settings.certificate)"\n\t\t\t\t\t\t\t\t\t\t\t mt-trans="M_TXT_MET_CUTOFF_WITHOUT_CERTIFICATE"\n\t\t\t\t\t\t\t\t\t\t\t mt-trans-val-score="{{practice.fetchData.settings.certificateScore/100}}">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t                        </div>\n\t\t\t                        <div class="floatR cert_26_24 marginT13 cursor"\n\t\t\t\t\t\t\t\t\t\t ng-if="practice.fetchData.settings.certificate"\n\t\t\t\t\t\t\t\t\t\t style="width:35px"\n\t\t\t\t\t\t\t\t\t\t ng-click="downloadCertificate()">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t                        <div class="clear"></div>\n\t\t\t                    </div>\n\t\t\t                </div>\n\t\t\t                <div class="ofh bg_fdeae6 marginT30"\n\t\t\t\t\t\t\t\t ng-if="practice.fetchData.learningObject.userData.score < practice.fetchData.settings.certificateScore && !hideRedo()"\n\t\t\t\t\t\t\t\t style="width:450px">\n\t\t\t                    <div class="" style="padding:10px">\n\t\t\t                        <div class="floatL F13 color00 lineHeight30 marginR10" style="width:335px"\n\t\t\t\t\t\t\t\t\t\t mt-trans="M_TXT_COULD_NOT_MEET_CUTOFF"\n\t\t\t\t\t\t\t\t\t\t mt-trans-val-score="{{practice.fetchData.settings.certificateScore/100}}"></div>\n\t\t\t                        <div class="floatL border_eb110f coloreb110f F14 lineHeight28 cursor borderR15 paddingL20 paddingR20"\n\t\t\t                        style="color:#eb110f;border:1px solid #eb110f;" ng-click="reattempt()" mt-trans="M_TXT_REDO"></div>\n\t\t\t                        <div class="clear"></div>\n\t\t\t                    </div>\n\t\t\t                </div>\n\t\t\t            </div>\n\t\t\t        </div>\n\t\t    \t</div>\n\t\t    \t<!--summary -->\n\t\t        <!-- your comment tab starts -->\n\t\t\t\t<div ng-show="tab == \'comment\'" class=\'showScroll\' id="comment-detail-pane-{{submission.submissionId}}" \n\t\t\t\t\tstyle="padding-left:10px;padding-top:10px;overflow: auto;position: relative;max-width:100%;height: 80%">\n\t\t\t\t\t Reviewers have not submitted any comments for this submission.\n\t\t\t\t</div>\n\t\t\t\t<!-- your comment tab starts -->\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\n\t    </div>\n\n\n\n\t    <div class="F13 lineHeight32 marginB10">\n\t        <div class="bg_f7 F13 lineHeight32 paddingT9 paddingR10 paddingB9 paddingL10 marginB10 display_N">\n\t            <span class="color99 cursor display_N">+Select Reviewer 1</span>\n\t            <div class="display_N">\n\t                <div class="floatL bg_bccad9">CS</div>\n\t                <div class="floatL color00 F13 marginL10">\n\t                    <span>Cham Slim:</span>\n\t\t\t\t\t\t<span class="color99" mt-trans="M_TXT_REVIEW_PENDING_NONE"></span>\n\t\t\t\t\t\t<span class="color0072bc marginL15 cursor" style="text-decoration:underline" mt-trans="M_TXT_UNDO"></span>\n\t                </div>\n\t                <div class="clear"></div>\n\t            </div>\n\t        </div>\n\t        <div ng-repeat="reviewer in practice.sortedReviewer"\n\t\t\t\t class="bg_f7 F13 lineHeight32 paddingT9 paddingR10 paddingB9 paddingL10 marginB10">\n\t            <table width="100%" colspan="0" rowspan="0" border="0">\n\t                <tr ng-if="reviewer.status==\'DECLINED\'">\n\t                    <td width="40%" valign="top" align="left">\n\t                        <div>\n\t                            <!--<div class="floatL bg_bccad9">{{reviewer | mtShortName}}</div>-->\n\t                            <div class="floatL color00 F13 marginL10">\n\t                                <span mt-trans="M_TXT_REVIEWER_NUM"\n\t\t\t\t\t\t\t\t\t\t  mt-trans-val-reviewer="{{reviewer.role.split(\'_\')[1]}}"></span>\n\t\t\t\t\t\t\t\t\t<span class="colore71c22"\n\t\t\t\t\t\t\t\t\t\t  mt-trans="M_TXT_REVIEW_DECLINED"></span>\n\t\t\t\t\t\t\t\t\t<span class="color0072bc marginL15 cursor display_N"\n\t\t\t\t\t\t\t\t\t\t  style="text-decoration:underline" mt-trans="M_TXT_UNDO"></span>\n\t                            </div>\n\t                            <div class="clear"></div>\n\t                        </div>\n\t                    </td>\n\t                    <td width="30%" valign="top" align="left">&nbsp;</td>\n\t                    <td width="30%" valign="top" align="left">&nbsp;</td>\n\t                </tr>\n\t                <tr ng-if="reviewer.status==\'PENDING\'">\n\t                    <td width="40%" valign="top" align="left">\n\t                        <div>\n\t                            <!--<div class="floatL bg_bccad9">{{reviewer | mtShortName}}</div>-->\n\t                            <div class="floatL color00 F13 marginL10">\n\t                                <span mt-trans="M_TXT_REVIEWER_NUM"\n\t\t\t\t\t\t\t\t\t\t  mt-trans-val-reviewer="{{reviewer.role.split(\'_\')[1]}}"></span>&nbsp;\n\t\t\t\t\t\t\t\t\t<span class="color99" mt-trans="M_TXT_REVIEW_PENDING_SPACE"></span>\n\t\t\t\t\t\t\t\t\t<span class="color0072bc marginL15 cursor display_N"\n\t\t\t\t\t\t\t\t\t\t  style="text-decoration:underline" mt-trans="M_TXT_UNDO"></span>\n\t                            </div>\n\t                            <div class="clear"></div>\n\t                        </div>\n\t                    </td>\n\t                    <td width="30%" valign="top" align="left">&nbsp;</td>\n\t                    <td width="30%" valign="top" align="left">&nbsp;</td>\n\t                </tr>\n\t                <tr ng-if="reviewer.status==\'COMPLETED\'">\n\t                    <td width="30%" valign="top" align="left">\n\t                        <div class="marginR10" style="width:420px">\n\t                            <div class="marginB15">\n\t                                <div class="floatL bg_bccad9">{{reviewer | mtShortName}}</div>\n\t                                <div class="floatL color00 F13 marginL10">\n\t                                    <div class="floatL"\n\t\t\t\t\t\t\t\t\t\t\t style="max-width:275px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">\n\t\t\t\t\t\t\t\t\t\t\t{{reviewer.name}}</div>\n\t                                    <div class="clear"></div>\n\t                                </div>\n\t\t\t\t\t\t\t\t\t<div class="floatL coloraa F13">\n\t\t\t\t\t\t\t\t\t\t<span>({{getReviewTime(reviewer)}})</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t                                <div class="clear"></div>\n\t                            </div>\n\t                            <div class="marginB10">\n\t                                <div class="floatL color00 F18 lineHeight22"\n\t\t\t\t\t\t\t\t\t\t ng-if="[\'NUMERIC\',\'BINARY\'].indexOf(practice.fetchData.learningObject.staticData.evalParamType) > -1"\n\t\t\t\t\t\t\t\t\t\t style="width:42px">\n\t\t\t\t\t\t\t\t\t\t{{submission.reviewerIdReviewMap[reviewer.id].score/100}}\n\t\t\t\t\t\t\t\t\t</div>\n\t                                <div class="floatL">\n\t                                    <div class="borderB10_transparent"\n\t\t\t\t\t\t\t\t\t\t\t ng-repeat="evalParam in practice.fetchData.learningObject.staticData.evaluationParams">\n\t                                        <div class="floatL F13 color00 lineHeight20" style="width:215px">\n\t                                        \t{{evalParam.evalParam.name}}\n\t                                        \t<span ng-show="companySettings.lsSettings.enableEvalParamWeight && evalParam.weight !== 1"> \n\t\t\t                \t\t\t\t\t\t(<span style="text-indent: 5px;">x {{evalParam.weight}}</span>)\n\t\t\t                \t\t\t\t\t</span>\t\n\t                                        </div>\n\t                                        <div class="floatL marginL10">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="marginT3" ng-if="practice.fetchData.learningObject.staticData.evalParamType === \'NUMERIC\'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t eval-param-rating-partial\n\t\t\t\t\t\t\t\t\t\t\t\t\t score="evalParams($index, reviewer.id)"\n\t\t\t\t\t\t\t\t\t\t\t\t\t firsthalf-rating-class="\'firsthalfRating_blue\'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t secondhalf-rating-class="\'secondhalfRating_blue\'">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="lineHeight20" ng-if="practice.fetchData.learningObject.staticData.evalParamType !== \'NUMERIC\'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t eval-param-binary-partial\n\t\t\t\t\t\t\t\t\t\t\t\t\t binary-type="practice.fetchData.learningObject.staticData.evalParamType"\n\t\t\t\t\t\t\t\t\t\t\t\t\t score="evalParams($index, reviewer.id)">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t                                        </div>\n\t                                        <div class="clear"></div>\n\t                                    </div>\n\t                                </div>\n\t                                <div class="clear"></div>\n\t                            </div>\n\t                        </div>\n\t                    </td>\n\t                    <td width="35%"\n\t\t\t\t\t\t\tvalign="top"\n\t\t\t\t\t\t\talign="left"\n\t\t\t\t\t\t\tng-if="submission.reviewerIdReviewMap[reviewer.id].positiveFeedback[0] && practice.fetchData.learningObject.staticData.textFeedback">\n\t                        <div class="marginR10" style="width:250px">\n\t                            <div class="color00 F13 lineHeight32 marginB7" mt-trans="M_TXT_POSITIVE_FEEDBACK"></div>\n\t                            <div class="color00 F13 lineHeight20 marginB10">\n\t\t\t\t\t\t\t\t\t{{submission.reviewerIdReviewMap[reviewer.id].positiveFeedback[0].text}}\n\t\t\t\t\t\t\t\t</div>\n\t                        </div>\n\t                    </td>\n\t                    <td width="35%" valign="top" align="left"\n\t\t\t\t\t\t\tng-if="submission.reviewerIdReviewMap[reviewer.id].constructiveFeedback[0] && practice.fetchData.learningObject.staticData.textFeedback">\n\t                        <div class="" style="width:250px">\n\t                            <div class="color00 F13 lineHeight32 marginB7" mt-trans="M_TXT_CONSTRUCTIVE_FEEDBACK_N"></div>\n\t                            <div class="color00 F13 lineHeight20 marginB10">\n\t\t\t\t\t\t\t\t\t{{submission.reviewerIdReviewMap[reviewer.id].constructiveFeedback[0].text}}\n\t\t\t\t\t\t\t\t</div>\n\t                        </div>\n\t                    </td>\n\t\t\t\t\t\t<td width="10%" valign="top" align="left">\n\n\t\t\t\t\t\t</td>\n\t                </tr>\n\t            </table>\n\t\t\t\t<div class="offlineTask_attachment uploaded cursor"\n\t\t\t\t\t ng-click="downloadAttachment(submission.reviewerIdReviewMap[reviewer.id].mediaId[0].object)"\n\t\t\t\t\t style="width: 100%;" ng-if="submission.reviewerIdReviewMap[reviewer.id].mediaId &&\n\t\t\t\t\t \t\t\t\t\tsubmission.reviewerIdReviewMap[reviewer.id].mediaId.length > 0 &&\n\t\t\t\t\t \t\t\t\t\treviewer.status==\'COMPLETED\'">\n\t\t\t\t\t<div class=\'floatL attachmentIcon_17_15 marginR7 marginT3\'></div>\n\t\t\t\t\t<div class="floatL txtColor lineHeight20">\n\t\t\t\t\t\t{{submission.reviewerIdReviewMap[reviewer.id].mediaId[0].title}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\'clear\'></div>\n\t\t\t\t</div>\n\t        </div>\n\t    </div>\n    </div>\n    <div class="paddingT10">\n\t\t\t<div class="pos_rel marginB25"\n\t\t\t\t style="width:100%;height:1px;background:#ddd;border-top:1px solid transparent" ng-if="hasSubmissions">\n\t\t\t\t<div class="lineHeight20 F13 color0072bc bg_ff textalign_C margin0_auto cursor"\n\t\t\t\t\t style="margin-top:-11px;width:170px;z-index:1" ng-click="toggleOlderReviews()">\n\t\t\t\t\t{{(showOlderReviews)?"Hide Older Reviews":"Show Older Reviews"}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div ng-if="hasSubmissions && showOlderReviews"\n\t\t\t\t submissions-view-partial\n\t\t\t\t submissions-list="submissionsList"\n\t\t\t\t eval-param-type="practice.fetchData.learningObject.staticData.evalParamType"\n\t\t\t\t evaluation-params="practice.fetchData.learningObject.evaluationParams"\n\t\t\t\t submission-cutoff="practice.fetchData.settings.certificateScore"\n\t\t\t\t game-id="gameId"\n\t\t\t\t playable-id="playableId"\n\t\t\t\t user-id="userId"\n\t\t\t\t num-added-reviewers="practice.fetchData.entityLearner.reviewers.length"\n\t\t\t\t style="width: 100%;height: 50px;">\n\t\t\t</div>\n\t\t</div>\n</div>\n\n<!-- pitch practicise and submit area starts -->\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/missions/submission-confirmation-popup.html",'<!--- submission confirmation pop up starts -->\n<div class="display_N" style="width:440px">\n    <div class="" style="padding:40px 30px 20px">\n        <div class="color00 F14 lineHeight24 textalign_C">\n            Are you sure you want to submit the following draft?\n        </div>\n        <div class="color00 F14 lineHeight24 textalign_C">\n            Draft 1: Elevator Pitch, Nathan John (<span>2:15 m</span>)\n        </div>\n        <div class="borderT40_transparent">\n            <div class="floatL pos_rel" style="left:50%">\n                <div class="floatL pos_rel" style="left:-50%">\n                    <div class="floatL"></div>\n                    <div class="floatL border_cc_30 F13 paddingL25 paddingR25 marginR10">No</div>\n                    <div class="floatL btn_0072bc F13 lineHeight30 borderR15 paddingL25 paddingR25">Yes</div>\n                    <div class="clear"></div>\n                </div>\n            </div>\n            <div class="clear"></div>\n        </div>\n    </div>\n</div>\n<!--- submission confirmation pop up ends -->'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/missions/submission-detail-thumbnail-popup.html",'<div class="bg_ff pos_rel mtfullscreenpopup">  <!-- top submission thumnail detail pop starts -->\n\t    <div style="padding:20px 0">\n\t        <div class="crossIcon_20_20 pos_abs closeMe" style="top:20px;right:20px" ng-click="$close()"></div>\n\t\t\t<div class="color00 F18  lineHeight30 marginB20 textalign_C">\n\t\t\t    <span>{{practice.fetchData.gameInfo.name}}</span>, <span>{{learner.user.name}}</span>\n\t\t\t</div>\n\t\t\t<div class="textalign_L pos_abs" style="width:100%;top:105px;bottom:0px;overflow-y:auto;">\n\t\t\t    <div class="textalign_L margin0_auto" style="width:1100px">\n\t\t\t\t\t<div class="floatL">\n\t\t\t\t\t    <div>\n\t\t\t\t\t\t\t<div class="color00 F18 lineHeight30 ofh marginB20">\n\t\t\t\t\t\t\t\t<div class="floatL">Score {{mission.score/100}}</div>\n\t\t\t\t\t\t\t\t<div class="floatL color99 F13 lineHeight18 i marginT7 marginL7">(Based on <span>{{numberOfReviews}}</span> reviews)</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="ofh">\n\t\t\t\t\t\t\t\t<table width="100%" border="0" colspan="0" rowspan="0">\n\t\t\t\t\t\t\t\t\t<tr ng-repeat="evalParam in userEvalParams">\n\t\t\t\t\t\t\t\t\t\t<td valign="top">\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL F13 color00 lineHeight20 marginB10" style="max-width:270px;">{{evalParam.evalParam.name}}</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td valign="top">\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL marginT5 marginL10 marginB10">\n\t\t\t\t\t\t\t\t\t\t\t\t<div eval-param-rating-partial score="evalParamsSubmission($index,scoreByTopic)"\n\t\t\t\t\t\t\t\t\t\t\t\t\t firsthalf-rating-class="\'firsthalfRating_blue\'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t secondhalf-rating-class="\'secondhalfRating_blue\'">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\t\n\t\t\t\t\t\t\t\t</table>\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t    </div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatR" style="position: relative;"\n\t\t\t\t\t\t\tng-class="{height421: (submission.type == \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\'), \n        \t\t\t\t   \t\t\t\theight378: (submission.type == \'VIDEO_MISSION_LEARNER_SUBMSSION\'), \n        \t\t\t\t   \t\t\t\theight381: (submission.type == \'VOICE_OVER_PPT_MISSION_LEARNER_SUBMSSION\')}" \n        \t\t\t\t   \tng-style="{width:(submission.type == \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\')? \'auto\':\'640px\'}"\n\t\t\t\t\t\t\tng-if="submission.type != \'TASK_EVALUATION_MISSION_LEARNER_SUBMSSION\'">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<div mission-media-view-partial\n                             mission-media="submission.missionMedia"\n                             mission-lo-type="submission.type"\n                             assets-base="assetsBase"\n                             is-video="isVideoPitch()" style="width:672px"></div>\n\t\t\t\t\t\t<!-- <div ng-if="!(mediaSubmission.$resolved)" class="marginB10" style="width:640px;height:330px;"></div>\n\t\t\t\t\t\t<iframe  ng-if="!(mediaSubmission.$resolved) && !isVideoPitch()" id="docPlayerIframeReview" ng-src="{{getTrustedUrl(mediaSubmission.media.obj.ppt.obj.uuid)}}" class="marginB10" style="width:640px;height:330px;"></iframe>\n\t\t\t\t\t\t<div style="position:absolute;width:100%;" ng-style="{\'height\':(isVideoPitch())?\'330px\':\'30px\',\'bottom\':(isVideoPitch())?\'0px\':\'0px\'}" ng-if="mediaSubmission">\n\t\t\t\t\t\t\t<div jwplayer="mediaSubmission" control-iframe-id="iframe#docPlayerIframeReview" height-data="{{(isVideoPitch())?\'330\':\'30\'}}"></div>\n\t\t\t\t\t\t</div> -->\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="floatR" style="width:672px;position: relative;height:330px;" ng-if="submission.type == \'TASK_EVALUATION_MISSION_LEARNER_SUBMSSION\'">\n\t\t\t\t\t\t<div class="floatR pos_rel" style="width:672px;" task-eval-mission-view-partial></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t    </div>\n\t</div>  <!-- top submission thumnail detail pop ends -->\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/missions/submission-discard-popup.html",'<!--- submission discard pop up starts -->\n<div class="display_N" style="width:440px">\n    <div class="" style="padding:40px 30px 20px">\n        <div class="color00 F14 lineHeight24 textalign_C">Are you sure you want to discard the following draft?</div>\n        <div class="color00 F14 lineHeight24 textalign_C">Draft 1: Elevator Pitch, Nathan John (<span>2:15 m</span>)</div>\n        <div class="borderT40_transparent">\n            <div class="floatL pos_rel" style="left:50%">\n                <div class="floatL pos_rel" style="left:-50%">\n                    <div class="floatL"></div>\n                    <div class="floatL border_cc_30 F13 paddingL25 paddingR25 marginR10">No</div>\n                    <div class="floatL btn_0072bc F13 lineHeight30 borderR15 paddingL25 paddingR25">Yes</div>\n                    <div class="clear"></div>\n                </div>\n            </div>\n            <div class="clear"></div>\n        </div>\n    </div>\n</div>\n<!--- submission discard pop up ends -->'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/missions/submission-tab.html",'<div class="submissionTab_Area hideAll_descriptionArea">   <!-- pitch Top submission area starts -->\n    <div class="borderT30_transparent marginL20 marginR20">\n\t    <div class="borderB_dd paddingB10">\n                  <div class="floatL lineHeight20">\n\t\t\t\t<div class="floatL knowledgeScore cursor" ng-class="{active:uiState.sort_on==\'score\'}" ng-click="changeSortOnAndOrder(\'score\')">\n\t\t\t\t\t<div class="floatL F13 marginR5" mt-trans="M_TXT_TOP_SCORE"></div>\n\t\t\t\t\t<div ng-if="uiState.sort_on==\'score\' && uiState.sort_order==\'desc\'" class="floatL marginT7 downArrow"></div>\n\t\t\t\t\t<div ng-if="uiState.sort_on==\'score\' && uiState.sort_order==\'asc\'" class="floatL marginT7 upArrow"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="floatL nameScore cursor marginL15" ng-class="{active:uiState.sort_on==\'recent\'}" ng-click="changeSortOnAndOrder(\'recent\')">\n\t\t\t\t\t<div class="floatL F13 marginR5" mt-trans="M_TXT_MOST_RECENT"></div>\n\t\t\t\t\t<div ng-if="uiState.sort_on==\'recent\' && uiState.sort_order==\'desc\'" class="floatL marginT7 downArrow"></div>\n\t\t\t\t\t<div ng-if="uiState.sort_on==\'recent\' && uiState.sort_order==\'asc\'" class="floatL marginT7 upArrow"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="floatL" ng-if="!isPartnerTraining || (isPartnerTraining && numGroups>0)">\n\t\t\t\t<div class="floatL marginR15 marginL15" style="width:1px;height:20px;background:#ddd"></div>\t\t\t\t\n\t\t\t\t<div class="floatL displayInflex pos_rel">\n\t\t\t\t    <div style="left:0px; top: 3px;" class="search searchIcon_15_14 pos_abs cursor"></div>\n\t\t\t\t\t<input ng-model="uiState.tmpQuery" ng-enter="filterByQuery()" ng-blur="filterByQuery()" type="text" style="width: 220px; height: 20px; border: 0px; padding: 0px 20px 0px 20px; \n\t\t\t\t\toutline: 0px; color:#000; background: none;" placeholder="{{Game.Messages.SEARCH}}" class="lineHeight20 F13">\n\t\t\t\t\t<div style="right:0px;top:5px;" class="cross_10_10 pos_abs cursor" ng-show="uiState.query" ng-click="clearQueryResults()"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="floatR F13">\n\t\t\t\t<div class="floatL" mt-trans="M_TXT_CUT_OFF" mt-trans-val-score="{{practice.fetchData.settings.certificateScore/100}}"></div>\n\t\t\t\t<div ng-if="!isPartnerTraining" class="floatL">\n\t\t\t\t\t<div class="floatL marginR15 marginL15" style="width:1px;height:20px;background:#ddd"></div>\n\t\t\t\t\t<div class="floatL"><span mt-trans="M_TXT_AVERAGE_SCORE"></span>&nbsp;{{averageScore.$resolved?averageScore.avgScore/100:\'--\'}}/5</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="borderT30_transparent" infinite-scroll="loadNextPageSubmissions()" infinite-scroll-distance="0.1" infinite-scroll-disabled="!canGotoNextPage()">\n\t\t\t<div ng-show="submissions.currentCall.$resolved && practice.submissionsData.length < 1" mt-trans="M_TXT_NO_SUBMISSION_FOUND"></div>\n\t\t    <div class="floatL hoverCourse_borderBg pos_rel marginR30 marginB40" ng-repeat="submission in practice.submissionsData">\n\t\t\t    <div style="padding:9px" ng-click="viewSubmission(submission)">\n\t\t\t        <div class="pitchThumbNail cursor">\n\t\t\t\t \t    <div class="pos_rel marginB9" style="box-shadow:0 1px 0px #bfbebe;">\n\t\t\t\t\t\t    <img ng-src="{{thumbPath(submission)}}" style="display:block;height:120px;width:220px;"/>\n\t\t\t\t\t\t\t<div class="pos_abs bg_00 colorff F11 lineHeight20 paddingL8 paddingR8" style="right:0;bottom:0" ng-if="submission.mission.type != \'LO_TASK_EVALUATION_MISSION\'">{{parseTime(submission.mission.draftIdDraftMap[submission.mission.submissionId].duration)}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="">\n\t\t\t\t\t\t    <div class="floatL">\n\t\t\t\t\t\t        <img ng-show="submission.learner.user.pic.length > 0" ng-src="{{submission.learner.user.pic}}" style="display:block;height:48px;width:48px;border-radius:50%"/>\n\t\t\t\t\t\t\t\t<div class="floatL" ng-show="submission.learner.user.pic.length == 0" style="height: 48px; width: 48px; font-size: 25px; line-height: 48px;">\n\t\t\t\t\t\t\t\t\t<img src="/assets/images/img_80_80.png" style="height:48px;width:48px;"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatL marginL4">\n\t\t\t\t\t\t\t    <div class="color00 F13 lineHeight20 marginT5" style="width:168px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap">{{submission.learner.user.name}}</div>\n\t\t\t\t\t\t\t\t<div class="color66 F13 lineHeight20">\n\t\t\t\t\t\t\t\t    <span>Score:&nbsp;</span><span>{{submission.mission.score/100}}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t    </div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div ng-show="!submissions.currentCall.$resolved" style="width: 100%;text-align: center;padding: 50px;">\n\t\t\t<img ng-src="{{loaderImg}}"/>\n\t\t</div>\n\t</div>\n</div>  <!-- pitch Top submission area ends -->\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/missions/tem-upload-box-partial.html","<div class='floatL cursor' ng-if=\"temUploaderObjects[temUploadId].mediaState == 'upload'\" mt-upload='temUploaderObjects[temUploadId].uploadObj'>\n    <div class='floatL attachmentIcon_17_15 marginR7 marginT3'></div>\n    <div class='floatL txtColor lineHeight20'>Upload Task</div>\n    <div class='clear'></div>\n</div>\n<div class='floatL' ng-if=\"temUploaderObjects[temUploadId].mediaState == 'uploaded'\">\n    <div class='floatL attachmentIcon_17_15 marginR7 marginT3'></div>\n    <div class='floatL txtColor lineHeight20'>{{getMediaTitle(temUploaderObjects[temUploadId].media)}}</div>\n    <div class='clear'></div>\n</div>\n<div class='floatL' ng-if=\"temUploaderObjects[temUploadId].mediaState == 'uploading'\">\n    <div class='floatL txtColor lineHeight20'>Processing. Please wait...</div>\n    <div class='clear'></div>\n</div>\n<div class='floatR dropdown pos_rel' style='width:18px'>\n    <div class='menu_16_14 marginT3 dropdown-toggle' style='border:0'></div>\n    <div class='pos_rel dropdown-menu' style='top:18px; left: -80px; z-index: 1; cursor: auto;margin:0'>\n        <div class='pos_abs triangleUp_27_14' style='top:-13px;left:75px;z-index:2'></div>\n        <div class='pos_abs lineHeight30' style='left:0px;top:0px;width: 110px;'>\n            <ul class='clrCls bg_ff pos_rel' style='box-shadow:0 1px 0 #dadada'>\n"+'                <li> <a ng-href="http:{{temUploaderObjects[temUploadId].media.obj.original_path}}" style="text-decoration:none;color: inherit;">Download</a></li>\n                <li ng-click="removeSubmissionMedia(temUploaderObjects[temUploadId].mediaIndex)">Remove</li>\n            </ul>\n        </div>\n    </div>\n</div>\n<div class=\'clear\'></div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/reviews/evalParams.html",'<div class="F12 pos_abs red" style="top:7px;left:10px;font-style: italic;" ng-show="lodata.mandatory && coachingSectionsUiStates.enableRequiredFlag && !coachingSectionsUiStates.topics[topicid].los[lodata.id].attempted " class="red">Required field</div>\n<div class="coachingParameters normalBox borderB_ee" style="padding:25px 30px" ng-class="{\'border-red\':(lodata.mandatory && coachingSectionsUiStates.enableRequiredFlag && !coachingSectionsUiStates.topics[topicid].los[lodata.id].attempted)}">\n\t<div class="color00 F14 lineHeight20">\n\t\t<div class="floatL" style="width:22px">{{index+1}}.</div>\n\t\t<span class="floatL marginR5" ng-if="lodata.mandatory">*</span>\n\t\t<div class="floatL" style="width:630px" ng-bind-html="renderHtml(lodata.quesText)"></div>\n\t\t<div class="clear"></div>\n\t</div>\n\n\t<div class="color99 F13 lineHeight20 marginL22 pos_rel"  ng-class="{\'marginT20\':lodata.staticNode.obj.guidanceEnabled, \'marginT10\': !lodata.staticNode.obj.guidanceEnabled}">\n\t\t<div class="floatL" style="width: 340px;">\n\t\t\t<div class="pos_abs color_cc F13 italic" style="top: -20px;" ng-show="lodata.staticNode.obj.guidanceEnabled && lodata.evaluation.isEvaluated  && !lodata.evaluation.isNA && (lodata.evaluation.score > -1) && ((lodata.evaluation.score == 0 && lodata.staticNode.obj.guidance[0]) || (lodata.evaluation.score > 0 && lodata.staticNode.obj.guidance[lodata.evaluation.score/100]))"><i>"{{lodata.evaluation.score == 0 ? lodata.staticNode.obj.guidance[0] : lodata.staticNode.obj.guidance[lodata.evaluation.score/100]}}"</i></div>\n\t\t\t<div ng-if="lodata.subType == \'3\'" class="marginB20">\n\t\t\t\t<div class="floatL lineHeight20" ng-class="{clicked:lodata.evaluation.score==500 && !lodata.evaluation.isNA}" ng-click="changeLOScore(lodata,500);">\n\t\t\t\t\t<div class="floatL radioBtn_grey marginT4"></div>\n\t\t\t\t\t<div class="floatL marginL7" mt-trans="BTN_YES">Yes</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="floatL lineHeight20 marginL30" ng-class="{clicked:lodata.evaluation.score==0 && lodata.evaluation.isEvaluated && !lodata.evaluation.isNA}" ng-click="changeLOScore(lodata,0);">\n\t\t\t\t\t<div class="floatL radioBtn_grey marginT4"></div>\n\t\t\t\t\t<div class="floatL marginL7" mt-trans="BTN_NO">No</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="marginT3" eval-param-rating-partial\n\t\t\t\t ng-style="{\'margin-bottom\':(lodata.staticNode.obj.allowComments?\'20px\':\'0px\')}"\n                 ng-if="lodata.subType == \'2\'"\n                 score="lodata.evaluation.score"\n                 ng-click="changeLOScore(lodata,lodata.evaluation.score)"\n                 firsthalf-rating-class="\'firsthalfRating_blue_7\'"\n                 secondhalf-rating-class="\'secondhalfRating_blue_7\'"\n                 is-review="true" reviewed="!allowEdit"\n                 show-zero="true"\n\t\t\t\t is-na = "lodata.evaluation.isNA"\n\t\t\t\t guidance-enabled="lodata.staticNode.obj.guidanceEnabled"\n\t\t\t\t guidance="lodata.staticNode.obj.guidance"\n                 step-concrete="true"\n                 default-rating-bg="\'defaultRatingBg_re\'" margin-style="{left:\'7px\'}">\n            </div>\n\t\t\t<div ng-if="lodata.staticNode.obj.allowComments || lodata.subType == \'1\'" \n\t\t\t\t class="displayInflex paddingB5 pos_rel "\n\t\t\t\t ng-class="{\'borderB_dd\':allowEdit,\'color00\':!allowEdit}" \n\t\t\t\t style="width:100%">\n\t\t\t\t<textarea ng-if="allowEdit" type="text" style="height:20px; border: 0px; padding:0px;color:#000; background: none;width:100%; resize: none !important;"\n\t\t\t\t\t   class="lineHeight20 F13" autocomplete="off" placeholder="{{\'CS_WRITE_SOMETHING\'|translate}}"\n\t\t\t\t\t   id="input_{{lodata.id}}"\n                       ng-model="lodata.evaluation.comment"\n                       ng-change="saveLOComment(lodata.evaluation.comment)"\n                       rows="1" msd-elastic\n                       ng-model-options="{ debounce: 1000 }"></textarea>\n                <div class="lineHeight20" ng-if="!allowEdit"><div style="font-family: \'Open Sans\',Arial, sans-serif" ng-bind-html="renderHtml(lodata.evaluation.comment,[2,3].indexOf(lodata.subType) === -1)"></div></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="lodata.allowNA" class="floatL" ng-class="{clicked:lodata.evaluation.isNA}" ng-click="changeNA(lodata);">\n\t\t\t<div class="floatL radioBtn_grey marginT4 marginL20"></div>\n\t\t\t<div class="color99 F13 lineHeight20 marginL5 floatL">Not Applicable</div>\n\t\t</div>\n\t\t<div class="floatR pos_rel">\n\t\t\t<div class="floatL pos_rel">\n\t\t\t\t<div class="floatL checkbox_16_16 marginT2 marginR7" \n\t\t\t\t\t ng-click="lodata.evaluation.sendRemediation = !lodata.evaluation.sendRemediation;save(\'sendRemediation\',lodata.evaluation.sendRemediation)"\n\t\t\t\t\t ng-class="{\'checked\':(lodata.evaluation.sendRemediation || isRemidiationSentInPrevCycles(lodata.staticNode.obj.remidiations))}"></div>\n\t\t\t\t<div class="floatL" translate="CS_REVIEWER_SEND_REMIDIATION">Send Remediation</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t\t<div class="pos_abs" \n\t\t\t\t\t ng-if="lodata.staticNode.obj.remidiations==null || lodata.staticNode.obj.remidiations.length==0 || (lodata.evaluation.sendRemediation && lodata.oldEvaluations.length > 0) || isRemidiationSentInPrevCycles(lodata.staticNode.obj.remidiations)"\n\t\t\t\t\t style="background:#fff;opacity:0.5;width:100%;height:100%;top:0"></div>\n\t\t\t</div>\n\t\t\t<div class="floatL pos_rel marginL10 dropdown">\n\t\t\t\t<div class="dropdown-toggle iIcon" style="border: 0"></div>\n\t\t\t\t<div class="dropdown-menu" style="margin: 0; line-height: 20px; padding: 7px 10px; width: 270px; left: -220px; top: 35px">\n\t\t\t\t\t<div class="pos_abs triangleUp_27_14" style="top: -14px; left: 215px;"></div>\n\t\t\t\t\t<div class="F13" ng-if="lodata.staticNode.obj.remidiations!=null && lodata.staticNode.obj.remidiations.length>0 && !isRemidiationSentInPrevCycles(lodata.staticNode.obj.remidiations)" translate="CS_REVIEWER_SEND_REMIDIATION_INFO" translate-value-a="{{lodata.remidiationsInfoMap[lodata.staticNode.obj.remidiations[0].entityId]}}">If enabled, this will assign the Remediation Module \'{{lodata.remidiationsInfoMap[lodata.staticNode.obj.remidiations[0].entityId]}}\' to the learner.</div>\n\t\t\t\t\t<div class="F13" ng-if="lodata.staticNode.obj.remidiations==null || lodata.staticNode.obj.remidiations.length==0" translate="CS_REVIEWER_NO_REMIDIATION">There is no Remediation Module added by the Admin for this parameter.</div>\n\t\t\t\t\t<div class="F13" ng-if="isRemidiationSentInPrevCycles(lodata.staticNode.obj.remidiations)" translate="CS_REVIEWER_SEND_REMIDIATION_ALREADY_SENT">The Remediation Module for this parameter has already been assigned to the learner in a previous session.</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t\t<div class="pos_abs" \n\t\t\t\t ng-if="!allowEdit"\n\t\t\t     style="background:#fff;opacity:0.5;width:100%;height:100%;top:0"></div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\t\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/reviews/field_reviews.html",'<div ng-controller="CoachingReviewListing" class="marginB40">\n\t<div ng-if="!fieldReviews.$resolved"><loader-img>Loading...</loader-img></div>\n    <div class="marginB40" ng-if="fieldReviews.$resolved" ng-repeat="state in [\'active\']">\n        <div class="lineHeight36">\n            <div class="floatL">\n                <div class="floatL color00 F18" mt-trans="CS_REVIEWER_ASESSIONS">Active Sessions</div>\n                <div class="floatL marginL20 marginR10 marginT9" style="width:1px;height:20px;background:#ddd"></div>\n                <div class="floatL pos_rel dropdown marginT8">\n                    <div class="dropdown-toggle" style="border: none;">\n                        <div ng-if="!currentEntityFilter || !currentEntityFilter[state] || currentEntityFilter[state].id==\'ALL\'" style="padding:0 25px 0 10px;background:transparent;color:#777;" class="dropdown-text lineHeight20 ng-binding" translate="CS_ALL">Coaching Sessions - All</div>\n                        <div ng-if="currentEntityFilter[state] && currentEntityFilter[state].id!=\'ALL\'" style="padding:0 25px 0 10px;background:transparent;color:#777;" class="dropdown-text lineHeight20 ng-binding" >{{currentEntityFilter[state].name}}</div>\n                        <div class="downArrow_12_7" style="top:8px"></div>\n                    </div>\n                    <div class="dropdown-menu" style="width:300px;top:30px;padding: 0;margin:0;border:0">\n                        <ul style="max-height:150px">\n                            <li>\n                                <div ng-click="updateEntityFilter(state,\'All\')" style="width: 245px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;" translate="CS_ALL">Coaching Sessions - All</div>\n                            </li>\n                            <li  ng-repeat="entity in fieldReviews.stateEntities[state] track by $index">\n                                <div class="floatL sBG_L marginT7 marginR5 entity_sml">S</div>\n                                <div ng-click="updateEntityFilter(state,entity.id,entity.name)" class="floatL" style="width: 242px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{entity.name}}</div>\n                                <div class="clear"></div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="floatL marginL15 marginR10 marginT8" style="width:1px;height:20px;background:#ddd"></div>\n                <div class="displayInflex pos_rel paddingL10 marginT8 floatL">\n                    <div style="left: 10px; top: 3px;" class="searchIcon_15_14 pos_abs cursor"></div>\n                    <input ng-model="searchText" ng-change="setFilter(state,\'searchText\',searchText);" ng-keypress="($event.which === 13)?executeSearch():0" type="text" style="width: 238px; height: 20px; border: 0px; padding: 0px 20px;color:#000; background: none;" name="Search" class="lineHeight20 F13" autocomplete="off" placeholder="{{\'M_SEARCH_LEARNER\'|translate}}">\n                    <div ng-if="x" style="right: 5px; top: 5px;" class="cross_10_10 pos_abs cursor"></div>\n                </div>\n                <div class="clear"></div>\n            </div>\n            <div class="floatR">\n            \t<div  class="floatL" ng-if="numUnscheduledSessions > 0">\n                    <div class="floatL warningIcon1_17_16 marginT10 marginR7"></div>\n                    <div class="floatL colorea8212 F13" translate="CS_REVIEWER_X_UNSCHEDULED_SESSIONS" translate-value-a="{{numUnscheduledSessions}}"></div>\n                    <div class="clear"></div>\n                </div>\n                <div class="floatL marginL25">\n                    <div class="floatL overdueIcon1_16 marginT10 marginR7"></div>\n                    <div class="floatL colored1c24 F13" translate="CS_REVIEWER_TXT_OVERDUE">Overdue</div>\n                    <div class="clear"></div>\n                </div>\n                \n                <div class="clear"></div>\n            </div>\n            <div class="clear"></div>\n        </div>\n\n        <div class="marginT20">\n            <div class="borderB_e0 participationTable pos_rel">\n                <table style="border: 0px; width: 100%;">\n                    <tr class="sortingArrow">\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 250px" ng-click="toggleSortOrder(state,\'name\')">\n                            \t<div class="floatL" translate="CS_REVIEWER_TXT_LEARNER">Learners</div>\n                                <div ng-show="filterObject[state].sort.fieldName==\'name\'" \n                                \t class="normalSortArrow_new   floatL marginL10 marginT8"\n                                     ng-class="{ true:\'upArrow_Black_new\', false:\'blackDown_Arrow_new\' }[filterObject[state].sort.value]"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 140px" translate="CS_REVIEWER_TXT_CS">Coaching Session</div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 120px" ng-click="toggleSortOrder(state,\'displayReviewCycle\')">\n                            \t<div class="floatL" translate="CS_REVIEWER_TXT_NO_OF_SESSIONS">No. of Sessions</div>\n                                <div ng-show="filterObject[state].sort.fieldName==\'displayReviewCycle\'" \n                                \t class="normalSortArrow_new  floatL marginL10 marginT8"\n                                     ng-class="{ true:\'upArrow_Black_new\', false:\'blackDown_Arrow_new\' }[filterObject[state].sort.value]"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="cursor marginL20" style="width:100px" ng-click="toggleSortOrder(state,\'lastCycleScore\')">\n                                <div class="floatL" translate="CS_REVIEWER_TXT_LATEST_SCORE">Latest Score</div>\n                                <div ng-show="filterObject[state].sort.fieldName==\'lastCycleScore\'"\n                                \t class="normalSortArrow_new ng-scope upArrow_Black_new floatL marginL10 marginT8"\n                                     ng-class="{ true:\'upArrow_Black_new\', false:\'blackDown_Arrow_new\' }[filterObject[state].sort.value]"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="cursor marginL20" style="width:135px" ng-click="toggleSortOrder(state,\'lastReviewOn\')">\n                                <div class="floatL" translate="CS_LAST_REVIEWED_ON">Last Reviewed On</div>\n                                <div ng-show="filterObject[state].sort.fieldName==\'lastReviewOn\'"\n                                \t class="normalSortArrow_new ng-scope upArrow_Black_new floatL marginL10 marginT8"\n                                     ng-class="{ true:\'upArrow_Black_new\', false:\'blackDown_Arrow_new\' }[filterObject[state].sort.value]"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="cursor marginL20" style="width:125px" ng-click="toggleSortOrder(state,\'currentSheduledOn\')">\n                                <div class="floatL" translate="CS_REVIEWER_TXT_NEXT_SESSION">Next Session</div>\n                                <div ng-show="filterObject[state].sort.fieldName==\'currentSheduledOn\'"\n                                \t class="normalSortArrow_new floatL marginL10 marginT8"\n                                     ng-class="{ true:\'upArrow_Black_new\', false:\'blackDown_Arrow_new\' }[filterObject[state].sort.value]"></div>\n                                 \n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 125px">&nbsp;</div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 30px">&nbsp;</div>\n                        </td>\n                    </tr>\n                    <tr ng-repeat="entityLearner in fieldReviews[state] track by $index" class="">\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 250px">\n                                <div class="floatL" style="width: 32px; height: 32px">\n                                    <img ng-if="entityLearner.user.pic != \'\'" ng-src="{{entityLearner.user.pic}}" alt=""\n                                         width="32" height="32" style="border-radius: 50%" />\n                                    <img ng-if="entityLearner.user.pic == \'\'" ng-src="{{defaultLearnerPic}}"\n                                         alt="" width="32" height="32" style="border-radius: 50%" />\n                                </div>\n                                <div class="floatL marginL10 tooltip_bottom_left fs-hide" mtitle="{{entityLearner.user.email}}">\n                                \t<div  style="overflow: hidden;text-overflow: ellipsis;white-space: nowrap;max-width: 182px;">{{entityLearner.user.name || entityLearner.user.email}}</div>\n                                </div>\n                                <div ng-if="isOverDue(entityLearner)" class="floatL overdueIcon1_16 marginL10 marginT8"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                        \t<div class="marginL20 tooltip_bottom_left" mtitle="{{fieldReviews.entities[entityLearner.entityId].name}}">\n                        \t\t<div style="width: 140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">{{fieldReviews.entities[entityLearner.entityId].name}}</div>\n                        \t</div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 120px">{{entityLearner.displayReviewCycle}}</div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 100px">{{(entityLearner.lastCycleScore>0?entityLearner.lastCycleScore+"%":\'--\')}}</div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width:125px">{{entityLearner.lastReviewOn==0 ? \'--\' : getNiceDate(entityLearner.lastReviewOn)}}</div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                        \t<div ng-if="entityLearner.currentSheduledOn == 0" class="marginL20 colorea8212 i floatL" translate="CS_REVIEWER_TXT_NOT_SCHEDULED">Not Scheduled</div>\n                            <div ng-if="entityLearner.currentSheduledOn > 0" class="marginL20 floatL">{{getNiceDate(entityLearner.currentSheduledOn)}}</div>\n                            <div ng-click="scheduleAppointment($index,state)" ng-if="entityLearner.currentSheduledOn > 0" class="floatL marginL10 marginT8 F18 icon-editschedule"></div>\n                            <div ng-click="scheduleAppointment($index,state)" ng-if="entityLearner.currentSheduledOn == 0" class="floatL marginL10 marginT8 F18 icon-schedule"></div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <!--<div class="border_cc_30 textalign_C cursor marginL20" style="width: 115px" ng-if="state==\'unscheduled\'" ng-click="scheduleAppointment($index,state)" translate="CS_REVIEWER_TXT_SCHEDULE">Schedule</div>-->\n                            <div class="btn_0072bc borderR15 textalign_C cursor marginL20" style="width: 115px" ng-click="viewReviewForms(learnerJson.id,state,$index)" translate="CS_REVIEWER_TXT_REVIEW">Review</div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                        \t<!--<div ng-if="entityLearner.currentSheduledOn == 0 && entityLearner.displayReviewCycle == 0" class="floatR marginL20" style="width: 30px">&nbsp;</div>-->\n                            <div class="floatR dropdown marginL20" style="width: 30px">\n                                <div class="dotVertical_10_22 dropdown-toggle marginT4" style="border:0"></div>\n                                <div class="dropdown-menu" style="min-width:150px;top:40px;padding: 0;margin:0;border:0;left:-125px">\n                                    <div style="right:6px;top:-13px;z-index:1;" class="triangleUp_27_14 pos_abs"></div>\n                                    <ul style="max-height:150px">\n                                        <li ng-if="entityLearner.currentSheduledOn == 0" ng-click="scheduleAppointment($index,state)" translate="CS_REVIEWER_TXT_SCHEDULE">Schedule</li>\n                                        <li ng-if="entityLearner.displayReviewCycle > 0" ng-click="viewReviewForms(learnerJson.id,state,$index)" translate="CS_REVIEWER_TXT_VIEW_REVIEWS">View Reviews</li>\n                                    \t<li ng-if="entityLearner.currentSheduledOn > 0" ng-click="scheduleAppointment($index,state)" translate="CS_REVIEWER_TXT_RESCHEDULE">Reschedule</li>\n                                        <li ng-if="entityLearner.currentSheduledOn > 0" ng-click="deleteAppointment($index,state)" translate="CS_REVIEWER_TXT_DELETE_SESSION">Cancel Session</li>\n                                    </ul>\n                                </div>\n                            </div>\n                            <div class="clear"></div>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <div class="F13 color00 paddingT20 paddingB20 textalign_C" ng-if="fieldReviews.active.length==0" translate="CS_REVIEWER_NO_ACTIVE_SESSIONS">There are no learners with active sessions.</div>\n        </div>\n    </div>\n    <div ng-if="fieldReviews.$resolved" class="marginB40">\n        <div class="lineHeight36">\n            <div class="floatL">\n                <div class="floatL color00 F18" mt-trans="CS_REVIEWER_CSESSIONS">Closed Sessions</div>\n                <div class="floatL marginL20 marginR10 marginT9" style="width:1px;height:20px;background:#ddd"></div>\n                <div class="floatL pos_rel dropdown marginT8">\n                    <div class="dropdown-toggle" style="border: none;">\n                        <div ng-if="!currentEntityFilter || !currentEntityFilter[\'closed\'] || currentEntityFilter[\'closed\'].id==\'ALL\'" style="padding:0 25px 0 10px;background:transparent;color:#777;" class="dropdown-text lineHeight20 ng-binding" translate="CS_ALL">Coaching Sessions - All</div>\n                        <div ng-if="currentEntityFilter[\'closed\'] && currentEntityFilter[\'closed\'].id!=\'ALL\'" style="padding:0 25px 0 10px;background:transparent;color:#777;" class="dropdown-text lineHeight20 ng-binding" >{{currentEntityFilter[\'closed\'].name}}</div>\n                        <div class="downArrow_12_7" style="top:8px"></div>\n                    </div>\n                    <div class="dropdown-menu" style="width:300px;top:30px;padding: 0;margin:0;border:0">\n                        <ul style="max-height:150px">\n                            <li>\n                                <div ng-click="updateEntityFilter(\'closed\',\'All\')" style="width: 245px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;" translate="CS_ALL">Coaching Sessions - All</div>\n                            </li>\n                            <li  ng-repeat="entity in fieldReviews.stateEntities.closed track by $index">\n                                <div class="floatL sBG_L marginT7 marginR5 entity_sml">S</div>\n                                <div ng-click="updateEntityFilter(\'closed\',entity.id,entity.name)" class="floatL" style="width: 242px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{entity.name}}</div>\n                                <div class="clear"></div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="floatL marginL15 marginR10 marginT8" style="width:1px;height:20px;background:#ddd"></div>\n                <div class="displayInflex pos_rel paddingL10 marginT8 floatL">\n                    <div style="left: 10px; top: 3px;" class="searchIcon_15_14 pos_abs cursor"></div>\n                    <input ng-model="searchText" ng-change="setFilter(\'closed\',\'searchText\',searchText);" ng-keypress="($event.which === 13)?executeSearch():0" type="text" style="width: 238px; height: 20px; border: 0px; padding: 0px 20px;color:#000; background: none;" name="Search" class="lineHeight20 F13" autocomplete="off" placeholder="{{\'M_SEARCH_LEARNER\' | translate}}">\n                    <div ng-if="x" style="right: 5px; top: 5px;" class="cross_10_10 pos_abs cursor"></div>\n                </div>\n                <div class="clear"></div>\n            </div>\n            <div class="clear"></div>\n        </div>\n        <div class="marginT20">\n            <div class="borderB_e0 participationTable pos_rel">\n                <table style="border: 0px; width: 100%;">\n                    <tr class="sortingArrow">\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 250px" ng-click="toggleSortOrder(\'closed\',\'name\')">\n                            \t<div class="floatL" translate="CS_REVIEWER_TXT_LEARNER">Learners</div>\n                                <div ng-show="filterObject[\'closed\'].sort.fieldName==\'name\'" \n                                \t class="normalSortArrow_new   floatL marginL10 marginT8"\n                                     ng-class="{ true:\'upArrow_Black_new\', false:\'blackDown_Arrow_new\' }[filterObject[\'closed\'].sort.value]"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 140px" translate="CS_REVIEWER_TXT_CS">Coaching Session</div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 120px" ng-click="toggleSortOrder(\'closed\',\'displayReviewCycle\')">\n                            \t<div class="floatL" translate="CS_REVIEWER_TXT_NO_OF_SESSIONS">No. of Sessions</div>\n                                <div ng-show="filterObject[\'closed\'].sort.fieldName==\'displayReviewCycle\'" \n                                \t class="normalSortArrow_new  floatL marginL10 marginT8"\n                                     ng-class="{ true:\'upArrow_Black_new\', false:\'blackDown_Arrow_new\' }[filterObject[\'closed\'].sort.value]"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="cursor marginL20" style="width:100px" ng-click="toggleSortOrder(\'closed\',\'lastCycleScore\')">\n                                <div class="floatL" translate="CS_REVIEWER_TXT_LATEST_SCORE">Latest Score</div>\n                                <div ng-show="filterObject[\'closed\'].sort.fieldName==\'lastCycleScore\'"\n                                \t class="normalSortArrow_new ng-scope upArrow_Black_new floatL marginL10 marginT8"\n                                     ng-class="{ true:\'upArrow_Black_new\', false:\'blackDown_Arrow_new\' }[filterObject[\'closed\'].sort.value]"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="cursor marginL20" style="width:135px" ng-click="toggleSortOrder(\'closed\',\'lastReviewOn\')">\n                                <div class="floatL" translate="CS_LAST_REVIEWED_ON">Last Reviewed On</div>\n                                <div ng-show="filterObject[\'closed\'].sort.fieldName==\'lastReviewOn\'"\n                                     class="normalSortArrow_new ng-scope upArrow_Black_new floatL marginL10 marginT8"\n                                     ng-class="{ true:\'upArrow_Black_new\', false:\'blackDown_Arrow_new\' }[filterObject[\'closed\'].sort.value]"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 125px" translate="CS_REVIEWER_TXT_NEXT_SESSION">Next Session</div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 125px">&nbsp;</div>\n                        </td>\n                        <td valign="middle" align="left" class="bg_f7 color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 30px">&nbsp;</div>\n                        </td>\n                    </tr>\n                    <tr  ng-repeat="entityLearner in fieldReviews.closed track by $index" class="">\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 250px">\n                                <div class="floatL" style="width: 32px; height: 32px">\n                                    <img ng-if="entityLearner.user.pic != \'\'" ng-src="{{entityLearner.user.pic}}" alt=""\n                                         width="32" height="32" style="border-radius: 50%" />\n                                    <img ng-if="entityLearner.user.pic == \'\'" ng-src="{{defaultLearnerPic}}"\n                                         alt="" width="32" height="32" style="border-radius: 50%" />\n                                </div>\n                                <div class="floatL marginL10 tooltip_bottom_left fs-hide" mtitle="{{entityLearner.user.email}}">\n                                \t<div  style="overflow: hidden;text-overflow: ellipsis;white-space: nowrap;max-width: 182px;">{{entityLearner.user.name || entityLearner.user.email}}</div>\n                                </div>\n                                <div ng-if="" class="floatL overdueIcon_16 marginL10 marginT8"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                        \t<div class="marginL20 tooltip_bottom_left" mtitle="{{fieldReviews.entities[entityLearner.entityId].name}}">\n                        \t\t<div style="width: 140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">{{fieldReviews.entities[entityLearner.entityId].name}}</div>\n                        \t</div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 120px">{{entityLearner.displayReviewCycle}}</div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width: 100px">{{(entityLearner.lastCycleScore>0?entityLearner.lastCycleScore+"%":\'--\')}}</div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="marginL20" style="width:125px">{{entityLearner.lastReviewOn==0 ? \'--\' : getNiceDate(entityLearner.lastReviewOn)}}</div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                            <div class="color99 i marginL20" style="width: 125px" translate="CS_REVIEWER_TXT_CLOSED">Closed</div>\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                        \t<div ng-if="false" class="floatR marginL20" style="width: 115px">&nbsp;</div>\n                            <!--div class="border_cc_30 textalign_C cursor marginL20" style="width: 115px"  ng-click="viewReviewForms(learnerJson.id,\'closed\',$index)" translate="CS_REVIEWER_TXT_VIEW_REVIEWS">View Reviews</div-->\n                        </td>\n                        <td valign="middle" align="left" class="color66 F13 lineHeight32 paddingT9 paddingB9 borderT_dd">\n                        \t<div ng-if="false" class="floatR marginL20" style="width: 30px">&nbsp;</div>\n                            <div class="floatR dropdown marginL20" style="width: 30px">\n                                <div class="dotVertical_10_22 dropdown-toggle marginT4" style="border:0"></div>\n                                <div class="dropdown-menu" style="min-width:150px;top:40px;padding: 0;margin:0;border:0;left:-125px">\n                                    <div style="right:6px;top:-13px;z-index:1;" class="triangleUp_27_14 pos_abs"></div>\n                                    <ul style="max-height:150px">\n                                    \t<li ng-click="viewReviewForms(learnerJson.id,\'closed\',$index)" translate="CS_REVIEWER_TXT_VIEW_REVIEWS">View Reviews</li>\n                                        <li ng-click="reOpenClosedSession(learnerJson.id,\'closed\',$index)" translate="CS_REOPEN_SESSION">Re-open Session</li>\n                                    </ul>\n                                </div>\n                            </div>\n                            <div class="clear"></div>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <div class="F13 color00 paddingT20 paddingB20 textalign_C" ng-if="fieldReviews.closed.length==0" translate="CS_REVIEWER_NO_CLOSED_SESSIONS">There are no learners with closed sessions.</div>\n        </div>\n    </div>\n</div>'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/reviews/mission_reviews.html",'<div>\n    <div class="borderT35_transparent marginL20 marginR20">\n        <div class="color00 F18 lineHeight26 borderB_dd paddingB15" style="" mt-trans="M_REVIEW_ASSIGNED_TO_YOU"></div>\n        <div class="">\n            <div class="pos_rel">\n                <div class="pos_abs" style="width:299px;border-right:1px solid #ddd;height:100%" mt-full-height1>\n                    <div class="paddingR9">\n                        <div class="borderB_dd paddingT15 paddingB15">\n                            <div class="floatL displayInflex pos_rel display_N">\n                                <div style="left:0px; top: 3px;" class="searchIcon_15_14 pos_abs cursor hSearchIcon"></div>\n                                <input type="text" style="width: 285px; height: 20px; border: 0px; padding: 0px 20px 0px 20px; outline: 0px; color:#000; background: none;"\n                                       placeholder="{{Messages.M_FILTER_BY_MISSION}}" class="lineHeight20 F13 cursor" readonly="true"  maxlength="50"\n                                       ng-focus="isUniqueMissionsListHidden=false;" ng-blur="isUniqueMissionsListHidden=true" value="{{selectedMissionObject.name}}">\n                                <div ng-show="selectedMissionObject" ng-click="clearSelectedMission()" style="right:0px; top: 5px;" class="cross_10_10 pos_abs cursor"></div>\n                                <div class="pos_abs lineHeight30" style="left:-1px;top:29px;width:290px;z-index:3;" ng-show="!isUniqueMissionsListHidden">\n                                    <ul class="clrCls bg_ff pos_rel" style="max-height:250px;overflow-y:auto"\n                                        infinite-scroll-parent="true" infinite-scroll="loadNextMissions()" infinite-scroll-disabled="!canGoNextMissions()">\n                                        <li class="hideAll_li" ng-repeat="missionObj in reviewsStore.store.uniqueMissionsList"\n                                            ng-mousedown="updateSelectedMissionObj(missionObj)">{{missionObj.name}}</li>\n                                    </ul>\n                                </div>\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                        <div class="paddingT10">\n                            <div class="paddingT5 paddingB5 lineHeight20 filterSelect" ng-click="changeMissionState(\'PENDING\')" ng-class="{active:reviewsStore.currType==\'PENDING\'}">\n                                <div class="floatL F13 marginL10">\n                                    <span mt-trans="M_PENDING_REVIEWS"></span>\n                                </div>\n                                <div class="floatL marginT5 marginL8" style="width:10px;height:10px;border-radius:50%"></div>\n                                <div class="floatR crsIcon marginT5 marginR10" ng-click="changeMissionState(\'ALL\');$event.stopPropagation();"></div>\n                                <div class="clear"></div>\n                            </div>\n                            <div class="paddingT5 paddingB5 F13 lineHeight20 filterSelect" ng-click="changeMissionState(\'COMPLETED\')" ng-class="{active:reviewsStore.currType==\'COMPLETED\'}">\n                                <div class="floatL marginL10" mt-trans="M_COMPLETED_REVIEWS"></div>\n                                <div class="floatR crsIcon marginT5 marginR10" ng-click="changeMissionState(\'ALL\');$event.stopPropagation();"></div>\n                                <div class="clear"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="" style="margin-left:330px" infinite-scroll="loadNextPage()" infinite-scroll-disabled="!canGoNextPage()">\n                    <div class="borderT30_transparent borderB30_transparent">\n                        <div class="floatL">\n                            <div class="floatL color00 F16 lineHeight20" ng-show="reviewsStore.currType!=\'PENDING\' && reviewsStore.currType!=\'COMPLETED\'" mt-trans="M_ALL_SUBMISSIONS"></div>\n                            <div class="floatL color00 F16 lineHeight20" ng-show="reviewsStore.currType==\'PENDING\'" mt-trans="M_PENDING_REVIEWS"></div>\n                            <div class="floatL color00 F16 lineHeight20" ng-show="reviewsStore.currType==\'COMPLETED\'" mt-trans="M_COMPLETED_REVIEWS"></div>\n                            <div class="floatL i color99 F12 lineHeight16 marginL8 marginT3" ng-show="!selectedMissionObject">({{Messages.M_ACROSS_ALL_MISSIONS}})</div>\n                            <div class="floatL i color99 F12 lineHeight16 marginL8 marginT3" ng-show="selectedMissionObject">({{selectedMissionObject.name}})</div>\n                            <div class="clear"></div>\n                        </div>\n                        <div class="floatL marginR15 marginL15" style="width:1px;height:20px;background:#ddd"></div>\n                        <div class="floatL displayInflex pos_rel">\n                            <div ng-click="filterByQuery()" style="left:0px; top: 3px;" class="searchIcon_15_14 pos_abs cursor hSearchIcon"></div>\n                            <input type="text" ng-model="tmpQuery" ng-enter="filterByQuery()" maxlength="100" placeholder="{{Messages.M_SEARCH_LEARNER}}" class="lineHeight20 F13 hSearchBox"\n                                   style="width: 160px; height: 20px; border: 0px; padding: 0px 20px 0px 20px; outline: 0px; color:#000; background: none;">\n                            <div ng-show="currQuery" ng-click="clearQueryResults()" style="right:0px; top: 5px;" class="cross_10_10 pos_abs cursor"></div>\n                        </div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-repeat="page in reviewsStore.store.pages">\n                        <div ng-hide="page.$resolved"><loader-img>Loading...</loader-img></div>\n                        <div ng-if="page.$resolved && page.missionLearners.length < 1 && reviewsStore.currType==\'COMPLETED\'" mt-trans="LB_TXT_NO_RESULT_FOUND_REVIEWES_COMPLETED"></div>\n                        <div ng-if="page.$resolved && page.missionLearners.length < 1 && reviewsStore.currType!=\'COMPLETED\'" mt-trans="LB_TXT_NO_RESULT_FOUND_REVIEWES"></div>\n                        <div ng-repeat="learner in page.missionLearners" review-entity></div>\n                        <!-- fucker add directive here, layout review_entity.html-->\n                        <div class="clear"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div ui-view="reviewSingleEntity" class="display_N"></div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/reviews/review_entity.html",'<div class="floatL hoverCourse_borderBg pos_rel marginR30 marginB40"\n     ng-click="openReview(learner,reviewsStore.store.missionMap[learner.missionLearner.id][learner.missionLearner.version], learner.indexReviews)"\n     ng-if="page.$resolved" style="height:247px">\n    <div style="padding:9px">\n        <div class="pitchThumbNail">\n            <div class="pos_rel marginB9 cursor" style="box-shadow:0 1px 0px #bfbebe;">\n                <img ng-src="{{getMissionThumb(learner)}}" style="display:block;height:120px;width:220px;">\n                <div class="pos_abs bg_00 colorff F11 lineHeight20 paddingL8 paddingR8" style="right:0;bottom:0" ng-if="learner.missionLearnerData.learnerSubmission.missionMedia[0] && learner.missionLearnerData.type != \'LO_TASK_EVALUATION_MISSION\'">{{getRecordingTime(learner)}}</div>\n            </div>\n            <div class="">\n                <div class="floatL">\n                    <img ng-src="{{getProfilePic(learner)}}" style="display:block;height:48px;width:48px;border-radius:50%">\n                </div>\n                <div class="floatL marginL4">\n                    <div class="color00 F13 lineHeight20 marginT5 fs-hide" style="width:168px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap">{{getLeanerName(learner)}}</div>\n                    <div class="color66 F13 lineHeight20" style="width:168px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap" title="{{getMissionName(learner)}}">\n                        {{getMissionName(learner)}}\n                    </div>\n                </div>\n                <div class="clear"></div>\n            </div>\n            <div class="borderT20_transparent">\n                <div class="floatL borderBtn0072bc_30 F12 paddingL15 paddingR15"\n                     ng-hide="didIReviewed(learner)">\n                    <div class="floatL" mt-trans="M_REVIEW_NOW"></div>\n                    <div class="floatL blueArrowRight_10_9 marginL5 marginT9"></div>\n                    <div class="clear"></div>\n                </div>\n                <div class="floatL redBorderBtn_30 F12 paddingL20 paddingR20 marginL10"\n                     ng-if="learner.missionLearner.declined">\n                    <div class="floatL">\n                        Declined\n                    </div>\n                    <div class="clear"></div>\n                </div>\n                <div ng-if="didIReviewed(learner) && canShowScore(learner)">\n                    <div class="floatL marginT3 marginB3 marginL8">\n                        <span class="floatL marginR10">{{getLearnerReviewerScore(learner)}}/5</span>\n                    </div>\n                    <div class="clear"></div>\n                </div>\n                <div class="clear"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/reviews/review_popup.html",'<div class="bg_ff"> <!-- reviewer submission pop up starts -->\n    <div style="padding:20px 0px 0px 0px">\n    \t<div class="pos_abs" style="top:20px;right:20px">\n    \t\t<div class="floatL border_66 lineHeight28 F13 borderR15 marginR20 paddingL15 paddingR15">\n    \t\t\t<span class="navColor cursor" ng-class="{disable: !canGoPreviousReview()}" ng-click="gotoPrevious();tab = \'review\'">&lt; &nbsp; &nbsp; Prev</span>\n    \t\t\t<span class="navcolor">|</span>\n    \t\t\t<span class="navColor cursor" ng-class="{disable: !canGoNextReview()}" ng-click="gotoNext();tab = \'review\'">Next &nbsp; &nbsp; &gt;</span>\n    \t\t</div>\n    \t\t<div class="floatL crossIcon_20_20 marginT5" ng-click="cancel()"></div>\n    \t\t<div class="clear"></div>\n    \t</div>\n\t\t<div class="color00 F18  lineHeight30 paddingB20 textalign_C borderB_dd">\n\t\t    {{Messages.M_REVIEW}}:&nbsp;<span>{{miLearner.miObj.static.name}}</span>, <span class="fs-hide">{{miLearner.miLearner.missionLearner.user.name}}</span>\n\t\t</div>\n\t\t<div>\n\t    \t<div class="floatR bg_f5" style="width:440px; border-left:1px solid #ddd;">\n\t    \t\t<ul class="reviewPopupTab" ng-show="miLearner.miObj.learningObject.missionLOType != \'TASK_EVALUATION\'">\n    \t\t\t\t<li ng-click="uiState.missionSubTab =\'review\'" ng-class="{active: uiState.missionSubTab==\'review\' || !uiState.missionSubTab}" mt-trans="M_YOUR_REVIEW"></li>\n    \t\t\t\t<li ng-click="uiState.missionSubTab =\'comment\';tabClicked(uiState.missionSubTab);" ng-class="{active: uiState.missionSubTab==\'comment\'}"><span mt-trans="TXT_COMMENTS">Comments</span>&nbsp;<span id="comment-detail-pane-{{submission.submissionId}}-count"></span></li>\n                    <li ng-if="showTranscriptionAnalysis" ng-click="uiState.missionSubTab =\'transcription\';tabClicked(uiState.missionSubTab);" ng-class="{active: uiState.missionSubTab==\'transcription\'}">Transcription</li>\n\t    \t\t</ul>\n\t    \t\t<!-- your review tab starts -->\n\t    \t\t<div ng-show="uiState.missionSubTab == \'review\' || !uiState.missionSubTab" style="overflow-y: auto;"\n            ng-class="{\'addHeight215\': miLearner.miObj.learningObject.missionLOType != \'TASK_EVALUATION\', \'addHeight162\': miLearner.miObj.learningObject.missionLOType == \'TASK_EVALUATION\'}">\n          \t<div style="padding:10px 20px 20px;">\n\t\t    \t\t\t<div class="lineHeight30 marginT15 marginB15 pos_rel">\n  \t\t    \t\t\t<div ng-if="miLearner.miObj.learningObject.missionLOType == \'TASK_EVALUATION\'" class="floatL color00 F18 marginR15" mt-trans="M_YOUR_REVIEW"></div>\n                  <div class="floatL color66 F12 lineHeight20" style="width:195px; text-transform:uppercase;" ng-if="miLearner.miObj.learningObject.missionLOType != \'TASK_EVALUATION\'">\n                    Evaluation Parameters\n                  </div>\n                  <div class="floatR F13 color0072bc cursor lineHeight20"\n    \t\t\t\t\t\t\t\t ng-if="(!didIReviewed || inReviewEditMode) && lastSubmission && lastSubmission.$resolved && showPopulatePrevScore"\n    \t\t\t\t\t\t\t\t ng-click="populatePrevScore(miLearner)">\n    \t\t\t\t\t\t\t\t <div class="floatL populateIcon_13_10 marginT5 marginR8"></div>\n    \t\t\t\t\t\t\t\t <div class="floatL" mt-trans="M_POPULATE_PREV_SCORE"></div>\n    \t\t\t\t\t\t\t\t <div class="clear"></div>\n    \t\t\t\t\t\t\t</div>\n    \t\t\t\t\t\t\t<div class="floatR F13 color0072bc cursor marginR30"\n    \t\t\t\t\t\t\t\t ng-if="!didIReviewed && lastSubmission && !lastSubmission.$resolved && !showPopulatePrevScore">\n    \t\t\t\t\t\t\t\t<img ng-src="{{loaderSmall}}"/>\n    \t\t\t\t\t\t\t</div>\n    \t\t\t\t\t\t\t<div class="clear"></div>\n  \t\t\t\t\t\t</div>\n\n\t\t    \t\t\t<div class="lineHeight30 pos_rel">\n\t\t\t\t\t\t\t\t<div ng-repeat="evalParam in miLearner.miObj.learningObject.evaluationParams track by $index">\n\n                  <div class="floatL">\n                    <div class=" color00 F13 lineHeight20 marginT5 marginB5 defaultMatch" ng-class="getKeywordsMatchLevelClass(evalParam)" style="max-width:205px;">\n                      <div class="floatL" style="font-weight:600;max-width:175px;">{{evalParam.evalParam.name}}\n                      \t<span ng-show="companySettings.lsSettings.enableEvalParamWeight && evalParam.weight !== 1"> \n                      \t\t(<span style="text-indent: 5px;">x {{evalParam.weight}}</span>)\n                      \t</span>\n                      </div>\n                      <div class="floatL pos_rel reviewGuidence hoverEffect" ng-show="shouldShowReviewGuidanceIcon(evalParam)" ng-click="toggleReviewGuidance(evalParam)">\n                        <div class="defaultMatchIcon marginT5 marginL8 cursor"></div>\n                        <div class="pos_abs triangleUp_27_14" ng-show="activeReviewGuidanceParamId == evalParam.evalParamId" style="left: 0px;height:9px;top: 17px;z-index:9;"></div>\n                    \n                        <div class="hoverText pos_abs lineHeight20 color99 F13 bg_ff nowrap borderR2" style="max-width: 230px;top: 25px;border: 1px solid #ddd;padding: 0px 7px;left: 8px; z-index:1;">Review Guidance</div>\n                      </div>\n                      <div class="clear"></div>\n\n\n                      <div class="pos_rel" ng-show="activeReviewGuidanceParamId == evalParam.evalParamId" style="top:5px;left: 0px;width: 385px;margin-bottom: 10px;display: block;">\n                      <div class="pos_rel bg_ff" style="border: 1px solid #ddd;padding: 8px 0px;width: 100%;z-index: 1;height: auto;">\n                        <div>\n                          <div class="borderB_dd">\n                            <div class="floatL paddingL10 paddingB8 paddingR10 F14" style="font-weight: 600;">\n                               Review Guidance\n                            </div>\n                            <div class="floatR cross_10_10 marginT5 marginR10" ng-click="closeReviewGuidance(evalParam)"></div>\n                            <div class="clear"></div>\n                          </div>\n\n                            <div ng-if="evalParam.description != null && evalParam.description.length > 0" class="F13 color99" style="margin:10px;">\n                                {{evalParam.description}}\n                            </div>\n                            <div ng-if="showTranscriptionAnalysis && submission.keywordsData.$resolved && evalParam.keywords.length > 0">\n                                <div ng-if="submission.keywordsData.status == \'SUCCESS\'">\n\t\t\t\t\t\t\t\t\t<div ng-if="submission.keywordsData[evalParam.evalParamId] != null">\n\t\t\t\t\t\t\t\t\t\t<div style="padding:5px 10px;">\n\t\t\t\t\t\t\t\t\t\t\t  <div class="F13" style="font-weight: 600;">\n\t\t\t\t\t\t\t\t\t\t\t\tKeywords Suggested by Admin ({{evalParam.keywords.length}}):\n\t\t\t\t\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="color99 F13 lineHeight20">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="color33" ng-repeat="usedKeyword in submission.keywordsData[evalParam.evalParamId].used">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{usedKeyword}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style="font-size: 10px;color: #ddd;vertical-align: top;"  class="color99" ng-if="$index < evalParam.keywords.length - 1">|</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="colordd" ng-repeat="notUsedKeyword in submission.keywordsData[evalParam.evalParamId].not_used">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{notUsedKeyword}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style="font-size: 10px;color: #ddd;vertical-align: top;"  class="color99" ng-if="$index < submission.keywordsData[evalParam.evalParamId].not_used.length - 1">|</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div style="background-color: #F7F7F7;padding:12px 8px; margin:10px;">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL F14" style="font-weight: 600;">Result : </div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="floatL F14 defaultMatchText marginL5" style="font-weight: 600;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span ng-if="submission.keywordsData[evalParam.evalParamId].used.length < evalParam.minKeywordsExpected">Poor Match</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span ng-if="submission.keywordsData[evalParam.evalParamId].used.length >= evalParam.minKeywordsExpected">Good Match</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="F13 lineHeight30">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{submission.keywordsData[evalParam.evalParamId].used.length}} Keywords are matched out of at least {{evalParam.minKeywordsExpected}} expected.\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div ng-if="submission.keywordsData[evalParam.evalParamId] == null">\n\t\t\t\t\t\t\t\t\t\tError while loading keyword analysis\n\t\t\t\t\t\t\t\t\t</div>\n                                </div>\n                              <div style="text-align:center;" ng-if="submission.keywordsData.status == \'STARTED\' || submission.keywordsData.status == \'NOT_STARTED\'">\n                                <div class="transcription_truck" style="margin-top:70px;display: inline-block;"></div>\n                                <div class="F14 color66 marginT30 marginB30">Keyword Analysis is on its way! </div>\n                              </div>\n\t\t\t\t\t\t\t\t<div ng-if="submission.keywordsData.status == \'FAILED\'">\n\t\t\t\t\t\t\t\t\t<div style="padding: 10px 10px 0px;">\n\t\t\t\t\t\t\t\t\t\t<div class="F13" style="font-weight: 600;">\n\t\t\t\t\t\t\t\t\t\t\tKeywords Suggested by Admin ({{evalParam.keywords.length}}):\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="color99 F13 lineHeight20">\n                                          <span class="colordd" ng-repeat="keyword in evalParam.keywords">\n                                                {{keyword}}\n                                          <span style="font-size: 10px;color: #ddd;vertical-align: top;"  class="color99" ng-if="$index < evalParam.keywords.length - 1">|</span>\n                                      </span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n                                  <div style="background-color: #F7F7F7;padding:12px 8px; margin:10px;">\n                                      <div class="F14 lineHeight20 color66" style="text-align:center;">\n                                          \t<span style="font-weight:600;">Oops!</span>\n                                          \t<br />\n                                           Sorry we couldn\u2019t do a keyword match for this submission.\n                                      </div>\n                                  </div>\n\t\t\t\t\t\t\t\t</div>\n                            </div>\n                            <div ng-if="showTranscriptionAnalysis && !submission.keywordsData.$resolved && evalParam.keywords.length > 0" style="padding:10px;">\n                                Loading keyword analysis..\n                            </div>\n                        </div>\n                      </div>\n                      </div>\n\n\n\n                    </div>\n                 </div>\n\t\t\t\t\t\t\t\t\t<div class="floatR">\n\t\t\t\t\t\t\t\t\t\t<div class="floatL marginL15">\n\t\t\t\t\t\t\t\t\t\t\t<div class="floatL">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="marginT8 marginL5" eval-param-rating-partial\n\t\t\t\t\t\t\t\t\t\t\t\t\t ng-if="miLearner.miObj.learningObject.evalParamType === \'NUMERIC\'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t score="evalParams($index, reviewer.id)"\n\t\t\t\t\t\t\t\t\t\t\t\t\t firsthalf-rating-class="\'firsthalfRating_blue\'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t secondhalf-rating-class="\'secondhalfRating_blue\'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t bi-model="evalParamsScore"\n\t\t\t\t\t\t\t\t\t\t\t\t\t bi-index="$index"\n\t\t\t\t\t\t\t\t\t\t\t\t\t is-review="true" reviewed="didIReviewed && !inReviewEditMode"\n\t\t\t\t\t\t\t\t\t\t\t\t\t margin-style="{left:\'7px\'}">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div ng-if="miLearner.miObj.learningObject.evalParamType == \'BINARY\' ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t  \t\tmiLearner.miObj.learningObject.evalParamType == \'REMEDIATION\'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t eval-param-binary-partial\n\t\t\t\t\t\t\t\t\t\t\t\t\t class="marginL301"\n\t\t\t\t\t\t\t\t\t\t\t\t\t score="evalParams($index, reviewer.id)"\n\t\t\t\t\t\t\t\t\t\t\t\t\t binary-type="miLearner.miObj.learningObject.evalParamType"\n\t\t\t\t\t\t\t\t\t\t\t\t\t is-review="true" reviewed="didIReviewed && !inReviewEditMode"\n\t\t\t\t\t\t\t\t\t\t\t\t\t bi-model="evalParamsScore"\n\t\t\t\t\t\t\t\t\t\t\t\t\t bi-index="$index">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div ng-if="[\'BINARY\',\'NUMERIC\'].indexOf(miLearner.miObj.learningObject.evalParamType) > -1" class="color00 F13 floatL textalign_R" style="width:25px;">\n\t\t\t\t\t\t\t\t\t\t\t{{(evalParamsScore[$index])?(evalParamsScore[$index])/100:\'--\'}}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</div>\n                  <div class="clear"></div>\n\t\t\t\t    \t\t\t</div>\n\t\t\t\t    \t\t\t<div ng-if="[\'BINARY\',\'NUMERIC\'].indexOf(miLearner.miObj.learningObject.evalParamType) > -1"  style="margin-top:10px;">\n\t\t\t\t    \t\t\t\t<div>\n\t\t\t\t\t    \t\t\t\t<div class="floatL color00 F14" style="max-width:215px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;">&nbsp;</div>\n\t\t\t\t\t    \t\t\t</div>\n\t\t\t\t\t    \t\t\t<div class="floatR" style="opacity:.20;">\n\t\t\t\t\t    \t\t\t\t<div class="floatL paddingL15 textalign_R">\n\t\t\t\t\t    \t\t\t\t\t<div class="paddingR10" style="width: 130px" mt-trans="M_REVIEW_SCORE"></div>\n\t\t\t\t\t    \t\t\t\t</div>\n\t\t\t\t\t    \t\t\t\t<div class="color00 F13 floatL paddingL5">\n\t\t\t\t\t    \t\t\t\t\t<div style="width:28px">{{getAverageRating()}}</div>\n\t\t\t\t\t    \t\t\t\t</div>\n\t\t\t\t\t    \t\t\t\t<div class="clear"></div>\n\t\t\t\t\t    \t\t\t</div>\n                    <div class="clear"></div>\n\t\t\t\t    \t\t\t</div>\n\t\t\t\t\t\t\t<div class="F13 pos_abs errorColor" ng-if="showErrors" style="top:-19px;left:0;font-size: 12px;">\n\t\t\t\t\t\t\t\t{{errors.ratingsNotProvided}}\n\t\t\t\t\t\t\t</div>\n\t\t    \t\t\t</div>\n\t\t    \t\t\t<div class="marginT20 pos_rel" style="width:100%" ng-if="miLearner.miObj.learningObject.textFeedback==true">\n\t\t    \t\t\t\t<div style="width:100%" ng-if="miLearner.miObj.learningObject.textFeedback==true">\n\t\t\t\t\t\t\t    <span class="color00 F13 lineHeight20 marginB5" mt-trans="M_TXT_POSITIVE_FEEDBACK">\n\t\t\t\t\t\t\t\t</span><span>:</span>\n\t\t\t\t\t\t\t\t<div style="padding:2px 6px 4px 6px;border-radius: 3px;box-shadow: 0 2px 4px 0 rgba(0,0,0,0.06);" class="textarea_dd" ng-show="!didIReviewed || inReviewEditMode">\n\t\t\t\t\t\t\t\t\t<textarea ng-model="feedbacks.positiveFeedback"\n\t\t\t\t\t\t\t\t\t\t\t  maxlength="20000"\n\t\t\t\t\t\t\t\t\t\t\t  style="height:72px;width:100%;overflow-y: auto;"\n\t\t\t\t\t\t\t\t\t\t\t  class="cmnTextArea color00 F13 lineHeight20"\n\t\t\t\t\t\t\t\t\t\t\t  placeholder="{{Messages.TYPE_HERE}}">\n\t\t\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="feedbackstyle" ng-show="didIReviewed && !inReviewEditMode">\n\t\t\t\t\t\t\t\t\t{{myreview.positiveFeedback[0].text}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<!-- disable div -->\n\t\t\t\t\t\t\t\t<div class="pos_abs" style="width: 394px;height: 80px;background-color: #f9f9f9; padding: 3px 7px;border: 1px solid #ddd;color:#cccccc; font-size:13px;position: absolute;top: 20px;opacity: 0.8;left: 0px;" ng-show="miLearner.miLearner.missionLearner.declined">Type here</div>\n\t\t\t\t\t\t\t\t<!-- disable div -->\n\t\t\t\t\t\t\t\t<div class="F13 pos_abs errorColor"\n\t\t\t\t\t\t\t\t\t ng-if="showErrors" style="top:0;left:120px">\n\t\t\t\t\t\t\t\t\t{{errors.noPositiveFeedback}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t    \t\t\t</div>\n\t\t    \t\t\t<div class="marginT20 pos_rel" style="width:100%" ng-if="miLearner.miObj.learningObject.textFeedback==true">\n\t\t\t\t\t\t    <span class="color00 F13 lineHeight20 marginB5" mt-trans="M_TXT_CONSTRUCTIVE_FEEDBACK_N">\n\t\t\t\t\t\t\t</span><span>:</span>\n\t\t\t\t\t\t\t<div class="textarea_dd" style="padding:2px 6px 4px 6px;border-radius: 3px;box-shadow: 0 2px 4px 0 rgba(0,0,0,0.06);" ng-show="!didIReviewed || inReviewEditMode">\n\t\t\t\t\t\t\t    <textarea ng-model="feedbacks.constructiveFeedback" style="height:72px;width:100%;overflow-y: auto;" maxlength="20000"\n\t\t\t\t\t\t\t    class="cmnTextArea color00 F13 lineHeight20" placeholder="{{Messages.TYPE_HERE}}">\n\t\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="feedbackstyle" ng-show="didIReviewed && !inReviewEditMode">\n\t\t\t\t\t\t\t\t{{myreview.constructiveFeedback[0].text}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<!-- disable div -->\n\t\t\t\t\t\t\t<div class="pos_abs"  style="width: 394px;height: 80px;background-color: #f9f9f9; padding: 3px 7px;border: 1px solid #ddd;color:#cccccc; font-size:13px;position: absolute;top: 20px;opacity: 0.8;left: 0px;" ng-show="miLearner.miLearner.missionLearner.declined">Type here</div>\n\t\t\t\t\t\t\t<!-- disable div -->\n\t\t\t\t\t\t\t<div class="F13 pos_abs errorColor" ng-if="showErrors" style="top:0;left:145px">\n\t\t\t\t\t\t\t\t{{errors.noContructiveFeedback}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="offlineTask_attachment F13 marginT10"\n\t\t\t\t\t\t\t ng-if="miLearner.miObj.learningObject.canReviewerUploadDocument">\n\t\t\t\t\t\t\t<div class="floatL cursor" ng-if="!hasReviewDocument() && (!didIReviewed || inReviewEditMode)"\n\t\t\t\t\t\t\t\t mt-upload=\'temUploaderObjects[uploaderId].uploadObj\'>\n\t\t            \t\t\t<div class="floatL attachmentIcon_17_15 marginR7 marginT3"></div>\n\t\t            \t\t\t<div class="floatL txtColor lineHeight20">Upload Review Document </div>\n\t\t            \t\t\t<div class="clear"></div>\n\t\t            \t\t</div>\n\t\t\t\t\t\t\t<div class="floatL cursor" ng-if="hasReviewDocument()">\n\t\t\t\t\t\t\t\t<div class="floatL attachmentIcon_17_15 marginR7 marginT3"></div>\n\t\t\t\t\t\t\t\t<div class="floatL txtColor lineHeight20">\n\t\t\t\t\t\t\t\t\t{{getReviewerDocumentName()}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t</div>\n\t            \t\t\t<div class="floatR dropdown pos_rel" style="width:18px" ng-if="hasReviewDocument()">\n\t\t            \t\t\t<div class="menu_16_14 marginT3 dropdown-toggle" style="border:0;display: block;"></div>\n\t\t            \t\t\t<div class="pos_rel dropdown-menu" style="top:18px; left: -80px; z-index: 1; cursor: auto;margin:0;border: none;">\n\t\t\t\t\t\t\t\t\t    <div class="pos_abs triangleUp_27_14" style="top:-13px;left:75px;z-index:2"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="pos_abs lineHeight30" style="left:0px;top:0px;width: 110px;">\n\t\t\t\t\t\t\t\t\t\t\t<ul class="clrCls bg_ff pos_rel" style="box-shadow:0 1px 0 #dadada">\n\t\t\t\t\t\t\t\t\t\t\t\t<li ng-click="downloadAttachment()">Download</li>\n\t\t\t\t\t\t\t\t\t\t\t\t<li ng-click="removeReviewerDocument()" ng-if="!didIReviewed || inReviewEditMode">Remove</li>\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t            \t\t</div>\n\t            \t\t\t<div class="clear"></div>\n\t            \t\t</div>\n\t\t    \t\t</div>\n\t\t\t\t</div>\n\n      <!-- your comment tab starts -->\n      <div ng-show="uiState.missionSubTab == \'comment\'" id="comment-detail-pane-{{submission.submissionId}}"  class=\'showScroll\'\n      style="height: calc(100vh - 215px);overflow: auto;position: relative;">\n      </div>\n      <div class="transcriptionDiv" ng-if="showTranscriptionAnalysis" ng-show="uiState.missionSubTab == \'transcription\'" id="transcription-container-id-{{submission.submissionId}}"\n         style="position: relative;" >\n      </div>\n      <!-- your comment tab starts -->\n\t\t\t\t<div  class="marginT20" style="bottom: 0px;background: #fff;padding: 20px;width: 440px;box-shadow: 0 -2px 4px 0 rgba(0,0,0,0.06);border-left: 1px solid #ddd;border-bottom: 1px solid #ddd;margin-left: -1px;">\n\t\t\t\t\t\t<div class="floatL btn_0072bc F13 lineHeight30 borderR15 paddingL15 paddingR15"\n\t\t\t\t\t\t\t ng-click="submitReview(miLearner)" ng-if="!didIReviewed">\n\t\t\t\t\t\t\t{{isSubmitting?Messages.M_SUBMITTING + "...":Messages.M_SUBMIT_REVIEW}}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="floatL btn_0072bc F13 lineHeight30 borderR15 paddingL15 paddingR15 disable"\n\t\t\t\t\t\t\t ng-click="$dismiss()" ng-if="didIReviewed && !miLearner.miLearner.missionLearner.declined && !inReviewEditMode" mt-trans="M_TXT_COMPLETED">\n\t\t\t\t\t\t\tCompleted\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="floatL bgd14f48 F13 lineHeight30 borderR15 paddingL15 paddingR15 colorff disable"\n\t\t\t\t\t\t\t ng-click="$dismiss()" ng-if="didIReviewed && miLearner.miLearner.missionLearner.declined" mt-trans="TXT_DECLINED">\n\t\t\t\t\t\t\tDeclined\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Edit review -->\n\t\t\t\t\t\t<div class="border_cc_30 F13 floatL marginL5 marginR15 noBtnTxt paddingL15 paddingR15"\n\t\t\t\t\t\t\t ng-if="didIReviewed && !miLearner.miLearner.missionLearner.declined && miLearner.miObj.static.canReviewerEditReview && !inReviewEditMode"\n\t\t\t\t\t\t\t ng-click="editReview(miLearner)" mt-trans="CS_REVIEWER_REVIEW_TXT_EDIT_REVIEW">\n\t\t\t\t\t\t\tEdit Review\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- Save Changes -->\n\t\t\t\t\t\t<div class="floatL btn_0072bc F13 lineHeight30 borderR15 paddingL15 paddingR15"\n\t\t\t\t\t\t\t ng-click="submitReview(miLearner)"\n\t\t\t\t\t\t\t ng-if="didIReviewed && inReviewEditMode">\n\t\t\t\t\t\t\t{{isSubmitting?Messages.BTN_SAVING_TEXT:Messages.SAVE_CHANGES}}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Discard changes -->\n\t\t\t\t\t\t<div class="border_cc_30 F13 floatL marginL5 marginR15 noBtnTxt paddingL15 paddingR15"\n\t\t\t\t\t\t\t ng-click="discardEdit(miLearner)"\n\t\t\t\t\t\t\t ng-if="didIReviewed && inReviewEditMode && !isSubmitting" mt-trans="M_TXT_DISCARD">\n\t\t\t\t\t\t\tDiscard\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="floatL F13 color99 cursor marginT5 marginL10"\n\t\t\t\t\t\t\t ng-if="!didIReviewed && !miLearner.miLearner.missionLearner.declined"\n\t\t\t\t\t\t\t ng-click="declineReview(miLearner)" mt-trans="M_DECLINE_REVIEW">\n\t\t\t\t\t\t\tDecline Review\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="floatL F13 color99 cursor marginT5 marginL10"\n\t\t\t\t\t\t\t ng-if="didIReviewed && !miLearner.miLearner.missionLearner.declined">\n\t\t\t\t\t\t\t<span mt-trans="TXT_REVIEWED_ON">Reviewed on</span> {{getSubmissionDateForReviewer()}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t    \t\t<!-- your review tab ends -->\n\t    \t</div>\n\n\t\t\t    \t<div  class="pos_rel" style="margin-right:440px">\n\t\t\t\t\t\t<div style="width: 672px;" class="pos_rel margin0_auto">\n\t\t\t    \t\t<div class="ofh">\n\t\t\t\t\t\t\t<div class="color00 F18 lineHeight30 marginT40" mt-trans="M_TXT_MISSION_DESCRIPTION">\n\t\t\t\t\t\t\t\tMission Description\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="marginB20" style="background:#fff;z-index:1;width:100%">\n\t\t\t\t\t\t\t<div class="color00 F13 lineHeight20 marginT10 mdesHeight"\n\t\t\t\t\t\t\t\t ng-class="calculateDivHeight()" style="overflow: hidden;"\n\t\t\t\t\t\t\t\t ng-bind-html="renderHtml(miLearner.miObj.static.desc)">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="marginT5">\n\t\t\t\t\t\t\t\t<span class="readMore cursor" style="color:#0072bc"\n\t\t\t\t\t\t\t\t\t  ng-click="showReadMore = true;$evalAsync();"\n\t\t\t\t\t\t\t\t\t  ng-show="!showReadMore && largeContent" mt-trans="M_VIEW_MORE">\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="readLess cursor" style="color:#0072bc"\n\t\t\t\t\t\t\t\t\t  ng-click="showReadMore = false;$evalAsync();"\n\t\t\t\t\t\t\t\t\t  ng-show="showReadMore && largeContent" mt-trans="M_VIEW_LESS">\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="pos_abs">\n\n\t\t\t\t\t\t\t\t<div class="floatL F13 lineHeight28 paddingR10"\n\t\t\t\t\t\t\t\tng-if="miLearner.miObj.learningObject.missionLOType != \'TASK_EVALUATION\'">\n\t\t\t\t\t\t\t   <div class="floatL targetIcon_17_17 marginT8 marginR5"\n\t\t\t\t\t\t\t\t\tng-if="miLearner.miObj.learningObject.missionLOType != \'TASK_EVALUATION\'">\n\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t   <div class="floatL marginL5"\n\t\t\t\t\t\t\t\t\tng-if="miLearner.miObj.learningObject.missionLOType != \'TASK_EVALUATION\'">\n\t\t\t\t\t\t\t\t   <span><span mt-trans="TXT_TARGET">Target</span> - &nbsp;</span>\n\t\t\t\t\t\t\t\t   <span>{{getHRMINSS(miLearner.miObj.static.specialStaticSettings.targetLength)}} m</span>\n\t\t\t\t\t\t\t\t   <!-- span class="marginL5 marginR5">|</span><span>Actual - &nbsp;</span><span>{{getHRMINSS(miLearner.miLearner.missionLearnerData.draftIdDraftMap[miLearner.miLearner.missionLearnerData.submissionId].duration)}} m</span-->\n\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t   <div class="clear"></div>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   <div  ng-if="[\'BINARY\',\'NUMERIC\'].indexOf(miLearner.miObj.learningObject.evalParamType) > -1"\n\t\t\t\t\t\t\t   class="floatL F13 lineHeight28 paddingL10 paddingR20">\n\t\t\t\t\t\t\t   <div class="floatL cutoffIcon_17_17 marginT6 marginR5"></div>\n\t\t\t\t\t\t\t   <div class="floatL">\n\t\t\t\t\t\t\t\t   <span mt-trans="M_CUTOFF_SCORE"></span>\n\t\t\t\t\t\t\t\t   <span>{{miLearner.miObj.settings.certificateScore/100}}</span><span>/5</span>\n\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t   <div class="clear"></div>\n\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t</div>\n\n                        <div style="margin-top: 100px; margin-bottom:10px;">\n                            <div class="ofh pos_rel marginB20 lineHeight20 F13"\n                                 ng-if="miLearner.miObj.static.specialStaticSettings.docs &&\n                                     miLearner.miObj.static.specialStaticSettings.docs.length > 0">\n                                <!-- <div class="floatL">\n                                \t<div ng-class="contentClass" class="pos_rel marginR10 F20 floatL">\n\t\t\t\t\t\t\t\t\t    <div style="top:-8px;right:-4px" class="viewedIcon pos_abs"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t                                <div class="floatL">{{miLearner.miObj.static.specialStaticSettings.docs[0].title}}</div>\n                                    <div class="clear"></div>\n                                </div>\n                                <div class="floatL color0072bc marginL15">Preview</div>\n                                <a href="{{doc.original_path || doc.obj.original_path}}" target="_blank" class="floatL cursor  display_B" style="text-decoration:none">\n                       \t\t\t\t<div class="color0072bc">Download</div>\n                   \t\t\t\t</a>\n                                <div class="clear"></div> -->\n\n\n\n                                <div class="floatL cursor lineHeighT20">\n                                    <div class="floatL attachmentIcon_17_16 marginR5 marginT2"></div>\n                                    <div class="floatL color0072bc F13">\n                                        <a href="{{miLearner.miObj.static.specialStaticSettings.docs[0].obj.original_path}}"\n                                           target="_blank" style="text-decoration:none !important">{{miLearner.miObj.static.specialStaticSettings.docs[0].title}}\n                                        </a>\n                                    </div>\n                                    <div class="clear"></div>\n                                </div>\n                            </div>\n                            <div class="pos_rel" style="min-width:400px;min-height:225px;"\n                                ng-class="{height421: (submission.type == \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\'),\n                                            height378: (submission.type == \'VIDEO_MISSION_LEARNER_SUBMSSION\'),\n                                            height381: (submission.type == \'VOICE_OVER_PPT_MISSION_LEARNER_SUBMSSION\')}"\n                                    ng-style="{width:(submission.type == \'SCREEN_CAPTURE_MISSION_LEARNER_SUBMSSION\')? \'auto\':\'672px\'}"\n                                 ng-if="miLearner.miObj.learningObject.missionLOType != \'TASK_EVALUATION\'">\n                                 <div class="pos_abs" style="top:0;left:0;height:100%;width:100%;background:#fff;opacity: 0.01;"></div>\n                                <div raplayer-view-partial\n                                     submission="submission"\n                                     assets-base="assetsBase"\n                                     filters="playerFilters"\n                                     downloadlink="submissionDownloadbleLink"\n                                     api="controlApi"\n                                     is-adding-comment-allowed="true"\n                                     comment-container-id="comment-detail-pane-{{submission.submissionId}}"\n                                     pitch-container-id="ra-pitchchart-{{submission.submissionId}}"\n                                     transcription-container-id="transcription-container-id-{{submission.submissionId}}"\n\t\t\t\t\t\t\t\t\t show-subtitles="showSubtitles"\n\t\t\t\t\t\t\t\t\t subtitles-src="transcribableMedia.vttSubtitlePath"\n                                     ng-if="submission.$resolved"\n                                    >\n                                </div>\n                            </div>\n\n                            <div class="pos_rel" style="width:672px;"\n                                 task-eval-mission-view-partial\n                                 ng-if="miLearner.miObj.learningObject.missionLOType == \'TASK_EVALUATION\'">\n                            </div>\n                            <div class="marginT20" ng-attr-id="ra-pitchchart-{{submission.submissionId}}"></div>\n                        </div>\n                       <!--  <div class="cursor"\n                             ng-if="isSubmissionDownloadable && media && miLearner.miObj.learningObject.missionLOType != \'TASK_EVALUATION\'">\n                            <a target="_blank" class="txtDecoration_N floatR marginT10 display_B lineHeight28 marginR40"\n                               href="{{submissionDownloadbleLink}}" ng-click="downloadLogMixPanel()" style="border: 1px solid #0072bc;padding: 0px 10px;border-radius: 3px;">\n                                <div class="floatL downloadIcon_16_16 marginT7 marginR5"></div>\n                                <div class="floatL F13">Download</div>\n                                <div class="clear"></div>\n                            </a>\n                            <div class="clear"></div>\n\t\t\t\t\t\t</div> -->\n\t\t\t\t\t\t</div>\n\t\t\t    \t</div>\n\n            <div class="pos_rel" style="border-top:1px solid transparent;margin-right: 440px;" ng-if="hasSubmissions">\n                <div style="width: 100%;background: #fff;">\n                    <div class="lineHeight40 F13 color0072bc bg_ff textalign_L  cursor " style="margin-top:-11px;width: 672px;z-index: 1;margin: auto;border-top:1px solid #DDDDDD" ng-click="toggleOlderReviews()">{{(showOlderReviews)?"Hide Older Reviews":"View older reviews"}}</div>\n                </div>\n            </div>\n\t\t\t    \t<div class="clear"></div>\n\t\t\t\t\t       <div class="floatR pos_rel" style="width:640px;height:330px;" ng-if="pptLoading && !videoPitch" mt-trans="MSG_LOADING">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t<div>\n\n\n          <!-- <div class="pos_rel marginT30 padddingB20" style="border-top:1px solid transparent;" ng-if="hasSubmissions">\n            <div style="width:100%;height:1px;background:#ddd;z-index: 1;" class="pos_abs"></div>\n            <div class="pos_abs" style="width: 100%;background: #fff;">\n              <div class="lineHeight20 F13 color0072bc bg_ff textalign_C margin0_auto cursor pos_rel" style="margin-top:-11px;width:170px;z-index: 1;" ng-click="toggleOlderReviews()">\n                {{(showOlderReviews)?"Hide Older Reviews":"Show Older Reviews"}}</div>\n            </div>\n          </div> -->\n\n\t\t\t\t<div  class="paddingT10 bg_ff floatL" ng-if="hasSubmissions && showOlderReviews"\n\t\t\t\t\t submissions-view-partial\n\t\t\t\t\t submission-cutoff="miLearner.miObj.settings.certificateScore"\n\t\t\t\t\t submissions-list="submissionsList"\n\t\t\t\t\t eval-param-type="miLearner.miObj.learningObject.evalParamType"\n\t\t\t\t\t evaluation-params="miLearner.miObj.learningObject.evaluationParams"\n\t\t\t\t\t game-id="gameId"\n\t\t\t\t\t playable-id="playableId"\n\t\t\t\t\t user-id="userId",\n\t\t\t\t\t num-added-reviewers="miLearner.miLearner.missionLearner.reviewers.length"\n\t\t\t\t\t style="width: 100%;">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/reviews/reviews_main_layout.html",'<div class="reivewsPageHeight" ng-controller="reviewsGlobalController as rgc">\n    <div ng-hide="rgc.dataModel.isBackbone || !isCoachingEnabled()" class="marginT25 marginB25">\n        <div class="floatL pos_rel" style="left:50%">\n            <div class="floatL pos_rel" style="left:-50%">\n                <div class="floatL normalButton missionsTab lineHeight30 textalign_C"\n                     ng-class="{active:uiState.currentTab==\'MISSION_REVIEWS\'}"\n                     style="width:200px" ui-sref="root.reviews.missions" ng-click="setState(\'MISSION_REVIEWS\')">\n                    <span class="display_IB" mt-trans="LB_TXT_MISSIONS">Missions</span>\n                    <span ng-show="dataModel.tabCounts.RP>0" class="display_IB bgCircle_0072bc marginL5" style="font-weight:normal">{{dataModel.tabCounts.RP}}</span>\n                </div>\n                <div class="floatL normalButton coachingTab lineHeight30 textalign_C"\n                     ng-class="{active:uiState.currentTab==\'COACHING_REVIEWS\'}"\n                     style="width:200px" ui-sref="root.reviews.coaching" ng-click="setState(\'COACHING_REVIEWS\')">\n                    <span class="display_IB" mt-trans="LB_TXT_COACHING">Coaching Sessions</span>\n                    <span ng-show="dataModel.tabCounts.CS>0" class="display_IB bgCircle_0072bc marginL5" style="font-weight:normal">{{dataModel.tabCounts.CS}}</span>\n                </div>\n                <div class="clear"></div>\n            </div>\n        </div>\n        <div class="clear"></div>\n    </div>\n    <div ng-hide="rgc.dataModel.isBackbone" class="paddingL20 paddingR20" ui-view="reviewEntity">\n        <img ng-src="" />\n    </div>\n    <div id="backboneContainer" ng-show="rgc.dataModel.isBackbone" class="bg_ff">{{dataModel.isBackbone}}</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/common/tags-new/tag-filter.html",'<div ng-if="tagResource.resource.$resolved && tagResource.tags.length>0">\n\t<react-select-with-search\n    \t\tclass="floatL marginR20"\n    \t\tis-multi="true"  \n    \t\tbutton-width="\'250px\'"\n    \t\tbutton-label="noneTagLabelReact"\xa0\n       \t\tdefault-value="noneTagLabelReact"\n       \t\tnone-label="noneTagLabelReact"\xa0 \n    \t\tis-button="true" \n    \t\tshow-search="true"\n    \t\tsort-options="false"\n    \t\tshow-options-as-tag="true"\n    \t\ton-change="applyTags"\n    \t\tmenu-portal-target="menuPortal"\n\t\t\tvalue="selectedTags"\n\t\t\tclass-name="\'reactDDClass tagSelectDD\'"\n    \t\tstyles="tagReactStyle"\n    \t\toptions="customTagList"></react-select-with-search>\t\n\t<div class="clear"></div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/content-new/dashboard-content-list-row.html",'<div ng-click="previewContent()" \n\t\tng-class="{viewedContent:content.locked==false ||content.lockState==\'UNLOCKED\',notViewd:content.locked==true ||content.lockState==\'LOCKED\'}" \n\t\tclass="hoverRowNew marginL8 marginR8 pos_rel cursor">\n\t<div ng-class="{\'contentLockedStyle\' : (content.locked==true || content.lockState==\'LOCKED\')}" style="z-index: 1;opacity: 0.5;"></div>\n\t<div class="borderB_E8EAED paddingT10 paddingB10">\n\t\t<div class="floatL" style="width:40%">\n\t\t\t<div class="floatL" style="width:51px">\n\t\t\t\t<div ng-if="!content.locked" \n\t\t\t\t\t ng-click="bookmarkContent()" \n\t\t\t\t\t stop-event \n\t\t\t\t\t ng-class="{\'icon-starOutlineFilled coloreda43e\':content.starred,\n\t\t\t\t\t\t\t\t\'icon-starOutline color95\':!content.starred\n\t\t\t\t\t}" \n\t\t\t\t\t class="noHoverForIpad nowrap floatL F16 paddingT16 paddingL24 paddingR10 tooltip_middle_left"\n\t\t\t\t\t mtitle="{{ content.starred ? \'Unstar this file\' : \'Star this file\'}}">\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="content.locked"\n\t\t\t\t    class="floatL nowrap F16 paddingT17 paddingL24 paddingR10 paddingT5 icon-Lock_icon color95">\n\t\t\t\t</div>\n\t\t\t\t\t \n\t\t\t\t<!--div ng-if="content.locked" \n\t\t\t\t\t\tclass="pos_rel" \n\t\t\t\t\t\tclick-anywhere-but-here="hideTip()">\n\t\t\t\t\t<div ng-click="bookmarkContent();" \n\t\t\t\t\tstop-event ng-class="{\'icon-starMarked colorf5d078\':content.starred,\'icon-star color99\':!content.starred}" \n\t\t\t\t\tclass="floatL F16 paddingT17 paddingL24 paddingR10 paddingT5"></div>\n\t\t\t\t\t<div ng-show="!isTipHidden"style="left: 19px;top: 21px;z-index: 2;" class="cmn_dd pos_abs">\n\t\t\t\t\t    <div style="left: -45px;t;top: 7px;z-index: 2;" class="triangleLeft_28_14 pos_abs"></div>\n\t\t\t\t\t\t<div class="ddBG pos_rel borderR5" style="width:auto">\n\t\t\t\t\t\t\t<div style="padding: 3px 8px;width: 300px;">\t\n\t\t\t\t\t\t\t\t<div class="color56 F12 lineHeight18 lockedContentMsg">{{\'LB_TXTX_CANT_STAR\'|translate}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div-->\n\t\t\t</div>\t\n\t\t\t<div class="floatL">\n\t\t\t\t<div ng-class="contentClassNew" class="pos_rel marginT10 F20">\n\t\t\t\t    <!--div style="top:-8px;right:-4px" class="viewedIcon pos_abs"></div-->\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t\t<div class="marginL100 marginT5 marginR12">\n\t\t\t\t<div class="lineHeight20 marginB3">\n          <div class="tooltip_bottom_left_2" mtitle="{{content.title}}">\n            <div class="color2a2e36 F13 ellipsis">{{content.title}}</div>\n          </div>\n\t\t\t\t\t<div class="color606369 F12 marginT3">{{getContentInfo()}}</div>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div class="tags lineHeight20 color606369 F12" ng-if="content.tagList.length">\n          <div class="floatL icon-tag marginT5"></div>\n          <div class="floatL marginL5" ng-repeat="tag in content.tagList | limitTo:2">{{tag.tagName}}<span ng-if="!$last">,</span></div>\n          <div class="floatL pos_rel" ng-mouseover="showAppliedTags($event);" ng-mouseout="hideAppliedTags($event);" ng-if="content.tagList.length > 2"><span class="marginR5">,</span>+{{content.tagList.length - 2}} more\n            <div class="moreAppliedTags pos_abs border_dd bg_ff boxShadow_cd display_N" style="top:20px;left:10px;padding:2px 5px;max-width:200px;z-index: 1;">\n              <span class="floatL marginR5" ng-repeat="tag in content.tagList.slice(2, content.tagList.length)">{{tag.tagName}}<span ng-if="!$last">,</span></span>\n              <div class="clear"></div>\n            </div>\n          </div>\n          <div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t\t<div class="clear"></div>\t\n\t\t</div>\n\t\t<div class="floatL color606369 F13 lineHeight20 marginT14" style="width:30%">\n\t\t\t<div ng-if="content.entityType==\'COURSE\'" class="floatL cBG_L entity_sml marginT2 borderR2">C</div>\n\t\t\t<div ng-if="content.entityType==\'UPDATE\'" class="floatL qBG_L entity_sml marginT2 borderR2">Q</div>\n\t\t\t<div class="ellipsis marginL24 marginR12">{{content.entity_name}}</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="floatL color606369 F13 lineHeight20 marginT14" style="width:30%">\n            <div class="ellipsis">{{content.seriesName}}</div>\n            <div class="clear"></div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n\t\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/content-new/dashboard-content-list.html",'<div class="contentFile_Div">\n\t<div class="floatL contentPageHeight NDL_sideBar" ng-if="isNotContentSingle()">\n\t\t<div class="borderT8_transparent" style="width:256px">\n\t\t\t<div class="lineHeight28 marginB16"\n\t\t\t\t wt-step="3" wt-group="demo" wt-text="{{ \'WT_M_STARRED_N_ALL\' | translate }}"\n\t\t\t\t wt-title="<div class=\'icon-asset F18 floatL marginR8\'></div><div class=\'floatL F14 marginT4 lineHeight14\'>{{ \'Starred and All Files\' }}</div>"\n\t\t\t\t wt-position="right">\n\t\t\t\t<div class="hoverFiles cursor paddingL16 paddingT4 paddingB4 marginB4" \n\t\t\t\t\t ng-click="dashboardContentsCtrl.setIsStarted(true)"\n\t\t\t\t\t ng-class="{ \'Active\':(dashboardContentsCtrl.isStared==true && !dashboardContentsCtrl.searchQuery)}">\n\t\t\t\t\t<div class="floatL textalign_C" style="width:17px">\n\t\t\t\t\t\t<div class="icon-starOutline F16 marginT5 margin0_auto"></div>\n\t\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t\t<div class="floatL F14 marginL10" mt-trans="LB_TXT_STARRED_FILES">Starred Files</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="hoverFiles cursor paddingL16 paddingT4 paddingB4" \n\t\t\t\t\t ng-click="dashboardContentsCtrl.setIsStarted(false)"\n\t\t\t\t\t ng-class="{ \'Active\':(dashboardContentsCtrl.isStared==false && !dashboardContentsCtrl.searchQuery)}">\n\t\t\t\t\t<div class="floatL textalign_C" style="width:17px">\n\t\t\t\t\t\t<div class="icon-All-Files F16 marginT6 margin0_auto"></div>\n\t\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t\t<div class="floatL F14 marginL10" mt-trans="LB_TXT_ALL_FILES"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\t\n\t\t\t</div>\n\t\t\t<div wt-step="4" wt-group="demo" wt-text="{{ \'WT_M_FILTERS\' | translate }}"\n                wt-title="<div class=\'icon-filter F18 floatL marginR8\'></div><div class=\'floatL F14 marginT4 lineHeight14\'>{{ \'Filters\' }}</div>"\n                wt-position="right">\n\t\t\t\t<div class="lineHeight20 marginB20 marginL16 marginR16" ng-class="{\'color737d8a\':!isNewDesignLanguage()}">\n\t\t\t\t\t<div class="F14 lineHeight20 marginB20" mt-trans="LB_TXT_FILTERS" ng-class="{\'colorccd0e9\':!isNewDesignLanguage()}">Filters</div>\n\t\t\t\t\t<div class="pos_rel dropdown">\n\t\t\t\t\t\t<div class="F11 lineHeight16 marginB8" mt-trans="LB_TXT_CAP_SERIES" ng-class="{\'colorccd0e9\':!isNewDesignLanguage()}">SERIES</div>\n\t\t\t\t\t\t<react-select-with-search\n\t\t\t        \t\tbutton-max-width="\'220px\'"\xa0\n\t\t\t        \t\tbutton-min-width="\'220px\'" \n\t\t\t        \t\tis-button="false" \n\t\t\t        \t\tvalue="selectedSeriesFilter()"\xa0\n\t\t\t        \t\tshow-search="true"\n\t\t\t        \t\ton-change="dashboardContentsCtrl.updateContentSeriesFilter"\n\t\t\t        \t\tplaceholder="labelSeriesFilter"\n\t\t\t        \t\tnone-label="labelSeriesFilter"\n\t\t\t        \t\tclass-name="\'reactDarkDDClass\'"\n\t\t\t        \t\tclass="reactDarkDDClass"\n\t\t\t        \t\thas-none="true"\n\t\t\t        \t\tsort-options="false"\n\t\t\t\t\t\t\toptions="customSeriesList"></react-select-with-search>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="pos_rel dropdown marginT20">\n\t\t\t\t\t\t<div class="F11 lineHeight16 marginB8" ng-class="{\'colorccd0e9\':!isNewDesignLanguage()}" mt-trans="LB_TXT_CAP_MODULES">MODULE</div>\n\t\t\t\t\t\t<react-select-with-search\n\t\t\t        \t\tbutton-max-width="\'220px\'"\xa0\n\t\t\t        \t\tbutton-min-width="\'220px\'" \n\t\t\t        \t\tis-button="false" \n\t\t\t        \t\tvalue="selectedModuleFilter()"\xa0\n\t\t\t        \t\tshow-search="true"\n\t\t\t        \t\ton-change="dashboardContentsCtrl.updateContentModuleFilter"\n\t\t\t\t\t\t\tplaceholder="labelModuleFilter"\n\t\t\t        \t\tclass-name="\'reactDarkDDClass\'"\n\t\t\t        \t\tclass="reactDarkDDClass"\n\t\t\t        \t\thas-none="true"\n\t\t\t        \t\tsort-options="false"\n\t\t\t        \t\tnone-label="labelModuleFilter"\n\t\t\t        \t\toptions="dashboardContentsCtrl.moduleList"></react-select-with-search>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t\t<div class="lineHeight20 marginB8 marginL16 marginR16" ng-class="{\'color737d8a\':!isNewDesignLanguage()}">\n\t\t\t\t\t<div class="F11 marginB12" mt-trans="DASHBOARD_CONTENT_FILE_TYPE">FILE TYPE</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class="floatL videoUnselected1 cursor marginB12 marginR12 tooltip_top_left"\n\t\t\t\t\t\t\t mtitle="{{filteTypeFilters.videos}}"\n\t\t\t\t\t\t\t ng-class="{\'videoSelected\':dashboardContentsCtrl.isInCurrentFilter(\'VIDEO\')}" \n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'VIDEO\')"></div>\n\t\t\t\t\t\t<div class="floatL pdfUnselected1 cursor marginB12 marginR12 tooltip_top_left"\n\t\t\t\t\t\tmtitle="{{filteTypeFilters.pdfs}}"\n\t\t\t\t\t\t\t ng-class="{\'pdfSelected\':dashboardContentsCtrl.isInCurrentFilter(\'DOCUMENT_PDF\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'DOCUMENT_PDF\')"></div>\n\t\t\t\t\t\t<div class="floatL pptUnselected1 cursor marginB12 marginR12 tooltip_top_left"\n\t\t\t\t\t\tmtitle="{{filteTypeFilters.ppts}}"\n\t\t\t\t\t\t\t ng-class="{\'pptSelected\':dashboardContentsCtrl.isInCurrentFilter(\'DOCUMENT_PPT\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'DOCUMENT_PPT\')"></div>\n\t\t\t\t\t\t<div class="floatL docUnselected1 cursor marginB12 marginR12 tooltip_top_left"\n\t\t\t\t\t\tmtitle="{{filteTypeFilters.docs}}"\n\t\t\t\t\t\t\t ng-class="{\'docSelected\':dashboardContentsCtrl.isInCurrentFilter(\'DOCUMENT_WORD\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'DOCUMENT_WORD\')"></div>\n\t\t\t\t\t\t<div class="floatL sheetUnselected1 cursor marginB12 marginR12 tooltip_top_left"\n\t\t\t\t\t\tmtitle="{{filteTypeFilters.sheets}}"\n\t\t\t\t\t\t\t ng-class="{\'sheetSelected\':dashboardContentsCtrl.isInCurrentFilter(\'DOCUMENT_XLS\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'DOCUMENT_XLS\')"></div>\n\t\t\t\t\t\t<div class="floatL imageUnselected1 cursor marginB12 marginR12 tooltip_top_left"\n\t\t\t\t\t\tmtitle="{{filteTypeFilters.images}}"\t \n\t\t\t\t\t\tng-class="{\'imageSelected\':dashboardContentsCtrl.isInCurrentFilter(\'IMAGE\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'IMAGE\')"></div>\n\t\t\t\t\t\t<div class="floatL linkUnselected1 cursor marginB12 marginR12 cursor tooltip_top_left"\n\t\t\t\t\t\tmtitle="{{filteTypeFilters.embed}}"\n\t\t\t\t\t\t\t ng-class="{\'linkSelected\':dashboardContentsCtrl.isInCurrentFilter(\'EMBED\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'EMBED\')"></div>\n\t\t\t\t\t\t<div class="floatL audioUnselected1 cursor marginB12 marginR12 tooltip_top_left"\n\t\t\t\t\t\tmtitle="{{filteTypeFilters.audio}}"\n\t\t\t\t\t\t\t ng-class="{\'audioSelected\':dashboardContentsCtrl.isInCurrentFilter(\'AUDIO\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'AUDIO\')"></div>\n\t\t\t\t\t\t<div class="floatL textUnselected1 cursor marginB12 marginR12 tooltip_top_left"\n\t\t\t\t\t\tmtitle="{{filteTypeFilters.note}}"\n\t\t\t\t\t\t\t ng-class="{\'textSelected\':dashboardContentsCtrl.isInCurrentFilter(\'NOTE\')}"\n\t\t\t\t\t\t\t ng-click="dashboardContentsCtrl.setContentType(\'NOTE\')"></div> \n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="taggingEnabled" class="lineHeight20 marginB30 marginL16" ng-class="{\'color737d8a\':!isNewDesignLanguage()}">\n\t\t\t\t\t<div class="F11 marginB10" ng-class="{\'colorccd0e9\':!isNewDesignLanguage()}" mt-trans="TAGS"></div>\n\t\t\t\t\t<react-select-with-search\n\t\t\t\t    \t\tis-multi="true"  \n\t\t\t\t    \t\tbutton-max-width="\'224px\'"\xa0\n\t\t\t        \t\tbutton-min-width="\'224px\'"\n\t\t\t\t    \t\tbutton-label="labelTagsFilter"\xa0\n\t\t\t\t       \t\tdefault-value="labelTagsFilter"\n\t\t\t\t       \t\tnone-label="labelTagsFilter"\xa0 \n\t\t\t\t       \t\thas-none="false"\n\t\t\t\t    \t\tis-button="false" \n\t\t\t\t    \t\tshow-search="true"\n\t\t\t\t    \t\tsort-options="false"\n\t\t\t\t    \t\tshow-options-as-tag="true"\n\t\t\t\t    \t\ton-change="applyTags"\n\t\t\t\t    \t\tplaceholder="labelTagsFilter"\n\t\t\t\t    \t\tmenu-portal-target="menuPortal"\n\t\t\t\t\t\t\tvalue="currentlyAppliedTagList"\n\t\t\t\t\t\t\tclass-name="\'reactDarkDDClass tagSelectDD\'"\n\t\t\t\t    \t\tstyles="tagDropdownStyles"\n\t\t\t\t    \t\tclass="reactDarkDDClass"\n\t\t\t\t    \t\toptions="reactTagList"></react-select-with-search>\t\n\t\t\t\t\t<!--react-select-with-search\n\t\t\t        \t\tbutton-max-width="\'224px\'"\xa0\n\t\t\t        \t\tbutton-min-width="\'224px\'"\n\t\t\t        \t\tis-multi="true"  \n\t\t\t        \t\tis-button="false" \n\t\t\t        \t\tvalue="getCurrentlyAppliedTagList()"\xa0\n\t\t\t        \t\tshow-search="true"\n\t\t\t        \t\ton-change="applyTags"\n\t\t\t        \t\tplaceholder="labelModuleFilter"\n\t\t\t        \t\tcomponent-class-name="reactDarkDDClass"\n\t\t\t        \t\tclass="reactDarkDDClass"\n\t\t\t        \t\thas-none="false"\n\t\t\t        \t\tsort-options="false"\n\t\t\t        \t\tmenu-portal-target="menuPortal"\n\t\t\t        \t\tshow-options-as-tag="true"\n\t\t\t        \t\tclass-name="\'reactDarkDDClass tagSelectDD\'"\n\t\t\t        \t\tstyles="tagDropdownStyles"\n\t\t\t        \t\toptions="reactTagList"></react-select-with-search-->\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\t\n\t<div style="margin-left:270px;">\n\t\t<div style="padding: 24px;">\n\t\t\t<div \n\t\t\t\twt-step="2"\n\t\t\t\twt-group="demo"\n\t\t\t\twt-text="{{ \'WT_M_FILE_LIST\' | translate }}"\n\t\t\t\twt-title="<div class=\'icon-asset F18 floatL marginR8\'></div><div class=\'floatL F14 marginT4 lineHeight14\'>{{ \'File List\' }}</div>"\n\t\t\t\twt-position="left"\n\t\t\t\tstyle="height: calc(100vh - 108px); overflow: auto;"\n\t\t\t\tclass="contentPageHeight1 scrollContainer bg_ff borderR4 pos_rel boxShadow_Div_noHover">\n\t\t\t\t<div class="pos_rel">\n\t\t\t\t\t<div class="pos_abs" style="left: 85px;top: 15px;">\n\t\t\t\t\t\t<div class="pos_abs autocomplete-results" style="left: 5px; top: 12px; z-index: 100;" ng-if="!resultFound && clickInPreviewDD && showDropDown && dashboardContentsCtrl.searchquery.length >= 3 && dashboardContentsCtrl.suggestions.length == 0 && !dashboardContentsCtrl.initialContentLoading">\n\t\t\t\t\t\t\t<div style="width:348px;left:0;top:0px;box-shadow:0px 1px 0px #dadada;" class="ddBG1 pos_abs">\n\t\t\t\t\t\t\t\t<div class="F13 lineHeight30 color99 i" style="border-bottom:1px solid #ccc;padding:0px 20px">Press Enter to see all results for "{{dashboardContentsCtrl.searchquery}}"</div>\n\t\t\t\t\t\t\t\t<ul class="lineHeight45 listHolder" style="margin:0;padding:0;max-height:240px;overflow-y:auto">\n\t\t\t\t\t\t\t\t\t<li class="hover_f7 lineHeight20 color00 F13  checkbox_parent cursor selected" style="padding: 10px 15px; ">\n\t\t\t\t\t\t\t\t\t\tNo Result found\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="pos_abs autocomplete-results" ng-if="showPreviewDD()" style="left: 5px; top: 12px; z-index: 100;">\n\t\t\t\t\t\t\t<div style="width:348px;left:0;top:0px;box-shadow:0px 1px 0px #dadada;" class="ddBG1 pos_abs">\n\t\t\t\t\t\t\t\t<div class="F13 lineHeight30 color99 i" style="border-bottom:1px solid #ccc;padding:0px 20px"><span translate="PRESS_ENTER_TO"></span> <span translate="SEE_ALL_RES"></span>"{{dashboardContentsCtrl.searchquery}}"</div>\n\t\t\t\t\t\t\t\t<ul class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content ui-corner-all" id="contentSearch" tabindex="0" style="top: 14px; left: 0px; z-index: 1; width: 347px !important;padding:0px;border-bottom: 0px;">\n\t\t\t\t\t\t\t\t\t<li ui-sref=".participant({uid:suggested.id})" ng-repeat="suggested in dashboardContentsCtrl.suggestions" class="hover_f7 lineHeight20 F13 borderB_ee checkbox_parent cursor selected" style="padding: 10px;" ng-click="previewSuggestedContent(suggested)">\n\t\t\t\t\t\t\t\t\t\t<div ng-class="getContentClass(suggested.type)" class="floatL pos_rel marginR10">\n\t\t\t\t\t\t\t\t\t\t\t<div style="top:-8px;right:-4px" class="viewedIcon pos_abs"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatL F13 lineHeight20 marinR10" style="width: 235px;">\n\t\t\t\t\t\t\t\t\t\t\t<div class="color00 marginB2 ng-binding" style="text-overflow: ellipsis;overflow: hidden;white-space: nowrap;">{{suggested.title}}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="color99" style="text-overflow: ellipsis;overflow: hidden;white-space: nowrap;">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="ng-binding">{{suggested.entity_name}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="ng-binding">, {{getNiceDate(suggested.added_on)}}</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ofh lineHeight30" style="padding: 24px 32px 20px">\n\t\t\t\t\t\t<!--div class="floatL F20 marginR10" ng-class="{\'icon-star color00 marginT5\':dashboardContentsCtrl.isStared,\'icon-allFiles marginT4\':!dashboardContentsCtrl.isStared}"></div-->\n\t\t\t\t\t\t<div class="floatL F20 color2a2e36 lineHeight30 semiBold" data-ng-bind-html="dashboardContentsCtrl.currentContentsTitle"></div>\n\t\t\t\t\t\t<div class="floatL F13 color4D7CC7 cursor marginL30"\n\t\t\t\t\t\t\tng-if="dashboardContentsCtrl.searchQuery.length > 0"\n\t\t\t\t\t\t\tng-click="clearGlobalSearch()">Clear Search</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="llineHeight20 borderB_dd paddingB8 paddingL8 paddingR8 ofh color606369 F12"> \n\t\t\t\t\t\t<div class="floatL" style="width: 40%;">\n\t\t\t\t\t\t\t<span class="marginL24" mt-trans="LB_TXT_NAME">Name</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="floatL" style="width: 30%;">\n\t\t\t\t\t\t\t<span mt-trans="TXT_MODULE">Module</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="floatL" style="width: 30%;">\n\t\t\t\t\t\t\t<span mt-trans="DASHBOARD_PROFILE_SERIES">Series</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- <div ng-show="dashboardContentsCtrl.initialContentLoading" class="paddingT50 pos_abs textalign_C width100 ">\n\t\t\t\t\t<img ng-src="{{smallLoader}}"/>\n\t\t\t\t</div> -->\n\t\t\t\t<div class="wh-211"\n\t\t\t\t\tinfinite-scroll="dashboardContentsCtrl.loadNextPageContents()"\n\t\t\t\t\tinfinite-scroll-container="\'.scrollContainer\'"\n\t\t\t\t\tinfinite-scroll-immediate-check="false"\n\t\t\t\t\tinfinite-scroll-use-document-bottom="false"\n\t\t\t\t\tinfinite-scroll-distance="10"\n\t\t\t\t\tinfinite-scroll-disabled="dashboardContentsCtrl.moreContentsLoading ||\n\t\t\t\t\t\tdashboardContentsCtrl.initialCoursesLoading ||\n\t\t\t\t\t\tdashboardContentsCtrl.currentContents.length >= dashboardContentsCtrl.totalContents"\n\t\t\t\t\tstyle="min-height: 400px; position: relative;">\n\t\t\t\t\t<div dashboard-content-list-row ng-repeat="content in dashboardContentsCtrl.currentContents" content="content"></div>\n\t\t\t\t\t<div ng-click="dashboardContentsCtrl.loadNextPageContents()" \n\t\t\t\t\t\tng-show="dashboardContentsCtrl.moreContentsLoading==false && dashboardContentsCtrl.totalContents>0 && dashboardContentsCtrl.currentContents.length<dashboardContentsCtrl.totalContents && !dashboardContentsCtrl.initialContentLoading" \n\t\t\t\t\t\tstyle="text-align:center" class="paddingT20 paddingB20 cursor color0072bc" mt-trans="LB_TXT_LOAD_MORE"></div>\n\n\t\t\t\t\t<mt-loader ng-if="dashboardContentsCtrl.initialContentLoading" type="full" size="sizeBig"></mt-loader>\n\t\t\t\t\t<mt-loader ng-if="dashboardContentsCtrl.moreContentsLoading && !dashboardContentsCtrl.initialContentLoading" type="small" size="sizeSmall"></mt-loader>\n\t\t\t\t\t<!-- <div ng-show="dashboardContentsCtrl.moreContentsLoading && !dashboardContentsCtrl.initialContentLoading" style="text-align:center;" class="paddingT20 paddingB20">\n\t\t\t\t\t\t<img ng-src="{{smallLoader}}"/>\n\t\t\t\t\t</div> -->\n\t\t\t\t\t<!--  Empty States Below -->\n\n\t\t\t\t\t<empty-state ng-if="dashboardContentsCtrl.totalContents==0 && !dashboardContentsCtrl.isStared && !dashboardContentsCtrl.searchQuery && !dashboardContentsCtrl.isAnyFilterApplied() && !dashboardContentsCtrl.initialContentLoading"\n\t\t\t\t\t        img-src="images/assets.svg" \n\t\t\t\t\t\t\t\t\tmessage-title="NO_FILES_TO_VIEW" suggestion-content="ASSIGNED_FILE_WILL_BE_SHOWN_HERE"></empty-state> \n\t\t\t\t\t<!-- <div ng-if="dashboardContentsCtrl.totalContents==0 && !dashboardContentsCtrl.isStared && !dashboardContentsCtrl.searchQuery && !dashboardContentsCtrl.isAnyFilterApplied() && !dashboardContentsCtrl.initialContentLoading" class="textalign_C color88" style="margin-top:100px">\n\t\t\t\t\t\t<div class="noEmptyImg" style="margin:0 auto 20px"></div>\n\t\t\t\t\t\t<div class="F18 lineHeight30 marginT5" translate="NO_FILES_TO_VIEW"></div>\n\t\t\t\t\t\t<div class="F13 lineHeight20" translate="ASSIGNED_FILE_WILL_BE_SHOWN_HERE"></div>\n\t\t\t\t\t</div> -->\n\n\t\t\t\t\t<empty-state ng-if="dashboardContentsCtrl.totalContents==0 && dashboardContentsCtrl.searchQuery && !dashboardContentsCtrl.initialContentLoading"\n\t\t\t\t\t\t\t\t\timg-src="images/noSearchResults.svg" \n\t\t\t\t\t\t\t\t\tmessage-title="NO_RESULT_FOUND" suggestion-content="TRY_ADJUSTING_YOUR_SEARCH"></empty-state>\n\t\t\t\t\t\n\t\t\t\t\t<!-- <div ng-if="dashboardContentsCtrl.totalContents==0 && dashboardContentsCtrl.searchQuery && !dashboardContentsCtrl.initialContentLoading" class="textalign_C color88" style="margin-top:100px">\n\t\t\t\t\t\t<div class="noSearchResultImg" style="margin:0 auto 20px"></div>\n\t\t\t\t\t\t<div class="F18 lineHeight30 marginT5" translate="NO_RESULT_FOUND"></div>\n\t\t\t\t\t\t<div class="F13 lineHeight20" translate="TRY_ADJUSTING_YOUR_SEARCH"></div>\n\t\t\t\t\t</div> -->\n\n\t\t\t\t\t<div ng-if="dashboardContentsCtrl.totalContents==0 && dashboardContentsCtrl.isAnyFilterApplied() && !dashboardContentsCtrl.searchQuery && !dashboardContentsCtrl.initialContentLoading" class="textalign_C">\n\t\t\t\t\t    <empty-state\n\t\t\t\t\t\t\t\t\timg-src="images/noSearchResults.svg" \n\t\t\t\t\t\t\t\t\tmessage-title="FILTERS_HAVE_LEAD_YOU_NOWHERE"></empty-state>\n\t\t\t\t\t\t\t<div class="color989CA6 F14 lineHeight20 marginT8" style="padding: 0 0 100px 0;">\n\t\t\t\t\t\t\t\t<span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n\t\t\t\t\t\t\t\t<span class="cursor color0072bc" translate="RESET_FILTERS" ng-click="dashboardContentsCtrl.resetFilters()"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t  </div>\n\t\t\t\t\t\n\t\t\t\t\t<!-- <div ng-if="dashboardContentsCtrl.totalContents==0 && dashboardContentsCtrl.isAnyFilterApplied() && !dashboardContentsCtrl.searchQuery && !dashboardContentsCtrl.initialContentLoading" class="textalign_C color88" style="margin-top:100px">\n\t\t\t\t\t\t<div class="noTagsDirectionImg" style="margin:0 auto 20px"></div>\n\t\t\t\t\t\t<div class="F18 lineHeight30 marginT5" translate="FILTERS_HAVE_LEAD_YOU_NOWHERE"></div>\n\t\t\t\t\t\t<div class="color88 F13 lineHeight18">\n\t\t\t\t\t\t\t<span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n\t\t\t\t\t\t\t<span class="cursor color0072bc" translate="RESET_FILTERS" ng-click="dashboardContentsCtrl.resetFilters()"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div> -->\n\n\t\t\t\t\t<div ng-if="dashboardContentsCtrl.totalContents==0 && dashboardContentsCtrl.isStared && !dashboardContentsCtrl.isAnyFilterApplied() && !dashboardContentsCtrl.initialContentLoading" class="textalign_C">\n\t\t\t\t\t\t<empty-state\n\t\t\t\t\t\t\t\timg-src="images/starredFiles.svg" \n\t\t\t\t\t\t\t\tmessage-title="YOU_HAVENOT_STARRED_ANY_FILES"></empty-state>\n\t\t\t\t\t\t<div class="color989CA6 F14 lineHeight20 marginT8" style="padding: 0 0 100px 0;">\n\t\t\t\t\t\t\t<span translate="HOW_ABOUT_FINDING_SOME_USEFUL_FILES"></span>\n\t\t\t\t\t\t\t<span class="color0072bc cursor" ui-sref="root.contents({\'starred\':false})" translate="LB_SOME_FILES_TO_STAR"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t  </div>\n\n\t\t\t\t\t<!-- <div ng-if="dashboardContentsCtrl.totalContents==0 && dashboardContentsCtrl.isStared && !dashboardContentsCtrl.isAnyFilterApplied() && !dashboardContentsCtrl.initialContentLoading" class="textalign_C color88" style="margin-top:100px">\n\t\t\t\t\t\t<div class="noStarredImg" style="margin:0 auto 20px"></div>\n\t\t\t\t\t\t<div class="F18 lineHeight30 marginT5" translate="YOU_HAVENOT_STARRED_ANY_FILES"></div>\n\t\t\t\t\t\t<div class="F13 lineHeight20">\n\t\t\t\t\t\t\t<span translate="HOW_ABOUT_FINDING_SOME_USEFUL_FILES"></span>\n\t\t\t\t\t\t\t<span class="color0072bc cursor" ui-sref="root.contents({\'starred\':false})" translate="LB_TXT_ALL_FILES"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div> -->\n\t\t\t\t\t<!--  End Empty States Above -->\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="clear"></div>\n\t<div ui-view class="display_N">dummy</div><!-- This is view single content from content files DO NOT REMOVE -->\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/header-new/dashboard.html",'<div walkthrough wt-start="startWalkthrough"\n     wt-next="goNextStepWalkThrough"\n     wt-prev="goPrevStepWalkThrough"\n     wt-cancel="cancelWalkthrough"\n     wt-active="walkThroughActive">\n    <div class="bg_ff borderB_e8eaed lineHeight32" \n        style="padding:12px 15px;box-shadow:0 0px 2px #eaeaea;width:100%;position:fixed;z-index:1;">\n        <div class="floatL pos_rel">\n            <div ng-click="globalCtrl.gotoHome(\'home_icon\')" ng-if="showLSHomeImg()" class="floatL marginR13 cursor">\n                <img ng-src="{{getLSHomeImg()}}" style="width:auto;max-height:29px"/>\n            </div>\n            <div ng-click="globalCtrl.gotoHome(\'site_name\')" class="floatL color00 F16 lsName cursor fs-hide tooltip_bottom_left" mtitle={{lsDisplayName}} style="max-width:320px;font-weight:600">\n                <div class="ellipsis">{{lsDisplayName}}</div>\n            </div>\n            <div ng-hide="hideTopSearchBox()" \n            \t class="floatL displayInflex pos_rel border_dd borderR4 marginL24"\n            \t style="border: 1px solid #aaa;padding:5px 10px">\n                <div style="left: 8px;top: 8px;" class="icon-search pos_abs color99 F15"></div>                \n                <div ng-if="searchTagOnly && !clickInPreviewDD && (searchQuery || \'\').trim()" class="lineHeight20 pos_abs bg_ff marginL20" style="width:270px;top:7px;cursor:text;" \n                ng-click="hideText()">\n                Content with {{searchQuery}}... Tags\n              </div> \n                <input type="text"\n                       id="search_input"\n                       maxlength="100"\n                       click-anywhere-but-here="onClickOut()"\n                       ng-click="onClickIn()"\n                       ng-keypress="($event.which === 13)?triggerSearch(\'via_enter\', searchQuery):globalCtrl.keyup()"\n                       ng-keydown="handleKeyDown($event)"\n                       placeholder="{{globalCtrl.getSearchPlaceHolderText()}}"\n                       autocomplete="off"\n                       ng-model="searchQuery",\n                       ng-focus="currentKBActiveItem=-1"\n                       class="lineHeight22 F13 global-search-input" style="width: 250px;height: 20px;border: 0px;padding: 0px 10px 0 20px;outline: 0px;color:#000;background: none;">                \n                <div style="right:5px; top: 12px;" class="icon-Close pos_abs F10 color99 cursor"\n                     ng-if="searchQuery && searchQuery.length > 0" ng-click="clearSearch($event);"></div>\n                <global-search-suggestions ng-if="globalCtrl.dashboardSearchType==\'GLOBAL\'"></global-search-suggestions>     \n                <div ng-if="globalCtrl.dashboardSearchType!=\'GLOBAL\' && showPreviewDD()" class="pos_abs autocomplete-results"\n                     style="left: -1px; top: 35px; z-index: 100;">\n                    <div style="width:322px;left:0;top:0px;box-shadow:0px 1px 0px #dadada;" class="ddBG1 pos_abs">\n                        <div class="F13 lineHeight30 color99 i" style="border-bottom:1px solid #ccc;padding:0px 20px">\n                            <span translate="PRESS_ENTER_TO"></span> <span translate="SEE_ALL_RES"></span>"{{searchQuery}}"\n                        </div>\n                        <ul class="lineHeight45 listHolder" style="margin:0;padding:0;max-height:240px;overflow-y:auto">\n                            <li class="hover_f7 lineHeight20 color00 F13  checkbox_parent cursor selected"\n                                ng-repeat="suggested in suggestions" style="padding: 5px 10px;" ng-click="openEntity(suggested)">\n                                <div>\n                                    <div ng-class="getIconClassForItem(suggested).tag"\n                                         class="floatL marginT2 marginR10"\n                                         style="width: 16px;height: 16px;font-size: 10px;line-height: 16px;">\n                                        {{getIconClassForItem(suggested).type}}\n                                    </div>\n                                    <div class="floatL"\n                                         style="width: 248px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"\n                                         ng-if="suggested.name">\n                                        {{suggested.name}}\n                                    </div>\n                                    <div class="floatL"\n                                         style="width: 248px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"\n                                         ng-if="suggested.title">\n                                        {{suggested.title}}\n                                    </div>\n                                    <div class="floatR marginT2 marginR10 lockCIcon"\n                                         ng-show="suggested.type != \'SERIES\' && suggested.lockState == \'LOCKED\'">&nbsp;\n                                    </div>\n                                    <div class="clear"></div>\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="clear"></div>\n                \n                <div style="left: 350px;top: -1px;z-index: 2;" class="cmn_dd pos_abs" ng-if="hasNotSeenNewSearch()">\n\t\t\t        <div style="left: -13px;top: 5px;z-index: 2;" class="triangleLeft_28_14 pos_abs"></div>\n\t\t\t        <div class="ddBG pos_rel borderR2 newBoxShadow" style="width:auto;padding: 8px 20px 8px 10px;">\n\t\t\t            <div class="lineHeight22 textalign_L" style="width: 230px;">\n\t\t\t                <div style="right: 0px;top: 0px;padding: 8px 8px 5px 5px;" class="icon-Close pos_abs F10 color99 cursor " ng-click="setSeenNewSearch()"></div>\n\t\t\t\t\t\t\t<div class="color00 F13">Introducing Improved Search</div>\n\t\t\t\t\t\t\t<div class="color99 F12 lineHeight18 marginT5">Go ahead and find Series, Modules, Files and Peers from one place.</div>\n\t\t\t\t\t\t\t<div class="F12 marginT8">\n\t\t\t\t\t\t\t\t<a class="color0072bc txtDecoration_N" target="_blank" href="https://help.mindtickle.com/support/solutions/articles/3000069673-global-search-walkthrough" ng-click="setSeenNewSearch()">To know more, click here.</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t            </div>\n\t\t\t        </div>\n\t\t\t    </div>\n                \n            </div>\n            <div class="clear"></div>\n        </div>\n        <div class="floatR">\n\t\t\t<div ng-if="showAnalyticsLink" class="floatL lineHeight28 F13 marginT3 cursor buttonLearningSiteStyle marginR10" style="\n            border-radius: 16px;color: #0072bc;border: 1px solid rgb(0, 114, 188);padding: 0 10px;">\n       \t\t\t<a href="{{showAnalyticsLink}}" target="_blank" style="color: #0072bc;">\n\t\t\t   \t\t<div class="floatL cursor" mt-trans="TXT_SRI_DASHBOARD">SRI Dashboard</div>\n\t\t\t   \t\t<div class="clear"></div>\n\t\t\t   </a>\n        \t</div>\n            <react-button size="small" class="floatL" ng-if="userIsManager" ng-click="goToManagerAnalytics()" children="globalCtrl.getTeamReportTxt"></react-button>\n            <div class="floatL cursor marginT8 marginL20 pos_rel" click-anywhere-but-here="globalCtrl.hideHelpMenu()">\n            \t<div ng-click="globalCtrl.toggleHelpDropDown()" class="textalign_C icon-help hoverBlue_NDL F20 color99 cursor" style="border: none;"></div>\n            \t<div ng-show="showHelpMenu==1" class=" bg_ff pos_abs" style="left: -140px;top: 30px;border: 0px;width: 180px;z-index:11">\n            \t\t<ul class="boxShadow_Div_noHover" style="margin:0;padding:8px 0;border-radius: 4px;">\n            \t\t\t<li class="NLD_liHover color989ca6" style="padding: 0 12px;" ng-click="globalCtrl.openHelpDesk();globalCtrl.hideHelpMenu()" mt-trans="LB_TXT_SEARCH_HELP_SITE">Search the Help Site</li>\n            \t\t\t<li class="NLD_liHover color989ca6" style="padding: 0 12px;" ng-click="globalCtrl.showGetSupport()" mt-trans="LB_TXT_REPORT_AN_ISSUE">Report an Issue</li>\n            \t\t</ul>\n            \t</div>\n            </div>\n            <div ng-controller="NotficationsCtrl as notifCtrl" class="floatL pos_rel marginL20">\n                <div class="floatL">\n                    <div class="floatL menuItem" click-anywhere-but-here="globalCtrl.hideNotifications()"\n                         ng-click="globalCtrl.toggleNotifications(store.numUnseenNotifs);notifCtrl.markAllNotifsSeen();globalCtrl.hideHelpMenu()">\n                        <div class="icon-notificationNew hoverBlue_NDL F18 color99 cursor marginT9 notificationIcon_Section pos_rel"\n                            ng-class="{ active:activeMenu==2}">\n                            <div ng-show="store.numUnseenNotifs>0"\n                                class="ff_opanSans pos_abs bg_ff6266 textalign_C colorff F12 lineHeight18 borderR9"\n                                style="height:18px;min-width:18px;top: -8px;left: 13px;">\n                                    {{store.numUnseenNotifs}}\n                            </div>\n                            <div ng-click="$event.stopPropagation()" notif-drop-down></div>\n                        </div>\n                    </div>\n                    <div class="floatL menuItem marginL20 " click-anywhere-but-here="globalCtrl.hideMessages()"\n                         ng-click="globalCtrl.toggleMessages(); notifCtrl.markAllMessagesRead();globalCtrl.hideHelpMenu()">\n                        <div class="icon-mail hoverBlue_NDL F17 color88 cursor marginT9 messageIcon_Section pos_rel"\n                             ng-class="{ active:activeMenu==1}">\n                            <div ng-show="notifCtrl.numUnreadMessages>0"\n                                 class="ff_opanSans pos_abs bg_ff6266 textalign_C colorff F12 lineHeight18 borderR9"\n                                 style="height:18px;min-width:18px;top: -8px;left: 15px;">{{notifCtrl.numUnreadMessages}}</div>\n                            <div class="ff_opanSans cmn_dd pos_rel" style="right:0px;top:12px;z-index:11" ng-show="activeMenu==1">\n                                <!--  div class="triangleTop_28_14 pos_abs" style="right:-5px;top:-2px;z-index:1;"></div-->\n                                <div style="width:398px;max-height:295px;overflow-y:auto;right: 0px;top: 11px;" class="ddBG pos_abs borderR4 custRow boxShadow_Div_noHover">\n                                    <ul style="margin:0;padding:0;">\n                                        <li class="noHover" \n                                            style="padding-top:5px !important;padding-bottom:0px !important;cursor: auto">\n                                            <div class="F11 color989ca6 paddingL14 paddingR14" translate="MESSAGES"\n                                                 translate-value-num_1="{{notifCtrl.numUnreadMessages}}"></div>\n                                        </li>\n                                        <li ng-show="notifCtrl.totalMessages==0"\n                                            class="noHover color989ca6 F12">\n                                            <div style="padding: 2px 14px;cursor: auto" mt-trans="NO_MESSAGES" mt-trans-evt="showPopop()" mt-trans-val-num="0">\n                                            </div>\n                                        </li>\n                                        <div private-message ng-repeat="message in notifCtrl.currentMessages"></div>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="clear"></div>\n                </div>\n                <div class="clear"></div>\n            </div>\n\n            <div class="floatL ddParent marginL20 cursor NDL_Profile" click-anywhere-but-here="globalCtrl.hideProfileDD()">\n\n                <div ng-show="{{globalCtrl.pic==\'\'}}"\n                     click-anywhere-but-here="globalCtrl.hideProfileDD()"\n                     ng-click="globalCtrl.toggleProfileDD();globalCtrl.hideHelpMenu()"\n                     class="icon-defaultprofile F32 color99  cursor marginT1 marginB1"></div>\n                <img ng-show="{{globalCtrl.pic!=\'\'}}"\n                     ng-click="globalCtrl.toggleProfileDD()"\n                     ng-src="{{globalCtrl.pic}}" alt="" style="width:32px;height:32px;border-radius:50%;display:block;box-sizing: content-box" class="fs-hide hoverBorder"/>\n                <div class="commonDD cursor pos_rel">\n                    <div click-anywhere-but-here="globalCtrl.kscoreChanged=false"\n                         class="ddDiv pos_rel" style="right:-52px;top:7px;z-index:12" ng-show="globalCtrl.kscoreChanged">\n                        <div style="width:235px;right:20px;top:11px;padding:10px 15px;z-index:12" class="ddBG1 pos_abs newBoxShadow">\n                            <div class="lineHeight20 F13 color00"  translate="KSCORE_WENT_UP"\n                                 translate-value-a="{{globalCtrl.kscoreUpBy}}" translate-value-b="{{globalCtrl.kscoreUpBy*100}}"></div>\n                        </div>\n                    </div>\n                    <div class="ddDiv pos_rel" style="z-index:11" ng-show="showProfileDD==1">\n                        <div style="width:190px;right:20px;top:15px;" class="bg_ff borderR4 border_dd pos_abs F14 color989ca6 boxShadow_Div_noHover">\n                            <ul style="margin:0;padding:8px 0;" class="headerProfileDD111">\n                                <li class="NLD_liHover" style="padding:0 12px" ng-click="globalCtrl.openParticipants(globalCtrl.getMyId())" translate="MY_PROFILE"></li>\n                                <li class="NLD_liHover" style="padding:0 12px" class="restartTutorial" ng-click="expandTutorialClick()">\n                                \t<div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatL" translate="VIEW_TUTORIALS">View Tutorial</div>\n\t\t\t\t\t\t\t\t\t\t<div class="floatR F8 marginL10 marginT13"\n                                             ng-class="{\'icon-ddArrowTop\': expandtutorial,\n                                            \'icon-ddArrowBottom\': !expandtutorial}"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t\t</div>\n                                </li>\n                                <li class="restartSubTutorial" ng-show="expandtutorial">\n                                \t<ul>\n                                \t\t<li class="NLD_liHover" style="padding:0 20px" ng-click="globalCtrl.openVideoWalk()" style="padding:0 0 0 10px !important" translate="NEW_DASHBOARD">Dashboard</li>\n                                \t\t<li class="NLD_liHover" style="padding:0 20px" ng-click="showGlobalSearchIntroVideo()" style="padding:0 0 0 10px !important" translate="GLOBAL_SEARCH">Global Search</li>\n                                \t</ul>\n                                </li>\n                                <li class="NLD_liHover" style="padding:0 12px" ng-click="signOut()" translate="SIGN_OUT_CAMEL"></li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="floatL marginL8 kSoreArea pos_rel">\n                <div class="floatL icon-halfStar colorf48414 F16 marginT10"></div>\n                <div class="floatL colorf48414 F20 marginL3">{{globalCtrl.getMyKscore()}}</div>\n                <div class="clear"></div>\n                <div class="pos_abs textalign_L bg_ff border_dd color36 F13 lineHeight20 hoverOnKscore "\n                    style="width:225px;top:30px;padding: 10px;right:0px;margin:0;z-index:11;box-shadow: 0 0 3px #ccc;" >\n                    <div translate="DASHBOARD_KSCORE_INFO_HEADER" translate-value-a="{{globalCtrl.getMyKscore()}}"></div>\n                    <div ng-if="showOtherTabs() && !isParticipantsDisabled()"\n                        ui-sref="root.participants"\n                        translate="DASHBOARD_KSCORE_INFO_HEADER_COMPARE"\n                        class="cursor color0072bc" ></div>\n                </div>\n\n            </div>\n            <div class="clear"></div>\n        </div>\n        <div class="clear"></div>\n    </div>\n    <div>\n        <div class="pos_abs dashBoardLeftHeight NDL_leftSidebar" style="width:56px;overflow-y:initial;position:fixed;top:60px">\n            <div class="paddingT10">\n                <div class="tooltip_bottom_left_2" mtitle="{{\'DASHBOARD_TAB_TIP_HOME\'|translate}}">\n                    <div ng-if="globalCtrl.isProfileFilled && showOtherTabs()"\n                         class="textalign_C dashboardLSColor marginB13 icon-home ls_NDL_sideBar"\n                         ng-class="{\'Active\': globalCtrl.isTabActive(\'courses\')}"\n                         wt-step="1" wt-group="demo" wt-text="{{ \'WT_M_HOME\' | translate }}"\n                         wt-title="<div class=\'icon-home F18 floatL marginR8\'></div><div class=\'floatL F14 marginT4 lineHeight14\'>{{ \'DASHBOARD_TAB_TIP_HOME\' | translate }}</div>"\n                         wt-position="right"\n                         ng-click="globalCtrl.gotoHome(\'home_icon\')"></div>\n                </div>\n                <div class="tooltip_bottom_left_2" mtitle="{{\'DASHBOARD_TAB_TIP_ASSETS\'|translate}}">\n                    <div ng-if="globalCtrl.isProfileFilled && showOtherTabs()"\n                         class="textalign_C  dashboardLSColor  marginB13 icon-assetsNew ls_NDL_sideBar"\n                         ng-class="{\'Active\': globalCtrl.isTabActive(\'contents\')}"\n                         ng-click="globalCtrl.gotoAssets()"></div>\n                </div>\n                <div class="tooltip_bottom_left_2" mtitle="{{\'DASHBOARD_TAB_TIP_PEERS\'|translate}}">\n                    <div ng-if="globalCtrl.isProfileFilled && showOtherTabs() && !isParticipantsDisabled()"\n                         class="textalign_C  dashboardLSColor marginB13 icon-groupNew ls_NDL_sideBar"\n                         ng-class="{\'Active\': globalCtrl.isTabActive(\'participants\')}"\n                         ng-click="globalCtrl.gotoPeers()"></div>\n                </div>\n                <div class="tooltip_bottom_left_2" mtitle="{{\'DASHBOARD_TAB_TIP_REVIEWS\'|translate}}">\n                    <div ng-show="globalCtrl.isProfileFilled"\n                          id="review_icon"\n                         class="textalign_C pos_rel dashboardLSColor marginB13 icon-reviewsOutline ls_NDL_sideBar hide F18"\n                         ng-class="{\'Active\': globalCtrl.isTabActive(\'reviews\')}" ng-click="goToReviewDasboard()">\n                        <div ng-show="globalCtrl.csDataModel.tabCounts.total>0"\n                             class="ff_opanSans pos_abs bg_ff6266 textalign_C colorff F12 lineHeight18 borderR9"\n                             style="height:18px;min-width:18px;top: -4px;right: -4px;padding: 0 4px;">\n                            {{globalCtrl.csDataModel.tabCounts.total}}\n                        </div>\n                    </div>\n                </div>\n                <div class="tooltip_bottom_left_2" mtitle="{{\'DASHBOARD_TAB_TIP_TASKS\'|translate}}">\n                    <div class="textalign_C icon-mic dashboardLSColor marginB13 ls_NDL_sideBar hide"\n                         ng-if="globalCtrl.isProfileFilled"\n                         ng-class="{\'Active\': globalCtrl.isTabActive(\'voss\')}"\n                         ng-click="globalCtrl.gotoVoss()"\n                         id="tasks_icon">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="bgf5f6f7 marginL56" ui-view class1="maincontaier" style="min-width:960px;overflow:hidden;top:60px;position:relative;"></div>\n        <div class="clear"></div>\n    </div>\n</div>\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/announcement-detail.html",'<div class="pos_abs bg_ff open_toward_right"\n     style="top:61px;right:0;width:280px"\n     ng-style="{\'width\':(abc?280:0)}"\n     ng-init="abc=true"\n     ng-show="abc">\n    <div class="borderL_dd dashBoardLeftHeight" style="width:280px">\n        <div class="lineHeight18 color00" style="padding:20px">\n            <div class="floatL icon-announcement F17 marginR10 marginT1"></div>\n            <div class="floatL F16" translate="ANNOUNCEMENT">Announcement</div>\n            <div class="floatR icon-Close F12 color99 cursor marginT3"\n                 ng-click="abc = !abc"></div>\n            <div class="clear"></div>\n        </div>\n        <div class="borderT_dd" style="padding:20px">\n            <div class="F18 color00 lineHeight24 marginB15">{{announcementObj.alert}}</div>\n            <div class="F13 color00 lineHeight20">{{announcementObj.customData.announcementBody}}</div>\n        </div>\n        <div class="borderT_dd" style="padding:20px">\n            <div class="lineHeight14 color88 F12">\n                <div class="floatL" translate="TXT_FROM">From</div>\n                <div class="floatR">{{announcementObj.createdAtString}}</div>\n                <div class="clear"></div>\n            </div>\n            <div class="F13 color00 lineHeight18 marginT5">{{announcementObj.customData.announcementFrom}}</div>\n        </div>\n    </div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-announcement.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction( $event, store, notification )">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-announcement F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div>\n\t                <div class="display_I" ng-class="{\'truncate_3_line\':notifPanel}">\n\t                    <span class="bold">{{notification.alert}}:</span>\n\t                    <span class="marginL2">{{notification.customData.announcementBody}}</span>\n\t                </div>\n\t            </div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-coaching-reschedule.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction( $event, store, notification )">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-calendar F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I" translate="ADMIN_CS_RESCHUDULED_SESSION" translate-value-a="Admin">$Admin/manager name$ has rescheduled the Coaching Session</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                </div>\n\t\t\t\t\t<div class="display_I" translate="ADMIN_CS_RESCHUDULED_WITH_YOU_ON" translate-value-a="Time">with you on $Scheduled Time$</div>\n\t\t\t\t</div>  \n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-coaching-review-completed.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-pitchHeadphone F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I" translate="LEARNER_REVIEW_RECEIVED">Review Received:</div>\n\t\t\t\t\t<div class="display_I" translate="CS_REVIEWER_TXT_CS">Coaching Session</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t\t\t\t\t\t<span class="marginL2">{{name}}</span>\n\t                </div>\n\t\t\t\t</div>  \n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-coaching-review-edited.html",""),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-coaching-schedule.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction( $event, store, notification )">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-calendar F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t                <div class="display_I" translate="ADMIN_CS_SCHUDULED_SESSION" translate-value-a="{{store.users[notification.customData.senderId].name}}"><b>{{store.users[notification.customData.senderId].name}}</b> has scheduled the Coaching Session</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                    <span class="marginL2"><b>{{store.entityIds[notification.entityId].name}}</b></span>\n\t                </div>\n\t\t\t\t\t<div class="display_I" translate="ADMIN_CS_RESCHUDULED_WITH_YOU_ON" translate-value-a="{{notification.scheduleTime}}">\n\t                    with you on {{notification.scheduleTime}}\n\t                </div>\n\t\t\t\t</div>  \n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-custom-information.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-info F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div>\n\t                <div class="display_I">\n\t                    <span class="bold">$Notification subject$:</span>\n\t                    <span class="marginL2">$Notification text$</span>\n\t                </div>\n\t            </div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-entity-completed.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-complete F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<!--  div class="display_I lineHeight18">You</div-->\n\t\t\t\t\t<div class="display_I pos_rel lineHeight18">You completed the Course</div>\n\t\t\t\t\t<div class="display_I">\n\t                    <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                    <span class="marginL2"><b>Objection handling</b> in the Series</span>\n\t                </div>\n\t                <div class="display_I">\n\t                    <entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t                    <span class="marginL2 bold">Skill Development</span>\n\t                </div>\n\t\t\t\t</div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-entity-deleted.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-unavailable F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div>\n\t                <div class="display_I">The Course</div>\n\t                <div class="display_I">\n\t\t\t\t\t\t\n\t                    <span class="marginL2"><b>Objection handling</b></span>\n\t                </div>\n\t                <div class="display_I">in the Series</div>\n\t                <div class="display_I">\n\t                    <entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t                    <span class="marginL2 bold">Skill Development</span>\n\t                </div>\n\t                <div class="display_I">no longer available for you</div>\n\t            </div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-entity-invitation.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-mail F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div>\n\t                <div class="display_I">\n\t                    <span translate="TXT_INVITATION">Invitation</span><span>:</span>\n\t                    <span class="marginL2">{{notification.customData.entityTypeDisplay}}</span>\n\t                </div>\n\t                <div class="display_I">\n\t                    <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                    <span class="marginL2"><b>{{store.entityIds[notification.entityId].name}}</b>\n\t\t\t\t\t\t\t<span ng-if="notification.customData.entityType !== \'REINFORCEMENT\'" translate="TXT_IN_THE_SERIES">in the Series</span>\n\t\t\t\t\t\t\t<span ng-if="notification.customData.entityType === \'REINFORCEMENT\'" >in All Quests</span>\n\t\t\t\t\t\t</span>\n\t                </div>\n\t                <div class="display_I" ng-if="notification.customData.entityType !== \'REINFORCEMENT\'">\n\t                    <entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t                    <span class="marginL2 bold">{{store.seriesIds[notification.seriesId].name}}</span>\n\t                </div>\n\t            </div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-entity-marked-complete.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-complete F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I lineHeight18">Your progress in the Course</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<span ng-if1="content.entityType==\'COURSE\'" class="cBG_L entity_sml borderR2 marginL5"\n\t                                              style="display: inline-block;vertical-align: middle;margin-top: -4px;">C</span>\n\t                    <span ng-if="content.entityType==\'UPDATE\'" class="qBG_L entity_sml borderR2 marginL5"\n\t                          style="display: inline-block;vertical-align: middle;margin-top: -4px;">Q</span>\n\t                    <span ng-if="content.entityType==\'MISSION\'" class="mBG_L entity_sml borderR2 marginL5"\n\t                          style="display: inline-block;vertical-align: middle;margin-top: -4px;">M</span>\n\t                    <span ng-if="content.entityType==\'ASSESSMENT\'" class="mBG_L entity_sml borderR2 marginL5"\n\t                          style="display: inline-block;vertical-align: middle;margin-top: -4px;">A</span>\n\t                    <span class="marginL2"><b>Objection handling</b> in the Series</span>\n\t                </div>\n\t                <div class="display_I">\n\t                    <span class="icon-seriesOld F14 marginL5" style="display: inline-block;vertical-align: middle;margin-top: -3px;"></span>\n\t                    <span class="marginL2 bold">Skill Development</span>\n\t                </div>\n\t                <div class="display_I lineHeight18">was marked complete</div>\n\t\t\t\t</div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-entity-move.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-modulemove F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t            \t<div class="display_I">The Course</div>\n\t            \t<div class="display_I">\n\t\t\t\t\t\t<entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                    <span class="marginL2"><b>Objection handling</b></span>\n\t                </div>\n\t\t\t\t\t<div class="display_I">has been moved from the series</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t\t\t\t\t\t<span class="marginL2 bold">Skill Development</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="display_I">to the series</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t\t\t\t\t\t<span class="marginL2 bold">KYC Development</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-entity-recommended.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-star F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I lineHeight18 bold">ABC</div>\n\t\t\t\t\t<div class="display_I pos_rel lineHeight18">recommends you the Course</div>\n\t\t\t\t\t<div class="display_I">\n\t                    <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                    <span class="marginL2"><b>Objection handling</b> in the Series</span>\n\t                </div>\n\t                <div class="display_I">\n\t                    <entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t                    <span class="marginL2 bold">Skill Development</span>\n\t                </div>\n\t\t\t\t</div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-entity-reminder.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n<div class="borderB_dd" style="padding:0 5px 15px">\n    <div class="color00 F13 lineHeight22 cursor">\n        <div class="floatL icon-recent F17 marginT2"></div>\n        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n            <div class="lineheight18">\n\t\t\t\t<div class="display_I lineHeight18" translate="TXT_REMINDER">Reminder:</div>\n\t\t\t\t<div class="display_I pos_rel lineHeight18 marginL5">\n\t\t\t\t\t<span class="display_I dropdown open" >\n\t\t\t\t\t\t<b>{{store.entityIds[notification.entityId].name}}</b>\n\t\t\t\t\t</span> \n\t\t\t\t\t<span class="display_I" translate="TXT_PENDING_IN_THE_SERIES">is pending in the Series</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="display_I">\n\t\t\t\t\t<entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t\t\t\t\t<span class="marginL2 bold">{{store.seriesIds[notification.seriesId].name}}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n            <div class="color88 F11">{{notification.createdAtString}}</div>\n        </div>\n        <div class="clear"></div>\n    </div>\n</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-entity-rename.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-update F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I">The name of the Course</div>\n\t\t\t\t\t<div class="display_I">\n\t                    <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                    <span class="marginL2"><b>Objection handling</b></span>\n\t                </div>\n\t\t\t\t\t<div class="display_I">has been changed to</div>\n\t\t\t\t\t<div class="display_I">\n\t                    <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                    <span class="marginL2"><b>Process Management</b></span>\n\t                </div>\n\t\t\t\t</div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-entity-unlock.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-lockOpen F17 marginT1"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div>\n\t               <div class="display_I">The $entity$</div>\n\t                 <div class="display_I">\n\t                     <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t\t               <span class="marginL2"><b>Objection handling</b> in the Series</span>\n\t            \t</div>\n\t                <div class="display_I">\n\t                    <entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t                    <span class="marginL2 bold">Skill Development</span>\n\t                </div>\n\t                <div class="display_I">is now unlocked</div>\n\t            </div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-entity-update.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-update F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div>\n\t                <div class="display_I" translate="TXT_THE_ENTITY" translate-value-a="{{notification.customData.entityTypeDisplay}}">The {{notification.customData.entityTypeDisplay}}</div>\n\t                <div class="display_I">\n\t                    <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                    <span class="marginL2"><b>{{store.entityIds[notification.entityId].name}}</b></span>\n\t                </div>\n\t                <div class="display_I" translate="TXT_IN_THE_SERIES">in the Series</div>\n\t                <div class="display_I">\n\t                    <entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t                    <span class="marginL2 bold">{{store.seriesIds[notification.seriesId].name}}</span>\n\t                </div>\n\t                <div class="display_I" translate="TXT_HAS_BEEN_MODIFIED">has been modified</div>\n\t            </div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-feedback-reviewer-edit.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-pitchHeadphone F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t                <div class="display_I" translate="TXT_REVIEW_EDITED">Review Edited:</div>\n\t                <div class="display_I">{{notification.customData.entityTypeDisplay}}</div>\n\t                <div class="display_I">\n\t                    <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                    <span class="marginL2"><b>{{store.entityIds[notification.entityId].name}}</b></span>\n\t                </div>\n\t            </div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-feedback-reviewer-submit.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-pitchHeadphone F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div>\n\t                <div class="display_I">\n\t                    <span translate="LEARNER_REVIEW_RECEIVED">Review Received:</span>\n\t                    <span class="marginL2">{{ notification.customData.entityTypeDisplay }}</span>\n\t                </div>\n\t                <div class="display_I">\n\t                    <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                    <span class="marginL2"><b>{{store.entityIds[notification.entityId].name}}</b></span>\n\t                </div>\n\t            </div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-invitation-bulk.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, null, notification.seriesId )">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-mail F17 marginT6"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I lineHeight18" translate="TXT_INVITATION">Invitation:</div>\n\t\t\t\t\t<div class="display_I pos_rel lineHeight18 marginL5">\n\t\t\t\t\t\t<span class="display_I dropdown open" style="">\n\t\t\t\t\t\t\t<span class="dropdown-toggle color0072bc" style="border:0;" ng-click="$event.stopPropagation();" aria-haspopup="true" aria-expanded="true">\n\t\t\t\t\t\t\t\t{{notification.entityIds.length}} \n\t\t\t\t\t\t\t\t<span ng-if="notification.entityIds.length<2" translate="TXT_MODULE">Module</span>\n\t\t\t\t\t\t\t\t<span ng-if="notification.entityIds.length>1" translate="DASHBOARD_PROFILE_TXT_MODULES">Modules</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<div class="dropdown-menu" style="margin: 0;width:500px;top:25px;border:0;background:transparent;left:-12px">\n\t\t\t\t\t\t\t\t<div class="F13 lineHeight20 paddingL10 paddingR10 newBoxShadow bg_ff pos_abs"\n\t\t\t\t\t\t\t\t\t style="max-width:500px;max-height:150px;overflow:auto;border:1px solid #ddd;padding:3px 0px;">\n\t\t\t\t\t\t\t\t\t<div class="hoverBg_f9" style="padding:5px 10px 5px 5px"\n\t\t\t\t\t\t\t\t\t\t ng-repeat="entity in notification.entityIds"\n\t\t\t\t\t\t\t\t\t\t ng-click="clickAction( $event, store, notification, entity, notification.seriesId )">\n\t\t\t\t\t\t\t\t\t\t<entity-type-icon entity-type="notification.getEntity(store, entity).mtentityType"></entity-type-icon>\n\t\t\t\t\t\t\t\t\t\t<span class="marginL2">{{notification.getEntity(store, entity).name}}</span>\n\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</span> \n\t\t\t\t\t\t<span class="display_I" translate="TXT_IN_THE_SERIES" >in the Series</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t\t\t\t\t\t<span class="marginL2 bold">{{store.seriesIds[notification.seriesId].name}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-invitation-review.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" \n\t ng-click="clickAction(\n\t                    $event,\n\t                    store,\n\t                    notification,\n\t                    notification.entityId,\n\t                    notification.customData.learnerId,\n\t                    notification.customData.entityType\n\t                )">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-pitchHeadphone F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div>\n\t                <div class="display_I">\n\t                    <span ng-if="!notification.isReminder" translate="TXT_REVIEW_ASSINGED">Review Assigned: </span>\n\t                    <span ng-if="notification.isReminder" translate="TXT_REVIEW_REMINDER">Review Reminder: </span>\n\t                    <span class="marginL2">{{notification.customData.entityTypeDisplay}}</span>\n\t                </div>\n\t                <div class="display_I">\n\t                    <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                    <span class="marginL2">\n\t                        <b>\n\t                            {{store.entityIds[notification.entityId].name}}\n\t                        </b>\n\t                    </span>\n\t                     <span ng-if="notification.learnerId" class="marginL2">\n\t                        |\n\t                        <b class="marginL2">\n\t                            {{store.users[notification.learnerId].name}}\n\t                        </b>\n\t                    </span>\n\t                </div>\n\t            </div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-learner-coaching-assign.html",""),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-learner-mission-review-assign.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" \n     ng-click="clickAction(\n        $event,\n        store,\n        notification,\n        notification.entityId,\n        notification.customData.learnerId,\n        notification.customData.entityType\n    )">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-pitchHeadphone F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t        \t<div>\n\t                <div class="display_I">\n\t                       <span translate="TXT_REVIEW_ASSINGED">Review Assigned:</span>\n\t                       <span class="marginL2">{{notification.customData.entityTypeDisplay}}</span>\n\t                   </div>\n\t                   <div class="display_I">\n\t                   <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                   <span class="marginL2">{{store.entityIds[notification.entityId].name}}</span>\n\t                </div>\n\t\t\t\t</div>\n\t        \t<div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-learner-reset-mission.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-reset F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t        \t<div>\n\t                <div class="display_I" translate="TXT_SUBMISSION_OF_ON" translate-value-a="{{store.users[notification.customData.learnerId].name}}" translate-value-b="{{notification.customData.entityTypeDisplay}}">\n\t                       The submission of {{store.users[notification.customData.learnerId].name}} on the {{notification.customData.entityTypeDisplay}}\n\t                </div>\n\t                <div class="display_I">\n\t                   <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                   <span class="marginL2">{{store.entityIds[notification.entityId].name}}</span>\n\t                   <span class="marginL2" translate="TXT_HAS_BEEN_RESET">has been reset</span>  \n\t                </div>\n\t\t\t\t</div>\n\t        \t<div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-learner-review-approved.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" \n\t ng-click="clickAction(\n        $event,\n        store,\n        notification,\n        notification.entityId,\n        notification.customData.learnerId,\n        notification.customData.entityType\n    )">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-pitchHeadphone F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t        \t<div>\n\t                <div class="display_I">\n\t                       <span translate="COACHING_TXT_REVIEW_APPROVED">Review Approved</span><span>:</span>\n\t                       <span class="marginL2">{{notification.customData.entityTypeDisplay}}</span>\n\t                   </div>\n\t                   <div class="display_I">\n\t                   <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                   <span class="marginL2"><b>{{store.entityIds[notification.entityId].name}}</b></span>\n\t                </div>\n\t\t\t\t</div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-learner-review-disapproved.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" \n     ng-click="clickAction(\n\t        $event,\n\t        store,\n\t        notification,\n\t        notification.entityId,\n\t        notification.customData.learnerId,\n\t        notification.customData.entityType\n\t    )">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-pitchHeadphone F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t        \t<div>\n\t                <div class="display_I">\n\t                       <span translate="COACHING_TXT_REVIEW_DISAPPROVED">Review Disapproved</span><span>:</span>\n\t                       <span class="marginL2">{{notification.customData.entityTypeDisplay}}</span>\n\t                   </div>\n\t                   <div class="display_I">\n\t                   <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                   <span class="marginL2"><b>{{store.entityIds[notification.entityId].name}}</b></span>\n\t                </div>\n\t\t\t\t</div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-like-your-question.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction( $event, store, notification, notification.customData.sourceId, notification.entityId )">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-discussion F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t                <div class="display_I lineHeight18" translate="TXT_QNA_SOMEONE_LIKED_Q" translate-value-a="{{store.questions[notification.customData.sourceId].text}}">\n\t                    Someone liked your question \'{{store.questions[notification.customData.sourceId].text}}\'\n\t\t\t\t    </div>\t\n\t\t\t\t\t\n\t\t\t\t</div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>\n\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-like-your-reply.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction( $event, store, notification, notification.customData.quesId, notification.entityId )">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-discussion F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t                <div class="display_I lineHeight18" translate="TXT_QNA_SOMEONE_LIKED_R" translate-value-a="{{store.answers[notification.customData.sourceId].text}}">\n\t                    Someone liked your reply \'{{store.answers[notification.customData.sourceId].text}}\'\n\t\t\t\t    </div>\n\t\t\t\t</div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>\n\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-loader.html",'<div style="padding:15px 15px 0" ng-class1="{\'read\': notification.notificationState !== \'UNREAD\' }">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL animated-background F17 marginT2"\n\t             style="width: 17px; height: 17px; margin-top: 4px;"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? \'485px\' : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div style="height: 10px;">\n\t                <div class="display_I">\n\t                    <div class="animated-background marginT5" style="height: 10px;"\n\t                         ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t                    </div>\n\t                </div>\n\t            </div>\n\t            <div class="color88 F11 marginT5 animated-background" style="height: 10px;" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}"></div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-reminder-clubbed.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, null, notification.seriesId )">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-recent F17 marginT6"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I lineHeight18" translate="TXT_REMINDER">Reminder:</div>\n\t\t\t\t\t<div class="display_I pos_rel lineHeight18 marginL5">\n\t\t\t\t\t\t<span class="display_I dropdown open" style="">\n\t\t\t\t\t\t\t<span class="dropdown-toggle color0072bc" style="border:0;" ng-click="$event.stopPropagation();" aria-haspopup="true" aria-expanded="true">\n\t\t\t\t\t\t\t\t{{notification.entityIds.length}} \n\t\t\t\t\t\t\t\t<span ng-if="notification.entityIds.length<2" translate="TXT_MODULE">Module</span>\n\t\t\t\t\t\t\t\t<span ng-if="notification.entityIds.length>1" translate="DASHBOARD_PROFILE_TXT_MODULES">Modules</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<div class="dropdown-menu" style="margin: 0;width:500px;top:25px;border:0;background:transparent;left:-12px">\n\t\t\t\t\t\t\t\t<div class="F13 lineHeight20 paddingL10 paddingR10 newBoxShadow bg_ff pos_abs"\n\t\t\t\t\t\t\t\t\t style="max-width:500px;border:1px solid #ddd;padding:3px 0px;">\n\t\t\t\t\t\t\t\t\t<div class="hoverBg_f9" style="padding:5px 10px 5px 5px"\n\t\t\t\t\t\t\t\t\t\t ng-repeat="entity in notification.entityIds"\n\t\t\t\t\t\t\t\t\t\t ng-click="clickAction( $event, store, notification, entity, notification.seriesId )">\n\t\t\t\t\t\t\t\t\t\t<entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t\t\t\t\t\t\t\t\t\t<span class="marginL2">{{notification.getEntity(store, entity).name}}</span>\n\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</span> \n\t\t\t\t\t\t<span ng-if="notification.entityIds.length<2" class="display_I" translate="TXT_PENDING_IN_THE_SERIES" >is pending in the Series</span>\n\t\t\t\t\t\t<span ng-if="notification.entityIds.length>1" class="display_I" translate="TXT_ARE_PENDING_IN_THE_SERIES">are pending in the Series</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t\t\t\t\t\t<span class="marginL2 bold">{{store.seriesIds[notification.seriesId].name}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-reminder-expiry.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-recent F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I lineHeight18">Reminder:</div>\n\t\t\t\t\t<div class="display_I pos_rel lineHeight18 marginL5">\n\t\t\t\t\t\t<span class="display_I dropdown open" style="">\n\t\t\t\t\t\t\t<span class="dropdown-toggle color0072bc" style="border:0;" aria-haspopup="true" aria-expanded="true">X Modules</span>\n\t\t\t\t\t\t\t<div class="dropdown-menu" style="margin: 0;width:500px;top:25px;border:0;background:transparent;left:-12px">\n\t\t\t\t\t\t\t\t<div class="F13 lineHeight20 paddingL10 paddingR10 newBoxShadow bg_ff pos_abs" style="max-width:500px;border:1px solid #ddd;padding:3px 0px;">\n\t\t\t\t\t\t\t\t\t<div class="hoverBg_f9" style="padding:5px 10px 5px 5px">\n\t\t\t\t\t\t\t\t\t\t\t<entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t\t\t\t\t\t                    <span class="marginL2">Objection handling</span>\n\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</span> \n\t\t\t\t\t\t<span class="display_I">are pending in the Series</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t\t\t\t\t\t<span class="marginL2 bold">Skill Development</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-replied-to-question.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction( $event, store, notification, notification.customData.sourceId, notification.entityId )">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-discussion F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t                <div class="display_I lineHeight18" translate="TXT_QNA_SOMEONE_REPLIED_Q" translate-value-a="{{store.questions[notification.customData.sourceId].text}}">Someone replied to the question \'{{store.questions[notification.customData.sourceId].text}}\'\n\t\t\t\t    </div>\t\n\t\t\t\t\t\n\t\t\t\t</div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>\n\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-review-completed.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-pitchHeadphone F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t        \t<div>\n\t                <div class="display_I">\n\t                       <span>X/Y Review Received:</span>\n\t                       <span class="marginL2" mt-trans="LB_TXT_MISSION">Mission</span>\n\t                   </div>\n\t                   <div class="display_I">\n\t\t\t\t\t\t<span ng-if1="content.entityType==\'MISSION\'" class="mBG_L entity_sml borderR2 marginL5"\n\t                          style="display: inline-block;vertical-align: middle;margin-top: -4px;">M</span>\n\t                    <span ng-if="content.entityType==\'COACHING\'" class="sBG_L entity_sml borderR2 marginL5"\n\t                          style="display: inline-block;vertical-align: middle;margin-top: -4px;">S</span>      \n\t                     <span class="marginL2">Objection handling</span>     \n\t                </div>\n\t\t\t\t</div>\n\t        \t<div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-review-edited.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-pitchHeadphone F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t        \t<div>\n\t                <div class="display_I">\n\t                       <span>X/Y Review Edited:</span>\n\t                       <span class="marginL2" mt-trans="LB_TXT_MISSION">Mission</span>\n\t                   </div>\n\t                   <div class="display_I">\n\t\t\t\t\t\t<span ng-if1="content.entityType==\'MISSION\'" class="mBG_L entity_sml borderR2 marginL5"\n\t                          style="display: inline-block;vertical-align: middle;margin-top: -4px;">M</span>\n\t                    <span ng-if="content.entityType==\'COACHING\'" class="sBG_L entity_sml borderR2 marginL5"\n\t                          style="display: inline-block;vertical-align: middle;margin-top: -4px;">S</span>      \n\t                     <span class="marginL2">Objection handling</span>     \n\t                </div>\n\t\t\t\t</div>\n\t        \t<div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-review-recieved.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-pitchHeadphone F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t        \t<div>\n\t                <div class="display_I">\n\t                       <span>X/Y Review Received:</span>\n\t                       <span class="marginL2" mt-trans="LB_TXT_MISSION">Mission</span>\n\t                   </div>\n\t                   <div class="display_I">\n\t                   <span ng-if1="content.entityType==\'MISSION\'" class="mBG_L entity_sml borderR2 marginL5"\n\t                          style="display: inline-block;vertical-align: middle;margin-top: -4px;">M</span>\n\t\t\t\t\t\t<span ng-if="content.entityType==\'COACHING\'" class="cBG_L entity_sml borderR2 marginL5"\n\t                          style="display: inline-block;vertical-align: middle;margin-top: -4px;">S</span>\n\t                     <span class="marginL2">Objection handling</span>     \n\t                </div>\n\t\t\t\t</div>\n\t        \t<div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-score-reset.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-info F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I lineHeight18">Your score for a task in the Checklist</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<span ng-if1="content.entityType==\'CHECKLIST\'" class="lBG_L entity_sml borderR2 marginL5"\n\t                          style="display: inline-block;vertical-align: middle;margin-top: -4px;">L</span>      \n\t                    <span class="marginL2 bold">Objection handling</span>\n\t                </div>\n\t                <div class="display_I lineHeight18">has been changed by your Admin</div>\n\t            </div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-series-completed.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.seriesId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-complete F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I lineHeight18">You</div>\n\t\t\t\t\t<div class="display_I pos_rel lineHeight18">completed the Series</div>\n\t\t\t\t\t<div class="display_I">\n\t                    <entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t\t\t\t\t\t<span class="marginL2 bold">Skill Development</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-series-deleted.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-unavailable F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I lineHeight18">The Series</div>\n\t\t\t\t\t<div class="display_I">\n\t                    <entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t\t\t\t\t\t<span class="marginL2 bold">Skill Development</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="display_I pos_rel lineHeight18">is no longer available for you.</div>\n\t\t\t\t</div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-series-invitation.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.seriesId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-mail F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div>\n\t                <div class="display_I">\n\t                    <span translate="TXT_INVITATION">Invitation</span>:\n\t                    <span class="marginL2" translate="DASHBOARD_PROFILE_SERIES">Series</span>\n\t                </div>\n\t                <div class="display_I">\n\t                    <entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t                    <span class="marginL2 bold">{{store.seriesIds[notification.seriesId].name}}</span>\n\t                </div>\n\t            </div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-series-recommended.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.seriesId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-star F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I lineHeight18 bold">ABC</div>\n\t\t\t\t\t<div class="display_I pos_rel lineHeight18">recommends you the Series</div>\n\t\t\t\t\t<div class="display_I">\n\t                    <entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t\t\t\t\t\t<span class="marginL2 bold">Skill Development</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-series-rename.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.seriesId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-update F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I">The name of the Series</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t\t\t\t\t\t<span class="marginL2 bold">Skill Development</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="display_I">has been changed to</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t\t\t\t\t\t<span class="marginL2 bold">KYC Development</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-session-attendace-updated.html",""),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-session-enrolment-updated.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-update F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div>\n\t                <div class="display_I" translate="TXT_THE_ENTITY" translate-value-a="{{notification.customData.entityTypeDisplay}}">The {{notification.customData.entityTypeDisplay}}</div>\n\t                <div class="display_I">\n\t                    <entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                    <span class="marginL2"><b>{{store.entityIds[notification.entityId].name}}</b></span>\n\t                </div>\n\t                <div class="display_I" translate="TXT_IN_THE_SERIES">in the Series</div>\n\t                <div class="display_I">\n\t                    <entity-type-icon entity-type="\'SERIES\'"></entity-type-icon>\n\t                    <span class="marginL2 bold">{{store.seriesIds[notification.seriesId].name}}</span>\n\t                </div>\n\t                <div class="display_I" translate="TXT_HAS_BEEN_MODIFIED">has been modified</div>\n\t            </div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-tagged-you-in-question.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-discussion F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I lineHeight18">Someone tagged you in the question \'$question text$\'\n\t\t\t\t    </div>\t\n\t\t\t\t\t\n\t\t\t\t</div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>\n\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-tagged-you-in-reply.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }">\n\t<div class="borderB_dd" style="padding:0 5px 15px" >\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-discussion F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I lineHeight18">Someone tagged you in the reply \'$reply text$\'\n\t\t\t\t    </div>\t\n\t\t\t\t\t\n\t\t\t\t</div>\n\t            <div class="color88 F11 marginT2">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>\n\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-task-mark-complete.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-info F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I lineHeight18">A task has been marked complete by your Admin in the Checklist</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                </div>\n\t                <div class="display_I lineHeight18">Reason</div>\n\t                <div class="display_I lineHeight18">$Reason$</div>\n\t            </div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification-task-mark-incomplete.html",'<div style="padding:15px 15px 0" ng-class="{\'read\': notification.notificationState !== \'UNREAD\' }" ng-click="clickAction($event, store, notification, notification.entityId)">\n\t<div class="borderB_dd" style="padding:0 5px 15px">\n\t    <div class="color00 F13 lineHeight22 cursor">\n\t        <div class="floatL icon-info F17 marginT2"></div>\n\t        <div class="floatL marginL15" ng-style="{width: (notifPanel) ? undefined : \'757px\',maxWidth:(notifPanel) ? \'485px\' : undefined}">\n\t            <div class="lineheight18">\n\t\t\t\t\t<div class="display_I lineHeight18">A task has been marked incomplete by your Admin in the Checklist</div>\n\t\t\t\t\t<div class="display_I">\n\t\t\t\t\t\t<entity-type-icon entity-type="notification.customData.entityType"></entity-type-icon>\n\t                </div>\n\t            </div>\n\t            <div class="color88 F11">{{notification.createdAtString}}</div>\n\t        </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/notifications/notification.html",'<li class="hover_f9 cursor color00 F13 lineHeight18">\n\t<div notification-type notif-panel="true"></div>\n</li>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/peers-new/dashboard-participant-snippet.html",'<div class="floatL bg_ff peersCard pos_rel marginR30 marginB40">\n\t<div ng-show="participantsCtrl.entity" class="pos_abs border_cc bg_f9" style="padding:6px 10px;left:-13px;top:8px;">\n\t\t<div class="floatL color99 F12 lineHeight24 marginR6">{{user.entity_score}}</div>\n\t\t<div class="floatL" data-ng-bind-html="participantsCtrl.getMedalCss(user.entity_score)"></div>\n\t\t<div class="clear"></div>\t\t\t\t\n\t</div>  \n\t<div class="textalign_C">\n\t   <div class="marginB10">\n\t   \t\t<div class="lineHeight24 marginB4">\n\t   \t\t\t<div class="floatL">\n\t\t\t\t\t<div class="floatL icon-halfStar colorf48414 F16 marginT4 marginR3"></div>\n\t\t\t\t\t<div class="floatL lineHeight24 colorf48414 F20">{{participantsCtrl.getUserKscore(user)}}</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="floatR color989ca6">\n\t\t\t\t\t<div ng-show="globalCtrl.getMyId()==user.id" ng-click="globalCtrl.openEditProfile(false)" class="icon-editNew cursor F17"></div>\n\t\t\t\t\t<div ng-if="!participantsCtrl.entity || settings.fixed.isMessages">\n\t\t\t\t\t\t<div ng-hide="globalCtrl.getMyId()==user.id" ng-click="globalCtrl.sendPrivateMessage(user)" class="icon-chatNew cursor F20"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t   \t\t</div>\n\t\t\t<div style="left:50%" class="floatL pos_rel">\n\t\t\t\t<div style="left:-50%" class="floatL pos_rel">\n\t\t\t\t\t<img ui-sref="root.participant({uid:user.id,lObj:user})" class="cursor fs-hide" style="width:64px;height:64px;border-radius:50%;" alt="" ng-src="{{user.pic}}">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div ui-sref="root.participant({uid:user.id,lObj:user})" class="cursor color2a2e36 F16 lineHeight24 marginB8 fs-hide">{{user.name | characters:15}}</div>\n\t\t<div class="color606369 F14 lineHeight20 marginB8" ng-repeat="fieldVal in user.firstTwoFieldsArr track by $index">{{fieldVal | characters:15}}</div>\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/peers-new/dashboard-participants.html",'<div class="participantSection">\n\t<div ng-if="participantsCtrl.entity" class="borderT15_transparent  cursor marginL20">\n\t\t<div class="cursor floatL" ng-click="globalCtrl.goback()">\n\t\t\t<div class="floatL marginR5 marginT4 backArrow_10_16"></div>\n\t\t\t<div class="floatL color99 F14 lineHeight24" mt-trans="BACK_TEXT">Back</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n\t<div class="floatL participantPageHeight NDL_sideBar" style="width:256px">\n\t\t<div ng-style="{\'padding-top\':(!participantsCtrl.entity) ? \'12px\':\'50px\'}" style="padding:12px 16px 0">\n\t\t\t<div class="marginB20" ng-class="{\'colorccd0e9\':!isNewDesignLanguage()}" style="font-weight:600">\n\t\t\t\t<div class="icon-Filter F12 floatL lineHeight20 marginR5"></div>\n\t\t\t\t<div class="F12 floatL lineHeight20" translate="LB_TXT_FILTER_BY">Filter By</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\n\t\t\t<mt-loader ng-if="participantsCtrl.loadingTags" type="small" size="sizeSmall" bg-color="transparent" color="white"></mt-loader>\n\t\t\t<!-- <div ng-show="participantsCtrl.loadingTags" class="margin0_auto textalign_C" style="width:100%">\n\t\t\t\t<img ng-src="{{smallLoader}}"/>\n\t\t\t</div> -->\n\t\t\t<div class="paddingB25" \n\t\t\t\t ng-if="participantsCtrl.isPartnerTraining"\n\t\t\t\t ng-init="myVal=true">\n\t\t\t\t<div class="lineHeight20 marginB8" ng-class="{\'colorccd0e9\':!isNewDesignLanguage()}">\n\t\t\t\t\t<div ng-click="myVal=!myVal"\n\t\t\t\t\t\t class="floatL F10 marginT5" \n\t\t\t\t\t\t ng-class="{\'icon-triangleDown\':myVal,\'icon-triangleRight\':!myVal}"></div>\n\t\t\t\t\t<div class="floatL F11 marginL7" style="font-weight:600">My Groups</div>\n\t\t\t\t\t<div class="floatL icon-tag F13 marginT4 marginL9"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-show="myVal">\n\t\t\t\t\t<div ng-repeat="myGroup in participantsCtrl.myGroupsSection"\n\t\t\t\t\t\t ng-click="participantsCtrl.setGroup(myGroup.id)"\n\t\t\t\t\t\t ng-class="{Active:participantsCtrl.group==myGroup.id}"\n\t\t\t\t\t\t class="floatL tagDiv">{{myGroup.name}}({{myGroup.count}})</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="paddingB10" \n\t\t\t\t ng-if="globalCtrl.getProfileFieldName(profileField)!=\'NA\' && !participantsCtrl.isPartnerTraining"\n\t\t\t\t ng-hide="participantsCtrl.loadingTags"\n\t\t\t\t ng-repeat="(profileField,tags) in participantsCtrl.tagSections track by $index">\n\t\t\t\t<div class="lineHeight20 marginB8" ng-class="{\'colorccd0e9\':!isNewDesignLanguage()}" style="font-weight:600">\n\t\t\t\t\t<div ng-click="myVal=!myVal" ng-init="myVal=($index==0)"\n\t\t\t\t\t\t class="floatL F10 marginT5 cursor" \n\t\t\t\t\t\t ng-class="{\'icon-triangleDown\':myVal,\'icon-triangleRight\':!myVal}"></div>\n\t\t\t\t\t<div ng-click="myVal=!myVal" class="floatL F11 marginL7 cursor">{{globalCtrl.getProfileFieldName(profileField)}}</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-show="myVal">\n\t\t\t\t\t<div ng-if="tagName!=\'\'"\n\t\t\t\t\t\t ng-click="participantsCtrl.setCurrentTagNew(profileField,tag.key)"\n\t\t\t\t\t\t ng-class="{Active:participantsCtrl.isFilterApplied(profileField,tag.key)}"\n\t\t\t\t\t\t ng-repeat="tag in tags"\n\t\t\t\t\t\t class="floatL tagDiv textalign_C">{{tag.key}}</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<!-- <div ng-show="participantsCtrl.initialParticipantsLoading" style="margin-left:256px; position: relative; height: calc(100vh - 64px);" class="paddingT50 paddingL10">\n\t\t<img ng-src="{{smallLoader}}"/>\n\t</div> -->\n\t\n\t<div style="margin-left:256px" class="participantPageHeight">\n\t\t<div class="paddingL24 paddingR24" style="min-width: 450px; max-width: 900px; margin: 0 auto; padding: 0 0 0 48px;">\n\t    <div ng-class="{borderT24_transparent:!participantsCtrl.entity}" class="borderB24_transparent marginR40">\n\t\t    <div class="floatL color00 lineHeight30">\n\t\t    \t<div class="floatL peerHeading" translate="DASHBOARD_TAB_TIP_PEERS">Peers</div>\n\t\t    \t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t<div class="floatR pos_rel dropdown marginT5" style="font-weight:600">\n\t\t\t\t<div class="dropdown-toggle" style="border: none;" aria-haspopup="true;" aria-expanded="true">\n\t                <div style="padding:0 25px 0 0px;background:transparent;color:#2a2e26;" class="dropdown-text lineHeight20">{{participantsCtrl.getCurrentSortText()}}</div>\n\t                <div class="icon-ddArrowBottom F7 color99 pos_abs" style="top:7px;right:2px"></div>\n\t            </div>\n\t            <div class="dropdown-menu" style="width:160px;top:30px;padding: 0;margin:0;border:0;left:auto;right:0;">\n\t                <ul class="newBoxShadow" style="max-height:152px;">\n\t                    <li ng-if="!participantsCtrl.entity" \n\t                    \tclass="ellipsis" \n\t                    \tng-class="{\'color00\':(participantsCtrl.sorton==\'companies.score.value\' && participantsCtrl.sortorder==\'desc\')}"\n\t                    \tng-click="participantsCtrl.changeSortOnWithOrder(\'companies.score.value\',\'desc\')" \n\t                    \ttranslate="DASHBOARD_PART_SORT_KSCORE_DESC">Top Scorer First</li>\n\t                    <li ng-if="!participantsCtrl.entity" \n\t                    \tclass="ellipsis" \n\t                    \tng-class="{\'color00\':(participantsCtrl.sorton==\'companies.score.value\' && participantsCtrl.sortorder==\'asc\')}"\n\t                    \tng-click="participantsCtrl.changeSortOnWithOrder(\'companies.score.value\',\'asc\')" \n\t                    \ttranslate="DASHBOARD_PART_SORT_KSCORE_ASC">Top Scorer Last</li>\n\t                    <li ng-if="participantsCtrl.entity" \n\t                    \tclass="ellipsis" \n\t                    \tng-class="{\'color00\':(participantsCtrl.sorton==\'companies.entities.score.value\' && participantsCtrl.sortorder==\'desc\')}"\n\t                    \tng-click="participantsCtrl.changeSortOnWithOrder(\'companies.entities.score.value\',\'desc\')" \n\t                    \ttranslate="DASHBOARD_PART_SORT_KSCORE_DESC">Top Scorer First</li>\n\t                    <li ng-if="participantsCtrl.entity" \n\t                    \tclass="ellipsis" \n\t                    \tng-class="{\'color00\':(participantsCtrl.sorton==\'companies.entities.score.value\' && participantsCtrl.sortorder==\'asc\')}"\n\t                    \tng-click="participantsCtrl.changeSortOnWithOrder(\'companies.entities.score.value\',\'asc\')" \n\t                    \ttranslate="DASHBOARD_PART_SORT_KSCORE_ASC">Top Scorer Last</li>\n\t                    <li class="ellipsis" \n\t                    \tng-class="{\'color00\':(participantsCtrl.sorton==\'name\' && participantsCtrl.sortorder==\'asc\')}"\n\t                    \tng-click="participantsCtrl.changeSortOnWithOrder(\'name\',\'asc\')" \n\t                    \ttranslate="A_Z">A-Z</li>\n\t                    <li class="ellipsis" \n\t                    \tng-class="{\'color00\':(participantsCtrl.sorton==\'name\' && participantsCtrl.sortorder==\'desc\')}"\n\t                    \tng-click="participantsCtrl.changeSortOnWithOrder(\'name\',\'desc\')" \n\t                    \ttranslate="Z_A">Z-A</li>\n\t                </ul>\n\t            </div>\n\t\t\t</div>\n\t\t\t<div class="floatR F14 marginR8 lineHeight32 icon-sort color88" ></div>\n\t\t\t<div class="clear"></div>\n\t\t\n\t\t</div>\n    <div class="paddingT10 paddingB15 borderT_ee F13" ng-if="participantsCtrl.displaySearchInfoHeader">\n\t\t\t<div class="floatL">\n            {{Game.Messages.LB_TXT_SEARCH_RESULT_FOR1}} <span class="bold">"{{decodeURIComponent(participantsCtrl.searchQuery)}}"</span>\n\t\t\t</div>\n\t\t\t<div class="floatL F13 color0072bc cursor marginL30"\n\t\t\t\t ng-if="participantsCtrl.displaySearchInfoHeader"\n\t\t\t\t ng-click="clearGlobalSearch()">\n\t\t\t\tClear Search\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div  infinite-scroll="participantsCtrl.loadNextPageParticipants()" infinite-scroll-distance="0" infinite-scroll-disabled="participantsCtrl.moreParticipantsLoading || participantsCtrl.totalParticipants===0|| participantsCtrl.currentParticipants.length>=participantsCtrl.totalParticipants"  infinite-scroll-immediate-check="false" style="min-height: 400px; position: relative;">\n\t\t\t<mt-loader ng-if="participantsCtrl.initialParticipantsLoading" type="full" size="sizeBig" bg-color="transparent"></mt-loader>\n\t\t\t<div ng-hide="participantsCtrl.initialParticipantsLoading" dashboard-participant-snippet ng-repeat="user in participantsCtrl.currentParticipants track by $index"></div>\n\t\t\t<div class="clear"></div>\n\n\t\t\t<!-- <div class="textalign_C" ng-if="participantsCtrl.initialParticipantsLoading==false && participantsCtrl.currentParticipants.length==0">\n\t\t\t\t<empty-state\n\t\t\t\t\timg-src="images/noSearchResults.svg" \n\t\t\t\t\tmessage-title="FILTERS_HAVE_LEAD_YOU_NOWHERE"\n\t\t\t\t></empty-state>\n\t\t\t\t<div class="color989CA6 F14 lineHeight20 marginT8">\n\t\t\t\t\t<span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n\t\t\t\t\t<span class="color4D7CC7 cursor" translate="RESET_FILTERS" ng-click="resetFilters()"></span>\n\t\t\t\t</div>\n\t\t\t</div> -->\n\n\t\t\t<empty-state ng-if="participantsCtrl.initialParticipantsLoading==false && participantsCtrl.currentParticipants.length==0"\n\t\t\t\t\t\t\t\timg-src="images/noSearchResults.svg" \n\t\t\t\t\t\t\t\tmessage-title="NO_RESULT_FOUND" suggestion-content="TRY_ADJUSTING_YOUR_SEARCH_PEERS"></empty-state> \n\t\t\t\n\t\t</div>\n\t\t<div ng-click="participantsCtrl.loadNextPageParticipants()" ng-show="participantsCtrl.moreParticipantsLoading==false && participantsCtrl.totalParticipants>0 && participantsCtrl.currentParticipants.length<participantsCtrl.totalParticipants" style="text-align:center;margin:15px;" class="paddingR20 cursor color0072bc" mt-trans="LB_TXT_LOAD_MORE"></div>\n\t\t\n\t\t<mt-loader ng-show="participantsCtrl.moreParticipantsLoading" type="small" size="sizeSmall" bg-color="transparent"></mt-loader>\n\t\t<!-- <div ng-show="participantsCtrl.moreParticipantsLoading" style="margin-left:245px" class="paddingR20"><img ng-src="{{smallLoader}}"/></div> -->\n\n\t</div>\n\t\t\t\t\t\t\t\t\n\t\t<!-- <div ng-show="participantsCtrl.initialParticipantsLoading==false && participantsCtrl.currentParticipants.length==0"class="textalign_C color88" style="margin-top:100px">\n\t     \t<div class="noSearchResultImg" style="margin:0 auto 20px"></div>\n\t     \t<div class="F18 lineHeight30 marginT5" translate="NO_RESULT_FOUND"></div>\n\t     \t<div class="F13 lineHeight20" translate="TRY_ADJUSTING_YOUR_SEARCH"></div>\n\t    </div> -->\n\t</div>\n\t<div class="clear"></div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/recent-new/app-dashboard-header.html",'<div class="textalign_C borderB_dd">\n    <div class="floatL pos_rel lineHeight24 normalTabDB paddingT8 paddingB8"\n         ng-class="{activeTab: ifRecentTabActive(moduleListHeaderValue.recents) }"\n         ng-click="changeTab(moduleListHeaderValue.recents)"\n         style="width:50%; height: 64px;">\n        <div class="F0">\n            <div class="display_IB valign_M F14 semiBold">{{\'LB_TXT_RECENTLY_ASSIGNED\' | translate | titlecase}}</div>\n            <div class="display_IB valign_M icon-recentlyAssignedNew F24 marginL12"></div>\n        </div>\n        <div class="F12 color989ca6" ng-if="noOfEnThMoRequest.$resolved" translate="DASHBOARD_X_THIS_MONTH" translate-value-a="{{ noOfEnThMoRequest.total}}">\n            {{ noOfEnThMoRequest.total }} this month\n        </div>\n        <mt-loader ng-if="!noOfEnThMoRequest.$resolved" type="small" size="sizeXSmall"></mt-loader>\n\n        <!-- <div class="F12 marginT3 color989ca6" ng-if="!noOfEnThMoRequest.$resolved">\n            <img ng-src="{{smallLoader}}">  \n        </div> -->\n        <!-- <div class="borderB_Tab"></div> -->\n    </div>\n    <div class="floatL pos_rel lineHeight24 normalTabDB paddingT8 paddingB8"\n         ng-class="{activeTab: ifDueTabActive(moduleListHeaderValue.due) }"\n         ng-click="changeTab(moduleListHeaderValue.due)"\n         style="width:50%; height: 64px;">\n        <div class="F0">\n            <div class="display_IB valign_M F14 semiBold">{{\'DASHBOARD_DUE_OR_OVERDUE\' | translate | titlecase}}</div>\n            <div class="display_IB valign_M icon-calendarSchedule_new F20 marginL12"></div>\n        </div>\n        <div ng-if="noOfDueTodayReq.$resolved && noOfDueTodayReq.total > 0" class="colorFF6969 F12" style="min-height: 24px;">\n            <span translate="DASHBOARD_X_ENDING_TODAY" translate-value-a="{{ noOfDueTodayReq.total }}">{{noOfDueTodayReq.total}} Ending Today</span>\n        </div>\n\n        <mt-loader ng-if="!noOfDueTodayReq.$resolved" type="small" size="sizeXSmall"></mt-loader>\n\n        <!-- <div class="F12 marginT3 color989ca6" ng-if="!noOfDueTodayReq.$resolved">\n            <img ng-src="{{smallLoader}}">\n        </div> -->\n        <!-- <div class="borderB_Tab"></div> -->\n    </div>\n    <div class="clear"></div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/recent-new/app-due-area.html",'<div\n  style="background-color:#fff;margin:24px 0;padding: 12px 24px 24px;min-height: calc(100vh - 108px);"\n  class="borderR4 boxShadow_Div boxShadow_Div_noHover"\n>\n  <dashboard-header></dashboard-header>\n  <div class="marginT20">\n    <div class="marginB30" ng-if="(store.due.length > 0 || store.overDue.length > 0 || hasFilterApplied())">\n      <react-select-with-search\n        class="floatL marginR12"\n        button-width="\'250px\'"\n        is-button="true"\n        value="selectedEntityFilterReact()"\n        show-search="false"\n        has-none="true"\n        button-label="noneETLabelReact"\n        default-value="noneETLabelReact"\n        none-label="noneETLabelReact"\n        on-change="applyEntityFilterReact"\n        placeholder="Select"\n        options="reactEntityTypeFilters"\n      ></react-select-with-search>\n      <div ng-if="hasFilterApplied()"\n                class="floatL resetFilterBtn lineHeight32 marginB12" translate="RESET_FILTERS" ng-click="resetFilters()"></div>\n      <!--entity-filter select-function="applyEntityFilter" entity-types="entityTypes" selected-filter="selectedEntityFilter"></entity-filter-->\n      <div class="clear"></div>\n    </div>\n    <div\n      class="marginB10 heightInnerInfiniteScrollDiv"\n      infinite-scroll="fetchNext()"\n      infinite-scroll-container="scrollContainer"\n      infinite-scroll-distance="2"\n      infinite-scroll-disabled="shouldNotScrollMore()"\n      infinite-scroll-immediate-check="false"\n      infinite-scroll-use-document-bottom="false"\n      style="min-height: 400px; position: relative;"\n    >\n      <div ng-if="store.overDue.length > 0">\n        <div class="pos_rel F12 color99 lineHeight20">\n          <div class="pos_abs" style="width:100%;height:1px;background:#ddd;top:10px"></div>\n          <div class="floatL bg_ff pos_rel paddingR20">\n            <div class="floatL icon-calendar F14 marginT3"></div>\n            <div class="floatL marginL7">{{\'DASHBOARD_OVERDUE_IN_LAST_X\' | translate:{num: OVER_DUE_PERIOD} | uppercase}}</div>\n            <div class="clear"></div>\n          </div>\n          <div class="clear"></div>\n        </div>\n        <module-list-view over-due="store.overDue"></module-list-view>\n      </div>\n      <div ng-if="store.due.length > 0">\n        <div class="pos_rel F12 color99 lineHeight20">\n          <div class="pos_abs" style="width:100%;height:1px;background:#ddd;top:10px"></div>\n          <div class="floatL bg_ff pos_rel paddingR20">\n            <div class="floatL icon-calendar F14 marginT3"></div>\n            <div class="floatL marginL7">{{\'DASHBOARD_DUE_IN_NEXT_X\' | translate:{num: TO_BE_DUE_PERIOD} | uppercase}}</div>\n            <div class="clear"></div>\n          </div>\n          <div class="clear"></div>\n        </div>\n        <module-list-view due="store.due"></module-list-view>\n      </div>\n      <div class="textalign_C" ng-if="(!anythingLoading() && store.due.length == 0 && store.overDue.length == 0 && !hasFilterApplied())">\n        <empty-state\n          class="textalign_C"\n          img-src="images/dueOverdue.svg"\n          message-title="YOU_HAVE_NOTHING_URGENT_TO_TEND_TO"\n        ></empty-state>\n        <div\n          class="F14 color989ca6 lineHeight20 marginT8"\n          translate="HOW_ABOUT_GRABING_CUP_OF_COFFEE"\n          translate-value-a="{{OVER_DUE_PERIOD}}"\n          translate-value-b="{{TO_BE_DUE_PERIOD}}"\n        ></div>\n      </div>\n      <div class="textalign_C" ng-if="(!anythingLoading() && store.due.length == 0 && store.overDue.length == 0 && hasFilterApplied())">\n        <empty-state\n          img-src="images/noSearchResults.svg" \n          message-title="FILTERS_HAVE_LEAD_YOU_NOWHERE"\n        ></empty-state>\n        <div class="color989CA6 F14 lineHeight20 marginT8">\n          <span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n          <span translate="RESET_FILTERS"></span>\n        </div>\n      </div>\n      <!-- <div class="textalign_C color88" style="border-top:100px solid transparent"\n                ng-if="(!anythingLoading() && store.due.length == 0 && store.overDue.length == 0)">\n                <div class="color88 noCoffeeCupImgWithText F40 marginB15"\n                    style="margin:0 auto 20px">\n                </div>\n                <div class="color88 F20 lineHeight30 marginB2" translate="YOU_HAVE_NOTHING_URGENT_TO_TEND_TO"></div>\n                <div class="F13 lineHeight20" translate="HOW_ABOUT_GRABING_CUP_OF_COFFEE" translate-value-a="{{OVER_DUE_PERIOD}}" translate-value-b="{{TO_BE_DUE_PERIOD}}"></div>\n            </div> -->\n        <mt-loader ng-if="anythingLoading() && store.due.length == 0 && store.overDue.length == 0" type="full" size="sizeBig"></mt-loader>\n        <mt-loader ng-if="anythingLoading() && (store.due.length > 0 && store.overDue.length > 0)" type="small" size="sizeSmall"></mt-loader>\n        <!-- <img ng-if="anythingLoading()" ng-src="{{loader}}" /> -->\n    </div>\n  </div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/recent-new/app-gamification-entity-thumb.html",'<div class="floatL pos_rel">\n    <div class="border_transparent borderR8" ng-class="{border_dd:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">\n        <div class="bg_ff newCourseThumbNail cursor borderR8 pos_rel" ng-click="openEntity(entity)"\n             ng-class="{inProgress_Course:( entity.data.type == \'REINFORCEMENT\' ? entity.data.state != \'COMPLETED\' : entity.data.state==\'ACTIVE\'), cmplt2day:(isDueToday() ||\n                entity.data.recertify), allCompleted_CourseDiv:((entity.data.state==\'COMPLETED\' ||\n                entity.data.state==\'TIMEDOUT\') && !entity.data.recertify), noShadow:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">\n            <div class="pos_rel">\n                <div class="thumbNail_Img marginB12 cursor pos_rel">\n                    <img style="width:200px;max-width:200px;height:135px;min-height:135px; border-radius:8px 8px 0 0" alt="" \n                         ng-src="{{entity.data.thumb.url_180_120}}"\n                         ng-style="{opacity:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'0.3\':\'1\'}">\n                    <div ng-show="entity.data.type==\'COURSE\'" class="cTag" mt-trans="LB_TXT_COURSE"\n                         ng-class="{cTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}"></div>\n                    <div ng-show="entity.data.type==\'REINFORCEMENT\'" class="cTag" mt-trans="REINFORCEMENT_TXT"\n                         ng-class="{cTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Quest</div>\n                    <div ng-show="entity.data.type==\'UPDATE\'" class="qTag" mt-trans="LB_TXT_QUPDATE"\n                            ng-class="{qTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Q-Update</div>\n                    <div ng-show="entity.data.type==\'MISSION\'" class="mTag" mt-trans="LB_TXT_MISSION"\n                         ng-class="{mTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Mission</div>        \n                    <div ng-show="isMission(entity.data.type)" class="mTag" mt-trans="LB_TXT_MISSION"\n                         ng-class="{mTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Mission</div>\n                    <div ng-show="entity.data.type==\'ASSESSMENT\'" class="aTag" mt-trans="LB_TXT_ASSESSMENT"\n                          ng-class="{aTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Assessment</div>\n                    <div ng-show="entity.data.type==\'COACHING\'" class="sTag" mt-trans="LB_TXT_COACHING"\n                          ng-class="{sTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Coaching Sessions</div>\n                     <div ng-show="entity.data.type==\'ONE_TO_ONE_COACHING\'" class="sTag" mt-trans="LB_TXT_COACHING"\n                          ng-class="{sTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Coaching Sessions</div>\n                    <div ng-show="entity.data.type==\'PERFORMANCE_EVALUATION_COACHING\' " class="sTag" mt-trans="LB_TXT_PERFORMANCE_EVALUATION_COACHING"\n                         ng-class="{sTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Competency Assessment</div>\n                       <div ng-show="entity.data.type==\'CHECKLIST\'" class="clTag" mt-trans="LB_TXT_CHECKLIST"\n                          ng-class="{clTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">Checklist</div>\n                       <div ng-show="entity.data.type==\'ILT\'" class="iltTag" mt-trans="LB_TXT_ILT"\n                          ng-class="{iltTagFade:entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'}">ILT</div>\n                     <div class="pos_abs" style="top:0px; right:0px;">\n\t\t\t\t\t\t<!--div ng-show="entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'" class="floatL bg_00 border00_opacity"\n                              style="padding:4px;"\n                              ng-style="{\'border-radius\':(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\' && entity.data.moduleRelevance && entity.data.moduleRelevance!=\'NONE\')? \'0 0px 0 6px\': \'0 6px 0 6px\'}">\n                        \t<div class="icon-Lock_icon lineHeight12" style="color:#fff; font-size: 11px" ></div>\n                        </div-->\n                        <div ng-if="entity.data.moduleRelevance && entity.data.moduleRelevance!=\'NONE\'" \n                             ng-class="{\'req_bg\':entity.data.moduleRelevance==\'REQ\',\n                                        \'opt_bg\': entity.data.moduleRelevance==\'OPT\',\n                                        \'common_bg123\': (entity.data.moduleRelevance && entity.data.moduleRelevance!=\'NONE\' && entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')}"\n                             class="pos_rel marginL1" style="padding:4px;border-radius:0 6px"\n                             ng-style2="{\'border-radius\':(entity.data.moduleRelevance && entity.data.moduleRelevance!=\'NONE\' && entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'0 6px 0 0px\': \'0 6px 0px 6px\'}">\n                    \t\t <div class="F9 lineHeight12">{{\'MODULE_RELEVANCE_\'+entity.data.moduleRelevance | translate}}</div>\n                    \t</div>\n                     </div>     \n                    \n                </div>\n                <div class="color2a2e36 F14 cursor lineHeight20 semiBold marginB4 e2etest_EntityName paddingL12 paddingR12"\n                     mtitle="{{entity.data.name}}"\n                     ng-style="{opacity:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'0.5\':\'1\'}">\n                     <div class="tooltip_top_left" mtitle={{entity.data.name}}>\n                        <div class="truncate_2_line" style="max-height:40px">\n                            {{entity.data.name}}\n                        </div>\n                    </div>\n                </div>\n                <div ng-if="entity.data.type!=\'COACHING\' && entity.data.type!=\'ONE_TO_ONE_COACHING\' && entity.data.type!=\'PERFORMANCE_EVALUATION_COACHING\' && entity.data.type!=\'ILT\' && entity.data.type!=\'REINFORCEMENT\'"\n                    class="paddingL12 paddingR12">\n                    <div ng-hide="(entity.data.state==\'COMPLETED\' || entity.data.state==\'TIMEDOUT\') || (isMission(entity.data.type) && entity.data.state==\'SUBMITTED\')" \n                        class="F12 lineHeight24">\n                        <div ng-show="getDueDateText()" class="floatL colorff6969 icon-calendarSchedule_new F14 marginT4"></div>\n                        <div class="color2a2e36 marginL20">{{getDueDateText()}}</div>\n                        <div class="clear"></div>\n                    </div>\n                </div>\n                <div  ng-if="entity.data.type==\'ONE_TO_ONE_COACHING\' && entity.data.state!=\'COMPLETED\'" class="paddingL12 paddingR12">\n                    <div ng-if="entity.data.state===\'UNSCHEDULED\'" class="F12 lineHeight24 color2a2e36">\n                        <div class="floatL coloreda43e icon-calendarSchedule_new F14 marginT4"></div>   \n                        <div class="ellipsis marginL20">{{Game.Messages.COACHING_TXT_UNSCHEDULED}}</div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-if="entity.data.state!=\'COMPLETED\' && entity.data.state !==\'UNSCHEDULED\' && entity.data.scheduledSessions > 1 " class="F12 lineHeight24 colorText" translate="{{COACHING_TXT_N_SESSIONS_SCHEDULED}}"\n                        translate-value-a="{{entity.data.scheduledSessions}}">\n                    </div>\n                    <div ng-if="entity.data.state!=\'COMPLETED\' && entity.data.state !==\'UNSCHEDULED\' && entity.data.scheduledSessions <= 1 " class="F12 lineHeight24 color2a2e36">\n                        <div class="floatL coloreda43e icon-calendarSchedule_new F14 marginT4"></div>   \n                        <div class="ellipsis marginL20">{{getCoachingStatus(entity.data.scheduledOn)}}</div>\n                        <div class="clear"></div>\n                    </div>\n                </div>\n                <div  ng-if="entity.data.type==\'ILT\'" \n                    class="lineHeight24 paddingL12 paddingR12">\n                    <div class="floatL icon-calendarSchedule_new F14 coloreda43e marginT5"></div>\n                    <div class="marginL18 lineHeight16 paddingT4 paddingB4 F12 color2a2e36">{{getILTStatus()}}</div>\n                    <div class="clear"></div>\n                </div>\n                <div ng-if="entity.data.type == \'REINFORCEMENT\'" class="paddingL12 paddingR12">\n                    <div ng-if="reinforcementEntityStatus" class="F12 color2a2e36 lineHeight16">{{reinforcementEntityStatus}}</div>\n                </div>\n                \n            </div>\n            <div class="paddingL12 paddingR12 pos_abs" style="bottom:8px;width: 100%">\n                <div ng-if="entity.data.type!=\'COACHING\' && entity.data.type != \'MISSION\'  && !isMission(entity.data.type) && entity.data.type != \'ONE_TO_ONE_COACHING\' && entity.data.type != \'PERFORMANCE_EVALUATION_COACHING\' && entity.data.type != \'ILT\' && entity.data.type != \'REINFORCEMENT\'"\n                    style="width:100%">\n                    <div ng-if="entity.data.state==\'ACTIVE\'" class="borderTop pos_rel">\n                        <div style="top:0;left:0;" class="progressBar_Bg" ng-style="{width: (entity.data.percCompletion + \'%\'), \'border-radius\': (entity.data.percCompletion >= \'99\') ? \'0 0 20px 20px\' : \'0 10px 10px 20px\'}"></div>\n                    </div>\n                    <div ng-show="entity.data.state==\'ADDED\' && isCourseActive() && !hasDueDatePassed() && entity.data.lockState != \'LOCKED\'"\n                         class="floatL Btn_blue F12 paddingL12 paddingR12">\n                        <div class="floatL">{{\'START\' | translate | titlecase}}</div>\n                        <div class="floatL icon-rightFillcaret_new F10 marginL8 marginT6"></div>\n                        <div class="clear"></div>\n                    </div>\n    \n                    <div ng-show="entity.data.lockState == \'LOCKED\' && entity.data.state == \'ADDED\'"\n                         class="floatL F14 lineHeight24">\n                        <div class="icon-Lock_icon marginT4 marginR8 floatL color88"></div> \n                        <div class="floatL color2a2e36 semiBold" mt-trans="LB_TXT_LOCKED">Locked</div>\n                        <div class="clear"></div>\n                    </div>\n                    <!--div ng-if="entity.data.recertify" class="floatR Btn_blue F12 paddingL12 paddingR12">\n                        <div class="floatL" mt-trans="ASSESSMENT_TXT_RECERTIFY"></div>\n                        <div class="floatL icon-rightFillcaret_new F10 marginL8 marginT6"></div>\n                        <div class="clear"></div>\n                    </div-->\n                    <div ng-if="entity.data.type != \'ASSESSMENT\' && entity.data.type != \'REINFORCEMENT\' && entity.data.state==\'ACTIVE\' && entity.data.lockState!=\'LOCKED\' && entity.data.state!=\'COMPLETED\'" class="floatL color2a2e36 F12 lineHeight24">\n                        <div class="floatL">{{entity.data.percCompletion | number : 0}}%</div>\n                        <div class="floatL marginL5" mt-trans="M_TXT_COMPLETED"></div>\n                        <div class="clear"></div>\n                    </div>\n\n                    <div ng-show="(entity.data.lockState==\'LOCKED\'  && entity.data.type != \'ASSESSMENT\' && entity.data.type != \'REINFORCEMENT\' && entity.data.state==\'ACTIVE\')" class="floatL F14 lineHeight24">\n                        <div class="icon-Lock_icon marginT4 marginR8 floatL color88"></div> \n                        <div class="floatL color2a2e36 semiBold" mt-trans="LB_TXT_LOCKED">Locked</div>\n                        <div class="clear"></div>\n                    </div>\n\n                    <div ng-if="entity.data.type == \'ASSESSMENT\' && entity.data.state==\'ACTIVE\'" class="floatL color2a2e36 F12 lineHeight24 ellipsis" >\n                        <span class="">{{entity.data.totalSubmittedLearningObjects}}/{{entity.data.totalLearningObjects}}</span>\n                        <span class="1marginL4" mt-trans="LB_TXT_ANSWERED"></span>\n                    </div>\n                    <div ng-if="entity.data.timeLimit>0 && (entity.data.state==\'ACTIVE\' || entity.data.state==\'ADDED\' || entity.data.state==\'TIMEDOUT\')"\n                         class="floatR lineHeight24 timerDefault"\n                         ng-class="{critical : entity.data.clock.isRed}">\n                        <div class="floatL iconColor icon-timerAssessment F14 marginR4 marginT5"></div>\n                        <div class="floatL timercolor F12">{{entity.data.clock.mmss}}</div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-show="(entity.data.state==\'COMPLETED\' || entity.data.state==\'TIMEDOUT\') && entity.data.type != \'MISSION\' && entity.data.type != \'ASSESSMENT\' && !isMission(entity.data.type)"\n                         class="color2a2e36 F12 lineHeight24">\n                        <div ng-click="downloadCertificate(); $event.stopPropagation();" \n                            ng-show="entity.data.completionCertificateEnabled" \n                            class="floatL F14 icon-Certificate_new marginT5"\n                            ng-class="{\'color35c759\':(entity.data.isCertificateAchived && entity.data.completionCertificateEnabled),\n                                       \'colorff6969\':!(entity.data.isCertificateAchived) && entity.data.completionCertificateEnabled}"></div>\n                        <div ng-show="entity.data.isCertificateAchived && entity.data.completionCertificateEnabled" class="marginL18 ellipsis" mt-trans="LB_TXT_CERTIFIED">Certified</div>\n                        <div ng-show="!(entity.data.isCertificateAchived) && entity.data.completionCertificateEnabled" class="marginL18 ellipsis" mt-trans="LB_TXT_NOT_CERTIFIED">Not Certified</div>\n                        <div class="clear"></div>\n                    </div>   \n                    <div ng-if="!entity.data.hideScoreAndCertificate" ng-show="(entity.data.state==\'COMPLETED\' || entity.data.state==\'TIMEDOUT\') && entity.data.type == \'ASSESSMENT\'" \n                        class="color2a2e36 F12 lineHeight24">\n                        <div ng-click="downloadCertificate(); $event.stopPropagation();"\n                             ng-show="entity.data.completionCertificateEnabled && entity.data.completionState==\'PASS\' && !entity.data.isCertificateExpired"\n                             class="floatL icon-Certificate_new color35c759 F14 marginT5 marginR4"></div>\n                        <div ng-show="entity.data.completionCertificateEnabled && entity.data.completionState==\'FAIL\'" \n                            class="floatL icon-Certificate_new colorff6969 F14 marginT5 marginR4"></div>\n                        <div ng-show="entity.data.recertify && entity.data.isCertificateExpired"\n                            class="floatL icon-Certificate_new colorff6969 F14 marginT5 marginR4"></div>\n                        <div ng-show="!entity.data.completionCertificateEnabled && entity.data.completionState==\'FAIL\'" \n                            class="floatL icon-crossQuestionWisePerformance colorff6969 F14 marginT5 marginR4"></div>\n                        <div ng-show="!entity.data.completionCertificateEnabled && entity.data.completionState==\'PASS\'" \n                            class="floatL icon-tickQuestionWisePerformance color35c759 F14 marginT5 marginR4"></div>\n                        <div class="floatL">{{entity.data.completionStateTxt}}</div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-show="(entity.data.state==\'COMPLETED\' || entity.data.state==\'TIMEDOUT\') && entity.data.type != \'MISSION\' && entity.data.type != \'ASSESSMENT\' && !isMission(entity.data.type)"\n                         class="color2a2e36 F12 lineHeight24">\n                        <div ng-if="!entity.data.recertify">\n                            <div ng-show="entity.data.medalUrl" class="floatL marginR4 marginT4" style="width:14px;height:14px">\n                                <img ng-src="{{entity.data.medalUrl}}" style="width:100%;height:100%;display:block;border-radius:50%;"/>\n                            </div>\n                            <div class="floatL">{{entity.data.medalName}}</div>\n                            <!--div class="floatL {{entity.data.medalClass}} marginT3 marginL7"></div-->\n                            <div class="clear"></div>\n                        </div>    \n                    </div>\n                    <div ng-click="reAttemptEntity(); $event.stopPropagation();" ng-if="(entity.data.state==\'COMPLETED\' || entity.data.state==\'TIMEDOUT\') && entity.data.completionState==\'FAIL\' && isEntityCanBeReattempted()" class="marginT4 marginB4">\n                        <div class="floatL Btn_blue F12 paddingL12 paddingR12">\n                            <div class="floatL" mt-trans="REATTEMPT"></div>\n                            <div class="floatL icon-rightFillcaret_new F10 marginL8 marginT6"></div>\n                            <div class="clear"></div>\n                        </div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-if="entity.data.recertify" class="marginT4 marginB4">\n                        <div class="floatL Btn_blue F12 paddingL12 paddingR12">\n                            <div class="floatL" mt-trans="ASSESSMENT_TXT_RECERTIFY"></div>\n                            <div class="floatL icon-rightFillcaret_new F10 marginL8 marginT6"></div>\n                            <div class="clear"></div>\n                        </div>\n                        <div class="clear"></div>\n                    </div>    \n                    <div class="clear"></div>\n                </div>\n                <!--- last line for new Mission starts -->\n                <div ng-if="entity.data.type == \'MISSION\' || isMission(entity.data.type)" class1="floatL1" style1="width:100%">\n                        <div ng-show="entity.data.state!=\'SUBMITTED\' && entity.data.state!=\'COMPLETED\' && entity.data.state!=\'RESET\' && entity.data.state !=\'REVIEWER_REDO\' && entity.data.state !=\'MACHINE_REDO\' && entity.data.state!=\'ADDED\'">\n                            <div class="floatL color88 icon-submissionPending F14 marginT5 marginR4"></div>\n                            <div class="lineHeight24 F12 color2a2e36 floatL" mt-trans="M_TXT_SUBMISSION_PENDING">\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                        <div ng-if="(entity.data.type == \'MISSION\' || isMission(entity.data.type)) && entity.data.state==\'SUBMITTED\' && (entity.data.numPending>0 || entity.data.reviewers.length ==0)"\n                             class="color2a2e36 F12 lineHeight24 tooltip_top_left" mtitle={{getMissionReviewsStatus()}}>\n\n                            <div ng-if="(entity.data.reviewers.length == 0) || (entity.data.numPending > 0)"\n                                ng-class="{\'icon-noReviewersAdded\' : (entity.data.reviewers.length == 0),\n                                            \'icon-reviewPending\' : (entity.data.numPending > 0)}"\n                                class="floatL F15 marginT4 color88"></div>   \n                            <div class="ellipsis marginL18">{{getMissionReviewsStatus()}}</div>\n                            <div class="clear"></div>\n                        </div>\n                        <div ng-show="entity.data.state==\'ADDED\' && isCourseActive() && !hasDueDatePassed() && entity.data.lockState != \'LOCKED\'"\n                             class="floatL Btn_blue F12 paddingL12 paddingR12">\n                            <div class="floatL">{{\'START\' | translate | titlecase}}</div>\n                            <div class="floatL icon-rightFillcaret_new F10 marginL8 marginT6"></div>\n                            <div class="clear"></div>\n                        </div>\n                        <div ng-show="entity.data.lockState == \'LOCKED\' && entity.data.state == \'ADDED\'" class="floatL F14 lineHeight24">\n                            <div class="icon-Lock_icon marginT4 marginR8 floatL color88"></div> \n                            <div class="floatL color2a2e36 semiBold" mt-trans="LB_TXT_LOCKED">Locked</div>\n                            <div class="clear"></div>\n                        </div>\n                        <div ng-show="entity.data.type == \'MISSION\' && entity.data.state==\'COMPLETED\' &&\n                                            entity.data.numPending==0 && entity.data.reviewers.length > 0 && [\'NUMERIC\',\'BINARY\'].indexOf(entity.data.evalParamType) > -1"\n                             class="floatL color2a2e36 F12 lineHeight30">\n                            <div class="floatL" mt-trans="M_TXT_SCORE_REP"\n                                 mt-trans-val-score="{{(entity.data.score/100)}} / {{500/100}}"></div>\n                            <div ng-if="entity.data.score>=entity.data.certificateScore && !entity.data.hideCertificate"\n                                 class="floatL cert_26_24 marginL10 marginT4"\n                                 ng-click="downloadCertificate(); $event.stopPropagation();"></div>\n                            <div class="clear"></div>\n                        </div>\n                        <div ng-if="!hideRedo() && entity.data.type == \'MISSION\' && entity.data.state==\'COMPLETED\' && (entity.data.reviewers.length > 0 && entity.data.numPending==0) && entity.data.score < entity.data.certificateScore"\n                             class="floatL redBorderBtn_30 F12 paddingL20 paddingR20 marginL10"\n                             ng-click="redoMission();$event.stopPropagation();">\n                            <div class="floatL" mt-trans="M_TXT_REDO"></div>\n                            <div class="clear"></div>\n                        </div>\n    \n                        <div ng-if="!entity.data.recertify && isMission(entity.data.type) && (entity.data.state==\'COMPLETED\' || entity.data.state==\'MACHINE_REDO\')"\n                             class="lineHeight24 F12">\n                            <div class="F14 marginT5 floatL marginR5"  \n                                ng-class="{\'icon-crossQuestionWisePerformance\': (entity.data.score < entity.data.certificateCutOffScore && !entity.data.completionCertificateEnabled),\n                            \'icon-tickQuestionWisePerformance\': (entity.data.score >= entity.data.certificateCutOffScore && !entity.data.completionCertificateEnabled),\n                            \'icon-Certificate_new\': (entity.data.score < entity.data.certificateCutOffScore && entity.data.completionCertificateEnabled),\n                            \'icon-Certificate_new\': (entity.data.score >= entity.data.certificateCutOffScore && entity.data.completionCertificateEnabled),\n                            \'color35c759\':(getReviewScoreText(entity.data).kClass==\'\'),\n                            \'colorff6969\':(getReviewScoreText(entity.data).kClass!=\'\')\n                            }"></div> \n                            <div ng-class="getReviewScoreText(entity.data).kClass" >{{getReviewScoreText(entity.data).text}}</div>\n                            <div class="clear"></div>\n                        </div>\n    \n                \n                        <div ng-show="isMission(entity.data.type) && entity.data.state==\'REVIEWER_REDO\'" class="F12 lineHeight18 color2a2e36"  mt-trans="M_TXT_REVIEWER_REDO"></div>\n                        <div ng-show="isMission(entity.data.type) && entity.data.state==\'RESET\'" class="F12 lineHeight18 color2a2e36"  mt-trans="M_TXT_ADMIN_RESET"></div>\n    \n    \n                        <!--div ng-click="downloadCertificate(); $event.stopPropagation();" \n                            ng-show="entity.data.isCertificateAchived && !entity.data.hideCertificate" \n                            ng-class="{reCert_26_24: entity.data.recertify}" \n                            class="floatL certificateIcon marginT5 marginL5"></div-->\n    \n    \n                        <div ng-if="entity.data.recertify" class="marginT2 marginB2">\n                            <div class="floatL Btn_blue F12 paddingL12 paddingR12">\n                                <div class="floatL" mt-trans="ASSESSMENT_TXT_RECERTIFY"></div>\n                                <div class="floatL icon-rightFillcaret_new F10 marginL8 marginT6"></div>\n                                <div class="clear"></div>\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                        \n                </div>\n    \n                    <!--- last line for new Mission ends -->\n                <div>\n                    <div  ng-if="entity.data.type!=\'COACHING\' && entity.data.type!=\'ONE_TO_ONE_COACHING\' && entity.data.type!=\'PERFORMANCE_EVALUATION_COACHING\' && entity.data.type!=\'ILT\' && entity.data.type!=\'REINFORCEMENT\'">\n                        <div ng-show="(entity.data.state==\'COMPLETED\' || entity.data.state==\'TIMEDOUT\') && entity.data.type != \'MISSION\' && !((entity.data.state==\'COMPLETED\' || entity.data.state==\'TIMEDOUT\') && entity.data.completionState==\'FAIL\' && isEntityCanBeReattempted())" \n                            class="F12 lineHeight24 colorText tooltip_top_left" mtitle={{getCompletionDateText()}}>\n                            <div class="floatL icon-tickQuestionWisePerformance F14 marginT5"\n                                 ng-class="{\'colorText_Icon\': (entity.data.completionState==\'FAIL\' || (isMission(entity.data.type) && getReviewScoreText(entity.data).kClass!=\'\'))}"\n                            ></div>\n                            <div class="ellipsis marginL18">{{getCompletionDateText()}}</div>\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n                    <div ng-if="entity.data.type==\'REINFORCEMENT\'">\n                        <div ng-if="entity.data.state != \'COMPLETED\' && !showReinStartIcon" class="borderTop pos_rel">\n                            <div style="top:0;left:0;" class="progressBar_Bg" ng-style="{width: (entity.data.percCompletion + \'%\'), \'border-radius\': (entity.data.percCompletion >= \'99\') ? \'0 0 20px 20px\' : \'0 10px 10px 20px\'}"></div>\n                        </div>\n                        <div ng-if="entity.data.state ==\'COMPLETED\'" class="F12 lineHeight24 colorText" mtitle={{getReinforcementCompletionText()}}>\n                            <div class="floatL icon-tickQuestionWisePerformance F14 marginT5"></div>\n                            <div class="ellipsis marginL18">{{getReinforcementCompletionText()}}</div>\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n                </div>\n                \n                <div ng-if="entity.data.type==\'ILT\'" class="floatL" ng-style="{opacity:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'1\':\'1\'}">\n                    <div ng-show="entity.data.lockState != \'LOCKED\'"\n                         class="floatL Btn_blue F12 paddingL12 paddingR12">\n                        <div class="floatL">{{\'VIEW\' | translate | titlecase}}</div>\n                        <div class="floatL icon-rightFillcaret_new F10 marginL8 marginT6"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-show="entity.data.lockState == \'LOCKED\'" class="floatL color88 F14 lineHeight24" >\n                        <div class="icon-Lock_icon marginT4 marginR8 floatL"></div>\n                        <div class="floatL color2a2e36" mt-trans="LB_TXT_LOCKED">Locked</div>\n                        <div class="clear"></div>\n                    </div>\n                    <div class="clear"></div>\n                </div>\n                <div ng-if="entity.data.type==\'COACHING\'" class="floatL lineHeight24 color2a2e36"\n                ng-style="{opacity:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'0.3\':\'1\'}">\n                    <div ng-if="entity.data.coachingSessionsType!=\'SINGLE\'"\n                          class="floatL F12" translate="{{((entity.data.reviewCycle>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}"\n                         translate-value-a="{{entity.data.reviewCycle}}"></div>\n                    <div ng-if="entity.data.state!=\'COMPLETED\'">\n                        <div class="floatL F12" \n                            translate="{{((entity.data.reviewCycle>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}"\n                            translate-value-a="{{entity.data.reviewCycle}}"></div>\n                        <div ng-if="(entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner) || entity.data.isCertificateAchived"\n                            class="floatL marginL4 marginR4 F14">|</div>\n                        <div ng-if="entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner" class="floatL F12"\n                            translate="COACHING_TXT_SCORE_SESSIONS" translate-value-a="{{entity.data.percentageScore}}%"></div>\n                        <div class="clear"></div>    \n                    </div> \n                    <div class="F12">\n                        <div ng-click="downloadCertificate(); $event.stopPropagation();"\n                            ng-if="entity.data.completionCertificateEnabled" \n                            class="floatL F14 marginT5"\n                            ng-class="{\'color35c759 icon-Certificate_new\':(entity.data.isCertificateAchived && entity.data.completionCertificateEnabled),\n                                    \'colorff6969 icon-Certificate_new\':!(entity.data.isCertificateAchived) && entity.data.completionCertificateEnabled}"></div>\n                        <div ng-if="!(entity.data.completionCertificateEnabled)"\n                            class="floatL F14 marginT5 color35c759 icon-tickQuestionWisePerformance"></div>            \n                        <div ng-show="entity.data.isCertificateAchived && entity.data.completionCertificateEnabled" class="marginL3 floatL">Certified</div>\n                        <div ng-show="!(entity.data.isCertificateAchived) && entity.data.completionCertificateEnabled" class="marginL3 floatL">Not Certified</div>\n                        <div ng-show="!(entity.data.completionCertificateEnabled) && entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner" \n                            class="marginL3 floatL"\n                            translate="COACHING_TXT_SCORE_SESSIONS" translate-value-a="{{entity.data.percentageScore}}%"></div>\n                        <div ng-if="(entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner) || entity.data.isCertificateAchived"\n                            class="floatL marginL4 marginR4 F14">|</div>\n                        <div ng-if="entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner" class="floatL"\n                            translate="COACHING_TXT_SCORE_SESSIONS" translate-value-a="{{entity.data.percentageScore}}%"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <!--div ng-click="downloadCertificate(); $event.stopPropagation();"\n                         ng-show="entity.data.isCertificateAchived" class="floatL certificateIcon marginT5 marginL5"></div-->\n                    <div class="clear"></div>\n                </div>\n                <div ng-if="entity.data.type==\'ONE_TO_ONE_COACHING\' " class="floatL lineHeight24 color2a2e36"\n                        ng-style="{opacity:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'0.3\':\'1\'}">\n                    <div ng-if="entity.data.state!=\'COMPLETED\'">\n                        <div class="floatL F12" \n                            translate="{{((entity.data.reviewCycle>1)?\'COACHING_TXT_N_SESSIONS\':\'COACHING_TXT_N_SESSION\')}}"\n                            translate-value-a="{{entity.data.reviewCycle}}"></div>\n                        <div ng-if="(entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner) || entity.data.isCertificateAchived"\n                            class="floatL marginL4 marginR4 F14">|</div>\n                        <div ng-if="entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner" class="floatL F12"\n                            translate="COACHING_TXT_SCORE_SESSIONS" translate-value-a="{{entity.data.percentageScore}}%"></div>\n                        <div class="clear"></div>    \n                    </div> \n                    <div class="F12" ng-if="entity.data.state==\'COMPLETED\'">\n                        <div ng-click="downloadCertificate(); $event.stopPropagation();"\n                            ng-if="entity.data.completionCertificateEnabled" \n                            class="floatL F14 marginT5"\n                            ng-class="{\'color35c759 icon-Certificate_new\':(entity.data.isCertificateAchived && entity.data.completionCertificateEnabled),\n                                    \'colorff6969 icon-Certificate_new\':!(entity.data.isCertificateAchived) && entity.data.completionCertificateEnabled}"></div>\n                        <div ng-if="!(entity.data.completionCertificateEnabled)"\n                            class="floatL F14 marginT5 color35c759 icon-tickQuestionWisePerformance"></div>            \n                        <div ng-show="entity.data.isCertificateAchived && entity.data.completionCertificateEnabled" class="marginL3 floatL">Certified</div>\n                        <div ng-show="!(entity.data.isCertificateAchived) && entity.data.completionCertificateEnabled" class="marginL3 floatL critical">Not Certified</div>\n                        <div ng-show="!(entity.data.completionCertificateEnabled) && entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner" \n                            class="marginL3 marginL3"\n                            translate="COACHING_TXT_SCORE_SESSIONS" translate-value-a="{{entity.data.percentageScore}}%"></div>\n                        <div ng-if="(entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner) || entity.data.isCertificateAchived"\n                            class="floatL marginL4 marginR4 F14">|</div>\n                        <div ng-if="entity.data.percentageScore>0 && entity.data.showOverallScoreToLearner" class="floatL"\n                            translate="COACHING_TXT_SCORE_SESSIONS" translate-value-a="{{entity.data.percentageScore}}%"></div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-if="entity.data.state==\'COMPLETED\'" class="F12 lineHeight24 colorText" >\n                        <div class="floatL icon-tickQuestionWisePerformance F14 marginT5"\n                            ng-class="{\'colorText_Icon\': ( entity.data.completionState==\'FAIL\' || (!(entity.data.isCertificateAchived) && entity.data.completionCertificateEnabled))}"></div>\n                        <div class="ellipsis marginL18" mt-trans="COACHING_TXT_CLOSED"></div>\n                        <div class="clear"></div>\n                    </div>     \n                    \n                </div>\n                <div ng-if="entity.data.type==\'PERFORMANCE_EVALUATION_COACHING\' " class="floatL lineHeight24"\n                     ng-style="{opacity:(entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\')? \'0.3\':\'1\'}">\n                    <div class="clear"></div>\n                </div>\n                \n\n                <div ng-if="entity.data.type == \'REINFORCEMENT\'">\n                    <div ng-if="showReinStartIcon">\n                        <div class="floatL Btn_blue F12 paddingL12 paddingR12">\n                            <div class="floatL" ng-if="(entity.data.state == \'ADDED\' || entity.data.state == \'CHALLENGE_ADDED\')">Start Challenge</div>\n                            <div class="floatL" ng-if="(entity.data.state != \'ADDED\' && entity.data.state != \'CHALLENGE_ADDED\')">Resume Challenge</div>\n                            <div class="floatL icon-rightFillcaret_new F10 marginL8 marginT6"></div>\n                            <div class="clear"></div>\n                        </div>\n                        <div class="clear"></div>\n                    </div>\n                    <div ng-if="entity.data.state !=\'COMPLETED\' && !showReinStartIcon" class="lineHeight16 marginT4 marginB4 F12 colo989ca6">{{entity.data.percCompletion}} % of Quest Completed</div>        \n                </div>\n                \n                <div class="clear"></div>\n            </div>\n            <div class="F13 paddingL15 paddingR15 textalign_C hover_on_locked_entity_message color66 marginR7 marginL7 paddingL30 paddingR30" ng-show="entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'"\n                 ng-if="isInSeries()" style="padding:0 20px; cursor:default;" ng-click="$event.stopPropagation();">\n                 <div style="display:table;height: 100%;">\n                     <div style="vertical-align:middle;display:table-cell; " mt-trans="LB_TXT_LOCKED_MODULE">To unlock this module, please complete all the previous modules in this series.</div>\n                 </div>\n            </div>\n            <div class="F13 paddingL15 paddingR15 textalign_C hover_on_locked_entity_message color66 marginR7 marginL7 paddingL10 paddingR10" ng-show="entity.data.lockState==\'LOCKED\' && entity.data.state!=\'COMPLETED\'"\n                 ng-if="!isInSeries()" style="cursor:default;" ng-click="$event.stopPropagation();">\n             \n            <div style="display:table;height: 100%;"> \n             <div style="display:table-cell;vertical-align:middle;"> \n                     The module you are trying\n                    to access is a part of a\n                    sequentially locked series. To access this\n                    module you need to complete\n                    all previous modules in the\n                    series.\n                        <div class="F13 pos_abs cursor gotoSeries" ng-click="openSeries(entity)" style="color: #0072bc;left:0px;text-align: center;bottom: 8px;width:100%;">Go to Series</div>\n                   </div>\n            </div>\n            </div>\n    \n        </div>\n     </div>   \n     <div ng-if="!isNotLoading()" style="height: 270px; width: 200px; float: left; background-color:rgba(255,255,255,0.8); margin-top:-270px; text-align:center;">\n         <img style="margin-top: 200px;" ng-src="{{loaderGif}}"/>\n     </div>\n     <div class="pos_abs color989ca6 lineHeight20 cursor" style="bottom:-25px;left:0;" ng-if="!isInSeries()" ng-click="gotoSeries()">\n         <div class=\'floatL F12 ellipsis marginL7\' style="width:170px"><span translate="IN_TEXT">in</span> &ldquo;{{entity.data.type==\'REINFORCEMENT\' ? "All Quests" : entity.data.seriesName}}&ldquo;</div>\n         <div class=\'clear\'></div>\n\t</div>\n</div>'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/recent-new/app-gamification-loading-entity-thumb.html",'<div class="floatL pos_rel marginR20 marginB20">\n    <div class="border_transparent borderR2">\n        <div class="bg_ff newCourseThumbNail cursor borderR2 pos_rel">\n            <div style="height:230px" class="pos_rel">\n                <div class="thumbNail_Img marginB9 cursor pos_rel">\n                    <div class="bg_ee" style="width:200px;max-width:200px;height:135px;min-height:135px; border-radius:2px 2px 0 0">\n                        <div class="textalign_C paddingT65">\n                            <div class="marginR2 marginL2 display_IB bg_cc" style="height: 12px; width: 12px; border-radius: 100%; animation: bounceLoader 1s infinite ease-in-out both; animation-delay: -0.32s" />\n                            <div class="marginR2 marginL2 display_IB bg_cc" style="height: 12px; width: 12px; border-radius: 100%; animation: bounceLoader 1s infinite ease-in-out both;animation-delay: -0.16s" />\n                            <div class="marginR2 marginL2 display_IB bg_cc" style="height: 12px; width: 12px; border-radius: 100%; animation: bounceLoader 1s infinite ease-in-out both;" />\n                        </div>\n                    </div>\n                </div>\n                <div class="color00 F16 cursor lineHeight24 marginB5 e2etest_EntityName paddingL10 paddingR10">\n                    <div class="tooltip_top_left">\n                        <div class="truncate_2_line loaderText marginB12" style="height:12px; width:146px;"></div>\n                        <div class="truncate_2_line loaderText" style="height:12px; width:90px;"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\'clear\'></div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/recent-new/app-recently-assigned-area.html",'<div wt-step="3" wt-group="demo" wt-text="{{ \'WT_M_RECENT\' | translate }}" wt-position="left"\n     wt-title="<div class=\'icon-recent F18 floatL marginR8\'></div><div class=\'floatL F14 lineHeight18\'>{{ \'Recent\' }}</div>"\n     style="background-color:#fff;margin:24px 0;padding: 12px 24px 24px; min-height: calc(100vh - 108px);" class="borderR4 boxShadow_Div boxShadow_Div_noHover">\n    <dashboard-header></dashboard-header>\n    <div class="marginT20">\n        <div class="marginB30" ng-if="(months.length > 0 || hasFilterApplied())">\n        \t<react-select-with-search \n        \t\tclass="floatL marginR20"\n        \t\tbutton-min-width="\'250px\'"\xa0  \n        \t\tbutton-max-width="\'250px\'"\xa0\n        \t\tis-button="true" \n        \t\tbutton-label="noneETLabelReact"\xa0\n        \t\tdefault-value="noneETLabelReact"\xa0\n        \t\tvalue="selectedEntityFilterReact()"\n        \t\tshow-search="false"\n        \t\ton-change="applyEntityFilterReact"\n        \t\tplaceholder="Select"\n        \t\thas-none="true"\n        \t\tsort-options="false"\n        \t\tnone-label="noneETLabelReact"\n        \t\tmenu-portal-target1="menuPortal"\n        \t\tstyles="mtReactStyle"\n        \t\toptions="reactEntityTypeFilters"></react-select-with-search>\n        \t<react-select-with-search\n        \t\tis-disabled="isDisableDropdows()"\n        \t\tclass="floatL marginR20"  \n        \t\tbutton-min-width="\'250px\'"\xa0  \n        \t\tbutton-max-width="\'250px\'"\xa0\n        \t\tis-button="true"\n        \t\thas-none="true"\n        \t\tbutton-label="noneCTLabelReact"\xa0\n        \t\tdefault-value="noneCTLabelReact"\n        \t\tnone-label="noneCTLabelReact"\xa0 \n        \t\tvalue="selectedCompletionFilter()"\xa0\n        \t\tshow-search="false"\n        \t\ton-change="applyCompletionFilterReact"\n        \t\tplaceholder="Select"\n        \t\tsort-options="false"\n        \t\tstyles="csReactStyle"\n        \t\tmenu-portal-target1="menuPortal"\n        \t\toptions="reactcompletionTypesFilters"></react-select-with-search>\n        \t<react-select-with-search\n        \t\tng-if="lsSettings.moduleRelevanceEnabled"\n        \t\tis-disabled="isDisableDropdows()" \n        \t\tclass="floatL marginR20"\n        \t\tis-multi="true"  \n        \t\tbutton-min-width="\'250px\'"\xa0  \n        \t\tbutton-max-width="\'250px\'"\xa0\n        \t\tis-button="true" \n        \t\thas-none="true"\n        \t\tbutton-label="noneMRLabelReact"\xa0\n        \t\tdefault-value="noneMRLabelReact"\n        \t\tnone-label="noneMRLabelReact"\xa0\n        \t\tvalue="selectedRelevanceFilterReactArr"\xa0\n        \t\tshow-search="false"\n        \t\ton-change="applyModuleRelevanceFilterReact"\n        \t\tsort-options="false"\n        \t\tstyles="mrReactStyle"\n        \t\tmenu-portal-target1="menuPortal"\n\t\t\t\t\t\toptions="reactModuleRelevanceFilters"></react-select-with-search>\t\n\t\t\t\t\t\t<div ng-if="hasFilterApplied()"\n                class="floatL resetFilterBtn lineHeight32 marginB12" translate="RESET_FILTERS" ng-click="resetFilters()"></div>\n            <div class="clear"></div>\n        </div>\n        <div class="heightInnerInfiniteScrollDiv"\n             infinite-scroll="fetchNext()"\n             infinite-scroll-container="scrollContainer"\n             infinite-scroll-distance="0"\n             infinite-scroll-disabled="anythingLoading()"\n             infinite-scroll-immediate-check="false"\n\t\t\t\t\t\t infinite-scroll-use-document-bottom="false"\n\t\t\t\t\t\t style="position: relative;  min-height: 400px;">\n            <month-view ng-if="!anythingLoading() || months.length > 0"\n                        ng-repeat="month in months track by month"\n                        month="month"\n                        style="min-height: 30px;">\n\t\t\t\t\t\t</month-view>\n\t\t\t\t\t\t<empty-state\n                ng-if="(!anythingLoading()) && months.length == 0 && !hasFilterApplied()"                         \n                img-src="images/EmptyStateParameters.svg"\n                message-title="NOT_BEEN_ASSIGNED_TO_ANY_SERIES"\n                suggestion-content="WHEN_ASSIGNED_YOU_WILL_BE_NOTIFIED"\n\t\t\t\t\t\t\t></empty-state>\n\t\t\t\t\t\t\t\n              <div\n                class="textalign_C"\n                ng-if="(!anythingLoading()) && months.length == 0 && hasFilterApplied()"\n              >\n                <empty-state img-src="images/noSearchResults.svg" message-title="FILTERS_HAVE_LEAD_YOU_NOWHERE"></empty-state>\n                <div class="color989CA6 F14 lineHeight20 marginT8" style="padding: 0 0 100px 0;">\n\t\t\t\t\t\t\t\t\t<span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n\t\t\t\t\t\t\t\t\t<span translate="RESET_FILTERS"></span>                  \n                </div>\n              </div>\n\t\t\t<!-- <div class="textalign_C"\n\t\t\t\tng-class="{\'marginB100\': isNewDesignLanguage()}"\n\t\t\t\tstyle="border-top:100px solid transparent" ng-if="(!anythingLoading()) && months.length == 0 &&\n                                                        (selectedEntityFilter() != entityTypes[defaultEntityFilterIndex].name ||\n                                                         selectedCompletionFilter()!=\'all\' || selectedRelevanceFilter().length!=0)">\n                <div class="color88 noTagsDirectionImg F40 marginB15" style="margin:0 auto 20px"></div>\n                <div class="color88 F20 lineHeight30 marginB2" translate="FILTERS_HAVE_LEAD_YOU_NOWHERE">This Series is empty.</div>\n                <div class="color88 F13 lineHeight18">\n                    <span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n                    <span class="cursor color0072bc" translate="RESET_FILTERS" ng-click="resetFilters()"></span>\n                </div>\n\t\t\t\t\t\t</div> -->\n\t\t\t\t\t\t<mt-loader ng-if="anythingLoading() && months.length == 0" type="full" size="sizeBig"></mt-loader>\n\t\t\t\t\t\t<mt-loader ng-if="anythingLoading() && months.length > 0" type="small" size="sizeSmall"></mt-loader>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n            <!-- <img ng-if="anythingLoading()"  ng-src="{{smallLoader}}"/> -->\n        </div>\n    </div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/recent-new/app-series-thumb.html",'<div class="floatL border_transparent" style="border-radius: 6px 0 6px 6px">  <!-- Series course starts -->\n    <div class="pos_rel seriesThumb_Big cursor bg_ff newCourseThumbNail cursor borderR8 pos_rel seriesThumb_New" \n        ng-style1="{\'border-top-right-radius\':(!series.thumb && series.totalEntities<1?\'80px\':\'0\')}"\n        style="border-top-right-radius:80px"\n        ng-click="openSeries(series)">   \n        <div class="pos_rel">\n            <div ng-if1="!series.thumb && series.totalEntities<1" class="seriesShape"></div>\n            <div ng-if="series.thumb" class="marginB12" \n                style="width: 200px; max-width: 200px; height: 135px; min-height: 135px; border-radius: 8px 8px 0px 0px;border: 1px solid #e8eaed;border-bottom: 0;">\n        \t\t<img ng-src="{{series.thumb}}" style="width:100%;height:100%;border-radius: 8px 8px 0px 0px; background: #fff; "/>\n        \t</div>\n        \t<div ng-if="!series.thumb && series.totalEntities>0" \n                class="marginB12" \n                ng-class="{ \'Images{{ thumbs.length }}\': true, Multiple: ((series.entities.length - thumbs.length) > 0) }" \n                style="bottom:0px;height:135px;width:200px;border-radius: 8px 8px 0px 0px;border: 1px solid #e8eaed;border-bottom: 0;">\n                 <div ng-repeat="thumb in thumbs track by $index"\n                      class="floatL"\n                      ng-class="{ \'Img{{ $index+1 }}\' : true }">\n                      <div class="floatL pos_rel" style="left:50%">\n                      \t<div class="floatL pos_rel" style="left:-50%">\n                     \t\t<img ng-src="{{thumb}}" style="background: #fff;"/>\n                     \t</div>\n                     </div>\n                     <div class="clear"></div>\t\t\n                     \n                 </div>\n                 <div class="clear"></div>\n                 <div ng-if="!series.thumb" class="pos_abs colorff textalign_C totalRemainingEntity" style="width: 99px;right: 0;top: 69px;background-color:rgba(0,0,0,0.3)">\n                     <div style="display:table-cell;vertical-align:middle;height:66px" ng-if="(series.entities.length - thumbs.length)> 0">\n                         <div class="F24 lineHeight26">+{{series.totalEntities - thumbs.length}}</div>\n                         <div class="F12 lineHeight16">more</div>\n                     </div>\n\n                 </div>\n             </div>\n            <div ng-if="!series.thumb && series.totalEntities<1" class="bg_9dc1fb marginB12" \n                style="width: 200px; max-width: 200px; height: 135px; min-height: 135px; border-radius: 8px 8px 0px 0px;border: 1px solid #e8eaed;border-bottom: 0;">\n            </div>\n            <div class="seriesTag_New" mt-trans="DASHBOARD_PROFILE_SERIES" style="padding:2px 8px"></div>\n            <div class="color2a2e36 F14 semiBold cursor lineHeight20 marginB4 paddingL12 paddingR12">\n                <div class="tooltip_top_left" mtitle={{series.name}}>\n                    <div class="truncate_2_line" style="max-height:40px">{{series.name}}</div>\n                </div>\n            </div>\n            <div class="marginT4 paddingL12 paddingR12 color2a2e36 F12 lineHeight16">{{series.totalEntities}} Module(s)</div>\n        </div>\n        <div class="paddingL12 paddingR12 pos_abs" style="bottom:8px;width: 100%">\n            <div ng-if="series.totalCompletedEntities==0" class="floatL Btn_blue F12 paddingL12 paddingR12">\n                <div class="floatL">{{\'VIEW\' | translate | titlecase}}</div>\n                <div class="floatL icon-rightFillcaret_new F10 marginL8 marginT6"></div>\n                <div class="clear"></div>\n            </div> \n            <!-- this is for series completion -->\n            <!--div ng-if="series.totalEntities>0 && series.totalCompletedEntities == series.totalEntities" \n                class="F12 lineHeight16 marginT4 marginB4 colorText tooltip_top_left" mtitle={{getCompletionDateText()}}>\n                <div class="floatL icon-tickQuestionWisePerformance F14 marginT1"></div>\n                <div class="ellipsis marginL18">{{getCompletionDateText()}}</div>\n                <div class="clear"></div>\n            </div-->\n            <div class="seriesProgressArea inProgress_Series"\n                style="width:100%"\n                ng-if="series.totalCompletedEntities!=0">\n                <div class="lineHeight16 marginT4 marginB4 F12 colo989ca6">\n                    <!--div class="floatL icon-tickQuestionWisePerformance F14 marginT1 marginR4"></div-->\n                    <div class="floatL marginR4">{{series.totalCompletedEntities}} of {{series.totalEntities}}</div>\n                    <div class="" translate="DASHBOARD_SERIES_THUMB_MODULES_COMPLETED">Modules Completed</div>\n                    <div class="clear"></div>\n                            \n                </div>\n                <div class="borderTop pos_rel">\n                    <div style="top:0;left:0;" class="progressBar_Bg" \n                        ng-style="{width: (((series.totalCompletedEntities*100)/series.totalEntities) + \'%\'), \n'+"                        'border-radius': (((series.totalCompletedEntities*100)/series.totalEntities) >= '99') ? '0 0 20px 20px' : '0 10px 10px 20px'}\"></div>\n                </div>\n            </div> \n        </div>\n    </div>\n</div>\n"),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/recent-new/module-list-view.html",'<div ng-class="{ paddingT10: !milestoneView }">\n    <div ng-if="getModuleList()" ng-repeat="thumb in getModuleList()" class="floatL pos_rel marginR20 marginB40">\n        <app-gamification-entity-thumb ng-if="thumb.type !== \'SERIES\'" month="month" entity="thumb"></app-gamification-entity-thumb>\n        <app-series-thumb ng-if="thumb.type === \'SERIES\'" series="thumb" month="month"></app-series-thumb>\n        <div class="clear"></div>\n    </div>\n    <div class="floatL pos_rel">\n        <loading-entity-thumb\n            ng-if="!getModuleList()"\n            class="floatL"\n            ng-repeat="i in numOfModules track by $index">\n        </loading-entity-thumb>\n    </div>\n    <div class="clear"></div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/recent-new/private-message.html",'<li class="hover_f5f6f7 display_N1">\n\t<div style="padding: 12px 14px">\t\n\t\t<div class="floatL">\n\t\t\t<img ng-src="{{message.user.pic ? message.user.pic : globalCtrl.defaultImage}}" alt="" \n\t\t\t\tstyle="width:42px;height:42px;border-radius:50%;box-sizing: content-box;border: 1px solid #bbb;" \n\t\t\t\tclass="fs-hide" />\n\t\t</div>\n\t\t<div class="marginL52">\n\t\t\t<div class="lineHeight20">\n\t\t\t\t<div class="floatR color4D7CC7 F12 cursor"\n\t\t\t\t\tng-click="globalCtrl.hideMessages();globalCtrl.sendPrivateMessage(message.user);"\n\t\t\t\t\tmt-trans="MSG_REPLY_TXT"></div>\n\t\t\t\t<div class="ellipsis color2a2e36 F14">{{message.user.name}}</div>\t\t\n\t\t\t</div>\n\t\t\t<div class="F12 color989ca6 lineHeight16 marginT8">{{message.textMsg}}</div>\n\t\t\t<div class="color606369 lineHeight16 F12 marginT8">{{getNiceDate(message.timestamp)}}</div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n</li>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/reviews/loadingSingleReview.html","<div>Loading....</div>"),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/reviews/mission_reviews.html",'<div>\n   \t<div class="lineHeight30 marginB40">\n   \t\t<div class="floatL color00 F16 marginR40" style="" mt-trans="M_REVIEW_ASSIGNED_TO_YOU">Reviews assigned to you</div>\n   \t\t<div class="floatL marginR30 marginT6">\n   \t\t\t<div class="pos_rel dropdown" style="width: 200px;">\n\t\t\t\t<div class="dropdown-toggle color99 paddingB5" style="border: none;border-bottom:1px solid #ddd;" aria-haspopup="true" aria-expanded="false">\n\t                <div ng-if="!selectedMissionObject" \n\t                \t style="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#999" \n\t                \t ng-click="isFocus()"\n\t                \t class="dropdown-text ng-binding" translate="M_FILTER_BY_MISSION">Filter by Mission</div>\n\t                <div ng-if="selectedMissionObject" style="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#000" class="dropdown-text ng-binding">{{selectedMissionObject.name}}</div>\n\t                <div ng-if="!selectedMissionObject" class="icon-ddArrowBottom F6 pos_abs" style="top:7px;right:5px"></div>\n\t                <div ng-if="selectedMissionObject" style="right: 5px;top: 8px;opacity:1;" \n\t\t\t\t\t\t\t class="icon-Close pos_abs F10 color99 cursor close"\n\t\t\t\t\t\t\t ng-click="clearSelectedMission()"></div>\n\t            </div>\n\t\t\t\t<div class="dropdown-menu" \n\t\t\t\t\t style="width: 230px;top: 26px;left:-15px;padding: 0;margin:0;border:0;">\n\t\t\t\t\t<div  ng-click="$event.stopPropagation()" \n\t\t\t\t\t\t  class="pos_abs paddingB5 borderB_0072bc color99 lineHeight20 cursor" style="top: -26px;left: 15px;">\n\t\t\t\t\t\t<input type="text"\n\t\t\t\t\t\t\t placeholder="{{(selectedMissionObject?selectedMissionObject.name:(\'M_FILTER_BY_MISSION\'|translate))}}"\n\t\t\t\t\t\t\t class="lineHeight22 F13 cursor focusMe" \n\t\t\t\t\t\t\t ng-model="missionSearchText" \n\t\t\t\t\t\t\t style="width: 200px;height: 20px;border: 0px;padding: 0px 20px 0 0;outline: 0px;color:#000;background:#f9f9f9;">\n\t\t\t\t\t\t<div style="right: 5px;top: 8px;" \n\t\t\t\t\t\t\t class="icon-Close pos_abs F10 color99 cursor close"\n\t\t\t\t\t\t\t ng-show="missionSearchText.length > 0"\n\t\t\t\t\t\t\t ng-click="clearSearchText(\'missionSearchText\')"></div>\n\t\t\t\t\t</div>\n\t                <ul class="newBoxShadow bg_ff" style="max-height:182px;"\n\t                \tng-if="customMissionList.length>0"\n\t                \tinfinite-scroll-parent="true" infinite-scroll="loadNextMissions()" infinite-scroll-disabled="!canGoNextMissions()">\n\t                    <li class="color99 F13 lineHeight30"\n\t                    \tng-repeat="missionObj in customMissionList"\n\t                    \tng-mousedown="updateSelectedMissionObj(missionObj)">\n\t                    \t<div class="floatL mBG_L marginT7 marginR5 entity_sml marginR5">M</div>\n                      \t\t<div class="floatL ellipsis" \n                      \t\t\t ng-class=\'{color00 : selectedMissionObject.name == missionObj.name}\'\n                      \t\t\t style="width: 164px;">{{missionObj.name}}</div>\n                      \t\t<div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t                </ul>\n\t            </div>\n\t\t\t</div>\n   \t\t</div>\n   \t\t<div class="floatL marginR30 marginT6">\n   \t\t\t<div class="pos_rel dropdown" style="width: 200px;">\n\t\t\t\t<div class="dropdown-toggle color99 paddingB5" style="border: none;border-bottom:1px solid #ddd;" aria-haspopup="true" aria-expanded="false">\n\t                <div ng-show="reviewsStore.currType!=\'PENDING\' && reviewsStore.currType!=\'COMPLETED\'" \n\t                \tstyle="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#999" class="dropdown-text ng-binding" \n\t                \ttranslate="M_FILTER_BY_MISSION_STATUS">Filter by Review Status</div>\n\t                <div ng-show="reviewsStore.currType==\'PENDING\'" \n\t                \t mt-trans="M_PENDING_REVIEWS" \n\t                \t style="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#000" class="dropdown-text ng-binding"></div>\n\t                <div mt-trans="M_COMPLETED_REVIEWS"\n\t                \t ng-show="reviewsStore.currType==\'COMPLETED\'" \n\t                \t style="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#000" class="dropdown-text ng-binding"></div>\n\t                <div ng-if="reviewsStore.currType==\'ALL\'" class="icon-ddArrowBottom F6 pos_abs" style="top:7px;right:5px"></div>\n\t                <div ng-if="reviewsStore.currType!=\'ALL\'" ng-click="changeMissionState(\'ALL\');" style="right: 5px;top: 8px;opacity:1;" class="icon-Close pos_abs F10 color99 cursor close"></div>\n\t            </div>\n\t\t\t\t<div class="dropdown-menu" style="width: 230px;top: 26px;left:-15px;padding: 0;margin:0;border:0;">\n\t\t\t\t\t<div ng-click="$event.stopPropagation()" class="pos_abs paddingB5 borderB_0072bc color99 lineHeight20" style="top: -26px;left: 15px;">\n\t\t\t\t\t\t<div class="lineHeight22 F13" \n\t\t\t\t\t\t\t style="width: 200px;height: 20px;border: 0px;padding: 0px 20px 0 0;outline: 0px;color:#000;background:#f9f9f9;">\n\t\t\t\t\t\t\t {{(reviewsStore.currType==\'PENDING\'?\'M_PENDING_REVIEWS\':(reviewsStore.currType==\'COMPLETED\'?\'M_COMPLETED_REVIEWS\':\'M_FILTER_BY_MISSION_STATUS\'))|translate}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!--input type="text"\n\t\t\t\t\t\t\t   placeholder="{{(reviewsStore.currType==\'PENDING\'?\'M_PENDING_REVIEWS\':(reviewsStore.currType==\'COMPLETED\'?\'M_COMPLETED_REVIEWS\':\'M_FILTER_BY_MISSION_STATUS\'))|translate}}" \n\t\t\t\t\t\t\t   class="lineHeight22 F13" \n\t\t\t\t\t\t\t   style="width: 200px;height: 20px;border: 0px;padding: 0px 20px 0 0;outline: 0px;color:#000;background:#f9f9f9;"-->\n\t\t\t\t\t</div>\n\t                <ul class="newBoxShadow bg_ff" style="max-height:182px;">\n\t                    <li ng-click="changeMissionState(\'PENDING\')" class="color99 F13 lineHeight36">\n\t                    \t<!-- div class="floatL mBG_L marginT10 marginR5 entity_sml marginR5">M</div-->\n                      \t\t\t<div mt-trans="M_PENDING_REVIEWS"\n                      \t\t\t\t class="floatL ellipsis" style="width: 198px;"></div>\n                      \t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li ng-click="changeMissionState(\'COMPLETED\')" class="color99 F13 lineHeight36">\n\t                    \t<!--  div class="floatL mBG_L marginT10 marginR5 entity_sml marginR5">M</div-->\n                      \t\t\t<div mt-trans="M_COMPLETED_REVIEWS"\n                      \t\t\t\t class="floatL ellipsis" style="width: 198px;"></div>\n                      \t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</li>\n\t                </ul>\n\t            </div>\n\t\t\t</div>\n   \t\t</div>\n\t\t<div class="floatL marginR30 marginT6">\n\t\t\t<div ng-if="1==1" class="floatL paddingB5" style="border: none;border-bottom:1px solid #ddd;">\n\t\t\t\t<div class="pos_rel dropdown" style="width: 200px;">\n\t\t\t\t\t<div class="floatL displayInflex pos_rel">\n\t\t\t\t\t\t<div ng-click="filterByQuery()" style="left:0px; top: 3px;" class="searchIcon_15_14 pos_abs cursor hSearchIcon"></div>\n\t\t\t\t\t\t<input type="text"\n\t\t\t\t\t\t\t   ng-model="$parent.tmpQuery"\n\t\t\t\t\t\t\t   ng-enter="filterByQuery()"\n\t\t\t\t\t\t\t   maxlength="100"\n\t\t\t\t\t\t\t   placeholder="{{Messages.M_SEARCH_LEARNER}}"\n\t\t\t\t\t\t\t   class="lineHeight20 F13 hSearchBox"\n\t\t\t\t\t\t\t   style="width: 200px; height: 20px; border: 0px; padding: 0px 20px 0px 20px; outline: 0px; color:#000; background: none;">\n\t\t\t\t\t\t<div ng-show="reviewsStore.currQuery"\n\t\t\t\t\t\t\t ng-click="clearQueryResults()"\n\t\t\t\t\t\t\t style="right:0px; top: 5px;"\n\t\t\t\t\t\t\t class="cross_10_10 pos_abs cursor"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="clear"></div>\n   \t</div>\n    <div class="">\n        <div class="pos_rel">\n            <div class="" infinite-scroll="loadNextPage()" infinite-scroll-disabled="!canGoNextPage()" infinite-scroll-container="\'.reivewsPageHeight\'">\n                <div ng-repeat="page in reviewsStore.store.pages">\n                    <div ng-hide="page.$resolved">\n                    \t<div class="clear"></div>\n                    \t<newloader-img>Loading...</newloader-img>\n                    </div>\n\t\t\t\t\t<div ng-if="page.$resolved && reviewsStore.store.reviewsArray.length < 1"\n\t\t\t\t\t\t class="textalign_C color88" style="margin-top:100px">\n\t\t\t\t\t\t<div class="noSubmissionImg" style="margin:0 auto 20px"></div>\n\t\t\t\t\t\t<div class="F18 lineHeight30 marginT5" translate="CURRENTLY_NO_SUBMISSION_TO_REVIEW"></div>\n\t\t\t\t\t</div>\n                    <!--<div ng-if="page.$resolved && page.missionLearners.length < 1 && reviewsStore.currType==\'COMPLETED\'" mt-trans="LB_TXT_NO_RESULT_FOUND_REVIEWES_COMPLETED"></div>-->\n                    <!--<div ng-if="page.$resolved && page.missionLearners.length < 1 && reviewsStore.currType!=\'COMPLETED\'" mt-trans="LB_TXT_NO_RESULT_FOUND_REVIEWES"></div>-->\n                    <div class="floatL" ng-repeat="learner in page.missionLearners" review-entity></div>\n                    <div class="clear1"></div>\n                </div>\n                <div class="clear"></div>\n            </div>\n        </div>\n    </div>\n</div>\n<div ui-view="reviewSingleEntity" class="display_N"></div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/reviews/review_entity.html",'<div class="floatL newBoxShadow pos_rel bg_ff marginR30 marginB50"\n     ng-click="openReview(learner,reviewsStore.store.missionMap[learner.missionLearner.id][learner.missionLearner.version], learner.indexReviews)"\n     ng-if="page.$resolved" style="height:247px">\n     <div ng-if="learner.missionLearnerData.learnerSubmission" class="pos_abs color99 F12 lineHeight20" style="bottom:-25px;left:0px"><span translate="DASHBOARD_REVIEW_SUBMITED_ON"></span> {{learner.missionLearnerData.learnerSubmission.createdAt | date:\'MMM dd, yyyy\'}}</div>\n     <div ng-if="!learner.missionLearnerData.learnerSubmission" class="pos_abs color99 F12 lineHeight20" style="bottom:-25px;left:0px"><span translate="DASHBOARD_REVIEW_SUBMITED_ON"></span> {{learner.missionLearnerData.starttime*1000 | date:\'MMM dd, yyyy\'}}</div>\n    <div>\n        <div class="pitchThumbNail">\n            <div class="pos_rel marginB9 cursor" style="box-shadow:0 1px 0px #bfbebe;">\n                <img ng-src="{{getMissionThumb(learner)}}" style="display:block;height:120px;width:220px;">\n                <div class="pos_abs bg_00 colorff F11 lineHeight20 paddingL8 paddingR8" style="right:0;bottom:0" ng-if="learner.missionLearnerData.learnerSubmission.missionMedia[0] && learner.missionLearnerData.type != \'LO_TASK_EVALUATION_MISSION\'">{{getRecordingTime(learner)}}</div>\n            </div>\n            <div class="" style="padding:0 10px">\n                <div class="floatL">\n                    <img ng-src="{{getProfilePic(learner)}}" style="display:block;height:48px;width:48px;border-radius:50%">\n                </div>\n                <div class="floatL marginL8">\n                    <div class="color00 F12 bold lineHeight20 marginT5 fs-hide" style="width:144px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap">{{getLeanerName(learner)}}</div>\n                    <div class="color66 F12 lineHeight20" style="width:144px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap" title="{{getMissionName(learner)}}">\n                        {{getMissionName(learner)}}\n                    </div>\n                </div>\n                <div class="clear"></div>\n            </div>\n            <div class="borderT20_transparent" style="padding:0 10px">\n                <div class="floatL borderBtn0072bc_30 F12 paddingL15 paddingR15"\n                     ng-hide="didIReviewed(learner)">\n                    <div class="floatL" mt-trans="M_REVIEW_NOW"></div>\n                    <div class="floatL icon-arrowRight marginL5 marginT8"></div>\n                    <div class="clear"></div>\n                </div>\n                <div class="floatL redBorderBtn_30 F12 paddingL20 paddingR20 marginL10"\n                     ng-if="learner.missionLearner.declined">\n                    <div class="floatL">\n                        Declined\n                    </div>\n                    <div class="clear"></div>\n                </div>\n                <div ng-if="didIReviewed(learner) && canShowScore(learner)">\n                    <div class="floatL marginT3 marginB3 marginL8">\n                        <span class="floatL F16 marginR10">{{getLearnerReviewerScore(learner)}}/5</span>\n                    </div>\n                    <div class="clear"></div>\n                </div>\n                <div class="clear"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/reviews/reviews_main_layout.html",'<div class="reivewsPageHeight" ng-controller="reviewsGlobalController as rgc">\n\t<div ng-hide="rgc.dataModel.isBackbone || (!isCoachingEnabled() && !isBetaCoachingEnabled())" class="marginT30">\n\t\t<div class="floatL pos_rel" style="left:50%">\n\t\t\t<div class="floatL pos_rel" style="left:-50%">\n\t\t\t\t<div class="floatL reviewDiv missionsTab lineHeight38 textalign_C"\n\t\t\t\t\t ng-class="{active:uiState.currentTab==\'MISSION_REVIEWS\'}"\n\t\t\t\t\t style="width:200px" ui-sref="root.reviews.missions" ng-click="uiState.currentTab=\'MISSION_REVIEWS\'">\n\t\t\t\t\t<span class="display_IB" mt-trans="LB_TXT_MISSIONS">Missions</span>\n\t\t\t\t\t<span ng-if="(dataModel.tabCounts.RP)>0" class="display_IB bgCircle_ff6266 marginL5" style="font-weight:normal">{{dataModel.tabCounts.RP}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="isCoachingEnabled()" class="floatL reviewDiv coachingTab lineHeight38 textalign_C"\n\t\t\t\t\t ng-class="{active:uiState.currentTab==\'COACHING_REVIEWS\'}"\n\t\t\t\t\t style="width:200px" ui-sref="root.reviews.coaching" ng-click="uiState.currentTab=\'COACHING_REVIEWS\'">\n\t\t\t\t\t<span class="display_IB" mt-trans="LB_TXT_COACHING">Coaching Sessions</span>\n\t\t\t\t\t<span ng-if="(dataModel.tabCounts.CS)>0" class="display_IB bgCircle_ff6266 marginL5" style="font-weight:normal">{{dataModel.tabCounts.CS}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="isBetaCoachingEnabled() && !isCoachingEnabled()" class="floatL reviewDiv coachingTab lineHeight38 textalign_C"\n\t\t\t\t\t style="width:200px" ng-click="redirectToNewCoaching()">\n\t\t\t\t\t<span class="display_IB" mt-trans="LB_TXT_COACHING">Coaching Sessions</span>\n\t\t\t\t\t<span ng-if="(dataModel.tabCounts.CS)>0" class="display_IB bgCircle_ff6266 marginL5" style="font-weight:normal">{{dataModel.tabCounts.CS}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="isMissionEnabled() && isBetaMissionEnabled()" style="float: right;position: relative;right: 20px;top: 10px;text-decoration: underline;">\n\t\t\t<a href="/ui/coaching/dashboard?state=ACTIVE&tab_type=MISSION">New Mission Reviews (Beta)</a>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n\t<div ng-hide="rgc.dataModel.isBackbone" class="paddingL30 paddingR30 marginT30" ui-view="reviewEntity">\n\t\t<img ng-src="" />\t\t\n\t</div>\n\t<div id="backboneContainer" ng-show="rgc.dataModel.isBackbone" class="bg_ff marginT30">{{dataModel.isBackbone}}</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search-new/file-list-search-partial.html",'<div style="min-width: 710px;">\n    <!--div class="floatL" style="width:840px;margin:30px 0 0px 20px" ng-style="{\'padding-bottom\':(!dontFetchMore) ? \'20px\' : 0}"-->\n        <div class="contentLoaderSearch ofh-y-auto" ng-class="{ \'wh-251\': !dontFetchMore }" style="position: relative;">\n            <div class="F14 color2a2e36 lineHeight20 semiBold paddingL24 borderB_E8EAED" style="padding:0 24px 12px" ng-if="dontFetchMore && !loading">\n                    <div class="floatL icon-All-Files F14 marginR8 marginT2"></div> \n                    <div class="floatL" translate="LB_TXT_FILES">Files</div>\n                    <div class="clear"></div>\n            </div>\n            <div \n                ng-if="max > 0"\n                infinite-scroll="fetchNext()"\n                infinite-scroll-container="\'.contentLoaderSearch\'"\n                infinite-scroll-distance="0"\n                infinite-scroll-disabled="loading || entities.length >= max"\n                infinite-scroll-immediate-check="false"\n                infinite-scroll-use-document-bottom="false">\n                <div>\n                    <table border="0" cellpadding="0" cellspacing="0" width="100%">\n                        <tr class="cursor hoverRowNew" ng-repeat="entity in entities" file-search-display-partial ng-click="openContent( entity, $index )"></tr>\n                    </table>\n                </div>\n                <div class="textalign_C color4a90e2" style="padding:8px 20px;" ng-if="!loading  && max > entities.length && !dontFetchMore" ng-click="fetchNext()">\n                    <span class="cursor F14" mt-trans="LB_TXT_LOAD_MORE"></span>\n                </div>\n                <div class="lineHeight20 color4a90e2 cursor" style="padding:8px 20px;" ng-if="dontFetchMore  && max > count" ng-click="openTab()">\n                    <div class="floatL F14 semiBold" translate="LB_TXT_VIEW_ALL_N_RESULTS" translate-value-a="{{max}}">View all {{max}} results</div>\n                    <div class="floatL icon-ddArrowRight F12 marginL8 marginT4"></div>\n                    <div class="clear"></div>\n                </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<empty-state ng-if="max === 0 && !hasFilterApplied() && !dontFetchMore"\n\t\t\t\t\t\t\t\timg-src="images/noSearchResults.svg" \n\t\t\t\t\t\t\t\tmessage-title="NO_RESULT_FOUND" suggestion-content="TRY_ADJUSTING_YOUR_SEARCH"></empty-state> \n\n\t\t\t\t\t\t<div ng-if="max === 0 && hasFilterApplied() && !dontFetchMore" class="textalign_C">\n\t\t\t\t\t\t\t<empty-state \n\t\t\t\t\t\t\t\t\timg-src="images/noSearchResults.svg" \n\t\t\t\t\t\t\t\t\tmessage-title="FILTERS_HAVE_LEAD_YOU_NOWHERE"></empty-state>\n\t\t\t\t\t\t\t<div class="color989CA6 F14 lineHeight20 marginT8" style="padding: 0 0 100px 0;">\n\t\t\t\t\t\t\t\t<span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n\t\t\t\t\t\t\t\t<span class="cursor color0072bc" translate="RESET_FILTERS" ng-click="resetFilters()"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n            <!-- <div no-result-without-filter-partial ng-if="max === 0 && !hasFilterApplied() && !dontFetchMore"></div>\n\t\t\t\t\t\t<div no-result-with-filter-partial reset-filters="resetFilters" ng-if="max === 0 && hasFilterApplied() && !dontFetchMore"></div> -->\n\t\t\t\t\t\t\n\t\t\t\t\t\t<mt-loader ng-if="loading && !dontFetchMore && entities.length == 0" type="full" size="sizeBig"></mt-loader>\n        \t\t<mt-loader ng-if="loading && !dontFetchMore && entities.length > 0" type="small" size="sizeSmall"></mt-loader>\t\t\t\t\t\t\n            <!-- <div  ng-if="loading && !dontFetchMore" class="textalign_C"><img ng-src="{{loader}}"/> </div> -->\n        </div>\n    <!--/div-->\n</div>\n<div class="pos_abs bgf5f6f7 wh-62 ofh-y-auto" style="width:260px;right:-260px;top:0">\n\t<div style="padding:24px">\n\t\t<div ng-if="!dontFetchMore">\n\t\t\t<div class="marginB20 semiBold">\n\t\t\t\t<div class="icon-Filter F12 floatL lineHeight20 marginR5 color2a2e36"></div>\n\t\t\t\t<div class="color2a2e36 F12 floatL lineHeight20 ng-scope" translate="LB_TXT_FILTER_BY">Filter By</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<mt-loader ng-if="aggrgationsLoading" type="small" size="sizeSmall" bg-color="transparent"></mt-loader>\n\t\t  \t<!-- <div class="lineHeight20 color737d8a marginL10" ng-if="aggrgationsLoading"><img ng-src="{{loader}}"/></div> -->\n\t\t\t<div class="lineHeight20 color737d8a"\n\t\t\t\tng-if="!aggrgationsLoading">\n\t\t\t\t<div ng-if="seriesList.length > 0" class="marginB20">\n\t\t\t\t\t<div class="F12 marginB7">SERIES</div>\n\t\t\t\t\t<div class="pos_rel dropdown" style="width: 180px">\n\t\t\t\t\t\t<div class="dropdown-toggle paddingB5"\n\t\t\t\t\t\t\tng-click="seriesSearchText=\'\'"\n\t\t\t\t\t\t\tstyle="border: none; border-bottom: 1px solid #ddd;"\n\t\t\t\t\t\t\taria-haspopup="true" aria-expanded="false">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle="padding: 0 25px 0 0px; background: transparent; font-size: 13px; line-height: 20px; color: #888"\n\t\t\t\t\t\t\t\tng-click="isFocus()" class="dropdown-text ellipsis">{{\n\t\t\t\t\t\t\t\tseriesFilter.name }}</div>\n\t\t\t\t\t\t\t<div ng-show="seriesFilter.id==\'ALL\'"\n\t\t\t\t\t\t\t\tclass="icon-ddArrowBottom F6 pos_abs"\n\t\t\t\t\t\t\t\tng-click="focusSearchText(\'.focusSeriesInput\');"\n\t\t\t\t\t\t\t\tstyle="top: 7px; right: 5px"></div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tng-if="seriesFilter.id!=\'ALL\' || seriesSearchText.length > 0"\n\t\t\t\t\t\t\t\tng-click="updateContentSeriesFilter({\'id\':\'ALL\'});$event.stopPropagation();clearSearch();"\n\t\t\t\t\t\t\t\tstyle="right: 0px; top: 0px; padding: 8px 5px 5px; opacity: 1;"\n\t\t\t\t\t\t\t\tclass="icon-Close pos_abs F10 color99 cursor close"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="dropdown-menu"\n\t\t\t\t\t\t\tstyle="width: 210px; top: 26px; left: -15px; padding: 0; margin: 0; border: 0;">\n\t\t\t\t\t\t\t<div ng-click="$event.stopPropagation()"\n\t\t\t\t\t\t\t\tclass="pos_abs paddingB5 borderB_0072bc color99 lineHeight20"\n\t\t\t\t\t\t\t\tstyle="top: -26px; left: 15px;">\n\t\t\t\t\t\t\t\t<input type="text"\n\t\t\t\t\t\t\t\t\tng-keypress="($event.which === 13)?triggerSearch():0"\n\t\t\t\t\t\t\t\t\tplaceholder="{{ seriesFilter.name }}"\n\t\t\t\t\t\t\t\t\tng-model="seriesSearchText"\n\t\t\t\t\t\t\t\t\tclass="lineHeight22 F13 cursor focusSeriesInput"\n\t\t\t\t\t\t\t\t\tstyle="width: 180px; height: 20px; border: 0px; padding: 0px 20px 0 0; outline: 0px; color: #000; background: #f9f9f9;">\n\t\t\t\t\t\t\t\t<div ng-show="seriesSearchText.length > 0"\n\t\t\t\t\t\t\t\t\tng-click="seriesSearchText = \'\';focusSearchText(\'.focusSeriesInput\');"\n\t\t\t\t\t\t\t\t\tstyle="right: 0px; top: 0px; padding: 9px 5px 5px;"\n\t\t\t\t\t\t\t\t\tclass="icon-Close pos_abs F8 color99 cursor close"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ul class="newBoxShadow bg_ff" style="max-height: 225px;">\n\t\t\t\t\t\t\t\t<li class="color88 F13 lineHeight36"\n\t\t\t\t\t\t\t\t\tng-click=" updateContentSeriesFilter(x) "\n\t\t\t\t\t\t\t\t\tng-class=\'{ color00: seriesFilter.name === x.name}\'\n\t\t\t\t\t\t\t\t\tng-repeat=" x in seriesList | filter: seriesSearchText">\n\t\t\t\t\t\t\t\t\t<div class="floatL icon-seriesOld F16 marginT10 marginR8"></div>\n\t\t\t\t\t\t\t\t\t<div class="floatL ellipsis" style="width: 123px;">{{\n\t\t\t\t\t\t\t\t\t\tx.name }}</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="customModuleList.length > 0" class="marginB20">\n\t\t\t\t\t<div ng-click="myVal=!myVal"\n\t\t\t\t\t\t\tng-init="myVal=true"\n\t\t\t\t\t\t\tclass="floatL F10 marginT5" \n\t\t\t\t\t\t\tng-class="{\'icon-triangleDown\':myVal,\'icon-triangleRight\':!myVal}"></div>\n\t\t\t\t\t\t\t<div class="floatL F12 marginL8 text-uppercase" mt-trans="TXT_MODULE">MODULE</div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t<div ng-show="myVal" class="marginL16 marginT12">\n\t\t\t\t\t\t\t\t<react-select-with-search \n\t\t\t        \t\tbutton-width="\'180px\'"\xa0\n\t\t\t        \t\tis-button="true" \n\t\t\t        \t\tbutton-label="noneETLabelReact"\xa0\n\t\t\t        \t\tdefault-value="noneETLabelReact"\xa0\n\t\t\t        \t\tvalue="selectedEntityFilterReact()"\n\t\t\t        \t\tshow-search="false"\n\t\t\t        \t\ton-change="updateContentModuleFilter"\n\t\t\t        \t\tplaceholder="Select"\n\t\t\t        \t\thas-none="true"\n\t\t\t        \t\tsort-options="false"\n\t\t\t\t\t\t\t\t\tnone-label="noneETLabelReact"\t\t\n\t\t\t\t\t\t\t\t\tclass-name="\'moduleListDDButton\'"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t        \t\toptions="moduleList"></react-select-with-search>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t<div ng-if="isMediaTypeFiltersAvailable()"\n\t\t\t\t\tclass="lineHeight20 color737d8a marginB20">\n\t\t\t\t\t<div ng-click="myVal=!myVal"\n\t\t\t\t\t\t\tng-init="myVal=true"\n\t\t\t\t\t\t\tclass="floatL F10 marginT5" \n\t\t\t\t\t\t\tng-class="{\'icon-triangleDown\':myVal,\'icon-triangleRight\':!myVal}"></div>\n\t\t\t\t\t<div class="floatL F12 marginL8 text-uppercase" mt-trans="DASHBOARD_CONTENT_FILE_TYPE">FILE TYPE</div>\t\t\t\t\t\t\t\n\t\t\t\t\t<div class="clear"></div>\n\n\t\t\t\t\t<div ng-show="myVal" class="floatL marginL16 marginT12">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass="floatL videoUnselected F18 colorf07878 cursor marginB8 marginR8 tooltip_top_left"\n\t\t\t\t\t\t\tmtitle="Video"\n\t\t\t\t\t\t\tng-if="mediaTypesToList[ mediaTypes[\'VIDEO\'] ] || mediaTypesToList[ mediaTypes[\'IMG_MASH_UP\'] ]"\n\t\t\t\t\t\t\tng-class="{\'videoSelected\':isInCurrentFilter(\'VIDEO\') || isInCurrentFilter(\'IMG_MASH_UP\')}"\n\t\t\t\t\t\t\tng-click="setContentType(\'VIDEO\')"></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass="floatL pdfUnselected F18 colord5605f cursor marginB8 marginR8 tooltip_top_left"\n\t\t\t\t\t\t\tmtitle="PDF"\n\t\t\t\t\t\t\tng-if="mediaTypesToList[ mediaTypes[\'DOCUMENT_PDF\'] ]"\n\t\t\t\t\t\t\tng-class="{\'pdfSelected\':isInCurrentFilter(\'DOCUMENT_PDF\')}"\n\t\t\t\t\t\t\tng-click="setContentType(\'DOCUMENT_PDF\')"></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass="floatL pptUnselected F18 colorf5b175 cursor marginB8 marginR8 tooltip_top_left"\n\t\t\t\t\t\t\tmtitle="PPT"\n\t\t\t\t\t\t\tng-if="mediaTypesToList[ mediaTypes[\'DOCUMENT_PPT\'] ]"\n\t\t\t\t\t\t\tng-class="{\'pptSelected\':isInCurrentFilter(\'DOCUMENT_PPT\')}"\n\t\t\t\t\t\t\tng-click="setContentType(\'DOCUMENT_PPT\')"></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass="floatL docUnselected F18 color83a6d4 cursor marginB8 marginR8 tooltip_top_left"\n\t\t\t\t\t\t\tmtitle="Doc"\n\t\t\t\t\t\t\tng-if="mediaTypesToList[ mediaTypes[\'DOCUMENT_WORD\'] ]"\n\t\t\t\t\t\t\tng-class="{\'docSelected\':isInCurrentFilter(\'DOCUMENT_WORD\')}"\n\t\t\t\t\t\t\tng-click="setContentType(\'DOCUMENT_WORD\')"></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass="floatL sheetUnselected F18 color61bd87 cursor marginB8 marginR8 tooltip_top_left"\n\t\t\t\t\t\t\tmtitle="Sheet"\n\t\t\t\t\t\t\tng-if="mediaTypesToList[ mediaTypes[\'DOCUMENT_XLS\'] ]"\n\t\t\t\t\t\t\tng-class="{\'sheetSelected\':isInCurrentFilter(\'DOCUMENT_XLS\')}"\n\t\t\t\t\t\t\tng-click="setContentType(\'DOCUMENT_XLS\')"></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass="floatL imageUnselected F18 color90cac0 cursor marginB8 marginR8 tooltip_top_left"\n\t\t\t\t\t\t\tmtitle="Image"\t \n\t\t\t\t\t\t\tng-if="mediaTypesToList[ mediaTypes[\'IMAGE\'] ] || mediaTypesToList[ mediaTypes[\'ALBUM\'] ]"\n\t\t\t\t\t\t\tng-class="{\'imageSelected\':isInCurrentFilter(\'IMAGE\') || isInCurrentFilter(\'ALBUM\')}"\n\t\t\t\t\t\t\tng-click="setContentType(\'IMAGE\')"></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass="floatL linkUnselected F18 colora28bc0 cursor marginB8 marginR8 cursor tooltip_top_left"\n\t\t\t\t\t\t\tmtitle="Link"\n\t\t\t\t\t\t\tng-if="mediaTypesToList[ mediaTypes[\'EMBED\'] ] ||\n                                                   mediaTypesToList[ mediaTypes[\'SLIDESHARE\'] ] ||\n                                                   mediaTypesToList[ mediaTypes[\'BRAINSHARK\'] ] ||\n                                                   mediaTypesToList[ mediaTypes[\'SWF\'] ] ||\n                                                   mediaTypesToList[ mediaTypes[\'ARCHIVE\'] ] ||\n                                                   mediaTypesToList[ mediaTypes[\'YOUTUBE\'] ] ||\n                                                   mediaTypesToList[ mediaTypes[\'PREZI\'] ] ||\n                                                   mediaTypesToList[ mediaTypes[\'IFRAME\'] ]"\n\t\t\t\t\t\t\tng-class="{\'linkSelected\':isInCurrentFilter(\'EMBED\') ||\n                                                                           isInCurrentFilter(\'SLIDESHARE\') ||\n                                                                           isInCurrentFilter(\'BRAINSHARK\') ||\n                                                                           isInCurrentFilter(\'SWF\') ||\n                                                                           isInCurrentFilter(\'ARCHIVE\') ||\n                                                                           isInCurrentFilter(\'YOUTUBE\') ||\n                                                                           isInCurrentFilter(\'PREZI\') ||\n                                                                           isInCurrentFilter(\'IFRAME\')}"\n\t\t\t\t\t\t\tng-click="setContentType(\'EMBED\')"></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass="floatL audioUnselected F18 colore2cc63 cursor marginB8 marginR8 tooltip_top_left"\n\t\t\t\t\t\t\tmtitle="Audio"\n\t\t\t\t\t\t\tng-if="mediaTypesToList[ mediaTypes[\'AUDIO\'] ]"\n\t\t\t\t\t\t\tng-class="{\'audioSelected\':isInCurrentFilter(\'AUDIO\')}"\n\t\t\t\t\t\t\tng-click="setContentType(\'AUDIO\')"></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass="floatL textUnselected F18 colorf07878 cursor marginB8 marginR8 tooltip_top_left"\n\t\t\t\t\t\t\tmtitle="Text"\n\t\t\t\t\t\t\tng-if="mediaTypesToList[ mediaTypes[\'NOTE\'] ]"\n\t\t\t\t\t\t\tng-class="{\'textSelected\':isInCurrentFilter(\'NOTE\')}"\n\t\t\t\t\t\t\tng-click="setContentType(\'NOTE\')"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="!dontLoadTags" class="floatL marginB30"\n\t\t\t\t\tstyle="width: 100%">\n\t\t\t\t\t<tag-search-filter toggle-tag="toggleTag"\n\t\t\t\t\t\tis-tag-active="isTagActive" tags-list="tagsList"\n\t\t\t\t\t\tis-new-design-language="isNewDesignLanguage" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\t\n'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search-new/file-search-display-partial.html",'<td style="width:50%;padding:12px 0px" class="borderB_E8EAED pos_rel">\n    <div ng-class="{\'contentLockedStyle\' : (entity.locked==true || entity.lockState==\'LOCKED\')}"></div>\n    <div class="marginR24 marginL24" style="display: table">\n        <div style="display: table-cell;vertical-align: middle;border:0">\n            <div \n                class="F16 marginR6 cursor"\n                ng-click="bookmarkContent()"\n                stop-event\n                ng-class="{\'icon-starMarked coloreda43e\':entity.starred,\n                           \'icon-star color959595\':!entity.starred && (!entity.locked==true || !entity.lockState==\'LOCKED\'),\n                           \'icon-Lock_icon width17 textalign_C color959595\': (entity.locked==true || entity.lockState==\'LOCKED\')\n                        }">\n            </div>\n        </div>\n        <!--div class="floatL F16 marginT2 pos_rel" ng-class="getContentClassNew( entity.type )">\n            <div ng-if="(entity.locked==true || entity.lockState==\'LOCKED\')" style="top: -7px;right:-4px;" class="icon-Lock_icon pos_abs color66 F12"></div>\n        </div-->\n        <div style="display: table-cell;vertical-align: middle;border:0">\n            <div ng-class="getContentClassNew( entity.type )"></div>\n        </div>\n        <div class="marginL12">\n            <div class="color2a2e36 semiBold F14 lineHeight20">{{entity.title}}</div>\n            <div class="color606369 F12 lineHeight16 marginT4">{{getContentInfo( entity )}}</div>\n        </div>    \n\n\n        <!--div>\n            <div class="floatL F16 marginT2 pos_rel" ng-class="getContentClass( entity.type )">\n            \t<div ng-if="(entity.locked==true || entity.lockState==\'LOCKED\')" style="top: -7px;right:-4px;" class="icon-Lock_icon pos_abs color66 F12"></div>\n            </div>\n            <div class="F13 color00 lineHeight20 ellipsis marginL32">{{ entity.title }}</div>\n            <div class="clear"></div>\n        </div>\n        <div class="color88 F12 lineHeight20 marginL32 marginT8">\n            <div class="floatL">{{getContentInfo( entity )}}</div>\n            <div class="floatL bg_88 marginT2 marginL10 marginR10" style="width:1px;height:16px"></div>\n            <div class="floatL">\n                <div ng-if="entity.entityType==\'COURSE\'" class="floatL cBG_L entity_sml marginT3" style="height:14px;width:14px;line-height:14px;font-size:9px">C</div>\n                <div ng-if="entity.entityType==\'UPDATE\'" class="floatL qBG_L entity_sml marginT3" style="height:14px;width:14px;line-height:14px;font-size:9px">Q</div>\n                <div class="floatL marginL6">{{ entity.entity_name }}</div>\n                <div class="clear"></div>\n            </div>\n            <div class="clear"></div>\n        </div-->\n    \n    </div>\n</td>\n<td class="borderB_E8EAED pos_rel" valign="middle" style="width: 25%;padding:12px 0">\n    <div ng-class="{\'contentLockedStyle\' : (entity.locked==true || entity.lockState==\'LOCKED\')}"></div>\n    <div class="marginR24" style="display: table">\n        <div style="display: table-cell;vertical-align: middle;border:0">\n            <div ng-if="entity.entityType==\'COURSE\'" class="cBG_L entity_sml" style="height:14px;width:14px;line-height:14px;font-size:9px">C</div>\n            <div ng-if="entity.entityType==\'UPDATE\'" class="qBG_L entity_sml" style="height:14px;width:14px;line-height:14px;font-size:9px">Q</div>\n        </div>    \n        <div class="marginL8 color606369">{{ entity.entity_name }}</div>\n    </div>\n</td>\n\n<td class="borderB_E8EAED pos_rel" valign="middle" style="width: 25%;padding:12px 0">\n    <div ng-class="{\'contentLockedStyle\' : (entity.locked==true || entity.lockState==\'LOCKED\')}"></div>\n\t<div class="color606369 F13 lineHeight20 marginL20" ng-if="entity.completion_perc == 0 && entity.completed_on == 0" translate="DASHBOARD_LEARNER_GRAPH_LABEL_DNS"></div>\n\t<div class="color606369 F13 lineHeight20 marginL20" ng-if="entity.completion_perc > 0 && entity.completed_on == 0">{{(isDecimalNumber(entity.completion_perc) ? entity.completion_perc : ( entity.completion_perc | number : 2))}}% <span translate="M_TXT_COMPLETED"></span></div>\n    <div class="color606369 F13 lineHeight20 marginL20" ng-if="entity.completed_on > 0" translate="DASHBOARD_TXT_COMPLETED_ON" translate-value-a="{{getNiceDate(entity.completed_on )}}"></div>\n</td>\n\n<!--td valign="middle" align="right" class="borderB_dd pos_rel" style="width:10%;padding:10px 20px" click-anywhere-but-here="hideTip()">\n    <div class="F16 paddingT5 paddingB5 cursor"\n         ng-click="bookmarkContent()"\n         stop-event\n         ng-class="{\'icon-starMarked colorf5d078\':entity.starred,\'icon-star colorf5d078\':!entity.starred}"></div>\n    <div ng-show="!isTipHidden"style="right: 54px;top: 18px;x;z-index: 2;" class="cmn_dd pos_abs">\n        <div style="right: -13px;t;top: 7px;z-index: 2;" class="triangleRight_28_14 pos_abs"></div>\n        <div class="ddBG pos_rel" style="right:0px;top:3px;width:auto;">\n            <div style="padding: 5px 10px;width: 300px;">\n                <div class="color00 F13 lineHeight22 lockedContentMsg textalign_L">{{\'LB_TXTX_CANT_STAR\'|translate}}</div>\n            </div>\n        </div>\n    </div>\n</td-->'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search-new/global-search-suggestions.html",'<div class="pos_abs autocomplete-results"  style="left: -1px; top: 35px; z-index: 11;">\n\t<div style="min-width:402px;max-width: 600px;left:0;top:2px;" ng-if="(!searchQuery && clickInPreviewDD && recentSearches.length>0) || showPreviewDD() || (clickInPreviewDD && searchQuery && isSuggestionsEmpty())" class="wh-50 ddBG1 pos_abs dashboardBoxshadow paddingT10 paddingB10">\n\t\t<div ng-show="!searchQuery && clickInPreviewDD && recentSearches.length>0">\n\t\t\t<div class="borderB_E8EAED paddingB8 lineHeight20 F11 color989ca6 paddingL23 marginB8">\n\t\t\t\t<div class="floatL pos_rel bg_ff paddingR10" mt-trans="LB_TXT_RECENT_SEARCHES">RECENT SEARCHES</div>\n\t\t\t\t<div ng-click="clearRecentSearches()" class="floatR pos_rel bg_ff color0072bc cursor paddingR10 paddingL10" mt-trans="CLEAR">Clear</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<ul class="hover_li">\n\t\t\t\t<li ng-repeat="sitem in recentSearches"\n\t\t\t\t\tng-click="triggerSearch(\'recent_searches\', sitem.query);"\n\t\t\t\t\tclass="lineHeight18 color989ca6 cursor highlightThis NLD_liHover " style="padding:7px 10px 7px 15px">\n\t\t\t\t\t<div class="floatL F14 marginT3 icon-due"></div>\n\t\t\t\t\t<div class="F13 marginL10 marginL24">{{sitem.query}}</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div ng-if="(searchQuery && isSuggestionsEmpty())">\n\t\t\t<ul class="hover_li1">\n\t\t\t\t<li class="lineHeight18 color00" style="padding:7px 10px 7px 23px">\n\t\t\t\t\t<div class="F13 marginL1011 marginL2422">\n\t\t\t\t\t\t<span translate="NO_RESULT_FOUND">No results found</span> \n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div ng-if="showPreviewDD()">\n\t\t\t<div class="paddingL13">\n\t\t\t\t<div class="F14 lineHeight20 paddingL10 paddingR10 marginB10">\n\t\t\t\t\t<span class="color989ca6" mt-trans="LB_TXT_SEARCH_FOR_IN">Search for</span>\n\t\t\t\t\t<span class="color4D7CC7">{{LB_TXT_SEARCH_FOR_IN|translate}} {{searchQuery}} {{IN_TEXT|translate}}</span>\n\t\t\t\t\t<span class="color989ca6"><span mt-trans="IN_TEXT"> in</span> :</span>\n\t\t\t\t</div>\n\t\t\t\t<div ng-repeat="sec in searchSections"\n\t\t\t\t\tng-click="gotoSearchSec(sec)"\n\t\t\t\t\tclass="floatL tagCloudItem cursor color989ca6">\n       \t\t\t\t<div class="floatL {{sec.icon}} F12 marginT6 marginR5"></div>\n       \t\t\t\t<div class="floatL F12">{{sec.textNew}}</div>\n  \t\t\t\t\t<div class="clear"></div>\n   \t\t\t\t</div>\n   \t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="borderB_E8EAED paddingB5 lineHeight20 F11 color989ca6 paddingL23 marginB8" mt-trans="LB_TXT_TOP_RESULTS">TOP RESULTS</div>\n\t\t\t\t<ul class="hover_li">\n\t\t\t\t\t<li ng-repeat="suggested in suggestions" ng-click="openEntity(suggested)" class="lineHeight18 color989ca6 cursor highlightThis NLD_liHover" style="padding:7px 10px 7px 15px">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div ng-class="getIconClassForItem(suggested).tag"\n\t\t\t\t\t\t\t\t ng-if="getIconClassForItem(suggested).tag"\n\t\t\t\t\t\t\t\t class="floatL marginT1 marginR10 NLD_iconColor"\n\t\t\t\t\t\t\t\t style="width: 16px;height: 16px;font-size: 12px;line-height: 16px;">\n\t\t\t\t\t\t\t\t{{getIconClassForItem(suggested).type}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatL marginR10"\n\t\t\t\t\t\t\t\t ng-class="{\'icon-person F16\':!(getIconClassForItem(suggested).pic)}"\n\t\t\t\t\t\t\t\t ng-if="!getIconClassForItem(suggested).tag">\n\t\t\t\t\t\t\t\t<img ng-if="getIconClassForItem(suggested).pic" class="textalign_C display_B" style="width:16px; height:16px;border-radius: 50%;"\n\t\t\t\t\t\t\t\t\t\tng-src="{{getIconClassForItem(suggested).pic}}"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatR marginT2 marginR10 lockCIcon"\n\t\t\t\t\t\t\t\t ng-show="suggested.type != \'SERIES\' && suggested.lockState == \'LOCKED\'">&nbsp;\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatL1 F13"\n\t\t\t\t\t\t\t\t style="min-width: 313px;max-width: 526px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"\n\t\t\t\t\t\t\t\t ng-if="suggested.name">\n\t\t\t\t\t\t\t\t{{suggested.name}}&nbsp;\n\t\t\t\t\t\t\t\t<span class="color88" ng-if="suggested.searchType==\'MODULES\' && getResultReasonPriority(suggested)==4">\n\t\t\t\t\t\t\t\t\t<span>has</span>\n\t\t\t\t\t\t\t\t\t<!-- span>&#39;</span-->\n\t\t\t\t\t\t\t\t\t<span class="bg_fffdd9">{{searchQuery}}</span>\n\t\t\t\t\t\t\t\t\t<!--  span>&#39;</span-->\n\t\t\t\t\t\t\t\t\t<span ng-if="suggested.type!=\'COACHING\'">in Topic name</span>\n\t\t\t\t\t\t\t\t\t<span ng-if="suggested.type==\'COACHING\'" >in Section name</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="color88" ng-if="suggested.searchType==\'MODULES\' && getResultReasonPriority(suggested)==3">\n\t\t\t\t\t\t\t\t\t<span>has</span>\n\t\t\t\t\t\t\t\t\t<span>&#39;</span>\n\t\t\t\t\t\t\t\t\t<span class="bg_fffdd9">{{searchQuery}}</span>\n\t\t\t\t\t\t\t\t\t<span>...&#39; Tag</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="color88" ng-if="(suggested.searchType == \'MODULES\' || suggested.searchType == \'SERIES\') && getResultReasonPriority(suggested)==2">\n\t\t\t\t\t\t\t\t\t<span>has</span>\n\t\t\t\t\t\t\t\t\t<!--  span>&#39;</span-->\n\t\t\t\t\t\t\t\t\t<span class="bg_fffdd9">{{searchQuery}}</span>\n\t\t\t\t\t\t\t\t\t<!-- span>&#39;</span-->\n\t\t\t\t\t\t\t\t\t<span>in</span>\n\t\t\t\t\t\t\t\t\t<span>Description</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatL1 F13"\n\t\t\t\t\t\t\t\t style="min-width: 233px;max-width: 526px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"\n\t\t\t\t\t\t\t\t ng-if="suggested.title">\n\t\t\t\t\t\t\t\t{{suggested.title}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t</div>\n</div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search-new/global-search.html",'<div class="pos_rel bgf5f6f7" style="min-width:710px;margin-right: 260px;padding:24px 0 24px 24px;">\n\t<div class="bg_ff borderR4" style="box-shadow: 0 4px 4px #ccc;padding: 24px 8px;height: calc(100vh - 108px); overflow: auto;">\n\t\t<div class="color2a2e36 lineHeight30 F20 marginB12 paddingL24 paddingR24 semiBold">Search Results</div>\n\t\t<div class="menuParent F14 lineHeight50 pos_rel ofh"\n\t\t\tng-if="searchTypesCounts[\'ALL\'] > 0"\n\t\t\tstyle="padding: 0 24px">\n\t\t\t<div class="pos_abs borderB_dd" style="width:100%;bottom:0px;left:0px;"></div>\n\t\t\t<div class="floatL textalign_C menuItem pos_rel" style="width:20%"\n\t\t\t\tng-class="{ active: ( typeOfSearch === TYPES_OF_SEARCH.ALL ) }"\n\t\t\t\tng-click="selectType( TYPES_OF_SEARCH.ALL )"><span translate="LB_TXT_CAP_TOP">TOP</span> ({{searchTypesCounts[\'ALL\']}})</div>\n\t\t\t<div class="floatL textalign_C menuItem pos_rel" style="width:20%"\n\t\t\t\tng-class="{ active: ( typeOfSearch === TYPES_OF_SEARCH.SERIES ) }"\n\t\t\t\tng-click="selectType( TYPES_OF_SEARCH.SERIES )"><span translate="LB_TXT_CAP_SERIES">SERIES</span> ({{searchTypesCounts[\'SERIES\']}})</div>\t\n\t\t\t<div class="floatL textalign_C menuItem pos_rel" style="width:20%"\n\t\t\t\tng-class="{ active: ( typeOfSearch === TYPES_OF_SEARCH.MODULE ) }"\n\t\t\t\tng-click="selectType( TYPES_OF_SEARCH.MODULE )"><span translate="LB_TXT_CAP_MODULES">MODULES</span> ({{searchTypesCounts[\'MODULES\']}})</div>\n\t\t\t<div class="floatL textalign_C menuItem pos_rel" style="width:20%"\n\t\t\t\tng-class="{ active: ( typeOfSearch === TYPES_OF_SEARCH.FILE ) }"\n\t\t\t\tng-click="selectType( TYPES_OF_SEARCH.FILE )"><span translate="LB_TXT_CAP_FILES">FILES</span> ({{searchTypesCounts[\'FILES\']}})</div>\n\t\t\t<div class="floatL textalign_C menuItem pos_rel" style="width:20%"\n\t\t\t\tng-if="TYPES_OF_SEARCH.PEER"\n\t\t\t\tng-class="{ active: ( typeOfSearch === TYPES_OF_SEARCH.PEER ) }"\n\t\t\t\tng-click="selectType( TYPES_OF_SEARCH.PEER )"><span translate="LB_TXT_CAP_PEERS">PEERS</span> ({{searchTypesCounts[\'PEERS\']}})</div>\n\t\t\n\t\t\t\t<!--<div class="floatL textalign_C menuItem pos_rel" style="width:20%"-->\n\t\t\t\t<!--ng-class="{ active: ( typeOfSearch === TYPES_OF_SEARCH.REVIEW ) }"-->\n\t\t\t\t<!--ng-click="selectType( TYPES_OF_SEARCH.REVIEW )">REVIEWS (3)</div>-->\n\t\t\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div ng-if="typeOfSearch === TYPES_OF_SEARCH.ALL">\n\t\t\t<div top-list-search-partial  class="wh-251" ng-class="{ \'wh-174\': ( searchTypesCounts[\'ALL\'] === 0) }"></div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div series-list-search-partial is-in-own-tab="true" ng-if="typeOfSearch === TYPES_OF_SEARCH.SERIES"></div>\n\t\t<div module-list-search-partial is-in-own-tab="true" ng-if="typeOfSearch === TYPES_OF_SEARCH.MODULE"></div>\n\t\t<div file-list-search-partial is-in-own-tab="true" ng-if="typeOfSearch === TYPES_OF_SEARCH.FILE"></div>\n\t\t<div peer-list-search-partial is-in-own-tab="true" ng-if="typeOfSearch === TYPES_OF_SEARCH.PEER"></div>\n\n\t\t<!--<div review-list-search-partial ng-if="typeOfSearch === TYPES_OF_SEARCH.REVIEW"></div>-->\n\n\t\t<!-- <empty-state \n\t\t\t\tng-if="searchTypesCounts[\'ALL\'] == 0"\n\t\t\t\timg-src="images/noSearchResults.svg" \n\t\t\t\tmessage-title="NO_RESULT_FOUND" suggestion-content="TRY_ADJUSTING_YOUR_SEARCH"></empty-state>  -->\n\n\t\t<!-- <div class="textalign_C color88 wh-611 display_N">\n\t\t\t<div class="borderT100_transparent">\n\t\t\t\t<div class="noSearchResultImg" style="margin:0 auto 20px"></div>\n\t\t\t\t<div class="F18 lineHeight30 marginT5 ng-scope" translate="NO_RESULT_FOUND">No Results Found</div>\n\t\t\t\t<div class="F13 lineHeight20 ng-scope" translate="TRY_ADJUSTING_YOUR_SEARCH">Try adjusting your search</div>\n\t\t\t</div>\n\t\t</div> -->\n\t</div>\n</div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search-new/module-list-search-partial.html",'<div style="min-width: 710px;" >\n    <div class="contentLoaderSearch ofh-y-auto" ng-class="{ \'wh-251\': !dontFetchMore }" style="position: relative;">\n        <div class="F14 color2a2e36 lineHeight20 semiBold paddingL24 borderB_E8EAED" style="padding:0 24px 12px" ng-if="dontFetchMore && !loading && max > 0">\n           <div class="floatL icon-modules F14 marginR8 marginT2"></div> \n           <div class="floatL" translate="DASHBOARD_PROFILE_TXT_MODULES">Modules</div>\n           <div class="clear"></div>\n        </div>\n        <div ng-if="max > 0"\n             infinite-scroll="fetchNext()"\n             infinite-scroll-container="\'.contentLoaderSearch\'"\n             infinite-scroll-distance="0"\n             infinite-scroll-disabled="loading || entities.length >= max"\n             infinite-scroll-immediate-check="false"\n             infinite-scroll-use-document-bottom="false">\n            <div>\n                <table border="0" cellpadding="0" cellspacing="0" width="100%">\n                    <tr class="cursor hoverRowNew" ng-repeat="entity in entities" module-search-display-partial></tr>\n                </table>\n            </div>\n            <div class="textalign_C color4a90e2 cursor" style="padding:8px 20px;" ng-if="!loading && max > entities.length && !dontFetchMore" ng-click="fetchNext()">\n                <span class="F14" mt-trans="LB_TXT_LOAD_MORE"></span>\n            </div>\n            <div class="lineHeight20 color4a90e2 cursor" style="padding:8px 20px;" ng-if="dontFetchMore && max > count" ng-click="openTab()">\n                <div class="floatL F14 semiBold" translate="LB_TXT_VIEW_ALL_N_RESULTS" translate-value-a="{{max}}">View all {{max}} results</div>\n                <div class="floatL icon-ddArrowRight F12 marginL8 marginT4"></div>\n                <div class="clear"></div>\n            </div>\n        </div>\n\n        <empty-state ng-if="max === 0 && !hasFilterApplied() && !dontFetchMore"\n\t\t\t\timg-src="images/noSearchResults.svg" \n                message-title="NO_RESULT_FOUND" suggestion-content="TRY_ADJUSTING_YOUR_SEARCH"></empty-state> \n\n        <div ng-if="max === 0 && hasFilterApplied() && !dontFetchMore" class="textalign_C">\n            <empty-state \n                    img-src="images/noSearchResults.svg" \n                    message-title="FILTERS_HAVE_LEAD_YOU_NOWHERE"></empty-state>\n            <div class="color989CA6 F14 lineHeight20 marginT8" style="padding: 0 0 100px 0;">\n                <span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n                <span class="cursor color0072bc" translate="RESET_FILTERS" ng-click="resetFilters()"></span>\n            </div>\n        </div>\n        <!-- <div no-result-without-filter-partial\n             ng-if="max === 0 && !hasFilterApplied() && !dontFetchMore"></div>\n        <div no-result-with-filter-partial reset-filters="resetFilters"\n             ng-if="max === 0 && hasFilterApplied() && !dontFetchMore"></div> -->\n        <mt-loader ng-if="loading && !dontFetchMore && entities.length == 0" type="full" size="sizeBig"></mt-loader>\n        <mt-loader ng-if="loading && !dontFetchMore && entities.length > 0" type="small" size="sizeSmall"></mt-loader>\n        \n        <!-- <div  ng-if="loading && !dontFetchMore" class="textalign_C"><img ng-src="{{loader}}"/> </div> -->\n    </div>\n</div>\n<div class="pos_abs bgf5f6f7 wh-62 ofh-y-auto" style="width:260px;right:-260px;top:0">\n\t<div style="padding:24px">\n\t\t<div ng-if="!dontFetchMore">\n                            <mt-loader ng-if="loadingAggs" type="small" size="sizeSmall" bg-color="transparent"></mt-loader>\n                            <div class="lineHeight20 color737d8a" ng-if="!loadingAggs">\n                            <div class="marginB20 semiBold">\n\t\t\t\t\t\t\t\t\t<div class="icon-Filter F12 floatL lineHeight20 marginR5 color2a2e36"></div>\n\t\t\t\t\t\t\t\t\t<div class="color2a2e36 F12 floatL lineHeight20 ng-scope" translate="LB_TXT_FILTER_BY">Filter By</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t\t  </div>\n                                <div ng-if="seriesList.length > 0" class="marginB20">\n                                    <div class="F12 marginB7" mt-trans="LB_TXT_CAP_SERIES">SERIES</div>\n                                    <div class="pos_rel dropdown" style="width:180px">\n                                        <div class="dropdown-toggle paddingB5"\n                                             ng-click="seriesSearchText=\'\'"\n                                             style="border: none;border-bottom:1px solid #ddd;" aria-haspopup="true" aria-expanded="false">\n                                            <div style="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#888"\n                                                 ng-click="isFocus()"\n                                                 class="dropdown-text ellipsis">{{seriesFilter.name}}</div>\n                                            <div ng-show="seriesFilter.id === \'ALL\'"\n                                                 class="icon-ddArrowBottom F6 pos_abs"\n                                                 ng-click="focusSearchText(\'.focusSeriesFilter\')"\n                                                 style="top:7px;right:5px"></div>\n                                            <div ng-if="seriesFilter.id !== \'ALL\' || seriesSearchText.length > 0"\n                                                 ng-click="updateSeriesFilter({\'id\':\'ALL\'});$event.stopPropagation();"\n                                                 style="right: 0px;top: 0px;padding:8px 5px 5px;opacity:1;"\n                                                 class="icon-Close pos_abs F10 color99 cursor close"></div>\n                                        </div>\n                                        <div class="dropdown-menu" style="width: 210px;top: 26px;left:-15px;padding: 0;margin:0;border:0;">\n                                            <div ng-click="$event.stopPropagation()" class="pos_abs paddingB5 borderB_0072bc color99 lineHeight20" style="top: -26px;left: 15px;">\n                                                <input type="text" ng-keypress="($event.which === 13)?triggerSearch():0"\n                                                       placeholder="{{seriesFilter.name}}"\n                                                       ng-model="seriesSearchText"\n                                                       class="lineHeight22 F13 cursor focusSeriesFilter"\n                                                       style="width: 180px;height: 20px;border: 0px;padding: 0px 20px 0 0;outline: 0px;color:#000;background:#f9f9f9;">\n                                                <div ng-show="seriesSearchText.length > 0"\n                                                     ng-click="seriesSearchText = \'\';focusSearchText(\'.focusSeriesFilter\');"\n                                                     style="right: 0px;top: 0px;padding:9px 5px 5px;"\n                                                     class="icon-Close pos_abs F8 color99 cursor close"></div>\n                                            </div>\n                                            <ul class="newBoxShadow bg_ff" style="max-height:225px;">\n                                                <li class="color88 F13 lineHeight36"\n                                                    ng-click="updateSeriesFilter(x)"\n                                                    ng-class=\'{color00:seriesFilter.name == x.name}\'\n                                                    ng-repeat="x in seriesList | filter : seriesSearchText">\n                                                    <div class="floatL icon-seriesOld F16 marginT10 marginR8"></div>\n                                                    <div class="floatL ellipsis" style="width: 123px;">{{x.name}}</div>\n                                                    <div class="clear"></div>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="marginB20" ng-if="isEntityTypeFiltersAvailable()"> \n                                    <div ng-click="myVal=!myVal"\n                                        ng-init="myVal=true"\n                                        class="floatL F10 marginT5" \n                                        ng-class="{\'icon-triangleDown\':myVal,\'icon-triangleRight\':!myVal}"></div>\n                                        <div class="floatL F12 marginL8" mt-trans="LB_TXT_MODULE_TYPE">MODULE TYPE</div>\n                                        <div class="clear"></div>\n                                        <div ng-show="myVal" class="marginL16 marginT12">\n                                        <div class="pos_rel ofh">\n                                            <div ng-if="entityTypesList[2]" ng-click="updateModuleTypeFilter(2)"\n                                                ng-class="{active: isElemTypeActive(\'2\')}"\n                                                class="floatL cBorderBG F201 colorf07878 cursor marginB5 marginR7">C</div>\n                                            <div ng-if="entityTypesList[3]" ng-click="updateModuleTypeFilter(3)"\n                                                ng-class="{active: isElemTypeActive(\'3\')}"\n                                                class="floatL qBorderBG F201 colorf07878 cursor marginB5 marginR7">Q</div>\n                                            <div ng-if="entityTypesList[4]" ng-click="updateModuleTypeFilter(4)"\n                                                ng-class="{active: isElemTypeActive(\'4\')}"\n                                                class="floatL mBorderBG F201 colorf07878 cursor marginB5 marginR7">M</div>\n                                            <div ng-if="entityTypesList[5]" ng-click="updateModuleTypeFilter(5)"\n                                                ng-class="{active: isElemTypeActive(\'5\')}"\n                                                class="floatL aBorderBG F201 colorf07878 cursor marginB5 marginR7">A</div>\n                                            <div ng-if="entityTypesList[6]" ng-click="updateModuleTypeFilter(6)"\n                                                ng-class="{active: isElemTypeActive(\'6\')}"\n                                                class="floatL sBorderBG F201 colorf07878 cursor marginB5 marginR7">S</div>\n                                            <div ng-if="entityTypesList[13]" ng-click="updateModuleTypeFilter(13)"\n                                                ng-class="{active: isElemTypeActive(\'13\')}"\n                                                class="floatL sBorderBG F201 colorf07878 cursor marginB5 marginR7">S</div>  \n                                            <div ng-if="entityTypesList[15]" ng-click="updateModuleTypeFilter(15)"\n                                                ng-class="{active: isElemTypeActive(\'15\')}"\n                                                class="floatL sBorderBG F201 colorf07878 cursor marginB5 marginR7">S</div>        \n                                            <div ng-if="entityTypesList[7]" ng-click="updateModuleTypeFilter(7)"\n                                                ng-class="{active: isElemTypeActive(\'7\')}"\n                                                class="floatL lBorderBG F201 colorf07878 cursor marginB5 marginR7">L</div>\n                                            <div ng-if="entityTypesList[8]" ng-click="updateModuleTypeFilter(8)"\n                                                ng-class="{active: isElemTypeActive(\'8\')}"\n                                                class="floatL iBorderBG F201 colorf07878 cursor marginB5 marginR7">I</div>    \n                                        </div>                                    \n                                    </div>\n                                <!-- Tag Filters -->\n                                \n                                <div class="clear"></div>\n                            </div>\n                            <div ng-if="!dontLoadTags" class="marginB20">\n                                <tag-search-filter toggle-tag="toggleTag" is-tag-active="isTagActive" tags-list="tagsList" is-new-design-language="isNewDesignLanguage"/>\n                            </div>\n                    </div>\n\t</div>\n</div>\n\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search-new/module-search-display-partial.html",'<td ng-click="openEntity(entity, $index)" style="width:50%;padding:12px 0px" class="borderB_E8EAED">\n    <div class="marginR24 marginL24" style="display: table">\n\t\t<div class="border_E8EAED borderR2" style="display: table-cell;vertical-align: middle;border:0">\n\t\t\t<img style="width:55px;max-width:55px;height:35px;max-height:35px; border-radius:2px" alt="" ng-src="{{entity.thumb.url_180_120}}">\n\t\t</div>\n\t\t<div class="marginL12">\n\t\t\t<div class="color2a2e36 semiBold F14 lineHeight20">{{entity.name}}</div>\n\t\t\t<div class="color606369 F12 lineHeight16 marginT4">\n\t\t\t\t<div class="floatL">\n\t\t\t\t\t\t<div ng-if="entity.type === \'COURSE\'" class="floatL cBG_L entity_sml borderR2">C</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'UPDATE\'" class="floatL qBG_L entity_sml borderR2">Q</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'MISSION\' || entity.type === \'VIDEO_PITCH_COACHING\' || entity.type === \'VOICE_OVER_PPT_COACHING\' || entity.type === \'TASK_EVALUATION_COACHING\' || entity.type === \'SCREEN_CAPTURE_COACHING\'" class="floatL mBG_L entity_sml borderR2">M</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'ASSESSMENT\'" class="floatL aBG_L entity_sml borderR2">A</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'COACHING\' || entity.type === \'ONE_TO_ONE_COACHING\' || entity.type === \'PERFORMANCE_EVALUATION_COACHING\'" class="floatL sBG_L entity_sml borderR2">S</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'CHECKLIST\'" class="floatL clBG_L entity_sml borderR2">L</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'ILT\'" class="floatL iltBG_L entity_sml borderR2">I</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'REINFORCEMENT\'" class="floatL cBG_L entity_sml borderR2">Q</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="marginL24">\n\t\t\t\t\t\t<div ng-if="entity.type === \'COURSE\'" class="borderT_transparent">Course</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'UPDATE\'" class="borderT_transparent">Quick Update</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'MISSION\' || entity.type === \'VIDEO_PITCH_COACHING\' || entity.type === \'VOICE_OVER_PPT_COACHING\' || entity.type === \'TASK_EVALUATION_COACHING\' || entity.type === \'SCREEN_CAPTURE_COACHING\'" class="borderT_transparent">Mission</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'ASSESSMENT\'" class="borderT_transparent">Assessment</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'COACHING\' || entity.type === \'ONE_TO_ONE_COACHING\' || entity.type === \'PERFORMANCE_EVALUATION_COACHING\'" class="borderT_transparent">Coaching Session</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'CHECKLIST\'" class="borderT_transparent">Checklist</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'ILT\'" class="borderT_transparent">ILT</div>\n\t\t\t\t\t\t<div ng-if="entity.type === \'REINFORCEMENT\'" class="borderT_transparent">Reinforcement</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="clear"></div>\n    </div>\n</td>\n<td class="borderB_E8EAED" valign="middle" style="width: 25%;padding:12px 0">\n\t<div class="marginR24" style="display: table">\n\t\t<div class="F16 colorcc marginT1" style="display: table-cell;vertical-align: middle"\n\t\t\tng-class="{\'icon-seriesLine\': entity.type !== \'REINFORCEMENT\', \'icon-questThin width19 textalign_C\': entity.type === \'REINFORCEMENT\'}">\n\t\t</div>\n\t\t<div class="marginL8 color606369">{{entity.type === \'REINFORCEMENT\' ? \'All Quests\' : entity.seriesName}}</div>\n\t\t<div class="clear"></div>\n\t</div>\n</td>\n<td ng-click="openEntity(entity, $index)" valign="middle" class="borderB_E8EAED" style="width:25%;padding:12px 0px">\n\t<div class="paddingR24">\n\t\t<div ng-if="entity.type == \'COACHING\' || entity.type == \'ONE_TO_ONE_COACHING\'">\n\t\t\t<div class="color606369 F13 lineHeight20" ng-if="entity.state!=\'COMPLETED\'">{{getCoachingStatus(entity.scheduledOn)}}</div>\n\t\t\t<div class="color606369 F13 lineHeight20" translate="DASHBOARD_TXT_COMPLETED_ON" translate-value-a="{{getNiceDate(entity.completedOn)}}" ng-if="(entity.state==\'COMPLETED\' || entity.state==\'TIMEDOUT\')"></div>\n\t\t</div>\n\t\t<div ng-if="entity.type == \'PERFORMANCE_EVALUATION_COACHING\'">\n\t\t\t<!--<div class="color88 F13 lineHeight20 marginL20" ng-if="entity.state!=\'COMPLETED\' && entity.type != \'PERFORMANCE_EVALUATION_COACHING\'">{{getCoachingStatus(entity.scheduledOn)}}</div>-->\n\t\t\t<div class="color606369 F13 lineHeight20" translate="DASHBOARD_TXT_COMPLETED_ON" translate-value-a="{{getNiceDate(entity.completedOn)}}" ng-if="(entity.state==\'COMPLETED\' || entity.state==\'TIMEDOUT\')"></div>\n\t\t</div>\n\t\t<div ng-if="entity.type != \'COACHING\' && entity.type != \'ONE_TO_ONE_COACHING\' && entity.type != \'PERFORMANCE_EVALUATION_COACHING\'">\n\t\t\t<div class="color606369 F13 lineHeight20" translate="M_TXT_SUBMISSION_PENDING" ng-if="entity.state==\'ADDED\' && entity.type == \'MISSION\'"></div>\n\t\t\t<div class="color606369 F13 lineHeight20" translate="DASHBOARD_LEARNER_GRAPH_LABEL_DNS" ng-if="entity.state==\'ADDED\' && entity.type != \'MISSION\'"></div>\n\t\t\t<div class="color606369 F13 lineHeight20" translate="M_TXT_REVIEW_PENDING_NONE" ng-if="entity.state==\'SUBMITTED\' && entity.type == \'MISSION\'"></div>\n\t\t\t<div class="color606369 F13 lineHeight20" ng-if="entity.state==\'ACTIVE\'">{{(isDecimalNumber(entity.percCompletion) ? entity.percCompletion : ( entity.percCompletion | number : 2))}}% <span translate="M_TXT_COMPLETED"></span></div>\n\t\t\t<div class="color606369 F13 lineHeight20" translate="DASHBOARD_TXT_COMPLETED_ON" translate-value-a="{{getNiceDate(entity.completedOn)}}" ng-if="(entity.state==\'COMPLETED\' || entity.state==\'TIMEDOUT\')"></div>\t\n\t\t</div>\n\t</div>\n</td>'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search-new/peer-list-search-partial.html",'<div style="min-width: 710px;">\n    <div class="contentLoaderSearch ofh-y-auto" ng-class="{ \'wh-251\': !dontFetchMore }" style="padding:0 2px; position: relative;">\n        <div class="F14 color2a2e36 lineHeight20 semiBold paddingL24 borderB_E8EAED" style="padding:0 24px 12px" ng-if="dontFetchMore && !loading">\n                <div class="floatL icon-groupNew F14 marginR8 marginT2"></div> \n                <div class="floatL" translate="DASHBOARD_TAB_TIP_PEERS">Peers</div>\n                <div class="clear"></div>\n        </div>\n        <div \n             infinite-scroll="fetchNext()"\n             infinite-scroll-container="\'.contentLoaderSearch\'"\n             infinite-scroll-distance="0"\n             infinite-scroll-disabled="loading || entities.length >= max"\n             infinite-scroll-immediate-check="false"\n             infinite-scroll-use-document-bottom="false">\n            <div>\n                <table border="0" cellpadding="0" cellspacing="0" width="100%">\n                    <tr class="cursor hoverRowNew" ng-repeat="entity in entities" peer-search-display-partial></tr>\n                </table>\n            </div>\n            <div class="textalign_C color4a90e2 cursor" style="padding:8px 20px;" ng-click="fetchNext()" ng-if="!loading && entities.length < max && !dontFetchMore">\n                <span class="cursor color0072bc F13" mt-trans="LB_TXT_LOAD_MORE"></span>\n            </div>\n            <div class="lineHeight20 color4a90e2 cursor" style="padding:8px 20px;" ng-if="dontFetchMore && max > count" ng-click="openTab()">\n                <div class="floatL F14 semiBold" translate="LB_TXT_VIEW_ALL_N_RESULTS" translate-value-a="{{max}}">View all {{max}} results</div>\n                <div class="floatL icon-ddArrowRight F12 marginL8 marginT4"></div>\n                <div class="clear"></div>\n            </div>\n        </div>\n\n        <empty-state ng-if="max === 0 && !hasFilterApplied() && !dontFetchMore"\n\t\t\t\t\t\t\t\timg-src="images/noSearchResults.svg" \n                message-title="NO_RESULT_FOUND" suggestion-content="TRY_ADJUSTING_YOUR_SEARCH"></empty-state> \n    \n        <div ng-if="max === 0 && hasFilterApplied() && !dontFetchMore" class="textalign_C">\n            <empty-state \n                    img-src="images/noSearchResults.svg" \n                    message-title="FILTERS_HAVE_LEAD_YOU_NOWHERE"></empty-state>\n            <div class="color989CA6 F14 lineHeight20 marginT8" style="padding: 0 0 100px 0;">\n                <span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n                <span class="cursor color0072bc" translate="RESET_FILTERS" ng-click="resetFilters()"></span>\n            </div>\n        </div>\n                                \n        <!-- <div no-result-without-filter-partial ng-if="max === 0 && !hasFilterApplied() && !dontFetchMore"></div>\n        <div no-result-with-filter-partial reset-filters="resetFilters"\n             ng-if="max === 0 && hasFilterApplied() && !dontFetchMore"></div> -->        \n        <mt-loader ng-if="loading && !dontFetchMore && entities.length == 0" type="full" size="sizeBig"></mt-loader>\n        <mt-loader ng-if="loading && !dontFetchMore && entities.length > 0" type="small" size="sizeSmall"></mt-loader>\n        <!-- <div  ng-if="loading && !dontFetchMore" class="textalign_C"><img ng-src="{{loader}}"/> </div> -->\n    </div>\n</div>\n<div class="pos_abs bgf5f6f7 wh-62 ofh-y-auto" style="width:260px;right:-260px;top:0">\n\t<div style="padding:24px">\n\t\t<div ng-if="!dontFetchMore">\n\t\t\t\t\t\t\t<div class="marginB20 semiBold">\n\t\t\t\t\t\t\t\t\t<div class="icon-Filter F12 floatL lineHeight20 marginR5 color2a2e36"></div>\n\t\t\t\t\t\t\t\t\t<div class="color2a2e36 F12 floatL lineHeight20 ng-scope" translate="LB_TXT_FILTER_BY">Filter By</div>\n\t\t\t\t\t\t\t\t\t<div class="clear"></div>\n                              </div>\n                            <!-- <mt-loader ng-if="loading" type="small" size="sizeSmall" bg-color="transparent"></mt-loader> -->\n                              \n                            <div class="lineHeight16 color737d8a marginB20"\n                                 ng-repeat="(profileField,tags) in tagSections track by $index"\n                                 ng-if="getProfileFieldName(profileField)!=\'NA\' && !isPartnerTraining && tags.length > 0"\n                                 ng-hide="participantsCtrl.loadingTags">\n                                <div class="marginB10 semiBold" ng-click="myVal=!myVal" ng-init="myVal=($index==0)">\n                                    <div class="floatL marginT3 F11 cursor"\n                                         ng-class="{ \'icon-triangleDown\': myVal, \'icon-triangleRight\': !myVal }">\n                                    </div>\n                                    <div class="marginL18 F11 cursor">{{getProfileFieldName( profileField )}}</div>\n                                </div>\n                                <div class="marginL18 ofh" ng-show="myVal">\n                                    <div ng-repeat="tag in tags"\n                                         ng-if="tagName !== \'\'"\n                                         ng-click="setCurrentTagNew( profileField, tag.key )"\n                                         ng-class="{ Active: isFilterApplied(profileField, tag.key) }"\n                                         class="floatL tagDiv_2">{{ tag.key }}\n                                    </div>\n                        \n                                </div>\n                            </div>\n                    </div>\n\t</div>\n</div>\t\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search-new/peer-search-display-partial.html",'<td ng-click="viewProfile()" \n    style="width:50%;padding:12px 0px" class="borderB_E8EAED">\n    <div class="marginR24" style="display: table">\n\n            <div class="border_E8EAED borderR2" style="display: table-cell;vertical-align: middle;border:0; width: 55px;">\n            \t<div ng-if="!entity.pic" ng-class="{\'display_B\': !entity.pic}" class="icon-defaultprofile F32 color99 margin0_auto" style="width:32px;max-width:32px;height:32px;max-height:32px; border-radius:50%;"></div>\n                <img ng-if="entity.pic" ng-class="{\'display_B\': entity.pic}" class="margin0_auto" style="width:32px;max-width:32px;height:32px;max-height:32px; border-radius:50%;" alt="" ng-src="{{entity.pic}}">\n            </div>\n            <div class="marginL12" style="display: table-cell;vertical-align: middle;border:0;">\n                <div class="color2a2e36 semiBold F14 lineHeight20">{{entity.name}}</div>\n                <div class="color606369 F12 lineHeight16 marginT4" ng-if="entity.profile.dp || entity.profile.rg">\n                    <div class="floatL" ng-if="entity.profile.dp">{{ entity.profile.dp }}</div>\n                    <div class="floatL marginL4 marginR4" ng-if="entity.profile.dp && entity.profile.rg">.</div>\n                    <div class="floatL" ng-if="entity.profile.rg">\n                        <div class="floatL icon-locationNew F12 marginT2 marginR4"></div>\n                        <div class="floatL" ng-if="entity.profile.rg">{{ entity.profile.rg }}</div>\n                        <div class="clear"></div>\n                    </div>\n                    <div class="clear"></div>\n                </div>\n            </div> \n\n        <!--div>\n            <div class="floatL icon-person F16 color00 marginT2"></div>\n            <div class="F13 color00 lineHeight20 ellipsis marginL24">{{ entity.name }}</div>\n            <div class="clear"></div>\n        </div>\n        <div ng-if="entity.profile.dp || entity.profile.rg" class="color88 F12 lineHeight20 marginL24 marginT3">\n            <span ng-if="entity.profile.dp">{{ entity.profile.dp }},</span>\n            <span ng-if="entity.profile.rg">{{ entity.profile.rg }}</span>\n        </div-->\n\n    </div>\n</td>\n<td ng-click="viewProfile()" valign="middle" class="borderB_E8EAED" style="width:50%;padding:12px 0px">\n    <div class="lineHeight20 paddingR24 colorf48414 F14">\n        <div class="floatL icon-halfStar F16 marginT4"></div>\n        <div class="floatL marginL2 F20">{{ kscore }}</div>\n        <div class="clear"></div>\n    </div>\n</td>\n    '),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search-new/series-list-search-partial.html",'<div style="min-width: 710px;">    \n        <div class="contentLoaderSearch ofh-y-auto" ng-class="{ \'wh-251\': !dontFetchMore }" style="position: relative;">\n            <div class="F14 color2a2e36 lineHeight20 semiBold paddingL24 borderB_E8EAED" style="padding:0 24px 12px" ng-if="dontFetchMore  && !loading && max > 0">\n                    <div class="floatL icon-seriesLine F14 marginR8 marginT2"></div> \n                    <div class="floatL" translate="DASHBOARD_PROFILE_SERIES">Series</div>\n                    <div class="clear"></div>\n            </div>\n            <div \n                infinite-scroll="fetchNext()"\n                infinite-scroll-container="\'.contentLoaderSearch\'"\n                infinite-scroll-distance="0"\n                infinite-scroll-disabled="( result && !result.$resolved ) || entities.length >= max || dontFetchMore"\n                infinite-scroll-immediate-check="false"\n                infinite-scroll-use-document-bottom="false">\n                <div>\n                    <table border="0" cellpadding="0" cellspacing="0" width="100%">\n                        <tr class="cursor fileRow hoverRowNew" ng-repeat="entity in entities" ng-click="gotoSeries(entity, $index)" series-search-display-partial></tr>\n                    </table>\n                </div>\n                <div class="textalign_C F14" style="padding:8px 20px;"\n                    ng-if="( result && result.$resolved ) && entities.length < max && !dontFetchMore"\n                    ng-click="fetchNext()">\n                    <span class="cursor color4a90e2" mt-trans="LB_TXT_LOAD_MORE"></span>\n                </div>\n                <div class="lineHeight20 color4a90e2 cursor" style="padding:8px 20px;" \n                     ng-if="dontFetchMore && max > count" ng-click="openTab()">\n                        <div class="floatL F14 semiBold" translate="LB_TXT_VIEW_ALL_N_RESULTS" translate-value-a="{{max}}">View all {{max}} results</div>\n                        <div class="floatL icon-ddArrowRight F12 marginL8 marginT4"></div>\n                        <div class="clear"></div>\n                </div>\n            </div>\n\n            <empty-state ng-if="max === 0 && !dontFetchMore"\n\t\t\t\timg-src="images/noSearchResults.svg" \n                message-title="NO_RESULT_FOUND" suggestion-content="TRY_ADJUSTING_YOUR_SEARCH"></empty-state>\n            \n            <div ng-if="max === 0 && hasFilterApplied() && !dontFetchMore" class="textalign_C">\n                <empty-state \n                        img-src="images/noSearchResults.svg" \n                        message-title="FILTERS_HAVE_LEAD_YOU_NOWHERE"></empty-state>\n                <div class="color989CA6 F14 lineHeight20 marginT8" style="padding: 0 0 100px 0;">\n                    <span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n                    <span class="cursor color0072bc" translate="RESET_FILTERS" ng-click="resetFilters()"></span>\n                </div>\n            </div>\n                \n            <!-- <div no-result-without-filter-partial ng-if="max === 0 && !dontFetchMore"></div> -->\n            <mt-loader ng-if="result && !result.$resolved && !dontFetchMore && entities.length == 0" type="full" size="sizeBig"></mt-loader>\n            <mt-loader ng-if="result && !result.$resolved && !dontFetchMore && entities.length > 0" type="small" size="sizeSmall"></mt-loader>\n            <!-- <div  ng-if="result && !result.$resolved && !dontFetchMore" class="textalign_C"><img ng-src="{{loader}}"/> </div> -->\n        </div>\n    <!--/div-->\n</div> \n  '),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search-new/series-search-display-partial.html",'<td style="width:50%;padding:12px 0px" class="borderB_E8EAED">\n    <div class="marginR24 marginL24 pos_rel" style="display: table">\n        <div class="shape"></div>\n        <div ng-if="!entity.thumb.url_180_120" class="bg_9dc1fb marginB1211" style="width: 55px;height: 35px;border-radius: 6px 6px 6px 6px;border: 0;border-bottom: 0;display: table-cell;"></div>\n        <div ng-if="entity.thumb.url_180_120" class="border_E8EAED borderR2" style="display: table-cell;vertical-align: middle;border:0">\n            <img style="width:55px;max-width:55px;height:35px;max-height:35px; border-radius:4px" alt="" ng-src="{{entity.thumb.url_180_120}}">\n        </div>\n        <div class="marginL12">\n            <div class="color2a2e36 semiBold F14 lineHeight20">{{entity.name}}</div>\n            <div class="color606369 F12 lineHeight16 marginT4">{{ entity.totalEntities }} Modules</div>\n        </div>    \n    </div>\n</td>\n<td valign="middle" class="borderB_dd" style="width:50%;padding:12px 0px">\n    <div class="color606369 F14 lineHeight20 paddingR24">\n        {{ entity.totalCompletedEntities }}/{{ entity.totalEntities }} <span translate="DASHBOARD_PROFILE_MODULE_COMPLETED">Modules Completed</span>\n    </div>\n</td>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search-new/top-list-search-partial.html",'<div module-list-search-partial.html style="min-height: 400px;">\n  <div series-list-search-partial count="3" is-in-own-tab="false" dont-fetch-more="true" \n    loaded="dataLoaded( type, loaded, count )" ng-if="countTillNow[\'series\']" class="marginT32"></div>\n  <div module-list-search-partial count="3" is-in-own-tab="false" dont-fetch-more="true" dont-load-tags="true"\n    loaded="dataLoaded( type, loaded, count, tagsList )" ng-if="countTillNow[\'module\']" class="marginT32"></div>\n  <div file-list-search-partial count="3" is-in-own-tab="false" dont-fetch-more="true" dont-load-tags="true"\n    loaded="dataLoaded( type, loaded, count, tagsList )" ng-if="countTillNow[\'file\']" class="marginT32"></div>\n  <div peer-list-search-partial count="3"\n    is-in-own-tab="false" dont-fetch-more="true" loaded="dataLoaded( type, loaded, count )"\n    ng-if="TYPES_OF_SEARCH.PEER && countTillNow[\'peer\']" class="marginT32"></div>\n  \n  <empty-state ng-if="!loading && totalCount === 0 && !hasFilterApplied()"\t\t\t\n      img-src="images/noSearchResults.svg" \n              message-title="NO_RESULT_FOUND" suggestion-content="TRY_ADJUSTING_YOUR_SEARCH"></empty-state>\n  \n  <div ng-if="!loading && totalCount === 0 && hasFilterApplied()" class="textalign_C">\n    <empty-state \n            img-src="images/noSearchResults.svg" \n            message-title="FILTERS_HAVE_LEAD_YOU_NOWHERE"></empty-state>\n    <div class="color989CA6 F14 lineHeight20 marginT8" style="padding: 0 0 100px 0;">\n        <span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n        <span class="cursor color0072bc" translate="RESET_FILTERS" ng-click="resetFilters()"></span>\n    </div>\n  </div>\n\n  <div ng-if="loading" class="pos_abs" style="position: relative; top: 0; height:calc(100vh - 175px); width: 100%; left: 0;">\n    <mt-loader type="full" size="sizeBig"></mt-loader>\n  </div>\n  <!-- <div no-result-without-filter-partial ng-if="!loading && totalCount === 0\n    && !hasFilterApplied()"></div>\n  <div no-result-with-filter-partial reset-filters="resetFilters"\n    ng-if="!loading && totalCount === 0 && hasFilterApplied()"></div> -->\n    \n  <!-- <div ng-if="loading" class="textalign_C"\n      <img ng-src="{{loader}}"/>\n  </div> -->\n</div>\n\n<!-- tag filters -->\n<div class="pos_abs bgf5f6f7 wh-62 ofh-y-auto" style="width:260px;right:-260px;top:0">\n  <div style="padding:24px">\n    <mt-loader ng-if="loading" type="small" size="sizeSmall" bg-color="transparent"></mt-loader>\t  \n\t  <tag-search-filter toggle-tag="toggleTag" is-tag-active="isTagActive" tags-list="tagsList"  is-new-design-language="isNewDesignLanguage"/>\n\t</div>\n</div>\n\n\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search/file-list-search-partial.html",'<div class="floatL" style="width:840px;margin:30px 0 0px 20px" ng-style="{\'padding-bottom\':(!dontFetchMore) ? \'20px\' : 0}">\n    <div class="contentLoaderSearch" ng-class="{ \'wh-167\': !dontFetchMore }" style="padding:0 2px">\n        <div class="F14 color00 lineHeight20 marginB10" ng-if="dontFetchMore && !loading" translate="LB_TXT_FILES">Files</div>\n        <div class="bg_ff newBoxShadow"\n             ng-if="max > 0"\n             infinite-scroll="fetchNext()"\n             infinite-scroll-container="\'.contentLoaderSearch\'"\n             infinite-scroll-distance="0"\n             infinite-scroll-disabled="loading || entities.length >= max"\n             infinite-scroll-immediate-check="false"\n             infinite-scroll-use-document-bottom="false">\n            <div ng-style="heightStyle">\n                <table border="0" cellpadding="0" cellspacing="0">\n                    <tr class="cursor" ng-repeat="entity in entities" file-search-display-partial ng-click="openContent( entity, $index )"></tr>\n                </table>\n            </div>\n            <div class="textalign_C" style="padding:5px 20px;" ng-if="!loading  && max > entities.length && !dontFetchMore" ng-click="fetchNext()">\n                <span class="cursor color0072bc F13" mt-trans="LB_TXT_LOAD_MORE"></span>\n            </div>\n            <div class="textalign_C" style="padding:5px 20px;" ng-if="dontFetchMore  && max > count" ng-click="openTab()">\n                <span class="cursor color0072bc F13" translate="LB_TXT_VIEW_ALL_N_RESULTS" translate-value-a="{{max}}">View all {{max}} results</span>\n            </div>\n        </div>\n        <div no-result-without-filter-partial ng-if="max === 0 && !hasFilterApplied() && !dontFetchMore"></div>\n        <div no-result-with-filter-partial reset-filters="resetFilters" ng-if="max === 0 && hasFilterApplied() && !dontFetchMore"></div>\n        <div  ng-if="loading && !dontFetchMore" class="textalign_C"><img ng-src="{{loader}}"/> </div>\n    </div>\n\n</div>\n<div class="borderT30_transparent" ng-if="!dontFetchMore" style="margin-left:890px;">\n    <div class="lineHeight20 color737d8a marginL10" ng-if="aggrgationsLoading"><img ng-src="{{loader}}"/></div>\n    <div class="lineHeight20 color737d8a paddingL10 marginR20 wh-167" ng-if="!aggrgationsLoading && max > 0">\n        <div ng-if="seriesList.length > 0" class="floatL marginB30" style="width:100%">\n            <div class="F12 marginB7">FILTER BY SERIES</div>\n            <div class="pos_rel dropdown" style="width:180px">\n                <div class="dropdown-toggle paddingB5"\n                     ng-click="seriesSearchText=\'\'"\n                     style="border: none;border-bottom:1px solid #ddd;" aria-haspopup="true" aria-expanded="false">\n                    <div style="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#888"\n                         ng-click="isFocus()"\n                         class="dropdown-text ellipsis">{{ seriesFilter.name }}</div>\n                    <div ng-show="seriesFilter.id==\'ALL\'"\n                         class="icon-ddArrowBottom F6 pos_abs"\n                         ng-click="focusSearchText(\'.focusSeriesInput\');"\n                         style="top:7px;right:5px"></div>\n                    <div ng-if="seriesFilter.id!=\'ALL\' || seriesSearchText.length > 0"\n                         ng-click="updateContentSeriesFilter({\'id\':\'ALL\'});$event.stopPropagation();clearSearch();"\n                         style="right: 0px;top: 0px;padding:8px 5px 5px;opacity:1;"\n                         class="icon-Close pos_abs F10 color99 cursor close"></div>\n                </div>\n                <div class="dropdown-menu" style="width: 210px;top: 26px;left:-15px;padding: 0;margin:0;border:0;">\n                    <div ng-click="$event.stopPropagation()" class="pos_abs paddingB5 borderB_0072bc color99 lineHeight20" style="top: -26px;left: 15px;">\n                        <input type="text" ng-keypress="($event.which === 13)?triggerSearch():0"\n                               placeholder="{{ seriesFilter.name }}"\n                               ng-model="seriesSearchText"\n                               class="lineHeight22 F13 cursor focusSeriesInput"\n                               style="width: 180px;height: 20px;border: 0px;padding: 0px 20px 0 0;outline: 0px;color:#000;background:#f9f9f9;">\n                        <div ng-show="seriesSearchText.length > 0"\n                             ng-click="seriesSearchText = \'\';focusSearchText(\'.focusSeriesInput\');"\n                             style="right: 0px;top: 0px;padding:9px 5px 5px;"\n                             class="icon-Close pos_abs F8 color99 cursor close"></div>\n                    </div>\n                    <ul class="newBoxShadow bg_ff" style="max-height:225px;">\n                        <li class="color88 F13 lineHeight36"\n                            ng-click=" updateContentSeriesFilter(x) "\n                            ng-class=\'{ color00: seriesFilter.name === x.name}\'\n                            ng-repeat=" x in seriesList | filter: seriesSearchText">\n                            <div class="floatL icon-seriesOld F16 marginT10 marginR8"></div>\n                            <div class="floatL ellipsis" style="width: 123px;">{{ x.name }}</div>\n                            <div class="clear"></div>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n        <div ng-if="customModuleList.length > 0" class="floatL marginB30" style="width:100%">\n            <div class="F12 marginB7">FILTER BY MODULE</div>\n            <div class="pos_rel dropdown" style="width:180px">\n                <div class="dropdown-toggle paddingB5"\n                     ng-click="moduleSearchText=\'\'"\n                     style="border: none;border-bottom:1px solid #ddd;" aria-haspopup="true" aria-expanded="false">\n                    <div style="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#888"\n                         ng-click="isFocus()"\n                         class="dropdown-text ellipsis">{{moduleFilter.name}}</div>\n                    <div ng-show="moduleFilter.id==\'ALL\'"\n                         ng-click="focusSearchText(\'.focusModuleInput\')"\n                         class="icon-ddArrowBottom F6 pos_abs"\n                         style="top:7px;right:5px"></div>\n                    <div ng-if="moduleFilter.id !== \'ALL\' || moduleSearchText.length > 0"\n                         ng-click="updateContentModuleFilter({\'id\':\'ALL\'});$event.stopPropagation();clearSearch();"\n                         style="right: 0px;top: 0px;padding:8px 5px 5px;opacity:1;"\n                         class="icon-Close pos_abs F10 color99 cursor close"></div>\n                </div>\n                <div class="dropdown-menu" style="width: 210px;top: 26px;left:-15px;padding: 0;margin:0;border:0;">\n                    <div ng-click="$event.stopPropagation()" class="pos_abs paddingB5 borderB_0072bc color99 lineHeight20" style="top: -26px;left: 15px;">\n                        <input type="text" ng-keypress="($event.which === 13)?triggerSearch():0"\n                               placeholder="{{moduleFilter.name}}"\n                               ng-model="moduleSearchText"\n                               class="lineHeight22 F13 cursor focusModuleInput"\n                               style="width: 180px;height: 20px;border: 0px;padding: 0px 20px 0 0;outline: 0px;color:#000;background:#f9f9f9;">\n                        <div ng-show="moduleSearchText.length > 0"\n                             ng-click="moduleSearchText = \'\';focusSearchText(\'.focusModuleInput\');"\n                             style="right: 0px;top: 0px;padding:9px 5px 5px;"\n                             class="icon-Close pos_abs F8 color99 cursor close"></div>\n                    </div>\n                    <ul class="newBoxShadow bg_ff" style="max-height:225px;">\n                        <li class="color88 F13 lineHeight36"\n                            ng-repeat="module in customModuleList | filter: moduleSearchText"\n                            ng-click="updateContentModuleFilter( module )">\n                            <div ng-if="module.type === \'COURSE\'" class="floatL cBG_L entity_sml marginT10 marginR8">C</div>\n                            <div ng-if="module.type === \'UPDATE\'" class="floatL qBG_L entity_sml marginT10 marginR8">Q</div>\n                            <div ng-if="module.type === \'MISSION\'" class="floatL mBG_L entity_sml marginT10 marginR8">M</div>\n                            <div ng-if="module.type === \'ASSESSMENT\'" class="floatL aBG_L entity_sml marginT10 marginR8">A</div>\n                            <div ng-if="module.type === \'COACHING\'" class="floatL sBG_L entity_sml marginT10 marginR8">S</div>\n                            <div ng-if="module.type === \'CHECKLIST\'" class="floatL clBG_L entity_sml marginT10 marginR8">L</div>\n                            <div ng-if="module.type === \'ILT\'" class="floatL iltBG_L entity_sml marginT10 marginR8">I</div>\n                            <div class="floatL ellipsis" style="width: 123px;">{{module.name}}</div>\n                            <div class="clear"></div>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n\n        <div ng-if="isMediaTypeFiltersAvailable()" class="floatL lineHeight20 color737d8a marginB30" style="width:100%">\n            <div class="F12 marginB8">FILTER BY FILE TYPE</div>\n            <div class="floatL">\n                <div class="floatL icon-video F18 colorf07878 cursor marginB5 marginR7"\n                     ng-if="mediaTypesToList[ mediaTypes[\'VIDEO\'] ] || mediaTypesToList[ mediaTypes[\'IMG_MASH_UP\'] ]"\n                     ng-class="{\'icon-videoFilled\':isInCurrentFilter(\'VIDEO\') || isInCurrentFilter(\'IMG_MASH_UP\')}"\n                     ng-click="setContentType(\'VIDEO\')"></div>\n                <div class="floatL icon-pdf F18 colord5605f cursor marginB5 marginR7"\n                     ng-if="mediaTypesToList[ mediaTypes[\'DOCUMENT_PDF\'] ]"\n                     ng-class="{\'icon-pdfFilled\':isInCurrentFilter(\'DOCUMENT_PDF\')}"\n                     ng-click="setContentType(\'DOCUMENT_PDF\')"></div>\n                <div class="floatL icon-ppt F18 colorf5b175 cursor marginB5 marginR7"\n                     ng-if="mediaTypesToList[ mediaTypes[\'DOCUMENT_PPT\'] ]"\n                     ng-class="{\'icon-pptFilled\':isInCurrentFilter(\'DOCUMENT_PPT\')}"\n                     ng-click="setContentType(\'DOCUMENT_PPT\')"></div>\n                <div class="floatL icon-doc F18 color83a6d4 cursor marginB5 marginR7"\n                     ng-if="mediaTypesToList[ mediaTypes[\'DOCUMENT_WORD\'] ]"\n                     ng-class="{\'icon-docFilled\':isInCurrentFilter(\'DOCUMENT_WORD\')}"\n                     ng-click="setContentType(\'DOCUMENT_WORD\')"></div>\n                <div class="floatL icon-xls F18 color61bd87 cursor marginB5 marginR7"\n                     ng-if="mediaTypesToList[ mediaTypes[\'DOCUMENT_XLS\'] ]"\n                     ng-class="{\'icon-xlsFilled\':isInCurrentFilter(\'DOCUMENT_XLS\')}"\n                     ng-click="setContentType(\'DOCUMENT_XLS\')"></div>\n                <div class="floatL icon-image F18 color90cac0 cursor marginB5 marginR7"\n                     ng-if="mediaTypesToList[ mediaTypes[\'IMAGE\'] ] || mediaTypesToList[ mediaTypes[\'ALBUM\'] ]"\n                     ng-class="{\'icon-imageFilled\':isInCurrentFilter(\'IMAGE\') || isInCurrentFilter(\'ALBUM\')}"\n                     ng-click="setContentType(\'IMAGE\')"></div>\n                <div class="floatL icon-embeded F18 colora28bc0 cursor marginB5 marginR7 cursor"\n                     ng-if="mediaTypesToList[ mediaTypes[\'EMBED\'] ] ||\n                            mediaTypesToList[ mediaTypes[\'SLIDESHARE\'] ] ||\n                            mediaTypesToList[ mediaTypes[\'BRAINSHARK\'] ] ||\n                            mediaTypesToList[ mediaTypes[\'SWF\'] ] ||\n                            mediaTypesToList[ mediaTypes[\'ARCHIVE\'] ] ||\n                            mediaTypesToList[ mediaTypes[\'YOUTUBE\'] ] ||\n                            mediaTypesToList[ mediaTypes[\'PREZI\'] ] ||\n                            mediaTypesToList[ mediaTypes[\'IFRAME\'] ]"\n                     ng-class="{\'icon-embededFilled\':isInCurrentFilter(\'EMBED\') ||\n                                                    isInCurrentFilter(\'SLIDESHARE\') ||\n                                                    isInCurrentFilter(\'BRAINSHARK\') ||\n                                                    isInCurrentFilter(\'SWF\') ||\n                                                    isInCurrentFilter(\'ARCHIVE\') ||\n                                                    isInCurrentFilter(\'YOUTUBE\') ||\n                                                    isInCurrentFilter(\'PREZI\') ||\n                                                    isInCurrentFilter(\'IFRAME\')}"\n                     ng-click="setContentType(\'EMBED\')"></div>\n                <div class="floatL icon-audio F18 colore2cc63 cursor marginB5 marginR7"\n                     ng-if="mediaTypesToList[ mediaTypes[\'AUDIO\'] ]"\n                     ng-class="{\'icon-audioFilled\':isInCurrentFilter(\'AUDIO\')}"\n                     ng-click="setContentType(\'AUDIO\')"></div>\n                <div class="floatL icon-note F18 colorf07878 cursor marginB5 marginR7"\n                     ng-if="mediaTypesToList[ mediaTypes[\'NOTE\'] ]"\n                     ng-class="{\'icon-noteFilled\':isInCurrentFilter(\'NOTE\')}"\n                     ng-click="setContentType(\'NOTE\')"></div>\n                <div class="clear"></div>\n            </div>\n            <div class="clear"></div>\n        </div>    \n            \n        <!-- Tag Filters -->\n        <div ng-if="!dontLoadTags" class="floatL marginB30" style="width:100%">\n            <tag-search-filter toggle-tag="toggleTag" is-tag-active="isTagActive" tags-list="tagsList"/>\n        </div>\n        <div class="clear"></div>\n    </div>\n</div>\n<div class="clear"></div>\n\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search/file-search-display-partial.html",'<td style="width:50%;padding:12px 20px" class="borderB_dd">\n    <div style="width:400px">\n        <div>\n            <div class="floatL F16 marginT2 pos_rel" ng-class="getContentClass( entity.type )">\n            \t<div ng-if="(entity.locked==true || entity.lockState==\'LOCKED\')" style="top: -7px;right:-4px;" class="icon-Lock_icon pos_abs color66 F12"></div>\n            </div>\n            <div class="F13 color00 lineHeight20 ellipsis marginL32">{{ entity.title }}</div>\n            <div class="clear"></div>\n        </div>\n        <div class="color88 F12 lineHeight20 marginL32 marginT8">\n            <div class="floatL">{{getContentInfo( entity )}}</div>\n            <div class="floatL bg_88 marginT2 marginL10 marginR10" style="width:1px;height:16px"></div>\n            <div class="floatL">\n                <div ng-if="entity.entityType==\'COURSE\'" class="floatL cBG_L entity_sml marginT3" style="height:14px;width:14px;line-height:14px;font-size:9px">C</div>\n                <div ng-if="entity.entityType==\'UPDATE\'" class="floatL qBG_L entity_sml marginT3" style="height:14px;width:14px;line-height:14px;font-size:9px">Q</div>\n                <div class="floatL marginL6">{{ entity.entity_name }}</div>\n                <div class="clear"></div>\n            </div>\n            <div class="clear"></div>\n        </div>\n    </div>\n</td>\n<td valign="middle" class="borderB_dd" style="width:40%;padding:12px 20px">\n\t<div class="color88 F13 lineHeight20 marginL20" ng-if="entity.completion_perc == 0 && entity.completed_on == 0" translate="DASHBOARD_LEARNER_GRAPH_LABEL_DNS"></div>\n\t<div class="color88 F13 lineHeight20 marginL20" ng-if="entity.completion_perc > 0 && entity.completed_on == 0">{{(isDecimalNumber(entity.completion_perc) ? entity.completion_perc : ( entity.completion_perc | number : 2))}}% <span translate="M_TXT_COMPLETED"></span></div>\n    <div class="color88 F13 lineHeight20 marginL20" ng-if="entity.completed_on > 0" translate="DASHBOARD_TXT_COMPLETED_ON" translate-value-a="{{getNiceDate(entity.completed_on )}}"></div>\n</td>\n<td valign="middle" align="right" class="borderB_dd pos_rel" style="width:10%;padding:10px 20px" click-anywhere-but-here="hideTip()">\n    <div class="F16 paddingT5 paddingB5 cursor"\n         ng-click="bookmarkContent()"\n         stop-event\n         ng-class="{\'icon-starMarked colorf5d078\':entity.starred,\'icon-star colorf5d078\':!entity.starred}"></div>\n    <div ng-show="!isTipHidden"style="right: 54px;top: 18px;x;z-index: 2;" class="cmn_dd pos_abs">\n        <div style="right: -13px;t;top: 7px;z-index: 2;" class="triangleRight_28_14 pos_abs"></div>\n        <div class="ddBG pos_rel" style="right:0px;top:3px;width:auto;">\n            <div style="padding: 5px 10px;width: 300px;">\n                <div class="color00 F13 lineHeight22 lockedContentMsg textalign_L">{{\'LB_TXTX_CANT_STAR\'|translate}}</div>\n            </div>\n        </div>\n    </div>\n</td>'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search/module-list-search-partial.html","<div class=\"floatL\" style=\"width:840px;margin:30px 0 0 20px\" \n\t ng-style=\"{'padding-bottom':(!dontFetchMore) ? '20px' : 0, \n\t \t\t\twidth:(max === 0 && !dontFetchMore && searchTagOnly) ? '100%' : '840px',\n\t \t\t\t'margin-left':(max === 0 && !dontFetchMore && searchTagOnly) ? '0px' : '20px'}\">\n"+'    <div class="contentLoaderSearch" ng-class="{ \'wh-167\': !dontFetchMore }" style="padding:0 2px">\n        <div class="F14 color00 lineHeight20 marginB10" ng-if="dontFetchMore && !loading && max > 0" translate="DASHBOARD_PROFILE_TXT_MODULES">Modules</div>\n        <div class="bg_ff newBoxShadow"\n             ng-if="max > 0"\n             infinite-scroll="fetchNext()"\n             infinite-scroll-container="\'.contentLoaderSearch\'"\n             infinite-scroll-distance="0"\n             infinite-scroll-disabled="loading || entities.length >= max"\n             infinite-scroll-immediate-check="false"\n             infinite-scroll-use-document-bottom="false">\n            <div ng-style="heightStyle">\n                <table border="0" cellpadding="0" cellspacing="0">\n                    <tr class="cursor" ng-repeat="entity in entities" module-search-display-partial></tr>\n                </table>\n            </div>\n            <div class="textalign_C" style="padding:5px 20px;" ng-if="!loading && max > entities.length && !dontFetchMore" ng-click="fetchNext()">\n                <span class="cursor color0072bc F13" mt-trans="LB_TXT_LOAD_MORE"></span>\n            </div>\n            <div class="textalign_C" style="padding:5px 20px;" ng-if="dontFetchMore && max > count" ng-click="openTab()">\n                <span class="cursor color0072bc F13" translate="LB_TXT_VIEW_ALL_N_RESULTS" translate-value-a="{{max}}">View all {{max}} results</span>\n            </div>\n        </div>\n        <div no-result-without-filter-partial\n             ng-if="max === 0 && !hasFilterApplied() && !dontFetchMore"></div>\n        <div no-result-with-filter-partial reset-filters="resetFilters"\n             ng-if="max === 0 && hasFilterApplied() && !dontFetchMore"></div>\n        <div  ng-if="loading && !dontFetchMore" class="textalign_C"><img ng-src="{{loader}}"/> </div>\n    </div>\n</div>\n<div class="borderT30_transparent" ng-if="!dontFetchMore" style="margin-left:890px;">\n    <div class="lineHeight20 color737d8a marginL10" ng-if="loadingAggs"><img ng-src="{{loader}}"/></div>\n    <div class="lineHeight20 color737d8a paddingL10 paddingR20 wh-167" ng-if="!loadingAggs && max > 0">\n        <div ng-if="seriesList.length > 0" class="marginB30 floatL" style="width:100%">\n            <div class="F12 marginB7">FILTER BY SERIES</div>\n            <div class="pos_rel dropdown" style="width:180px">\n                <div class="dropdown-toggle paddingB5"\n                     ng-click="seriesSearchText=\'\'"\n                     style="border: none;border-bottom:1px solid #ddd;" aria-haspopup="true" aria-expanded="false">\n                    <div style="padding:0 25px 0 0px;background:transparent;font-size:13px;line-height:20px;color:#888"\n                         ng-click="isFocus()"\n                         class="dropdown-text ellipsis">{{seriesFilter.name}}</div>\n                    <div ng-show="seriesFilter.id === \'ALL\'"\n                         class="icon-ddArrowBottom F6 pos_abs"\n                         ng-click="focusSearchText(\'.focusSeriesFilter\')"\n                         style="top:7px;right:5px"></div>\n                    <div ng-if="seriesFilter.id !== \'ALL\' || seriesSearchText.length > 0"\n                         ng-click="updateSeriesFilter({\'id\':\'ALL\'});$event.stopPropagation();"\n                         style="right: 0px;top: 0px;padding:8px 5px 5px;opacity:1;"\n                         class="icon-Close pos_abs F10 color99 cursor close"></div>\n                </div>\n                <div class="dropdown-menu" style="width: 210px;top: 26px;left:-15px;padding: 0;margin:0;border:0;">\n                    <div ng-click="$event.stopPropagation()" class="pos_abs paddingB5 borderB_0072bc color99 lineHeight20" style="top: -26px;left: 15px;">\n                        <input type="text" ng-keypress="($event.which === 13)?triggerSearch():0"\n                               placeholder="{{seriesFilter.name}}"\n                               ng-model="seriesSearchText"\n                               class="lineHeight22 F13 cursor focusSeriesFilter"\n                               style="width: 180px;height: 20px;border: 0px;padding: 0px 20px 0 0;outline: 0px;color:#000;background:#f9f9f9;">\n                        <div ng-show="seriesSearchText.length > 0"\n                             ng-click="seriesSearchText = \'\';focusSearchText(\'.focusSeriesFilter\');"\n                             style="right: 0px;top: 0px;padding:9px 5px 5px;"\n                             class="icon-Close pos_abs F8 color99 cursor close"></div>\n                    </div>\n                    <ul class="newBoxShadow bg_ff" style="max-height:225px;">\n                        <li class="color88 F13 lineHeight36"\n                            ng-click="updateSeriesFilter(x)"\n                            ng-class=\'{color00:seriesFilter.name == x.name}\'\n                            ng-repeat="x in seriesList | filter : seriesSearchText">\n                            <div class="floatL icon-seriesOld F16 marginT10 marginR8"></div>\n                            <div class="floatL ellipsis" style="width: 123px;">{{x.name}}</div>\n                            <div class="clear"></div>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n        <div class="marginB30 floatL" ng-if="isEntityTypeFiltersAvailable()" style="width:100%">\n            <div class="F12 marginB8">FILTER BY MODULE TYPE</div>\n            <div class="pos_rel ofh">\n                <div ng-if="entityTypesList[2]" ng-click="updateModuleTypeFilter(2)"\n                     ng-class="{active: isElemTypeActive(\'2\')}"\n                     class="floatL cBorderBG F201 colorf07878 cursor marginB5 marginR7">C</div>\n                <div ng-if="entityTypesList[3]" ng-click="updateModuleTypeFilter(3)"\n                     ng-class="{active: isElemTypeActive(\'3\')}"\n                     class="floatL qBorderBG F201 colorf07878 cursor marginB5 marginR7">Q</div>\n                <div ng-if="entityTypesList[4]" ng-click="updateModuleTypeFilter(4)"\n                     ng-class="{active: isElemTypeActive(\'4\')}"\n                     class="floatL mBorderBG F201 colorf07878 cursor marginB5 marginR7">M</div>\n                <div ng-if="entityTypesList[5]" ng-click="updateModuleTypeFilter(5)"\n                     ng-class="{active: isElemTypeActive(\'5\')}"\n                     class="floatL aBorderBG F201 colorf07878 cursor marginB5 marginR7">A</div>\n                <div ng-if="entityTypesList[6]" ng-click="updateModuleTypeFilter(6)"\n                     ng-class="{active: isElemTypeActive(\'6\')}"\n                     class="floatL sBorderBG F201 colorf07878 cursor marginB5 marginR7">S</div>\n                <div ng-if="entityTypesList[13]" ng-click="updateModuleTypeFilter(13)"\n                     ng-class="{active: isElemTypeActive(\'13\')}"\n                     class="floatL sBorderBG F201 colorf07878 cursor marginB5 marginR7">S</div>\n                <div ng-if="entityTypesList[15]" ng-click="updateModuleTypeFilter(15)"\n                     ng-class="{active: isElemTypeActive(\'15\')}"\n                     class="floatL sBorderBG F201 colorf07878 cursor marginB5 marginR7">S</div>          \n                 <div ng-if="entityTypesList[7]" ng-click="updateModuleTypeFilter(7)"\n                     ng-class="{active: isElemTypeActive(\'7\')}"\n                     class="floatL lBorderBG F201 colorf07878 cursor marginB5 marginR7">L</div>\n                 <div ng-if="entityTypesList[8]" ng-click="updateModuleTypeFilter(8)"\n                     ng-class="{active: isElemTypeActive(\'8\')}"\n                     class="floatL iBorderBG F201 colorf07878 cursor marginB5 marginR7">I</div>    \n            </div>\n        </div>\n        <!-- Tag Filters -->\n        <div ng-if="!dontLoadTags" class="floatL marginB30" style="width:100%">\n            <tag-search-filter toggle-tag="toggleTag" is-tag-active="isTagActive" tags-list="tagsList" />\n        </div>\n        <div class="clear"></div>\n    </div>\n</div>\n<div class="clear"></div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search/module-search-display-partial.html",'<td ng-click="openEntity(entity)" style="width:50%;padding:12px 20px" class="borderB_dd">\n    <div style="width:440px">\n        <div>\n            <div ng-if="entity.type === \'COURSE\'" class="floatL cBG_L entity_sml marginT2">C</div>\n            <div ng-if="entity.type === \'UPDATE\'" class="floatL qBG_L entity_sml marginT2">Q</div>\n            <div ng-if="entity.type === \'MISSION\' || entity.type === \'VIDEO_PITCH_COACHING\' || entity.type === \'VOICE_OVER_PPT_COACHING\' || entity.type === \'TASK_EVALUATION_COACHING\' || entity.type === \'SCREEN_CAPTURE_COACHING\'" class="floatL mBG_L entity_sml marginT2">M</div>\n            <div ng-if="entity.type === \'ASSESSMENT\'" class="floatL aBG_L entity_sml marginT2">A</div>\n            <div ng-if="entity.type === \'COACHING\' || entity.type === \'ONE_TO_ONE_COACHING\' || entity.type === \'PERFORMANCE_EVALUATION_COACHING\'" class="floatL sBG_L entity_sml marginT2">S</div>\n\t\t\t<div ng-if="entity.type === \'CHECKLIST\'" class="floatL clBG_L entity_sml marginT2">L</div>\n            <div ng-if="entity.type === \'ILT\'" class="floatL iltBG_L entity_sml marginT2">I</div>\n\t\t\t<div ng-if="entity.type === \'REINFORCEMENT\'" class="floatL cBG_L entity_sml marginT2">Q</div>\n            <div class="F13 color00 lineHeight20 marginL24">\n            \t<span>{{entity.name}}</span>\n            \t<span class="color88" ng-if="getResultReasonPriority(entity)==4">\n\t\t\t\t\t<span>has</span>\n\t\t\t\t\t<span>&#39;{{searchText}}&#39;</span>\n\t\t\t\t\t<span ng-if="entity.type!=\'COACHING\'">in Topic name</span>\n\t\t\t\t\t<span ng-if="entity.type==\'COACHING\'" >in Section name</span>\n\t\t\t\t</span>\n\t\t\t\t<span class="color88" ng-if="getResultReasonPriority(entity)==3">\n\t\t\t\t\t<span>has </span>\n\t\t\t\t\t<span>&#39;{{searchText}}...&#39;&nbsp;</span>\n\t\t\t\t\t<span>Tag</span>\n\t\t\t\t</span>\n\t\t\t\t<span class="color88" ng-if="getResultReasonPriority(entity)==2">\n\t\t\t\t\t<span>has</span>\n\t\t\t\t\t<span>&#39;{{searchText}}&#39;</span>\n\t\t\t\t\t<span>in</span>\n\t\t\t\t\t<span>Description</span>\n\t\t\t\t</span>\n            </div>\n            <div class="clear"></div>\n        </div>\n        <div class="color88 F12 lineHeight20 marginL24 marginT8">\n            <div\n\t\t\t\t\tclass="floatL F16 marginT1"\n\t\t\t\t\tng-class="{\'icon-series\': entity.type !== \'REINFORCEMENT\', \'icon-questThin\': entity.type === \'REINFORCEMENT\'}"></div>\n            <div class="ellipsis marginL24">{{entity.type === \'REINFORCEMENT\' ? \'All Quests\' : entity.seriesName}}</div>\n            <div class="clear"></div>\n        </div>\n    </div>\n</td>\n<td ng-click="openEntity(entity)" valign="middle" class="borderB_dd" style="width:50%;padding:12px 20px 12px 0">\n\t<div ng-if="entity.type == \'COACHING\' || entity.type == \'ONE_TO_ONE_COACHING\'">\n\t\t<div class="color88 F13 lineHeight20 marginL20" ng-if="entity.state!=\'COMPLETED\'">{{getCoachingStatus(entity.scheduledOn)}}</div>\n\t\t<div class="color88 F13 lineHeight20 marginL20" translate="DASHBOARD_TXT_COMPLETED_ON" translate-value-a="{{getNiceDate(entity.completedOn)}}" ng-if="(entity.state==\'COMPLETED\' || entity.state==\'TIMEDOUT\')"></div>\n\t</div>\n\t<div ng-if="entity.type == \'PERFORMANCE_EVALUATION_COACHING\'">\n\t\t<!--<div class="color88 F13 lineHeight20 marginL20" ng-if="entity.state!=\'COMPLETED\' && entity.type != \'PERFORMANCE_EVALUATION_COACHING\'">{{getCoachingStatus(entity.scheduledOn)}}</div>-->\n\t\t<div class="color88 F13 lineHeight20 marginL20" translate="DASHBOARD_TXT_COMPLETED_ON" translate-value-a="{{getNiceDate(entity.completedOn)}}" ng-if="(entity.state==\'COMPLETED\' || entity.state==\'TIMEDOUT\')"></div>\n\t</div>\n\t<div ng-if="entity.type != \'COACHING\' && entity.type != \'ONE_TO_ONE_COACHING\' && entity.type != \'PERFORMANCE_EVALUATION_COACHING\'">\n\t\t<div class="color88 F13 lineHeight20 marginL20" translate="M_TXT_SUBMISSION_PENDING" ng-if="entity.state==\'ADDED\' && entity.type == \'MISSION\'"></div>\n\t\t<div class="color88 F13 lineHeight20 marginL20" translate="DASHBOARD_LEARNER_GRAPH_LABEL_DNS" ng-if="entity.state==\'ADDED\' && entity.type != \'MISSION\'"></div>\n\t\t<div class="color88 F13 lineHeight20 marginL20" translate="M_TXT_REVIEW_PENDING_NONE" ng-if="entity.state==\'SUBMITTED\' && entity.type == \'MISSION\'"></div>\n\t    <div class="color88 F13 lineHeight20 marginL20" ng-if="entity.state==\'ACTIVE\'">{{(isDecimalNumber(entity.percCompletion) ? entity.percCompletion : ( entity.percCompletion | number : 2))}}% <span translate="M_TXT_COMPLETED"></span></div>\n\t    <div class="color88 F13 lineHeight20 marginL20" translate="DASHBOARD_TXT_COMPLETED_ON" translate-value-a="{{getNiceDate(entity.completedOn)}}" ng-if="(entity.state==\'COMPLETED\' || entity.state==\'TIMEDOUT\')"></div>\t\n\t</div>\n</td>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search/peer-list-search-partial.html",'<div class="floatL" style="width:840px;margin:30px 0 0 20px" ng-style="{\'padding-bottom\':(!dontFetchMore) ? \'20px\' : 0}">\n    <div class="contentLoaderSearch" ng-class="{ \'wh-167\': !dontFetchMore }" style="padding:0 2px">\n        <div class="F14 color00 lineHeight20 marginB10" ng-if="dontFetchMore && !loading" translate="DASHBOARD_TAB_TIP_PEERS">Peers</div>\n        <div class="bg_ff newBoxShadow"\n             infinite-scroll="fetchNext()"\n             infinite-scroll-container="\'.contentLoaderSearch\'"\n             infinite-scroll-distance="0"\n             infinite-scroll-disabled="loading || entities.length >= max"\n             infinite-scroll-immediate-check="false"\n             infinite-scroll-use-document-bottom="false">\n            <div ng-style="heightStyle">\n                <table border="0" cellpadding="0" cellspacing="0">\n                    <tr class="cursor" ng-repeat="entity in entities" peer-search-display-partial></tr>\n                </table>\n            </div>\n            <div class="textalign_C" style="padding:5px 20px;" ng-click="fetchNext()" ng-if="!loading && entities.length < max && !dontFetchMore">\n                <span class="cursor color0072bc F13" mt-trans="LB_TXT_LOAD_MORE"></span>\n            </div>\n            <div class="textalign_C" style="padding:5px 20px;" ng-click="openTab()" ng-if="dontFetchMore && max > count">\n                <span class="cursor color0072bc F13" translate="LB_TXT_VIEW_ALL_N_RESULTS" translate-value-a="{{max}}">View all {{max}} results</span>\n            </div>\n        </div>\n        <div no-result-without-filter-partial ng-if="max === 0 && !hasFilterApplied() && !dontFetchMore"></div>\n        <div no-result-with-filter-partial reset-filters="resetFilters"\n             ng-if="max === 0 && hasFilterApplied() && !dontFetchMore"></div>\n        <div  ng-if="loading && !dontFetchMore" class="textalign_C"><img ng-src="{{loader}}"/> </div>\n    </div>\n</div>\n<div class="borderT30_transparent" ng-if="!dontFetchMore" style="margin-left:890px;">\n    <div class="lineHeight20 color737d8a marginB25 marginR30"\n         ng-repeat="(profileField,tags) in tagSections track by $index"\n         ng-if="getProfileFieldName(profileField)!=\'NA\' && !isPartnerTraining && tags.length > 0"\n         ng-hide="participantsCtrl.loadingTags">\n        <div class="marginB3" ng-click="myVal=!myVal" ng-init="myVal=($index==0)">\n            <div class="floatL icon-triangleDown F10 marginT5 cursor"\n                 ng-class="{ \'icon-triangleDown\': myVal, \'icon-triangleRight\': !myVal }">\n            </div>\n            <div class="marginL18 F12 cursor">{{getProfileFieldName( profileField )}}</div>\n        </div>\n        <div class="marginL18 ofh" ng-show="myVal">\n            <div ng-repeat="tag in tags"\n                 ng-if="tagName !== \'\'"\n                 ng-click="setCurrentTag( profileField, tag.key )"\n                 ng-class="{ Active: currentTagValue==tag.key }"\n                 class="floatL tagDiv_2"\n                 style="margin:0 7px 7px 0">{{ tag.key }}({{ tag.val }})\n            </div>\n\n        </div>\n    </div>\n</div>\n<div class="clear"></div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search/peer-search-display-partial.html",'<td ng-click="viewProfile()" style="width:50%;padding:14px 20px" class="borderB_dd" ng-style="{\'padding\':(!entity.profile.dp && !entity.profile.rg)?\'25px 20px\':\'14px 20px\'}">\n    <div style="width:400px">\n        <div>\n            <div class="floatL icon-person F16 color00 marginT2"></div>\n            <div class="F13 color00 lineHeight20 ellipsis marginL24">{{ entity.name }}</div>\n            <div class="clear"></div>\n        </div>\n        <div ng-if="entity.profile.dp || entity.profile.rg" class="color88 F12 lineHeight20 marginL24 marginT3">\n            <span ng-if="entity.profile.dp">{{ entity.profile.dp }},</span>\n            <span ng-if="entity.profile.rg">{{ entity.profile.rg }}</span>\n        </div>\n    </div>\n</td>\n<td ng-click="viewProfile()" valign="middle" class="borderB_dd" style="width:50%;padding:12px 20px">\n    <div class="colorf48414 F14 lineHeight20 marginL20">\n        <div class="floatL icon-halfStar F16 marginT3"></div>\n        <div class="floatL marginL3">{{ kscore }}</div>\n        <div class="clear"></div>\n    </div>\n</td>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search/series-list-search-partial.html",'<div class="" style="width:840px;margin:30px 0 0 20px" ng-style="{\'padding-bottom\':(!dontFetchMore) ? \'20px\' : 0}">\n    <div class="contentLoaderSearch" ng-class="{ \'wh-167\': !dontFetchMore }" style="padding:0 2px">\n        <div class="F14 color00 lineHeight20 marginB10" ng-if="dontFetchMore  && !loading && max > 0" translate="DASHBOARD_PROFILE_SERIES">Series</div>\n        <div class="bg_ff newBoxShadow"\n             infinite-scroll="fetchNext()"\n             infinite-scroll-container="\'.contentLoaderSearch\'"\n             infinite-scroll-distance="0"\n             infinite-scroll-disabled="( result && !result.$resolved ) || entities.length >= max || dontFetchMore"\n             infinite-scroll-immediate-check="false"\n             infinite-scroll-use-document-bottom="false">\n            <div ng-style="heightStyle">\n                <table border="0" cellpadding="0" cellspacing="0">\n                    <tr class="cursor" ng-repeat="entity in entities" ng-click="gotoSeries(entity, $index)" series-search-display-partial></tr>\n                </table>\n            </div>\n            <div class="textalign_C" style="padding:5px 20px;"\n                 ng-if="( result && result.$resolved ) && entities.length < max && !dontFetchMore"\n                 ng-click="fetchNext()">\n                <span class="cursor color0072bc F13" mt-trans="LB_TXT_LOAD_MORE"></span>\n            </div>\n            <div class="textalign_C" style="padding:5px 20px;" ng-if="dontFetchMore && max > count" ng-click="openTab()">\n                <span class="cursor color0072bc F13" translate="LB_TXT_VIEW_ALL_N_RESULTS" translate-value-a="{{max}}">View all {{max}} results</span>\n            </div>\n        </div>\n        <div no-result-without-filter-partial ng-if="max === 0 && !dontFetchMore"></div>\n        <div  ng-if="result && !result.$resolved && !dontFetchMore" class="textalign_C"><img ng-src="{{loader}}"/> </div>\n    </div>\n</div>\n<div class="clear"></div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search/series-search-display-partial.html",'<td style="width:50%;padding:26px 20px" class="borderB_dd">\n    <div style="width:400px">\n        <div class="color00 F13 lineHeight20">\n            <div class="floatL icon-seriesOld F16 marginT2"></div>\n            <div class="ellipsis marginL24">\n                <span>{{entity.name}}</span>\n                <span class="color88">{{getSearchMatchText(entity, searchText)}}</span>\n            </div>\n            <div class="clear"></div>\n        </div>\n    </div>\n</td>\n<td valign="middle" class="borderB_dd" style="width:50%;padding:26px 20px">\n    <div class="color88 F13 lineHeight20 marginL20">\n        {{ entity.totalCompletedEntities }}/{{ entity.totalEntities }} <span translate="DASHBOARD_PROFILE_MODULE_COMPLETED">Modules Completed</span>\n    </div>\n</td>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/search/top-list-search-partial.html",'<div class="wh-137 floatL" style="width:840px;margin:30px 0 0 20px">\n  <div module-list-search-partial count="3" dont-fetch-more="true" dont-load-tags="true"\n    loaded="dataLoaded( type, loaded, count, tagsList )" ng-if="countTillNow[\'module\']"></div>\n  <div file-list-search-partial count="3" dont-fetch-more="true" dont-load-tags="true"\n    loaded="dataLoaded( type, loaded, count, tagsList )" ng-if="countTillNow[\'file\']"></div>\n  <div series-list-search-partial count="3" dont-fetch-more="true" \n    loaded="dataLoaded( type, loaded, count )" ng-if="countTillNow[\'series\']"></div>\n  <div peer-list-search-partial count="3"\n    dont-fetch-more="true" loaded="dataLoaded( type, loaded, count )"\n    ng-if="TYPES_OF_SEARCH.PEER && countTillNow[\'peer\']"></div>\n  <div no-result-without-filter-partial ng-if="!loading && totalCount === 0\n    && !hasFilterApplied()"></div>\n  <div no-result-with-filter-partial reset-filters="resetFilters"\n    ng-if="!loading && totalCount === 0 && hasFilterApplied()"></div>\n  <div ng-if="loading" style1="width:840px;" class="textalign_C marginL20"\n    ng-style="{width : (!loading && totalCount === 0) ? \'auto\' : \'840px\'}">\n      <img ng-src="{{loader}}"/>\n  </div>\n</div>\n\n<div ng-if="loading" class="marginL20 textalign_C" style="width:840px;">\n  <img ng-src="{{loader}}"/>\n</div>\n\n<!-- tag filters -->\n<div class="wh-137 paddingL10 paddingR20" style="margin-left:890px;border-top: 30px solid transparent;">\n\t<div ng-if="!loading"></div>\n  <tag-search-filter toggle-tag="toggleTag" is-tag-active="isTagActive" tags-list="tagsList" />\n</div>\n\n<div class="clear"></div>\n'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/series-new/series.html",'\t<div class="borderR4 boxShadow_Div" wt-step="3" wt-group="demo" wt-text="{{ \'WT_MODULES\' | translate }}" wt-position="left"\n\twt-title="<div class=\'icon-seriesOld F18 floatL marginR8\'></div><div class=\'floatL F14 lineHeight18\'>{{ \'Modules\' }}</div>"\n\tstyle="background-color:#fff;margin:24px 0;padding: 12px 24px 24px;min-height: calc(100vh - 108px)">\n\t\t<div class="seriesTopPart" style="width:100%;">\n\t\t\t<div class="borderB_dd1 paddingB13">\n\t\t\t\t<div class="lineHeight24 F16 color2a2e36 borderT16_transparent borderB12_transparent" ng-if="seriesNameResolver.$resolved">\n\t\t\t\t\t<div class="floatL paddingT3 paddingB3">\n\t\t\t\t\t\t<div class="floatL F18 marginT2" ng-class="{\'icon-questThick color989ca6\': isReinforcementSeries, \'icon-seriesLine\': !isReinforcementSeries}"></div>\n\t\t\t\t\t\t<div ng-if="!isReinforcementSeries" class="tooltip_bottom_left floatR 11icon-pin1 color989ca6 cursor paddingT4 paddingL10 tooltip_width120 noHoverForIpad bg_ff"\n\t\t\t\t\t\twt-step="4" wt-group="demo" wt-text="{{ \'WT_M_PINNED_SERIES\' | translate }}" wt-position="left" wt-title="<div class=\'icon-pin F18 floatL marginR8\'></div><div class=\'floatL F14 lineHeight18\'>{{ \'Pin Series\' }}</div>"\n\t\t\t\t\t\tmtitle="{{series.pinned ? (\'LB_TXT_UNPIN_THIS_SERIES\' | translate) : (\'LB_TXT_PIN_THIS_SERIES\' | translate)}}" ng-class="{\'icon-pinFilled_New\': series.pinned, \'icon-pinLine_New\': !series.pinned}"\n\t\t\t\t\t\tng-click="togglePin()"></div>\n\t\t\t\t\t\t<div class=" ellipsis1 marginR24 marginL30">{{isReinforcementSeries ? "All Quests" : series.name}}</div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-if="showSubscribe()" ng-click="addSeriesToMyBoard()" class="floatR blueBorderBtn_30 F12 paddingL20 paddingR20 pos_rel subscribeBtn"\n\t\t\t\t\tstyle="background:none">\n\t\t\t\t\t\t<div mt-trans="LB_TXT_SUBSCRIBE">Subscribe</div>\n\t\t\t\t\t\t<div mt-trans="LB_TXT_SUBSCRIBE_SUBLINE" class="pos_abs bg_ff newBoxShadow lineHeight20 color00 F12 subsscribeHover" style="width:280px;top: 35px;right: 0;padding: 10px 15px;z-index: 1">Subscribe\n\t\t\t\t\t\t\tto this Series to receive updates. This will move it to Assigned Series.</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-show="subscribed" class="floatR bgfffbcf color00 lineHeight30 paddingL10 paddingR10">\n\t\t\t\t\t\t<div class="floatL F13 " mt-trans="LB_TXT_SUBSCRIBE_SUCCESS">Successfully subscribed and added to Assigned Series</div>\n\t\t\t\t\t\t<div ng-click="subscribed=false" class="floatL icon-Close F10 cursor marginL10 marginT11"></div>\n\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\n\n\t\t\t\t<div ng-if="!seriesNameResolver.$resolved" style="width: 300px; height: 32px; display: inline-block;">\n\t\t\t\t\t<mt-loader type="small" size="sizeXSmall"></mt-loader>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- <div class="lineHeight24 F16 color00 borderT25_transparent borderB15_transparent" ng-if="!seriesNameResolver.$resolved">\n\t\t\t\t\t<img ng-src="{{smallLoader}}">\n\t\t\t\t</div> -->\n\t\t\t\t<div class="color606369 F13 lineHeight20" ng-class="{\'truncate_2_line\':height>40}" ng-if="(series.desc != \'null\' && series.desc != \'\') || isReinforcementSeries"\n\t\t\t\tdd-text-collapse dd-text-collapse-max-length="347"\n\t\t\t\t\tdd-text-collapse-text="{{isReinforcementSeries ? \'Imbibe knowledge for longer duration by completing question based challenges\' : series.desc}}">\n\t\t\t\t</div>\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="paddingT10 paddingB8 borderT_dd">\n\t\t\t\t<div class="floatL" ng-style="{\'max-width\': !noMileStone() && isMilestone ? \'calc(100% - 160px)\' : \'100%\'}">\n\t\t\t\t\t<react-select-with-search\n\t\t\t\t\t\tng-if="!isReinforcementSeries"\n\t\t\t\t\t\tclass="floatL marginR20 marginB12"  \n\t\t\t\t\t\tbutton-width="\'200px\'"\n\t\t\t\t\t\tbutton-max-width="\'200px\'" \n\t\t\t\t\t\tis-button="true"\n\t\t\t\t\t\thas-none="true"\n\t\t\t\t\t\t\t\tbutton-label="noneETLabelReact"\xa0\n\t\t\t\t\t\t\t\tdefault-value="noneETLabelReact"\n\t\t\t\t\t\t\t\tnone-label="noneETLabelReact"\xa0 \n\t\t\t\t\t\tvalue="selectedEntityFilterReact()"\xa0\n\t\t\t\t\t\tshow-search="false"\n\t\t\t\t\t\ton-change="applyEntityFilterReact"\n\t\t\t\t\t\tplaceholder="Select"\n\t\t\t\t\t\tsort-options="false"\n\t\t\t\t\t\tmenu-portal-target1="menuPortal"\n\t\t\t\t\t\t\t\tstyles="mtReactStyle"\n\t\t\t\t\t\toptions="reactEntityTypeFilters"></react-select-with-search>\t\n\t\t\t\t\t<react-select-with-search\n\t\t\t\t\t\tclass="floatL marginR20 marginB12"  \n\t\t\t\t\t\tbutton-width="\'250px\'" \n\t\t\t\t\t\tis-button="true"\n\t\t\t\t\t\thas-none="true"\n\t\t\t\t\t\t\t\tbutton-label="noneCTLabelReact"\xa0\n\t\t\t\t\t\t\t\tdefault-value="noneCTLabelReact"\n\t\t\t\t\t\t\t\tnone-label="noneCTLabelReact"\xa0 \n\t\t\t\t\t\tvalue="selectedCompletionFilter()"\xa0\n\t\t\t\t\t\tshow-search="false"\n\t\t\t\t\t\ton-change="applyCompletionFilterReact"\n\t\t\t\t\t\tplaceholder="Select"\n\t\t\t\t\t\tsort-options="false"\n\t\t\t\t\t\tmenu-portal-target1="menuPortal"\n\t\t\t\t\t\t\t\tstyles="csReactStyle"\n\t\t\t\t\t\toptions="reactcompletionTypesFilters"></react-select-with-search>\n\t\t\t\t\t<react-select-with-search\n\t\t\t\t\t\tng-if="!isReinforcementSeries && lsSettings.moduleRelevanceEnabled"\n\t\t\t\t\t\tclass="floatL marginR20 marginB12"\n\t\t\t\t\t\tis-multi="true"  \n\t\t\t\t\t\tbutton-width="\'250px\'" \n\t\t\t\t\t\tis-button="true"\n\t\t\t\t\t\thas-none="true"\n\t\t\t\t\t\t\t\tbutton-label="noneMRLabelReact"\xa0\n\t\t\t\t\t\t\t\tdefault-value="noneMRLabelReact"\n\t\t\t\t\t\t\t\tnone-label="noneMRLabelReact"\xa0 \n\t\t\t\t\t\tvalue="selectedRelevanceFilterReactArr"\xa0\n\t\t\t\t\t\tshow-search="false"\n\t\t\t\t\t\ton-change="applyModuleRelevanceFilterReact"\n\t\t\t\t\t\tplaceholder="Select"\n\t\t\t\t\t\tsort-options="false"\n\t\t\t\t\t\tmenu-portal-target1="menuPortal"\n\t\t\t\t\t\t\t\tstyles="mrReactStyle"\n\t\t\t\t\t\toptions="reactModuleRelevanceFilters"></react-select-with-search>\n\t\t\t\t\t<tag-filter class="floatL marginB12" series="seriesId" select-tag="applyTagFilter" selected-tags="selectedTags" ng-if="!isReinforcementSeries" ></tag-filter>\t\n\t\t\t\t\t<div ng-if="hasFilters"\n                class="floatL resetFilterBtn lineHeight32 marginB12 " translate="RESET_FILTERS" ng-click="resetFilters()"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<!--entity-filter ng-if="!isReinforcementSeries" select-function="applyEntityFilter" entity-types="entityTypes" selected-filter="selectedEntityFilter"></entity-filter>\n\t\t\t\t<completion-filter is-only-filter="isReinforcementSeries" select-function="applyCompletionFilter" completion-types="completionTypes" selected-filter="selectedCompletionFilter" ></completion-filter>\n\t\t\t\t<module-relevance-filter ng-if="!isReinforcementSeries && lsSettings.moduleRelevanceEnabled" select-function="applyModuleRelevanceFilter" module-relevance-types="moduleRelevanceTypes" selected-filter="selectedRelevanceFilter"></module-relevance-filter-->\n\t\t\t\t<div class=\'floatR pos_rel dropdown marginR10 F13 color606369 cursor\'\n\t\t\t\t\tstyle="line-height: 32px" \n\t\t\t\t\tng-if="!noMileStone() && isMilestone" \n\t\t\t\t\tng-click="collapseAll()">\n\t\t\t\t\t<div class="floatL">{{getHideLinkText()}}</div>\n\t\t\t\t\t<div class="floatL marginL8 F16 marginT1 lineHeight32" \n\t\t\t\t\t\tng-class="{\'icon-collapseAll_New\':isAlMilestonesCollapsed(),\n\t\t\t\t\t\t\'icon-expandAll_New\': !isAlMilestonesCollapsed()}"></div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<!--div ng-if="getAvailableAppliedTagsCount()>0" class="floatL F13 marginL20 color989ca6 dropdown" style="line-height:18px">\n\t\t\t\t\t<div class="color989ca6 dropdown-toggle cursor paddingB2" style="border: none;border-bottom:1px solid #ddd" translate="N_TAGS_SELECTED"\n\t\t\t\t\ttranslate-value-n="{{getAvailableAppliedTagsCount()}}"></div>\n\t\t\t\t\t<div class="dropdown-menu" style="width:220px;top:20px;left:-10px;padding: 0px;margin:0;box-shadow: 0px 0px 3px #ccc !important;max-height: 180px;overflow-y: auto;">\n\t\t\t\t\t\t<div ng-repeat="tag_id in selectedTags" class="cursor hoverBg lineHeight16" ng-if="selectedTagObjs[tag_id]" style="padding:10px">\n\t\t\t\t\t\t\t<div class="floatL color989ca6 F13 ellipsis" style="max-width:160px">{{selectedTagObjs[tag_id].name}}</div>\n\t\t\t\t\t\t\t<div class="floatR icon-Close F10 color989ca6 paddingT3 paddingR5 paddingB3 paddingL5" ng-click="applyTagFilter([tag_id])"></div>\n\t\t\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="selectedTags.length>0" class="floatL cursor color0072bc F13 marginL20" translate="DASHBOARD_CLEAR_ALL"\n\t\t\t\tng-click="clearAllTagFilters()"></div-->\n\t\t\t\t<div class="clear"></div>\n\t\t\t</div>\n\t\t\t<div class="clear"></div>\n\t\t</div>\n\t\t<div style="position: relative; min-height: 400px;">\n\t\t\t<div ng-if="!isMilestone || !lbsf.isMilestone[seriesId]" class="checkHeightInnerInfiniteScrollDiv" ng-class="{heightInnerInfiniteScrollDiv:(seriesData.request.$resolved && seriesData.entities.length > 0),\n\t\t\t\t\t\t\theight_0_InnerInfiniteScrollDiv:(seriesData.request.$resolved && seriesData.entities.length == 0)}"\n\t\t\tinfinite-scroll="fetchNext()" infinite-scroll-container="scrollContainer" infinite-scroll-distance="0"\n\t\t\tinfinite-scroll-disabled="anythingLoading()" infinite-scroll-immediate-check="false"\n\t\t\tinfinite-scroll-use-document-bottom="false">\n\t\t\t\t<module-list-view ng-if="seriesData.request.$resolved || seriesData.entities.length > 0" series="seriesId">\n\t\t\t\t</module-list-view>\n\t\t\t</div>\n\t\t\t<div class="milestoneContainer" ng-if="isMilestone && lbsf.isMilestone[seriesId] && hasMilestones() && series">\n\t\t\t\t<milestone-list ng-repeat="milestone in milestones.milestones" style="display: block" ng-value="currentMilestone = milestone"\n\t\t\t\tng-if="hasFilters || milestone.module_count">\n\t\t\t\t</milestone-list>\n\t\t\t</div>\n\n\t\t\t\t<empty-state ng-if="!anythingLoading() && isSeriesEmpty() && !isReinforcementSeries"\t\t\t\t\n\t\t\t\t\timg-src="images/EmptyStateParameters.svg"\n\t\t\t\t\tmessage-title="THIS_SERIES_IS_EMPTY"\n\t\t\t\t\tsuggestion-content="ONCE_MODULE_ADDED_NOTIFICATION"\n\t\t\t\t></empty-state>\n\n\t\t\t\t<empty-state  ng-if="!anythingLoading() && isSeriesEmpty() && isReinforcementSeries"\t\n\t\t\t\t\timg-src="images/EmptyStateParameters.svg"\n\t\t\t\t\tmessage-title="THIS_QUEST_IS_EMPTY"\n\t\t\t\t\tsuggestion-content="ONCE_ASSIGNED_WILL_NOTIFY"\n\t\t\t\t></empty-state>\n\n\t\t\t<!-- <div class="textalign_C" style="border-top:100px solid transparent" ng-if="isSeriesEmpty()">\n\t\t\t\t<div class="color88 icon-emptyFolder F40 marginB15"></div>\n\t\t\t\t<div class="color88 F20 lineHeight30 marginB2" translate="THIS_SERIES_IS_EMPTY">\n\t\t\t\t\tThis Series is empty.\n\t\t\t\t</div>\n\t\t\t\t<div class="color88 F13 lineHeight18" translate="ONCE_MODULE_ADDED_NOTIFICATION">\n\t\t\t\t\tOnce a Module is added, you will notified by an email.\n\t\t\t\t</div>\n\t\t\t</div> -->\n\n\t\t\t<div class="textalign_C" ng-if="!anythingLoading() && isSeriesEmptyWithFilters()">\n\t\t\t\t<empty-state\n\t\t\t\t\timg-src="images/noSearchResults.svg" \n\t\t\t\t\tmessage-title="FILTERS_HAVE_LEAD_YOU_NOWHERE"\n\t\t\t\t></empty-state>\n\t\t\t\t<div class="color989CA6 F14 lineHeight20 marginT8" style="padding: 0 0 100px 0;">\n\t\t\t\t\t<span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n\t\t\t\t\t<span translate="RESET_FILTERS"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\n\t\t\t<!-- <div class="textalign_C" style="border-top:100px solid transparent" ng-if="isSeriesEmptyWithFilters()">\n\t\t\t\t<div class="color88 noTagsDirectionImg" style="margin:0 auto 20px"></div>\n\t\t\t\t<div class="color88 F20 lineHeight30 marginB2" translate="FILTERS_HAVE_LEAD_YOU_NOWHERE">\n\t\t\t\t\tThis Series is empty.\n\t\t\t\t</div>\n\t\t\t\t<div class="color88 F13 lineHeight18">\n\t\t\t\t\t<span translate="TRY_ADJUSTING_YOUR_FILTER_OR"></span>\n\t\t\t\t\t<span class="cursor color0072bc" translate="RESET_FILTERS" ng-click="resetFilters()"></span>\n\t\t\t\t</div>\n\t\t\t</div> -->\n\n\t\t\t<mt-loader ng-if="isMilestone && anythingLoading() && milestones.request && !milestones.request.$resolved" type="full" size="sizeBig"></mt-loader>\n\n\t\t\t<mt-loader ng-if="!isMilestone && anythingLoading() && seriesData.request && !seriesData.request.$resolved && seriesData.entities.length == 0" type="full" size="sizeBig"></mt-loader>\n\t\t\t<mt-loader ng-if="anythingLoading() && seriesData.request && !seriesData.request.$resolved && seriesData.entities.length > 0" type="small" size="sizeSmall"></mt-loader>\n\n\t\t\t<!-- <div ng-if="anythingLoading() || ( milestones.request && !milestones.request.$resolved )" class="marginB20" style="width: 100%;text-align:center;">\n\t\t\t\t<img ng-src="{{smallLoader}}">\n\t\t\t</div> -->\n\t\t</div>\n\t</div>'),
a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/voss/asset.html",'<div id="voss-asset"></div>'),a.put("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/allaboard/prod/angular/dashboard/voss/list.html",'<div id="voss-asset-list"></div>')}]);var Upload={}||Upload;Upload.states={EMPTY:0,UPLOADING:1,PROCESSING:2,COMPLETED:3,ERROR:-1,PUBLISHABLE:5,PUBLISHABLE_FAIL:22},Upload.googlePickerViewIds={DOCS:"all",DOCS_IMAGES:"docs-images",DOCS_IMAGES_AND_VIDEOS:"docs-images-and-videos",DOCS_VIDEOS:"docs-videos",DOCUMENTS:"documents",DRAWINGS:"drawings",FOLDERS:"folders",FORMS:"forms",IMAGE_SEARCH:"image-search",MAPS:"maps",PDFS:"pdfs",PHOTO_ALBUMS:"photo-albums",PHOTOS:"photos",PHOTO_UPLOAD:"photo-upload",PRESENTATIONS:"presentations",RECENTLY_PICKED:"recently-picked",SPREADSHEETS:"spreadsheets",VIDEO_SEARCH:"video-search",WEBCAM:"webcam",YOUTUBE:"youtube"},Upload.UploadObject=function(a,b,c,d,e,f){var g={color:"BLACK"};this.options=$.extend(g,f),e&&(this.defaultConfig=_.extend({},this.defaultConfig,e),this.uploadId=e.uploadId),this.defaultConfig.entityId=d,this.entityId=d,this.isVisible=!1,this.statusTimer=0,this.state=Upload.states.EMPTY,this.uploadId=UploadeManager.getUploadId(),this.uploadService=e.uploadService,this.uploadObjects=[];for(var h=0;h<a.length;h++){var i=new a[h];i.init(this.uploadId,b),this.uploadObjects.push(i)}this.types=[],this.isConvert=!0;for(var h=0;h<b.length;h++){if(b[h]==UploadeManager.TYPE_ALL){this.types=UploadeManager.TYPE_ALL,this.isConvert=!1;break}this.types=this.types.concat(b[h])}this.isHandout=!1,this.types.indexOf("*")>=0&&(this.isHandout=!0)},Upload.UploadObject.prototype.checkFile=function(a){if(!a||!a.name)return!1;var b=a.name.substr(a.name.lastIndexOf(".")+1).toLowerCase(),c=!0;return c=this.types.indexOf(b)<0&&this.types.indexOf("*")<0?_.template(Game.Messages.UNSUPPORTED_FILE_ERROR)({types:this.types.concat.apply([],this.types).join(" "+Game.Messages.HM_OR+" ")}):UploadeManager.checkSize(b,a.size,this.isHandout)},Upload.UploadObject.prototype.setCurrentUploadMethod=function(a){window.currentUploadMethod=a,$(".cancelCurrentUpload").addClass("display_N"),"Upload"===a&&$(".cancelCurrentUpload").removeClass("display_N")},Upload.UploadObject.prototype.onStateChange=function(a){this.onStateChange=a},Upload.UploadObject.prototype.setState=function(a){this.state!=a&&(this.state=a,this.onStateChange&&this.onStateChange())},Upload.UploadObject.prototype.setMediaInfo=function(a){a?this.state=Upload.states.COMPLETED:(this.state=Upload.states.EMPTY,this.showFileSelectArea())},Upload.UploadObject.prototype.successCallback=function(a){this.callback=a},Upload.UploadObject.prototype.showFileSelectArea=function(){$(".selectArea,>div:eq(0)",this.config.container).show(),this.progressBar&&this.progressBar.hide()},Upload.UploadObject.prototype.showProgressStart=function(){$(".selectArea,>div:eq(0)",this.config.container).hide(),this.progressBar.find(".name").text(MediaTitle.limitText(this.file.name,20)),this.progressBar.find(".proBg").width("0%"),this.progressBar.find(".perc").text("0"),this.progressBar.find(".eta").text(""),$(">div",this.config.container).eq(0).hide(),"WHITE"==this.options.color?this.progressBar.addClass("colorff"):"BLACK"==this.options.color&&this.progressBar.addClass("color00"),this.progressBar.show(),this.dropDown.css({top:-500}),Utils.Func.dispatchEvent("upload.progressbar.started",{filename:this.file.name})},Upload.UploadObject.prototype.afterSuccess=function(a){if(($.isFunction(this.callback)&&a||0==a)&&this.callback.call(this,a,!1),this.file=null,a)if(this.progressBar&&this.progressBar.hide(),this.config&&1==this.config.type||this.showFileSelectArea(),a.status==Upload.states.UPLOADING||a.status==Upload.states.PROCESSING){var b=this.uploadUUID;UploadeManager.registerStatus(this.uploadUUID,1);var c=this;UploadeManager.trackMediaProcessing(a,function(a,d){a==Upload.states.COMPLETED?(UploadeManager.registerStatus(b,2),c.setState(Upload.states.EMPTY)):a==Upload.states.ERROR&&(UploadeManager.registerStatus(b,-1),c.setState(Upload.states.ERROR))})}else this.setState(Upload.states.COMPLETED),UploadeManager.registerStatus(this.uploadUUID,2);else this.setState(Upload.states.EMPTY),UploadeManager.registerStatus(this.uploadUUID,-1)},Upload.UploadObject.prototype.renderUploadedZip=function(a){var b={};b.render();var c=this;b.on("file.selected",function(b){$.ajax({url:"/"+cname+"/media/"+a.id+"/update",type:"POST",contentType:"application/json",data:JSON.stringify({index:b}),success:function(a){$.modal.close(),c.afterSuccess(a.media)},error:function(){c.setState(Upload.states.EMPTY)}})})},Upload.UploadObject.prototype.success=function(a){if(this.state!=Upload.states.UPLOADING&&this.state!=Upload.states.PROCESSING)return void console.log("success:invalid state",this.state);this.setState(Upload.states.PROCESSING);var b=this;if(!a)return void this.afterSuccess(null);if(a.uploadId=this.uploadUUID,this.dropDown.css({top:-500}),a)if(89!=a.type||b.config.dontRenderZip)this.afterSuccess(a);else if(0==a.status)this.renderUploadedZip(a);else var c=setInterval(function(){$.get("/"+cname+"/media/"+a.id+"/status?_="+Date.now(),function(d){"SUCCESS"==d?(clearInterval(c),a.status=0,b.renderUploadedZip(a)):"FAILED"==d&&Utils.Func.alert("Unable to unzip file!")})},1e3);else this.setState(Upload.states.EMPTY),this.afterSuccess(a)},Upload.UploadObject.prototype.start=function(a,b){return this.state!=Upload.states.EMPTY&&this.state!=Upload.states.ERROR?void console.log("start:invalid state",this.state):(this.file=a,b===!1?a.showInManager=!1:a.showInManager=!0,this.percent=0,this.setState(Upload.states.UPLOADING),this.showProgressStart(),this.uploadUUID=UploadeManager.registerUploadStart(a),void this.dropDown.css({top:-500}))},Upload.UploadObject.prototype.error=function(a,b,c,d){if(c=c||!1,a){var e={isRetryable:c,subMessage:b||ErrorCode.SOMETHING_WENT_WRONG},f=new MTError(a,e);Utils.Func.dispatchEvent("uploader.error",f)}d&&Game.MixPanelTracking.track(TRACKING_EVENT_SERVICE.EVENTS.UPLOAD_ERROR,{"Content ID":this.entityId,uploadID:this.file.uniqueId,code:a,message:b}),this.setState(Upload.states.EMPTY),this.file=null;this.progressBar.find(".stat span");UploadeManager.registerStatus(this.uploadUUID,-1),this.success()},Upload.UploadObject.prototype.addProgressListener=function(a){this.onProgress=a},Upload.UploadObject.prototype.addSetEtaListener=function(a){this.onETA=a},Upload.UploadObject.prototype.removeProgressListener=function(){delete this.onProgress},Upload.UploadObject.prototype.progress=function(a){return this.state!=Upload.states.UPLOADING?void console.log("progress:invalid state",this.state):(this.percent=Math.round(a),this.progressBar.find(".proBg").width(this.percent+"%"),this.progressBar.find(".perc").text(this.percent),this.onProgress&&this.onProgress(this.percent),void UploadeManager.registerProgress(this.uploadUUID,this.percent))},Upload.UploadObject.prototype.setETA=function(a){this.onETA&&this.onETA(a);var b="This may take approximately "+secondsToHumanReadableString(1e3*a)+" to upload.";this.progressBar.find(".eta").text(b)},Upload.UploadObject.prototype.removeMedia=function(){this.success(),this.state=Upload.states.EMPTY,this.showFileSelectArea(),"undefined"!=typeof this.uploadUUID&&UploadeManager.registerStatus(this.uploadUUID,-1)},Upload.UploadObject.prototype.getCurrentState=function(){return this.state},Upload.UploadObject.prototype.showCurrState=function(){if(this.state==Upload.states.EMPTY)this.showFileSelectArea();else if(this.state==Upload.states.UPLOADING){var a=this.percent;this.showProgressStart(),this.progress(a)}else this.state==Upload.states.PROCESSING||this.state==Upload.states.COMPLETED&&(this.progressBar.hide(),1==this.config.type||this.showFileSelectArea())},Upload.UploadObject.prototype.defaultConfig={type:1,multi:!1,previewType:1,buttonText:"Add Image/Video/ppt/pdf"},Upload.UploadObject.prototype.config=Upload.UploadObject.prototype.defaultConfig,Upload.UploadObject.prototype.createDropdown=function(){var a=$('<div style="top: -500px; left: 0; cursor: default;" class="pos_rel dropDown_ssDiv gameUploadsDD"><div style="width:260px;" class="ddBG1 pos_abs"><ul class="lineHeight20" style="margin:0;padding:0;"></ul></div></div>').appendTo("#allUploaders"),b=a.find("ul");this.config.zIndex&&($("#allUploaders")[0].style.zIndex=this.config.zIndex);for(var c=0;c<this.uploadObjects.length;c++)this.uploadObjects[c].render(b,this);this.dropDown=a},Upload.UploadObject.prototype.isReady=function(a){return this.state!=Upload.states.UPLOADING&&this.state!=Upload.states.PROCESSING},Upload.UploadObject.prototype.openDropDown=function(a){if(this.state!=Upload.states.UPLOADING&&this.state!=Upload.states.PROCESSING){var b={left:a.pageX,top:a.pageY};return this.config.deductTop&&b.top>0?b.top-=this.config.deductTop:"undefined"!=typeof window.deductTopForUploadMenu&&b.top>0&&(b.top-=window.deductTopForUploadMenu),a.pageX+170>$(window).width()&&(b.left=$(window).width()-210),parseInt(this.dropDown.css("top").replace("px",""))>0&&"visible"===this.dropDown.css("visibility")&&this.dropDown.is(":visible")?eventManager.trigger("close.tips"):(eventManager.trigger("close.tips"),this.dropDown.css(b),this.dropDown.css("visibility","visible").show()),a.stopPropagation(),!1}},Upload.UploadObject.prototype.render=function(a){var b=this;return a.uploadObjInstance&&(b=a.uploadObjInstance),b.isVisible=!0,a=b.config=$.extend({},b.defaultConfig,a),a.uploadObjInstance||b.createDropdown(),b.config.container.off("click drop dragover dragenter dragleave").click(function(a){return b.openDropDown(a)}).on("drop",function(c){if(c.preventDefault(),c.stopPropagation(),a.container.removeClass("drophere"),c.originalEvent.dataTransfer&&c.originalEvent.dataTransfer.files.length)for(var d=0;d<b.uploadObjects.length;d++)if(b.uploadObjects[d]instanceof Upload.UploadMethodFile)return void b.uploadObjects[d].selectFilesApi(c.originalEvent.dataTransfer.files)}).on("dragover",function(a){a.preventDefault(),a.stopPropagation(),a.originalEvent.dataTransfer&&(a.originalEvent.dataTransfer.dropEffect="copy")}).on("dragenter",function(b){b.preventDefault(),b.stopPropagation(),a.container.addClass("drophere")}).on("dragleave",function(b){b.preventDefault(),b.stopPropagation(),a.container.removeClass("drophere")}),eventManager.on("close.tips",function(){b.dropDown.css({top:-500})}),"undefined"==typeof b.config.container?void console.log("Container is must"):(void 0==b.progressBar&&("undefined"==typeof a.uploadObjTmpl&&(a.uploadObjTmpl="script#tmpl_uploadProgress"),b.progressBar=$($(a.uploadObjTmpl).html().trim()).hide()),b.progressBar.find(".uploading").html(Game.Messages.UPLOADING_NSPACE),b.progressBar.find(".js-upload-msg").html(Game.Messages.M_TXT_UPLOAD_FILE),b.selectArea=b.config.container.find(">div").eq(0),1==b.config.type?b.progressBar.appendTo(b.config.container):b.progressBar.insertAfter(this.config.container),$(".cancelCurrentUpload",b.progressBar).click(function(a){for(var c=0;c<b.uploadObjects.length;c++)b.uploadObjects[c].cancel();Utils.Func.dispatchEvent("uploader.cancelled"),Game.MixPanelTracking.track(TRACKING_EVENT_SERVICE.EVENTS.CANCEL_UPLOAD,{"Content ID":b.entityId,uploadID:b.file.uniqueId}),b.setState(Upload.states.EMPTY),b.showCurrState(),b.success(),a.stopPropagation(),UploadeManager.registerStatus(b.uploadUUID,-1)}),$(document).off("retryCurrentUpload").on("retryCurrentUpload",function(a){b.setState(Upload.states.EMPTY);for(var c=0;c<b.uploadObjects.length;c++)"function"==typeof b.uploadObjects[c].retry&&b.uploadObjects[c].type===window.currentUploadMethod&&b.uploadObjects[c].retry();Game.MixPanelTracking.track(TRACKING_EVENT_SERVICE.EVENTS.RETRY_UPLOAD,{"Content ID":b.entityId,uploadID:b.file.uniqueId}),a.stopPropagation()}),void b.showCurrState())},Upload.UploadObject.prototype.remove=function(){this.config.container.off("click drop dragenter dragleave"),$(".cancelCurrentUpload",this.progressBar).unbind("click"),this.progressBar.remove(),this.selectArea.remove(),this.dropDown.find("*").unbind("click"),this.dropDown.remove(),this.isVisible=!1},Upload.UploadMethodFile=function(a){},Upload.UploadMethodFile.prototype.init=function(a){this.id=a,this.type="Upload"},Upload.UploadMethodFile.prototype.selectFilesApi=function(a){this.multipartUploader&&this.multipartUploader.selectFilesApi(a)},Upload.UploadMethodFile.prototype.onUploadComplete=function(a,b){0==a.status?b.success(a):1==a.status||2==a.status?b.success(a):3==a.status&&b.error("MEDIA_CONVERSION_FAIL","",!1,!0),this.progressTimer&&(clearInterval(this.progressTimer),delete this.progressTimer)},Upload.UploadMethodFile.prototype.startFakeProgressTimer=function(a){var b=this,c=0;this.progressTimer=setInterval(function(){a.progress(c),c<100&&(c+=.2),c>=99&&(clearInterval(b.progressTimer),delete b.progressTimer)},50),a.progressTimer=this.progressTimer},Upload.UploadMethodFile.prototype.cancel=function(a){this.multipartUploader.cancel()},Upload.UploadMethodFile.prototype.retry=function(a){this.multipartUploader.retry()},Upload.UploadMethodFile.prototype.render=function(a,b){var c=this,d="uploadFile"+this.id,e=$("<li class='hover_f9 cursor F13 pos_rel' style='overflow:hidden;padding-top:5px;padding-bottom:5px;'><div class='js-upload_label'>"+Game.Messages.M_TXT_UPLOAD_FROM_COMPUTER+"</div><input type='file' id='"+d+"' class='pos_abs' style='bottom:0;right:0;font-size:100px;opacity:0;visibility:hidden'></li>").appendTo(a),f="private";e.find(".js-upload_label").on("click",function(a){e.find('input[type="file"]').trigger("click")});var g="/"+cname+"/media/multipart",h=null;return h=b.config.onUploadCompleted?b.config.onUploadCompleted:function(a,d){var e=b&&b.defaultConfig&&b.defaultConfig.source,f={path:d,actual_name:a.name,isHandout:!b.isConvert,source:e};$.ajax({url:"/"+cname+"/media/convert",contentType:"application/json",type:"POST",data:JSON.stringify(f),success:function(a){c.onUploadComplete(a,b)},error:function(a){a.responseText=$.parseJSON(a.responseText),b.error("UPLOAD_FAILED",a.responseText.error,!1,!0)}})},this.multipartUploader=this.multipartUploader||new S3MultiUpload(e.find("input"),{SERVER_LOC:g,acl:f,onSelect:function(a,d){b.setCurrentUploadMethod(c.type);var e=b.checkFile(a);return e!==!0?(b.error("UPLOAD_FAILED",e),d.cancel(),!1):(a.title=a.name,b.setState(Upload.states.EMPTY),b.start(a),!0)},setETA:function(a){Utils.Func.dispatchEvent("uploader.network.setETA",{eta:a}),b.setETA(a)},onCanceled:function(a,b,c,d){},onProgressChanged:function(a,c,d,e){Utils.Func.dispatchEvent("uploader.network.success"),b.progress(100*d/e)},onServerError:function(a,c){c=c||{},c.code&&"networkingerror"===c.code.toLowerCase()?Utils.Func.dispatchEvent("uploader.network.error"):c.code&&[ErrorCode.UPLOAD_ABORTED_DUE_TO_ERROR,ErrorCode.UPLOAD_FAILED_DUE_TO_NETWORK_ERROR].indexOf(c.code)>-1&&"RequestAbortedError"!==c.subMessage&&b.error("UPLOAD_FAILED",c.subMessage,!0,!0)},onUploadCompleted:h,uploadService:b.uploadService}),this.multipartUploader.entityId=b.entityId,e},Upload.UploadMethodFile.prototype.success=Upload.UploadObject.prototype.success,Upload.UploadMethodFile.prototype.error=Upload.UploadObject.prototype.error,Upload.UploadMethodDropbox=function(){this.xhr=!1},Upload.UploadMethodDropbox.prototype.init=function(a){this.id=a,this.type="DropBox"},Upload.UploadMethodDropbox.prototype.cancel=function(a){this.xhr!==!1&&this.xhr.abort()},Upload.UploadMethodDropbox.prototype.retry=function(a){"function"==typeof this.pickerCallback&&this.pickerCallback()},Upload.UploadMethodDropbox.prototype.render=function(a,b){var c=$('<li class="hover_f9 cursor F13" style="position:relative;"><iframe src=\''+uploaderLocation+"uploadtocloud?fromSite="+location.origin+"&driveType=dropbox&uploaderId="+b.uploadId+'\'  style=\'position:absolute;width:238px;height:30px;z-index:2;overflow:hidden;\'></iframe><div style="padding-top:5px;padding-bottom:5px;"><div class="floatL dropbox_20_16 marginT2 marginR7"></div><div class="floatL">Dropbox</div></div><div class="clear"></div></li>').appendTo(a),d=this;c.click(function(){b.setCurrentUploadMethod(d.type)});var e=function(a,b,c){$.extend(a,b),c.config.onUploadCompleted&&c.config.onUploadCompleted(a,b.original_path),d.onUploadComplete(b,c)},f=function(a,b,c){d.xhr=$.ajax({url:"/"+cname+"/media/"+a.id+"/status?_="+Date.now(),type:"GET",contentType:"application/json",success:function(d){"UPLOADING"!==d?e(b,a,c):window.setTimeout(function(){f(a,b,c)},1e3)},error:function(){c.error("UPLOAD_FAILED","",!0,!0)}})},g=function(a){var c={name:a.name,size:a.bytes,title:a.name},g=b.checkFile(c);if(g!==!0)return void b.error("UPLOAD_FAILED",g);b.start(c),b.progress(0),d.startFakeProgressTimer(b);var h="/"+cname+"/media/upload",i=a.link.substr(0,a.link.length-1)+"1";Game.MixPanelTracking.track("File selected",{"Content ID":b.entityId,method:"dropbox","object url":i});var j={link:i,filename:c.name,fileSize:c.size};d.xhr=$.ajax({url:h,type:"POST",contentType:"application/json",data:JSON.stringify(j),success:function(a){Game.MixPanelTracking.track("File Upload Requested",{"Content ID":b.entityId,method:"dropbox"}),_.indexOf([0,5,22,3],a.status)>-1?e(c,a,b):window.setTimeout(function(){f(a,c,b)},1e3)},error:function(){Game.MixPanelTracking.track("File Upload Error",{"Content ID":b.entityId,method:"dropbox"}),b.error("UPLOAD_FAILED","",!0,!0)}})};c.click(function(){});var h=function(a){console.log(a),a.data&&a.data.uploaderId==b.uploadId&&(b.setState(Upload.states.EMPTY),d.pickerCallback=g.bind(this,a.data),d.pickerCallback()),b.hasEventBeenFired=!0};return b.hasEventBeenFired=!1,document.addEventListener("uploadermt.fileselected.dropbox."+b.uploadId,h,!1),c},Upload.UploadMethodDropbox.prototype.onUploadComplete=Upload.UploadMethodFile.prototype.onUploadComplete,Upload.UploadMethodDropbox.prototype.startFakeProgressTimer=Upload.UploadMethodFile.prototype.startFakeProgressTimer,Upload.UploadMethodDropbox.prototype.success=Upload.UploadObject.prototype.success,Upload.UploadMethodDropbox.prototype.error=Upload.UploadObject.prototype.error,Upload.UploadMethodBoxPicker=function(){this.xhr=!1},Upload.UploadMethodBoxPicker.prototype.init=function(a){this.id=a,this.type="Box"},Upload.UploadMethodBoxPicker.prototype.cancel=function(a){this.xhr!==!1&&this.xhr.abort()},Upload.UploadMethodBoxPicker.prototype.render=function(a,b){var c=$('<li class="hover_f9 cursor F13" style="padding-top:5px;padding-bottom:5px;"><div class="floatL box_18_19 marginT1 marginR9"></div><div class="floatL">Box</div><div class="clear"></div></li>').appendTo(a),d=this;return c.click(function(){b.setCurrentUploadMethod(d.type);var a={clientId:Dashboard.GlobalVars.boxClientId,linkType:"direct",multiselect:!1};d.boxSelect&&d.boxSelect._destroy(),d.boxSelect=new BoxSelect(a),d.boxSelect.launchPopup();var c=function(a){d.boxSelect.unregister(d.boxSelect.SUCCESS_EVENT_TYPE,c);var e={name:a[0].name,size:a[0].size,title:a[0].name},f=b.checkFile(e);if(f!==!0)return void b.error("UPLOAD_FAILED",f);b.start(e),d.startFakeProgressTimer(b),b.progress(0);var g="/"+cname+"/media/upload",h=b&&b.defaultConfig&&b.defaultConfig.source,i={link:a[0].url,filename:e.name,fileSize:e.size,isHandout:!b.isConvert,source:h};d.xhr=$.ajax({url:g,type:"POST",contentType:"application/json",data:JSON.stringify(i),success:function(a){$.extend(e,a),d.onUploadComplete(a,b)},error:function(){b.error("UPLOAD_FAILED","",!1,!0)}})};d.boxSelect.success(c),d.boxSelect.cancel(function(){console.log("The user clicked cancel or closed the popup")})}),c},Upload.UploadMethodBoxPicker.prototype.onUploadComplete=Upload.UploadMethodFile.prototype.onUploadComplete,Upload.UploadMethodBoxPicker.prototype.startFakeProgressTimer=Upload.UploadMethodFile.prototype.startFakeProgressTimer,Upload.UploadMethodBoxPicker.prototype.success=Upload.UploadObject.prototype.success,Upload.UploadMethodBoxPicker.prototype.error=Upload.UploadObject.prototype.error,Upload.UploadMethodGoogleDrive=function(){this.xhr=!1},Upload.UploadMethodGoogleDrive.prototype.cancel=function(a){this.xhr!==!1&&this.xhr.abort()},Upload.UploadMethodGoogleDrive.prototype.init=function(a){this.id=a,this.type="Drive"},Upload.UploadMethodGoogleDrive.prototype.retry=function(a){"function"==typeof this.pickerCallback&&this.pickerCallback()},Upload.UploadMethodGoogleDrive.prototype.render=function(a,b){function c(a){var c=a.title,g=a.downloadUrl,h=a.fileExtension,i=a.fileSize;h||g||(h="pdf",g=a.exportLinks["application/pdf"],c+=".pdf",k=!0);var j={name:c,size:i,title:c},k=b.checkFile(j);if(k!==!0)return void b.error("UPLOAD_FAILED",k);if(null==g){var l=a.mimeType;"application/vnd.google-apps.presentation"==l&&null!=a.exportLinks&&(g=a.exportLinks["application/vnd.openxmlformats-officedocument.presentationml.presentation"])}b.start(j),b.progress(0),d.startFakeProgressTimer(b);var m="/"+cname+"/media/upload",n=b&&b.defaultConfig&&b.defaultConfig.source,o={link:g,filename:c,authToken:a.gapiToken,fileExtension:h,fileSize:i,isHandout:!b.isConvert,source:n};d.xhr=$.ajax({url:m,type:"POST",contentType:"application/json",data:JSON.stringify(o),success:function(a,c,d){Game.MixPanelTracking.track("File Upload Requested",{"Content ID":b.entityId,method:"google",requestId:d.getResponseHeader("Request-Id")}),_.indexOf([0,5,22,3],a.status)>-1?e(j,a,b):window.setTimeout(function(){f(a,j,b)},1e3)},error:function(){Game.MixPanelTracking.track("File Upload Error",{"Content ID":b.entityId,method:"google"}),b.error("UPLOAD_FAILED","",!0,!0)}})}var d=this,e=function(a,b,c){$.extend(a,b),c.config.onUploadCompleted&&c.config.onUploadCompleted(a,b.original_path),d.onUploadComplete(b,c)},f=function(a,b,c){d.xhr=$.ajax({url:"/"+cname+"/media/"+a.id+"/status?_="+Date.now(),type:"GET",contentType:"application/json",success:function(d){"UPLOADING"!==d?e(b,a,c):window.setTimeout(function(){f(a,b,c)},1e3)},error:function(){c.error("UPLOAD_FAILED","",!0,!0)}})},g=$('<li class="hover_f9 cursor F13" style="padding-top:5px;padding-bottom:5px;"><div class="floatL gdrive_18_16 marginT2 marginR9"></div><div class="floatL">Google Drive</div><div class="clear"></div></li>').appendTo(a);return g.click(function(){if(!window.gapi)return Utils.Func.alert("Please wait while google drive is being loaded.");b.setCurrentUploadMethod(d.type);var a=[],e=uploaderLocation+"uploadtocloud?fromSite="+location.origin+"&driveType=google";(b.types.indexOf(UploadeManager.TYPE_IMAGE[0])>=0||b.types.indexOf(UploadeManager.TYPE_ALL[0])>=0)&&a.push(Upload.googlePickerViewIds.DOCS_IMAGES),(b.types.indexOf(UploadeManager.TYPE_VIDEO[0])>=0||b.types.indexOf(UploadeManager.TYPE_AUDIO[0])>=0||b.types.indexOf(UploadeManager.TYPE_ALL[0])>=0)&&a.push(Upload.googlePickerViewIds.DOCS_VIDEOS),(b.types.indexOf(UploadeManager.TYPE_CROCODOC[0])>=0||b.types.indexOf(UploadeManager.TYPE_ALL[0])>=0)&&(a.push(Upload.googlePickerViewIds.PDFS),a.push(Upload.googlePickerViewIds.DOCUMENTS),a.push(Upload.googlePickerViewIds.SPREADSHEETS),a.push(Upload.googlePickerViewIds.PRESENTATIONS)),a.length>0&&(e+="&types="+a.join(","));var f=window.open(e,"Upload to cloud","width=600,height=600"),g=function(a){Game.MixPanelTracking.track("File selected",{"Content ID":b.entityId,method:"google","object url":a.data.downloadUrl}),b.hasEventBeenFired||(b.hasEventBeenFired=!0,console.log(a),b.setState(Upload.states.EMPTY),f.close(),d.pickerCallback=c.bind(this,a.data),d.pickerCallback())};b.hasEventBeenFired=!1,document.addEventListener("uploadermt.fileselected.google",g,!1),document.addEventListener("uploadermt.filecanceled",function(){f.close()},!1)}),g},Upload.UploadMethodGoogleDrive.prototype.onUploadComplete=Upload.UploadMethodFile.prototype.onUploadComplete,Upload.UploadMethodGoogleDrive.prototype.startFakeProgressTimer=Upload.UploadMethodFile.prototype.startFakeProgressTimer,Upload.UploadMethodGoogleDrive.prototype.success=Upload.UploadObject.prototype.success,Upload.UploadMethodGoogleDrive.prototype.error=Upload.UploadObject.prototype.error,Upload.UploadMethodOneDrive=function(){this.xhr=!1},Upload.UploadMethodOneDrive.prototype.cancel=function(a){this.xhr!==!1&&this.xhr.abort()},Upload.UploadMethodOneDrive.prototype.render=function(a,b){function c(a){var c=a.name,d=a.source,f=a.size,g={name:c,size:f,title:c},h=b.checkFile(g);if(h!==!0)return void b.error("UPLOAD_FAILED",h);b.start(g),e.startFakeProgressTimer(b),b.progress(0);var i="/"+cname+"/media/upload",j=b&&b.defaultConfig&&b.defaultConfig.source,k={link:d,filename:c,fileSize:f,isHandout:!b.isConvert,source:j};e.xhr=$.ajax({url:i,type:"POST",contentType:"application/json",data:JSON.stringify(k),success:function(a){$.extend(g,a),e.onUploadComplete(a,b)},error:function(){b.error("UPLOAD_FAILED","",!1,!0)}})}function d(){WL.init({client_id:Dashboard.GlobalVars.OneDriveVars.client_id,redirect_uri:Dashboard.GlobalVars.OneDriveVars.redirect_uri,scope:Dashboard.GlobalVars.OneDriveVars.scope,response_type:"token"}),WL.fileDialog({mode:"open",select:"single"}).then(function(a){if(a.data&&a.data.files&&a.data.files.length>0){var d=a.data.files[0];WL.api({path:d.id,method:"GET"}).then(function(a){c(a)},function(a){c(d)})}else b.error("UPLOAD_FAILED","",!1,!0)},function(a){console.error("Error getting files: "+a.error.message)})}var e=this,f=$('<li class="hover_f9 cursor F13" style="padding-top:5px;padding-bottom:5px;"><div class="floatL oneDrive marginT4 marginR6"></div><div class="floatL">One drive</div><div class="clear"></div></li>').appendTo(a);return f.click(function(){b.setCurrentUploadMethod("One Drive"),d()}),f},Upload.UploadMethodOneDrive.prototype.init=Upload.UploadMethodFile.prototype.init,Upload.UploadMethodOneDrive.prototype.onUploadComplete=Upload.UploadMethodFile.prototype.onUploadComplete,Upload.UploadMethodOneDrive.prototype.startFakeProgressTimer=Upload.UploadMethodFile.prototype.startFakeProgressTimer,Upload.UploadMethodOneDrive.prototype.success=Upload.UploadObject.prototype.success,Upload.UploadMethodOneDrive.prototype.error=Upload.UploadObject.prototype.error,Upload.UploadMethodMediaLibrary=function(){this.xhr=!1},Upload.UploadMethodMediaLibrary.prototype.cancel=function(a){this.xhr!==!1&&this.xhr.abort()},Upload.UploadMethodMediaLibrary.prototype.init=function(a,b){this.id=a,this.libraryTypes=[];for(var c=0;c<b.length;c++){if(b[c]==UploadeManager.TYPE_ALL){this.libraryTypes.push("all");break}switch(b[c]){case UploadeManager.TYPE_IMAGE:this.libraryTypes.push(81);break;case UploadeManager.TYPE_VIDEO:this.libraryTypes=this.libraryTypes.concat([83,86,87,88]);break;case UploadeManager.TYPE_AUDIO:this.libraryTypes.push(90);break;case UploadeManager.TYPE_CROCODOC:this.libraryTypes=this.libraryTypes.concat([82,85,92,93,94,95,96]);break;case UploadeManager.TYPE_ZIP:this.libraryTypes.push(89)}}},Upload.UploadMethodMediaLibrary.prototype.render=function(a,b){var c=$('<li class="hover_f9 cursor F13" style="padding-top:5px;padding-bottom:5px;"><div class="floatL mt_library_9_16 marginT2 marginR18"></div><div class="floatL">MindTickle Library</div><div class="clear"></div></li>').appendTo(a);return c.click(function(){b.setCurrentUploadMethod("Media Library")}),c},Upload.UploadMethodMediaLibrary.prototype.success=Upload.UploadObject.prototype.success,Upload.UploadMethodMediaLibrary.prototype.error=Upload.UploadObject.prototype.error,Upload.UploadMethodSalesforceFile=function(){this.types=[],this.libraryTypes=[],this.isConvert=!0;for(var a=0;a<arguments.length;a++){if(arguments[a]==UploadeManager.TYPE_ALL){this.types=UploadeManager.TYPE_ALL,this.isConvert=!1,this.libraryTypes.push("all");break}switch(arguments[a]){case UploadeManager.TYPE_IMAGE:this.libraryTypes.push("image");break;case UploadeManager.TYPE_VIDEO:this.libraryTypes.push("video");break;case UploadeManager.TYPE_AUDIO:this.libraryTypes.push("audio");break;case UploadeManager.TYPE_CROCODOC:this.libraryTypes.push("crocodoc");break;case UploadeManager.TYPE_ZIP:this.libraryTypes.push("archive")}this.types=this.types.concat(arguments[a])}this.isHandout=!1,this.types.indexOf("*")>=0&&(this.isHandout=!0),this.id=0,this.xhr=!1},Upload.UploadMethodSalesforceFile.prototype.cancel=function(a){this.xhr!==!1&&this.xhr.abort()},Upload.UploadMethodSalesforceFile.prototype.render=function(a,b){var c=$('<li class="hover_f9 cursor F13" style="padding-top:5px;padding-bottom:5px;"><div class="floatL sf_18_19 marginT1 marginR9"></div><div class="floatL">Salesforce</div><div class="clear"></div></li>').appendTo(a),d=this;return c.click(function(){b.setCurrentUploadMethod("Salesforce");var a=new Dashboard.SalesforceFileView(d,b);a.render()}),c},Upload.UploadMethodSalesforceFile.prototype.init=Upload.UploadMethodFile.prototype.init,Upload.UploadMethodSalesforceFile.prototype.onUploadComplete=Upload.UploadMethodFile.prototype.onUploadComplete,Upload.UploadMethodSalesforceFile.prototype.startFakeProgressTimer=Upload.UploadMethodFile.prototype.startFakeProgressTimer,Upload.UploadMethodSalesforceFile.prototype.success=Upload.UploadObject.prototype.success,Upload.UploadMethodSalesforceFile.prototype.error=Upload.UploadObject.prototype.error,Upload.UploadMethodEmbed=function(a){this.id=0},Upload.UploadMethodEmbed.prototype.cancel=function(a){},Upload.UploadMethodEmbed.prototype.render=function(a,b){var c=$('<li class="hover_f9 cursor F13" style="padding-top:5px;padding-bottom:5px;">Embed (Youtube, Slideshare etc.)</li>').appendTo(a),d=$(".ss_uploadPopup"),e=this;return c.click(function(){b.setCurrentUploadMethod("Embed"),d.modal(),$(".modalCloseImg").hide(),$(".fetchBtn",d).text("Fetch").addClass("disable"),$("textarea",d).unbind("keyup").keyup(function(){$(this).val().length>0?($(".fetchBtn",d).removeClass("disable"),$(".customPlaceholder",d).hide()):$(".fetchBtn",d).addClass("disable")}).val(""),d.find(".fetchBtn").unbind("click").click(function(){$(".fetchBtn",d).text("Fetching...");var a=d.find("textarea").val();e.parseLinks(a,b,d)}),$(".customPlaceholder",d).unbind("click").click(function(){$(".customPlaceholder",d).hide(),$("textarea",d).focus()}),$("textarea",d).unbind("blur").blur(function(){""==$.trim($(this).val())&&$(".customPlaceholder",d).show()}),$(".textarea",d).blur()}),c},Upload.UploadMethodEmbed.prototype.addMediaToServer=function(a,b,c){$.ajax({type:"POST",url:"/"+cname+"/media/add",data:JSON.stringify(a),contentType:"application/json",success:function(a){b.start({name:"embeded source",size:1024},!1),b.progress(100),b.success(a),$.modal.close()},error:function(){$(".blueBtn_28 a",c).text("Fetch");var a=$('<div style="top:320px;left:0px" class="pos_abs colorc634_F12">Invalid or unsupported link</div>');a.insertBefore($("textarea",c)).fadeOut(7e3,function(){$(this).remove()})}})},Upload.UploadMethodEmbed.prototype.oldParseLinks=function(a,b,c){var d=/(?:https?\:\/\/)?([\w-.]+)\/([^"']*)/gi,e=null,f=!1;for(a=$.trim(a);null!=(e=d.exec(a));){if("www.youtube.com"==e[1]||"youtu.be"==e[1]||"www.youtube-nocookie.com"==e[1]){var g=this.parseYoutubeLink(e[0]);if(null!=g){f=!0;var h="//www.youtube.com/embed/"+g+"?wmode=opaque",i="//img.youtube.com/vi/"+g+"/0.jpg",j={type:88,videoId:g,title:"Youtube Video"};return void this.addMediaToServer(j,b,c)}}else{if("www.slideshare.net"==e[1]){f=!0;var k=this;return void $.ajax({url:"//www.slideshare.net/api/oembed/2",dataType:"jsonp",data:{url:e[0],format:"jsonp"},success:function(a){if(void 0!==typeof a&&null!=a){f=!0;var d=a.thumbnail,e=("//www.slideshare.net/slideshow/embed_code/"+a.slideshow_id,{type:85,numSlides:a.total_slides,thumb:d,title:a.title,ssid:a.slideshow_id});k.addMediaToServer(e,b,c)}else{var g=$('<div style="top:100px;left:100px" class="pos_abs colorc634_F12">Invalid or unsupported link</div>');g.insertBefore($("textarea",c)).fadeOut(7e3,function(){$(this).remove()})}}})}if(e[1].indexOf("www.google.com")>=0){var l=$(document.createElement("iframe"));l.css({width:"100%",height:"100%"});var m=e[2],n=null,o=m.split("/");if(0==m.indexOf("maps/place")||0==m.indexOf("maps/search")){var p=o[3].replace("@","").split(","),q=o[2];o.length>=4&&(n="https://maps.google.com/maps?dg=ntvb&output=embed&sll="+p[0]+","+p[1]+"&q="+q);
}else if(0==m.indexOf("maps/dir")){if(o.length>=4){var p=o[4].replace("@","").split(",");n="https://maps.google.com/maps?dg=ntvb&output=embed&saddr="+o[2]+"&daddr="+o[3]+"&ll="+p[0]+","+p[1],n+=p[2].indexOf("m")>=0?"&m="+p[2].replace("m",""):"&z="+p[2].replace("z","")}}else{var p=o[1].replace("@","").split(",");n="https://maps.google.com/maps?dg=ntvb&output=embed&ll="+p[0]+","+p[1]}if(null!=n){l.attr("src",n);var j={type:91,htmlsrc:$("<div/>").append(l).html(),title:"Google object"};return void this.addMediaToServer(j,b,c)}}else{if(e[1].indexOf("docs.google.com")>=0){f=!0,e[0]=e[0].replace("/pub?","/embed"),e[0]=e[0].replace("/edit?","/embed");var l=$(document.createElement("iframe"));l.css({width:"100%",height:"100%"}),l.attr("src",e[0]);var j={type:91,htmlsrc:$("<div/>").append(l).html(),title:"Google document"};return void this.addMediaToServer(j,b,c)}if(e[1].indexOf("brainshark.com")>=0||e[1].indexOf("my.brainshark.com")>=0){f=!0;var r=getUrlVars(e[0]);e[1].indexOf("my.brainshark.com")>=0&&(r.pi=r[0].split("-").slice(-1)[0]);var s=r.pi;if(s){f=!0;var i="//www.brainshark.com/brainshark/brainshark.net/common/getimage.ashx?pi="+s+"&sln=1",t="//www.brainshark.com/brainshark/vu/view.asp?pi="+s+"&dm=5&pause=1&nrs=1&appKey=77",j={type:86,thumb:i,objectId:s,title:"Brainshark video"};return void this.addMediaToServer(j,b,c)}f=!1}else{if(!(e[1].indexOf("prezi.com")>=0))continue;var u,t="",s="";u="embed"==e[2].substr(0,5)?/embed\/([^\/?]+)/g:/([^\/]+)/g;var v=u.exec(e[2]);if(s=v[1],"view/"==e[2].substr(0,5)&&(s=e[2]),t="//prezi.com/embed/"+s+"/?bgcolor=ffffff&amp;lock_to_path=0&amp;autoplay=0&amp;autohide_ctrls=0&amp;features=undefined&amp;disabled_features=undefined",s.length>0&&t.length>0){f=!0;var j={type:92,objectId:s,title:"Prezi media"};return void this.addMediaToServer(j,b,c)}}}}break}if("<"==a.substr(0,1)&&">"==a.substr(-1))try{var l=$("<div/>").append(a).find("iframe").eq(0);if(l.attr({width:"",height:""}).css({width:"100%",height:"100%"}).html(""),1==l.length){f=!0;var h=l.attr("src");h.substr(0,6);l.attr("src",h);var j={type:91,htmlsrc:$("<div/>").append(l).html(),title:"Learning content"};return void this.addMediaToServer(j,b,c)}}catch(w){}if(!f){$(".fetchBtn",c).text("Fetch");var x=$('<div style="top:320px;left:0px" class="pos_abs colorc634_F12">Invalid or unsupported link</div>');x.insertBefore($("textarea",c)).fadeOut(7e3,function(){$(this).remove()})}},Upload.UploadMethodEmbed.prototype.noEmbedParseLink=function(a,b,c){var d=this;$.getJSON("//noembed.com/embed?url="+a+"&callback=?",function(e){if(e.error)console.error("Oembed call failed. Using old parse."),d.oldParseLinks(a,b,c);else{var f={type:Dashboard.WebModuleTickle.OEMBED,name:e.title,numSlides:1,thumb:e.thumbnail_url,embedURL:a,oEmbedData:e};b.success(f),$.modal.close()}},function(e){console.error("Oembed call failed. Using old parse."),d.oldParseLinks(a,b,c)})},Upload.UploadMethodEmbed.prototype.parseLinks=function(a,b,c){a=$.trim(a);var d=this;if(!/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a))return void d.oldParseLinks(a,b,c);$(".blueBtn_28 a",c).text("Fetching...");var e=990,f=440;return""==Dashboard.GlobalVars["MT-OEmbedEndpoint"]||null==Dashboard.GlobalVars["MT-OEmbedEndpoint"]?void d.oldParseLinks(a,b,c):void $.ajax({url:Dashboard.GlobalVars["MT-OEmbedEndpoint"]+a+"&width="+e+"&height="+f+"&callback=?",dataType:"jsonp",timeout:1e4,success:function(e){if($(".blueBtn_28 a",c).text("Fetch"),e.error)return void d.oldParseLinks(a,b,c);var f={type:84,title:e.title,frame:JSON.stringify(e),provider:e.provider_name};d.addMediaToServer(f,b,c),$.modal.close()},error:function(){$(".blueBtn_28 a",c).text("Fetch"),d.oldParseLinks(a,b,c)}})},Upload.UploadMethodEmbed.prototype.parseYoutubeLink=function(a){var b=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,c=a.match(b);if(c&&11==c[7].length)return c[7];if(a.indexOf("?")!=-1){for(var d=decodeURI(a).split("?")[1],e=d.split("&"),f=0,g=e.length;f<g;f++)if(0===e[f].indexOf("v="))return e[f].replace("v=","")}else if(a.indexOf("youtu.be")!=-1)return decodeURI(a).split("youtu.be/")[1];return null},Upload.UploadMethodEmbed.prototype.init=Upload.UploadMethodFile.prototype.init,Upload.UploadMethodEmbed.prototype.success=Upload.UploadObject.prototype.success,Upload.UploadMethodEmbed.prototype.error=Upload.UploadObject.prototype.error,Upload.UploadMethodSeparator=function(){},Upload.UploadMethodSeparator.prototype.render=function(a){return $('<li class="F13" style="padding-top:5px;padding-bottom:5px;cursor:auto">Select from</li>').click(function(a){a.stopPropagation()}).appendTo(a)},Upload.UploadMethodSeparator.prototype.init=function(){},Upload.UploadMethodSeparator.prototype.cancel=function(){},window.UploadeManager||(window.UploadeManager=new function(){function a(a){for(var b=["B","KB","MB","GB","TB","PB"],c=0;a>=1024&&c<b.length-1;)a/=1024,c++;return Math.floor(a)+b[c]}function b(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)}this.TYPE_IMAGE=["jpg","jpeg","gif","png"];var c=10485760;this.TYPE_VIDEO=["flv","mp4","avi","wmv","mov","mkv","m4v","mpg","mpeg","vob","webm"];var d=5368709120;this.TYPE_AUDIO=["mp3","aac","m4a","f4a","ogg","oga","wma"];var e=104857600;this.TYPE_CROCODOC=["pdf","doc","ppt","docx","pptx","xls","xlsx"];var f=104857600;this.TYPE_SWFOBJ=["swf"];this.TYPE_ZIP=["zip"];var g=1073741824;this.TYPE_ALL=["*"];var h=104857600;this.TYPE_YOUTUBE=1,this.TYPE_SLIDESHARE=2,this.checkSize=function(b,i,j){if(UploadeManager.TYPE_IMAGE.indexOf(b)>-1){if(i>c)return"Image should be less than "+a(c)}else if(UploadeManager.TYPE_VIDEO.indexOf(b)>-1){if(i>d)return"Video should be less than "+a(d)}else if(UploadeManager.TYPE_AUDIO.indexOf(b)>-1){if(i>e)return"Audio should be less than "+a(e)}else if(UploadeManager.TYPE_SWFOBJ.indexOf(b)>-1){if(i>d)return"Swf should be less than "+a(d)}else if(UploadeManager.TYPE_ZIP.indexOf(b)>-1){if(i>g)return"Zip should be less than "+a(g)}else if(UploadeManager.TYPE_CROCODOC.indexOf(b)>-1){if(i>f)return"Document should be less than "+a(f)}else{if(!j)return"Unsupported file type:"+b;if(i>h)return"Handout should be less than "+a(h)}return!0},this.getContentType=function(a){return this.TYPE_IMAGE.indexOf(a)>-1?"image/"+a:"application/"+a};var i=0;this.getUploadId=function(){return i++,i};var j=[];setInterval(function(){for(var a=0,b=0,c=0,d=0;d<j.length;d++){j[d].uploadDiv.find(".perc"),j[d].uploadDiv.find(".proBg");0==j[d].status?(j[d].uploadDiv.find(".proBg").css("width",j[d].percent+"%"),j[d].uploadDiv.find(".perc").text(j[d].percent),a+=j[d].percent,b++):1==j[d].status?(j[d].uploadDiv.find(".uploading,.success").hide(),j[d].uploadDiv.find(".processing").show(),j[d].uploadDiv.find(".status").text("Processing.."),c++):2==j[d].status?(j[d].uploadDiv.find(".uploading,.processing").hide(),j[d].uploadDiv.find(".success").show(),j[d].uploadDiv.find(".status").text("Uploaded Successfully")):j[d].status==-1?(j[d].uploadDiv.find(".uploading,.success").hide(),j[d].uploadDiv.find(".processing").show(),j[d].uploadDiv.find(".status").text("Error occured")):j[d].status==-2?(j[d].uploadDiv.find(".uploading,.success").hide(),j[d].uploadDiv.find(".processing").show(),j[d].uploadDiv.find(".status").text("Removed")):j[d].status==-3&&(j[d].uploadDiv.find(".uploading,.success").hide(),j[d].uploadDiv.find(".processing").show(),j[d].uploadDiv.find(".status").text("Cancelled"))}var e=$(".uploadManagerBtn");b>0?($(">.inprogress",e).show(),$(">.sync_24_18",e).hide(),$(">.cloudUpload_23_15",e).hide()):c>0?($(">.inprogress",e).hide(),$(">.sync_24_18",e).show(),$(">.cloudUpload_23_15",e).hide()):($(">.inprogress",e).hide(),$(">.sync_24_18",e).hide(),$(">.cloudUpload_23_15",e).show()),j.length<1?e.hide():e.show()},1e3);this.registerUploadStart=function(a){var b=$.extend({},a);return b.showInManager?(b.status=0,b.percent=0,b.uploadDiv=$($("script#tmpl_globalUploadBar").html().trim()),b.uploadDiv.find(".name").text(b.name),b.uploadDiv.find(".size").text(MediaTitle.getFileSize(b.size)),$(".uploadManagerList ul").append(b.uploadDiv),j.push(b),1==j.length?$(".uploadManagerList .noUploads").addClass("display_N"):$(".uploadManagerList ul>div").length>6&&$(".uploadManagerList ul").slimScroll({opacity:1,size:"10px",width:250,height:250,railVisible:!0,alwaysVisible:!0}),window.onbeforeunload=function(){return"Navigating away while uploading content will cancel your current upload."},j.length-1):-1},this.registerStatus=function(a,b){"undefined"!=typeof a&&a>-1&&(j[a].status=b);for(var c=!1,d=0;d<j.length;d++)if(0==j[d].status){c=!0;break}0==c&&(window.onbeforeunload=null)},this.registerProgress=function(a,b){"undefined"!=typeof a&&a>-1&&(j[a].percent=b)},this.createAllMediaUploader=function(a,c,d){var e=[Upload.UploadMethodFile,Upload.UploadMethodSeparator,Upload.UploadMethodDropbox,Upload.UploadMethodGoogleDrive];b()&&(e=[Upload.UploadMethodFile]);var c=c||[UploadeManager.TYPE_IMAGE,UploadeManager.TYPE_VIDEO,UploadeManager.TYPE_AUDIO,UploadeManager.TYPE_CROCODOC,UploadeManager.TYPE_SWFOBJ,UploadeManager.TYPE_ZIP];return new Upload.UploadObject(e,c,a,null,d)},this.createQuestionMediaUploader=function(a){var b=[Upload.UploadMethodFile,Upload.UploadMethodEmbed,Upload.UploadMethodSeparator,Upload.UploadMethodDropbox,Upload.UploadMethodGoogleDrive,Upload.UploadMethodOneDrive,Upload.UploadMethodBoxPicker,Upload.UploadMethodSalesforceFile,Upload.UploadMethodMediaLibrary],c=[UploadeManager.TYPE_IMAGE,UploadeManager.TYPE_VIDEO,UploadeManager.TYPE_AUDIO,UploadeManager.TYPE_SWFOBJ,UploadeManager.TYPE_ZIP],d={};return new Upload.UploadObject(b,c,a,null,d)},this.createImageUploader=function(a){var b=[Upload.UploadMethodFile,Upload.UploadMethodSeparator,Upload.UploadMethodDropbox,Upload.UploadMethodGoogleDrive,Upload.UploadMethodOneDrive,Upload.UploadMethodBoxPicker,Upload.UploadMethodSalesforceFile,Upload.UploadMethodMediaLibrary],c=[UploadeManager.TYPE_IMAGE],d={};return new Upload.UploadObject(b,c,a,null,d)},this.createDownloadUploader=function(a){var b=[Upload.UploadMethodFile,Upload.UploadMethodSeparator,Upload.UploadMethodDropbox,Upload.UploadMethodGoogleDrive,Upload.UploadMethodOneDrive,Upload.UploadMethodBoxPicker,Upload.UploadMethodSalesforceFile,Upload.UploadMethodMediaLibrary],c=[UploadeManager.TYPE_ALL],d={};return new Upload.UploadObject(b,c,a,null,d)},this.createReviewDocdUploader=function(a,b,c){var d=[Upload.UploadMethodFile,Upload.UploadMethodSeparator,Upload.UploadMethodDropbox,Upload.UploadMethodGoogleDrive],b=[UploadeManager.TYPE_ALL];return c=c||{},new Upload.UploadObject(d,b,a,null,c)},this.createReviewDocdUploaderNew=function(a,b,c){var d=[Upload.UploadMethodFile,Upload.UploadMethodSeparator,Upload.UploadMethodDropbox,Upload.UploadMethodGoogleDrive,Upload.UploadMethodOneDrive,Upload.UploadMethodBoxPicker,Upload.UploadMethodSalesforceFile,Upload.UploadMethodMediaLibrary],b=[UploadeManager.TYPE_ALL];return c=c||{},new Upload.UploadObject(d,b,a,null,c)},this.createPresentationUploader=function(a,b,c,d){var e=[Upload.UploadMethodFile],c=c||[UploadeManager.TYPE_CROCODOC];return new Upload.UploadObject(e,c,a,b,d)},this.createVideoUploader=function(a,b,c){var d=[Upload.UploadMethodFile,Upload.UploadMethodSeparator,Upload.UploadMethodDropbox,Upload.UploadMethodGoogleDrive],b=b||[UploadeManager.TYPE_VIDEO];return new Upload.UploadObject(d,b,a,null,c)},this.createTemUploader=function(a,b,c){var d=[Upload.UploadMethodFile,Upload.UploadMethodSeparator,Upload.UploadMethodDropbox,Upload.UploadMethodGoogleDrive],b=b||[UploadeManager.TYPE_VIDEO,UploadeManager.TYPE_AUDIO,UploadeManager.TYPE_CROCODOC,UploadeManager.TYPE_IMAGE,UploadeManager.TYPE_ZIP];return new Upload.UploadObject(d,b,a,null,c)};var k={},l=function(a,b){if(k[a.id]){for(var c=0;c<k[a.id].length;c++)k[a.id][c]&&k[a.id][c].call({},b,a);delete k[a.id]}};this.trackMediaProcessing=function(a,b){var c=a.id;if(k[c])return void k[c].push(b);k[c]=[b];var d=setInterval(function(){$.get("/"+cname+"/media/"+c+"/status?_="+Date.now(),function(b){if("SUCCESS"==b||"PUBLISHABLE_PROCESSED"==b||"PUBLISHABLE_PROCESSED_BUT_FULLCONVERT_FAILED"==b)if("PUBLISHABLE_PROCESSED"!=b&&clearInterval(d),a.status==Upload.states.UPLOADING)$.get("/"+cname+"/media/"+c+"?_="+Date.now()).success(function(a){l(a,Upload.states.COMPLETED)});else{var e={SUCCESS:0,PUBLISHABLE_PROCESSED:5,PUBLISHABLE_PROCESSED_BUT_FULLCONVERT_FAILED:22};a.status=e[b],l(a,Upload.states.COMPLETED)}else"FAILED"==b&&(clearInterval(d),a.status=3,l(a,Upload.states.ERROR))})},5e3)},$(document).on("drop dragover",function(a){a.originalEvent.dataTransfer&&(a.preventDefault(),a.originalEvent.dataTransfer.dropEffect="none")})}),S3MultiUpload.prototype.log=function(){console&&console.log&&console.log(arguments)},S3MultiUpload.prototype.consts={NOT_STARTED:0,PREPARING:1,UPLOADING:2,PAUSED:3,CANCELLED:4,FINISHING:5,SUCCESS:6,ERROR:7},S3MultiUpload.prototype.defaultConfig={PART_SIZE:6291456,SERVER_LOC:"server.php",MAX_PARALLEL_UPLOADS:2,onSelect:function(a,b){},onServerError:function(){},onProgressChanged:function(){},onUploadCompleted:function(){},onCanceled:function(a,b,c,d){},ext:"*",acl:"private"};var MediaTitle=new function(){var a={},b={};this.getFileSize=function(a){var b="Bytes";return a>=1024&&(a/=1024,b="KB"),a>=1024&&(a/=1024,b="MB"),a>=1024&&(a/=1024,b="GB"),Math.round(a)+" "+b},this.limitLen=function(a){if("undefined"!=typeof a&&null!=a){var b=a.lastIndexOf("/");return b==-1&&(last=0),a=a.substr(b+11),a.length>20&&(a=a.substr(0,20)+"..."),a}},this.inputLimitListner=function(a,b){$(a).bind("keypress keydown blur",function(){var a=$(this).val();a.length>b&&$(this).val(a.substr(0,b))})},this.limitText=function(a,b){return"undefined"==typeof b&&(b=20),a.length>b&&(a=a.substr(0,b)),a},this.loadInfo=function(c,d){if("slideshare"==c.type)return void d.text(MediaTitle.limitText(c.title,20));if("youtube"!==c.type)return void d.text(MediaTitle.limitLen(c.name));var e=c.name.substr(29);if("undefined"!=typeof a[e]){var f=a[e].data.title;return f.length>10&&(f=f.substr(0,10)+"..."),void d.text(f)}"undefined"==typeof b[e]?b[e]=[d]:b[e].push(d);var g=document.createElement("script");g.src="//gdata.youtube.com/feeds/api/videos/"+e+"?v=2&alt=jsonc&callback=MediaTitle.storeInfo";var h=document.getElementsByTagName("body")[0];h.appendChild(g)},this.storeInfo=function(c){a[c.data.id]=c;var d=c.data.title;d.length>20&&(d=d.substr(0,20)+"...");for(var e=0;e<b[c.data.id].length;e++)"undefined"!=typeof b[c.data.id][e]&&b[c.data.id][e].text(d);b[c.data.id]=[]}};Dashboard.MediaLibraryView=Backbone.View.extend({constructor:function(a,b){var c=$("script#tmpl_boxPopup").html(),d=$.trim(c);this.el=$(_.template(d)({})),$(".boxLogo",this.el).removeClass("boxLogo marginT10").addClass("mindTLogo marginT14"),Backbone.View.apply(this),this.selectedId=-1,this.currentPath=[],this.feildsList=[],this.feildsToChildrenId={},this.feildsList[0]=new BoxEntry(0,"folder","root"),this.thisObj=a,this.uploadObj=b,this.from=0,this.size=20,this.isMore=!0,this.searchQuery=void 0,this.$(".searchMediaLib").show()},render:function(){this.$(".box_submit").addClass("disable"),this.getData(0),this.$el.modal({close:!1}),this.$("#vScroll").slimScroll({opacity:1,size:"8px",width:494,height:210,railVisible:!1,alwaysVisible:!0,distance:"4px"}),this.delegateEvents()},getData:function(a){this.selectedId=-1,this.$(".box_submit").addClass("disable");var b="0";0!==a&&(b=$(a.currentTarget).attr("data"));var c=this.currentPath.indexOf(b);if(c!=-1){if(this.currentPath.length>c+1)return this.currentPath=this.currentPath.slice(0,c+1),void this.draw();var d=this.feildsToChildrenId[this.currentPath[this.currentPath.length-1]];if(d.total<=d.entries.length)return void this.draw()}else if(this.feildsToChildrenId[b]&&this.feildsToChildrenId[b].total<=this.feildsToChildrenId[b].entries.length)return this.currentPath.push(b),void this.draw();0==this.from&&this.$(".box_file_list").empty(),this.$(".box_file_list").append("<div class='loaderPic'><img style='margin:20px' src='"+Game.Settings.loaderPic+"'/></div>");var e=this;$.ajax({type:"GET",url:"/"+cname+"/media/library",data:{from:this.from,size:this.size,types:this.thisObj.libraryTypes.join(","),query:this.searchQuery},success:function(a){if(entries=a.library,e.feildsToChildrenId[b]=e.feildsToChildrenId[b]||{entries:[],total:0,size:0},entries instanceof Array){for(var c=0;c<entries.length;c++)e.feildsList[entries[c].id]=entries[c],e.feildsToChildrenId[b].entries.push(entries[c].id);e.feildsToChildrenId[b].total=a.total}0==e.from&&e.currentPath.push(b),e.draw()},error:function(a){a.responseText=$.parseJSON(a.responseText),e.$(".box_file_list").empty().append('<div class="textalign_C">'+a.responseText.error+"</div>")}})},loadMore:function(){this.$(".loadMore").remove(),this.getData(0)},selectFile:function(a){if(this.selectedId!=-1){id=this.selectedId,boxEntry=this.feildsList[id];var b=this.uploadObj;this.closePopup(null),boxEntry.name=boxEntry.title,b.start(boxEntry,!1),b.progress(90),b.success(boxEntry,1)}},events:{"click .folder_container":"getData","click .folder":"getData","click .boxSigninButton":"authorizeBox","click .box_cancel":"closePopup","click .box_submit":"selectFile","click .file_container":"markFileSelected","click .loadMore":"loadMore","click .searchIcon":"searchFiles","keypress input.searchFiles":"checkKeyCode","blur input.searchFiles":"resetSearch"},resetSearch:function(a){var b=$.trim($("input.searchFiles",this.el).val());this.searchQuery&&""==b&&b!=this.searchQuery&&(this.resetCachedData(),this.searchQuery=void 0,this.getData(0))},checkKeyCode:function(a){13==a.keyCode&&this.searchFiles(a)},searchFiles:function(a){var b=$.trim($("input.searchFiles",this.el).val());return""!=b&&b.length<3?void this.$(".searchInputErr").text(Dashboard.Messages.ERR_MIN_3_CHARS).show(0).delay(2e3).hide(0):(this.resetCachedData(),this.searchQuery=b,void this.getData(0))},resetCachedData:function(){this.from=0,this.currentPath=[],this.feildsList=[],this.feildsToChildrenId={},this.feildsList[0]=new BoxEntry(0,"folder","root")},closePopup:function(a){this.remove(),$.modal.close()},markFileSelected:function(a){this.selectedId=$(a.currentTarget).attr("data"),this.$(".box_submit").removeClass("disable"),this.$(".file_container").removeClass("selected"),$(a.currentTarget).addClass("selected")},draw:function(){this.$(".box_submit").addClass("disable"),this.$(".box_navigator").empty();for(var a=0,b=this.currentPath.length,c=0,d=0;d<this.currentPath.length;d++)boxEntry=this.feildsList[this.currentPath[d]],c=boxEntry.id,a++,this.$(".box_navigator").append("<span class='folder' data="+boxEntry.id+">"+boxEntry.name+"</span>"),a<b&&this.$(".box_navigator").append("<span class='color0072_F14'>&gt;</span>");this.$(".box_file_list").empty();var e=this.feildsToChildrenId[c];if(e.entries.length<1)this.$(".box_file_list").append('<div class="textalign_C">No media in library</div>');else{for(var f=0;f<e.entries.length;f++)if(boxEntry=this.feildsList[e.entries[f]],"folder"==boxEntry.type){var g=$("<div class='paddingL38 hoverBg_F8 folder_container'  data='"+boxEntry.id+"'></div>");g.append("<div class='floatL folderIcon marginR10 marginT6' data='"+boxEntry.id+"'></div>"),g.append("<div class='floatL color00_F14' style='max-width: 390px'>"+boxEntry.name+"</div>"),g.append("<div class='clear'></div>"),this.$(".box_file_list").append(g)}else{if(this.thisObj.libraryTypes.indexOf(boxEntry.type)==-1&&this.thisObj.libraryTypes.indexOf("all")==-1)continue;var g=$("<div class='file_container paddingL38 hoverBg_F8' data='"+boxEntry.id+"'></div>");fileIconContainer=$('<div class="floatL marginR10 marginT6" style="width: 24px"></div>'),fileIconContainer.append("<div class='margin0_auto fileIcon' data='"+boxEntry.id+"'></div>"),g.append(fileIconContainer),g.append("<div class='floatL color00_F14' style='max-width: 390px'>"+boxEntry.title+"</div>"),g.append("<div class='clear'></div>"),this.$(".box_file_list").append(g)}this.from=e.entries.length,e.total>e.entries.length&&this.$(".box_file_list").append('<div class="textalign_C"><span class="loadMore color99 F13 cursor">load more</span></div>')}}});var Game=Game||{};Game.EditProfileView=Backbone.View.extend({constructor:function(a,b,c,d,e){this.deferred=$.Deferred(),this.learnerJson=a,this.isProfileEdit=b;this.stateObj=c,this.nextState=d,this.nextStateParams=e;var f=null,g=null;this.picMenuHidden=!0,g=this.isProfileEdit?Game.Messages.EDIT_PROFILE_MSG:_.template(Game.Messages.PROFILE_COMPL_HEADER)({title:companySettings.displayName}),this.deferred=$.Deferred(),f=_.template($("script#tmpl_edit_profile").html())({header:g,edit:Game.Messages.PROFILE_EDIT_PIC,upload_frm:Game.Messages.UPLOAD_FRM_DEVICE,import_frm:Game.Messages.IMPORT_FRM,profile_sub_msg:Game.Messages.PROFILE_SUB_MSG,cancel:Game.Messages.HM_MSG_CANCEL,doneBtn:Game.Messages.BTN_DONE_TEXT,removePic:Game.Messages.HM_TXT_REMOVE_PIC}),this.el=$(f.trim()),this.isProfileEdit?$(".profile_sub_msg",this.el).hide():$(".closeMe",this.el).hide(),this.profileDiv=$(".profile_fld_lst",this.el),this.fieldViews=[],this.nameFieldViews=new Game.ProfileFieldView({displayName:Game.Messages.FULL_NAME,isRequired:1,shortKey:"name",validationType:"ANY_TEXT",learnersCanEdit:!0},this.learnerJson.name),this.profileDiv.append(this.nameFieldViews.render());for(var h=companySettings.profile.fields,i=0;i<h.length;i++)if(h[i].isEnabled){var j=new Game.ProfileFieldView(h[i],this.learnerJson.profile[h[i].shortKey]);this.fieldViews.push(j),this.profileDiv.append(j.render())}this.managerFieldViews=[];var k=companySettings.managerFields.fields,l=null;k.length>0&&(l=$.get("/fetch_managers"));for(var i=0;i<k.length;i++)if(k[i].isEnabled){var m=this.learnerJson.managers[k[i].shortKey],j=new Game.ProfileFieldView(k[i],m,(!0),l);this.managerFieldViews.push(j),this.profileDiv.append(j.render())}this.createLanguageProfileField(),Backbone.View.apply(this),this.defaultImage=assetsBase+"/images/img_80_80.png",a.pic?this.$("img").attr("src",a.pic):this.$("img").attr("src",this.defaultImage),this.updateRemovePicOptionState()},updateRemovePicOptionState:function(){null!=this.newImg||this.learnerJson.pic?this.$(".openRemovePic").show():this.$(".openRemovePic").hide()},createLanguageProfileField:function(){if(companySettings.languages.length>1){for(var a=[],b=0;b<companySettings.languages.length;b++)a.push(companySettings.languages[b].name);var c={shortKey:"lang",displayName:Game.Messages.Language,displayType:"DROPDOWN",displayParams:a,isEnabled:!0,isRequired:!1,validationParams:null,validationType:"ANY_TEXT",learnersCanEdit:!0},d=new Game.ProfileFieldView(c,this.learnerJson.profile[c.shortKey]);this.fieldViews.push(d),this.profileDiv.append(d.render())}var e={shortKey:"timezone",displayName:Game.Messages.LB_TXT_TIMEZONE,displayType:"DROPDOWN",displayParams:null,isEnabled:!0,isRequired:!0,validationParams:null,validationType:"ANY_TEXT",learnersCanEdit:!0},d=new Game.ProfileFieldView(e,companyUser.user.timezone_new?companyUser.user.timezone_new.zone_name:companyUser.user.timezone);this.fieldViews.push(d),this.profileDiv.append(d.render())},closeMe:function(){this.deferred.resolve(),Game.FullScreenPopupManager.close(this.popViewId)},events:{"click .doneBtn":"saveAll","click .closeMe":"closeMe","click .showPicUploadDD":"showPicUploadDD","change input#picuploadInput":"selectFile","click .openRemovePic":"openRemovePic","click .importFB":"importFB"},openRemovePic:function(){this.newImg="",this.$("img").attr("src",this.defaultImage),this.updateRemovePicOptionState()},selectFile:function(a){this.picUploader||(this.picUploader=new Game.ProfilePicUpload,this.listenTo(this.picUploader,"cropped.img",this.uploadedImage)),this.picUploader.render(),this.picUploader.selectFile(a)},showPicUploadDD:function(a){a.stopPropagation(),this.picMenuHidden?(eventManager.triggerCloseTips(),this.$(".picUploadDD").show(),this.picMenuHidden=!1,this.listenTo(eventManager,Game.CONST.CLOSE_TIPS,this.hidePicUploadDD)):eventManager.triggerCloseTips()},openUploadPic:function(){this.picUploader||(this.picUploader=new Game.ProfilePicUpload,this.listenTo(this.picUploader,"cropped.img",this.uploadedImage)),this.picUploader.render()},uploadedImage:function(a){this.newImg=a,this.$("img").attr("src",a),this.updateRemovePicOptionState()},hidePicUploadDD:function(){this.$(".picUploadDD").hide(),this.picMenuHidden=!0,this.stopListening(eventManager,Game.CONST.CLOSE_TIPS,this.hidePicUploadDD)},importFB:function(){var a=this;return window.FB?void FB.getLoginStatus(function(b){"connected"===b.status?a.getFBImage():"not_authorized"===b.status?GameObject.alert("Application don't have permision to fetch data"):FB.login(function(b){a.getFBImage()})}):GameObject.alert("Please wait while Facebook api being loaded")},getFBImage:function(){var a=this;return window.FB?void FB.api("/me",{fields:"id,name,picture,link"},function(b){if(b&&b.id){var c="//graph.facebook.com/"+b.id+"/picture";a.uploadedImage(c)}}):GameObject.alert("Please wait while Facebook api being loaded")},render:function(){this.newImg=null;var a=$.browser.device=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase());return a||$("body").height()<300?(this.$(".screenActionBtns").hide(),this.$(".smallScreenActionBtns").show(),this.$(".removeBottomForSmallScreen").css({bottom:"0"})):this.$(".smallScreenActionBtns").hide(),this.popViewId=Game.FullScreenPopupManager.open(this.$el),this.delegateEvents(),this.deferred},cancel:function(){Game.FullScreenPopupManager.close(this.popViewId)},saveAll:function(){var a=!0;for(i=0;i<this.fieldViews.length;i++)this.fieldViews[i].isEditable()&&!this.fieldViews[i].isValid()&&(a=!1,this.fieldViews[i].showStatus());for(i=0;i<this.managerFieldViews.length;i++)this.managerFieldViews[i].isEditable()&&!this.managerFieldViews[i].isValid()&&(a=!1,this.managerFieldViews[i].showStatus());if(this.nameFieldViews.isValid()||(a=!1),a){var b=this.nameFieldViews.save(),c=companyUser.user.timezone,d=companyUser.user.timezone_new,e={};for(i=0;i<this.fieldViews.length;i++)if(this.fieldViews[i].isEditable()){var f=this.fieldViews[i].save();if(learnerJson.profile[this.fieldViews[i].profile.shortKey]!=f)if("name"==this.fieldViews[i].profile.shortKey)b=f;else if("timezone"==this.fieldViews[i].profile.shortKey){var g=this.fieldViews[i].inputEl.selectedItem.offset_minutes;c=g,d={zone_name:f,zone_offset_minutes:g}}else e[this.fieldViews[i].profile.shortKey]=f}var h={};for(i=0;i<this.managerFieldViews.length;i++)if(this.managerFieldViews[i].isEditable()){var f=this.managerFieldViews[i].save();learnerJson.managers[this.managerFieldViews[i].profile.shortKey]!=f&&(h[this.managerFieldViews[i].profile.shortKey]=f)}this.changedName=!1,b!=learnerJson.name&&(this.changedName=!0),null!=this.newImg?this.saveToServer(b,this.newImg,e,h,c,d):this.saveToServer(b,void 0,e,h,c,d),this.$(".doneBtn").text(Game.Messages.BTN_SAVING_TEXT)}},updateAfterSave:function(a,b,c,d,e,f){var g=this;if(a&&(learnerJson.name=a),""==b&&(learnerJson.pic=g.defaultImage),b&&(learnerJson.pic=b),e&&(learnerJson.timezone=e),f&&(companyUser.user.timezone_new=learnerJson.timezone_new=f),c){companySettings.languages.length>1&&learnerJson.profile.lang!=c.lang&&(delMem("_locale"),window.location.reload(!0));for(var h in c)learnerJson.profile[h]=c[h]}if(d)for(var h in d)learnerJson.managers[h]=d[h];if(g.closeMe(),g.stateObj&&g.nextState&&g.nextStateParams)return void g.stateObj.go(g.nextState,g.nextStateParams,{reload:!0});g.$(".doneBtn",this.el).text(Game.Messages.BTN_DONE_TEXT),"undefined"==typeof mtBrodCastService&&(window.mtBrodCastService=angular.element(document.body).injector().get("mtBrodCast")),mtBrodCastService.brodCast("UPDATED_PROFILE",{learnerJson:learnerJson});var i=$.extend({},c);b&&(i.pic=b),e&&(i.timezone=e),g.changedName&&(i.name=a),Game.MixPanelTracking.track("Edit Profile",{"Updated Name":a,"Updated Pic":b,"Edited fields":i})},saveToServer:function(a,b,c,d,e,f){var g=this;$.ajax({type:"POST",url:"/update_profile",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({name:a,pic:b,profile_fields:c,managers:d,timezone:e,timezone_new:f}),success:function(h){var i=eventManager.trackBackgroundUMProcess({});h.processId||h.processIds?(eventManager.setProcessIdUM(i,h.processId||h.processIds),i.then(function(h){g.updateAfterSave(a,b,c,d,e,f)},function(){eventManager.trigger("feedback.status",3,"Unable to add reviewer. Please try again!")})):g.updateAfterSave(a,b,c,d,e,f)},error:function(a){if(a.responseText=JSON.parse(a.responseText),a.responseText.shortKey){var b=a.responseText.shortKey.split("."),c=b[0],d=b[1];if("name"===d)g.nameFieldViews.showStatus(void 0,!0);else{var e="manager"===c?g.managerFieldViews:g.fieldViews;e.forEach(function(a){a.profile.shortKey===d&&a.showStatus(void 0,!0)})}}else GameObject.alert(a.responseText.error);g.$(".doneBtn",this.el).text(Game.Messages.BTN_DONE_TEXT)}})}}),Game.ProfileFieldView=Backbone.View.extend({constructor:function(a,b,c,d){b&&(b=b.trim()),this.profile=a,this.isManager=c,this.managers=d,this.displayName=a.displayName,Game.Messages[this.displayName]&&(this.displayName=Game.Messages[this.displayName]);var e="tmpl_profile_field";"DASHBOARD"==companySettings.lsSettings.lsView&&(e="tmpl_profile_field_dashboard"),this.el=$(_.template($.trim($("script#"+e).html()))({display_name:this.displayName,required:Game.Messages.ERR_REQUIRED})),a.isRequired?$(".displayNameDiv",this.el).text(this.displayName+"*"):$(".displayNameDiv",this.el).text(this.displayName);var f=$(".statusDiv",this.el);if(this.statusIconDiv=$(">div",f).eq(0).find("div"),this.statusMsgDiv=$(">div",f).eq(1),this.isManager){e="tmpl_dropdownEl","DASHBOARD"==companySettings.lsSettings.lsView&&(e="tmpl_dropdownEl_dashboard"),this.ddTmpl=$(_.template($("script#"+e).html().trim())({selectText:Game.Messages.DD_SELECT_TEXT}));var g=companySettings.managerDetails[b],h=[];if(g){var i="";i=g.name?g.name+" ("+g.email+")":g.email,h.push({val:b,text:i,type:0})}else h.push({val:b,text:b,type:0});this.inputEl=new Utils.DropdownView(this.ddTmpl,h,null,this.profile.learnersCanEdit===!1,{sort:!0}),$(".formInputBoxBorder",this.el).empty().append(this.ddTmpl),this.managers.then(_.bind(this.drawManagers,this))}else if("DROPDOWN"==a.displayType){this.ddTmpl=$(_.template($("script#tmpl_dropdownEl").html().trim())({selectText:Game.Messages.DD_SELECT_TEXT}));var h=[],j=!1,k=!0,l=!1;if("timezone"==a.shortKey)h=[],mtTimezones.map(function(a){h.push({val:a.id,text:a.name,tooltip:!0,offset_minutes:a.offset/1e3/60})}),k=!1,l=!0;else for(var m=a.displayParams,n=0;n<m.length;n++)void 0!=b&&m[n].trim().toLowerCase()==b.toLowerCase()&&(j=!0),h.push({val:m[n].trim(),text:m[n].trim(),type:0});this.inputEl=new Utils.DropdownView(this.ddTmpl,h,null,this.profile.learnersCanEdit===!1,{sort:k,search:l}),this.listenTo(this.inputEl,"item.clicked",this.updateDropDownVal),j&&this.inputEl.clickItemByVal(b),
$("input",this.el).parent().empty().append(this.ddTmpl)}else this.inputEl=$("input",this.el);this.profile.learnersCanEdit===!1&&$(".formInputBoxBorder",this.el).addClass("disabled"),this.setupStatusAsType=!1,_.isUndefined(b)||null===b||""===b.trim()||this.inputEl.val(_.unescape(b)),this.showStatus(),this.errorMsg="",Backbone.View.apply(this),this.$("input").attr("id","profile_field_"+this.profile.shortKey).attr("name","profile_field_"+this.profile.shortKey),this.value=b},drawManagers:function(a){this.managers=a,this.ddTmpl=$(_.template($("script#tmpl_dropdownEl").html().trim())({selectText:Game.Messages.DD_SELECT_TEXT}));for(var b=[],c=!1,d=0;d<a.length;d++)if(learnerJson.id!=a[d].id){var e="";e=a[d].user.name?a[d].user.name+" ("+a[d].user.email+")":a[d].user.email,b.push({val:a[d].id,text:e,type:0}),a[d].id==this.value&&(c=!0)}this.inputEl=new Utils.DropdownView(this.ddTmpl,b,null,this.profile.learnersCanEdit===!1,{sort:!0,search:!0}),c&&this.inputEl.clickItemByVal(this.value),this.listenTo(this.inputEl,"item.clicked",this.updateDropDownVal),this.$(".formInputBoxBorder").empty().append(this.ddTmpl)},render:function(){return this.profile.learnersCanEdit===!1&&this.undelegateEvents(),this.$el},updateDropDownVal:function(a){if(this.isManager)for(var b=0;b<this.managers.length;b++)if(this.managers[b].id==a.val)return companySettings.managerDetails[this.managers[b].id]=this.managers[b].user,void this.showStatus();this.showStatus()},updateValue:function(a){this.profile.learnersCanEdit||this.$el.find(">div").eq(1).text(a)},events:{"blur input":"showStatus","focus input":"setupKeypress","keyup input":"showStatus","change select":"keypress","keypress input":"handleGoButton"},handleGoButton:function(a){13==a.keyCode&&(0==this.$el.next().length?$(".doneBtn").eq(0).click():$("input",this.$el.next()[0]).focus())},setupKeypress:function(a,b){var c=this.inputEl.val();isNaN(c)&&(c=c.trim()),""===c?this.setupStatusAsType=!1:this.isValid()?this.setupStatusAsType=!1:this.setupStatusAsType=!0;var d=$.browser.device=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase());if(d){var e=35*$("#profile_field_"+this.profile.shortKey).parent().parent().index();setTimeout(function(){$(".removeBottomForSmallScreen").animate({scrollTop:145+e},0),console.log("moving up to",145+e)},1e3)}},keypress:_.throttle(function(){this.setupStatusAsType&&this.showStatus()},200),showStatus:function(a,b){if(b)this.errorMsg=Game.Messages.ERR_INVALID_FLD,this.statusIconDiv.addClass("wrongIcon").removeClass("greenTick"),this.statusMsgDiv.show().find(".errorBox").text(this.errorMsg);else if(this.isEditable()){this.isValid();this.isValid()?(this.statusIconDiv.removeClass("wrongIcon").addClass("greenTick"),this.statusMsgDiv.hide()):(this.statusIconDiv.addClass("wrongIcon").removeClass("greenTick"),this.statusMsgDiv.show().find(".errorBox").text(this.errorMsg))}else;},isEditable:function(){return this.profile.learnersCanEdit},validateXss:function(a){var b=new RegExp("((%3C)|<)((%2F)|/)*[a-z0-9%]+((%3E)|>)"),c=new RegExp("((%3C)|<)((%69)|i|(%49))((%6D)|m|(%4D))((%67)|g|(%47))[^\n]+((%3E)|>)"),d=new RegExp("((%3C)|<)[^\n]+((%3E)|>)");return!(b.test(a)||c.test(a)||d.test(a))},isValid:function(){var a=this.inputEl.val();if(isNaN(a)&&(a=a.trim()),"timezone"!=this.profile.shortKey&&"DROPDOWN"!=this.profile.displayType)try{var b=new RegExp("^[-=+@]");if(b.test(a))return this.errorMsg=Game.Messages.ERR_INVALID_FLD,!1;if(!this.validateXss(a))return this.errorMsg=Game.Messages.ERR_INVALID_FLD,!1}catch(c){}if(this.profile.isRequired&&""===a)return this.errorMsg=Game.Messages.ERR_REQUIRED,!1;var d=null;return this.isManager?d=!0:"DROPDOWN"==this.profile.displayType?d=!0:"NUMBER_ONLY"==this.profile.validationType?(d=Game.ProfileFieldView.numOnly(a),d||(this.errorMsg=Game.Messages.ERR_TEXT)):"ALPHA_ONLY_NAME"==this.profile.validationType?(d=Game.ProfileFieldView.onlyText(a),d||(this.errorMsg=Game.Messages.ERR_TEXT)):"ALPHA_ONLY"==this.profile.validationType?(d=Game.ProfileFieldView.textOnly(a),d||(this.errorMsg=Game.Messages.ERR_TEXT)):"ANY_TEXT"==this.profile.validationType?d=!0:"ALPHA_NUMERIC"==this.profile.validationType&&(d=Game.ProfileFieldView.textNum(a),d||(this.errorMsg=Game.Messages.ERR_ALPHNUM)),d},save:function(){return this.inputEl.val()}},{textOnly:function(a){var b=/^[a-zA-Z ]*$/g.test(a.trim());if(b)return b;for(var c=!0,d=a.split(""),e=0;e<d.length;e++){var f=d[e].charCodeAt(0);f>=65&&f<=90||f>=97&&f<=122||32==f||d[e].charCodeAt(0)>255||(c=!1)}return c},onlyText:function(a){var b=/^[a-zA-Z\s., ]*$/gi.test(a.trim());if(b)return b;for(var c=!0,d=a.split(""),e=0;e<d.length;e++){var f=d[e].charCodeAt(0);f>=65&&f<=90||f>=97&&f<=122||32==f||d[e].charCodeAt(0)>255||(c=!1)}return c},textNum:function(a){return/^[a-zA-Z0-9\s,&.]*$/gi.test(a.trim())},numOnly:function(a){return/^[0-9]*$/gi.test(a.trim())}});var Game=Game||{};Game.SendMessagePopUp=Backbone.View.extend({constructor:function(a,b){this.MIN_MSG_CHARS=1,this.MAX_MSG_CHARS=200,this.user=a,this.socketService=b,html=$.trim($("script#"+(Utils.Func.isNewDesignLanguage()?"tmpl_send_message_ndl":"tmpl_send_message")).html()),this.pic=assetsBase+"/images/img_80_80.png",this.user.pic&&(this.pic=this.user.pic),this.el=_.template(html)({header:Utils.Func.isNewDesignLanguage()?Game.Messages.LB_TXT_SEND_MESSAGE_TO:Game.Messages.TXT_SEND_MESSAGE,cancel:Game.Messages.CANCEL,send:Game.Messages.SEND_TXT,done:Game.Messages.BTN_DONE_TEXT,placeholder:Utils.Func.isNewDesignLanguage()?Game.Messages.LB_TXT_SEND_MESSAGE_PH:Game.Messages.MSG_FEEDBACK_TXT,name:this.user.name,pic:this.pic,maxlength:this.MAX_MSG_CHARS=200}),Backbone.View.apply(this),this.$(".leftCharCount").text(this.MAX_MSG_CHARS+" char. left")},resetForm:function(){this.$(".sendMessageArea,.sendMsg,.cancelBtn").show(),this.$(".sendMessgeSuccess").text("").hide(),this.$(".doneBtn").hide(),this.$("textarea").val("")},render:function(){this.resetForm(),Utils.Func.isNewDesignLanguage()?this.$el.modal():this.popViewId=Game.FullScreenPopupManager.open(this.$el),this.delegateEvents()},closeMe:function(){Utils.Func.isNewDesignLanguage()?$.modal.close():Game.FullScreenPopupManager.close(this.popViewId)},events:{"click .closeMe":"closeMe","click .sendMsg":"validateAndSendMessage","change textarea":"checkAndValidateLength","keyup textarea":"checkAndValidateLength","blur textarea":"checkAndValidateLength"},checkAndValidateLength:function(){var a=$.trim(this.$("textarea").val());if(this.$(".leftCharCount").removeClass("colorff6969"),this.$("textarea").css({border:"1px solid #ccc"}),a){var b=this.MAX_MSG_CHARS-a.length;this.$(".leftCharCount").text(this.MAX_MSG_CHARS-a.length+" char. left"),b<1&&(this.$(".leftCharCount").addClass("colorff6969"),this.$("textarea").css({border:"1px solid #FF6969"}))}else this.$(".leftCharCount").text(this.MAX_MSG_CHARS+" char. left");!a||a.length<this.MIN_MSG_CHARS?this.$(".sendMsg").addClass("disable cursor"):this.$(".sendMsg").removeClass("disable cursor")},validateAndSendMessage:function(){var a=$.trim(this.$("textarea").val());a.length<this.MIN_MSG_CHARS?GameObject.alert(Game.Messages.TXT_EMPTY_MESSAGE):a.length>this.MAX_MSG_CHARS?this.$(".msgErrorDiv").text("Max length allowed "+this.MAX_MSG_CHARS+" chars!").show(0).delay(2e3).hide(0):(this.$(".leftCharCount").hide(),this.$(".sendMessageArea,.sendMsg,.cancelBtn").hide(),this.$(".sendMessgeSuccess").text(Game.Messages.SEND_MESSAGE_SUCCESS).show(),this.$(".doneBtn").show(),Game.MixPanelTracking.track("learners_peer_list_message_sent",{learner_id:this.user.id}),this.socketService.sendPrivateMessage(this.user.id,a))}});var Game=Game||{};Game.PostQuestionPopUp=Backbone.View.extend({constructor:function(a,b,c,d,e,f){this.state=a,this.socketService=e,this.geid=b,this.selectedTopic=c,this.pages=d,this.callback=f,html=$.trim($("script#tmpl_post_question").html()),this.el=_.template(html)({header:Game.Messages.LB_TXT_POST_QUESTION,select:Game.Messages.DD_SELECT_TEXT,selecttopic:Game.Messages.LB_TXT_SELECT_TOPIC,enterquestion:Game.Messages.ENTER_QUESTION,typeqst:Game.Messages.LB_TXT_TYPE_QST_HERE,cancel:Game.Messages.HM_MSG_CANCEL,postqst:Game.Messages.LB_TXT_POST_QUESTION,done:Game.Messages.BTN_DONE_TEXT}),this.topicToPostOn=void 0,this.MIN_MSG_CHARS=1,Backbone.View.apply(this),this.makeTopicsDD()},makeTopicsDD:function(){this.topicsDDItems=[];for(var a=0;a<this.pages.length;a++)for(j=0;j<this.pages[a].topics.length;j++){var b=this.pages[a].topics[j];this.topicsDDItems.push({val:b.id,text:b.name,obj:b,type:0})}this.topicsDD=new Game.DropdownView(this.$("dl.topicsDD"),this.topicsDDItems),this.listenTo(this.topicsDD,"item.clicked",this.updateSelectedTopic),isNaN(this.selectedTopic)||(this.topicsDD.clickItemByVal(this.selectedTopic),this.topicToPostOn=this.selectedTopic)},updateSelectedTopic:function(a){this.topicToPostOn=a.val},resetForm:function(){this.topicToPostOn=void 0,this.isPosted=!1,this.$("dl.topicsDD dt a").text(Game.Messages.DD_SELECT_TEXT),this.$(".postQstArea,.postQuestion,.cancelBtn").show(),this.$(".postQstAreaSuccess").text("").hide(),this.$(".doneBtn").hide(),this.$("textarea").val("")},render:function(){this.resetForm(),this.popViewId=Game.FullScreenPopupManager.open(this.$el),this.delegateEvents()},closeMe:function(){Game.FullScreenPopupManager.close(this.popViewId)},events:{"click .closeMe":"closeMe","click .postQuestion":"validateAndPostQuestion"},validateAndPostQuestion:function(){var a=$.trim(this.$("textarea").val());this.topicToPostOn?a.length<this.MIN_MSG_CHARS?GameObject.alert(Game.Messages.LB_TXT_ENTER_QUESTION):(this.$(".postQstArea,.postQuestion,.cancelBtn").hide(),this.$(".postQstAreaSuccess").text(Game.Messages.SEND_MESSAGE_SUCCESS).show(),this.$(".doneBtn").show(),this.socketService.postQuestion(this.geid,{topicId:this.topicToPostOn,text:a},this.callback),this.closeMe(),Game.MixPanelTracking.track("Post a question",{Destination:"Course",Location:"Discussion page",Action:"Question","Content Id":this.geid,text:a})):GameObject.alert(Game.Messages.QNA_POST_WARN)}});var Game=Game||{};Game.ProfilePicUpload=Backbone.View.extend({constructor:function(){html=$.trim($("script#tmpl_upload_pic").html()),this.el=_.template(html)({select:Game.Messages.MSG_SEL_COMP,supported:Game.Messages.MSG_IMG_FORMATS,uploading:Game.Messages.UPLOADING_TXT,cropHelp:Game.Messages.MSG_CROP_IMG,cancel:Game.Messages.CANCEL_TXT,done:Game.Messages.BTN_DONE_TEXT}),Backbone.View.apply(this)},render:function(){this.resetPopUp(),this.closeMe(),this.popViewId=Game.FullScreenPopupManager.open(this.$el),this.delegateEvents()},closeMe:function(){Game.FullScreenPopupManager.close(this.popViewId)},resetPopUp:function(){this.selectArea=$(".selectArea",this.el).hide(),this.loadingArea=$(".loadingArea",this.el).hide(),this.cropArea=$(".cropArea",this.el).hide(),this.cropData={},this.url=""},selectFile:function(a){var b=a.target,c=b.value;if(c){c=c.substr(c.lastIndexOf("."),c.length).toLowerCase();var d=new Array(".jpg",".jpeg",".png",".bmp");if($.inArray($.trim(c),d)==-1)return this.closeMe(),void Utils.Func.alert("Image format not supported");var e=512e4;if("Microsoft Internet Explorer"==navigator.appName){var f=$('input[type="file"]').get(0).value,g=$("<img/>").attr("src",f).appendTo("body"),h=g.get(0).fileSize;if(g.remove(),h>e)return this.closeMe(),void Utils.Func.alert("Image file should be less than 5 MB")}var i=b.files;if(i&&i[0]&&i[0].size>e)return this.closeMe(),void Utils.Func.alert("Image file should be less than 5 MB");this.ext=c;var j=$("<iframe id=''></iframe>").attr({id:"upload_iframe",name:"upload_iframe",style:"display:none;"});$("#upload_iframe").length<1?$("body").append(j):j=$("#upload_iframe");var k=$(b).closest("form");k.attr({target:"upload_iframe",action:"/media/upload?format="+this.ext.replace(".","")+$.param({}),method:"POST",enctype:"multipart/form-data",encoding:"multipart/form-data"}),k.submit(),window.imageUploaded=function(a,b){if(j.remove(),0==a||a==-1)return n.closeMe(),void alert("something went wrong");if(m)return void n.closeMe();if(1==a)return n.closeMe(),void alert(b);n.newImagePath=b,n.selectArea.hide(),n.loadingArea.hide(),n.cropArea.show();var c=n.cropArea.find(">div").eq(0);c.html('<div class="upstat textalign">Loading Image...</div><img id="userNewImg" style="max-width:480px;max-height:480px;display:block;margin:0 auto;" src="'+b+'"/><div class="areaSelect display_N" style="text-align: center; position: relative; width: 300px; left: 204px; line-height: 24px; font-size: 15px; border: 1px solid #D9B868; background:#FFE3A0; margin-top: 10px;">Please select an area on image to crop</div>');var d=$("img",c);d.hide(),d.one("load",function(){$(">div",c).eq(0).remove(),d.show();var a=n.width=d.width(),b=n.height=d.height(),e=Math.floor(a/4),f=Math.floor(b/4),g=Math.min(e,f);e=a/2-g,f=b/2-g,n.cropData={x1:e,y1:f,x2:2*g,y2:2*g},n.currSelection={x:e,y:f,x2:e+2*g,y2:f+2*g,w:130,h:130,aw:n.width,ah:n.height};$("#userNewImg").Jcrop({aspectRatio:1,onSelect:function(a){a.aw=n.width,a.ah=n.height,n.currSelection=a},bgColor:"black",bgOpacity:.4,setSelect:[e,f,e+2*g,f+2*g]});$(".modalCloseImg.simplemodal-close").one("click",function(){$(".imgareaselect-outer").remove(),$(".imgareaselect-selection").parent().remove()})})},b.value="",$(".imgareaselect-outer").remove(),$(".imgareaselect-selection").parent().remove(),this.selectArea.hide(),this.loadingArea.show(),this.cropArea.hide();var l=$(".cancelBtn",this.loadingArea),m=!1,n=this;l.click(function(){m=!0,window.imageUploaded=function(){},null!=j.stop&&(j.stop(),n.selectArea.show(),n.loadingArea.hide(),n.cropArea.hide()),null!=j.get(0).document&&null!=j.get(0).document.execCommand&&(j.get(0).document.execCommand("stop"),n.selectArea.show(),n.loadingArea.hide(),n.cropArea.hide())})}},events:{"change input":"selectFile","click .cropImg":"crop","click .closeMe":"closeMe"},crop:function(){var a=this,b=this.currSelection;return!b||!b.x2||!b.y2||b.x2<1||b.y2<1?void GameObject.alert("Please crop image"):0==b.w||0==b.h?($("#userNewImg").data("Jcrop").setSelect([0,0,100,100]),void GameObject.alert(Game.Messages.LB_TXT_INVALID_CROP_MSG)):(this.currSelection.extension=this.ext.replace(".",""),this.currSelection.imagePath=this.newImagePath.replace("//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/",""),void $.ajax({type:"POST",url:"/media/crop",contentType:"application/json",data:JSON.stringify(this.currSelection),success:function(b){console.log("crop response===>",b),$(".imgareaselect-outer").remove(),$(".imgareaselect-selection").parent().remove(),a.trigger("cropped.img",b.cropped),a.closeMe()},error:function(){GameObject.alert("Server Encountered error while croping image"),a.closeMe()}}))}});var Game=Game||{};Game.ChangePasswordPopUp=Backbone.View.extend({constructor:function(){html=$.trim($("script#tmpl_change_password").html()),this.el=_.template(html)({changePwd:Game.Messages.CHANGE_PASSWORD_HEADER,ecp:Game.Messages.ENTER_CURRENT_PWD,enp:Game.Messages.ENTER_NEW_PWD,renp:Game.Messages.RE_ENTER_NEW_PWD,cancel:Game.Messages.HM_MSG_CANCEL,done:Game.Messages.BTN_DONE_TEXT,saveChanges:Game.Messages.SAVE_CHANGES}),this.MIN_PWD_CHARS=8,Backbone.View.apply(this)},resetForm:function(){this.$("input").val(""),this.$(".closeMe:eq(1),.changePasswordForm").show(),this.$(".changePasswordSuccess").html("").hide(),this.$(".changePwd").show(),this.$(".doneBtn").hide(),this.$(".status.errDiv").text("").hide()},render:function(){this.resetForm(),this.popViewId=Game.FullScreenPopupManager.open(this.$el),this.delegateEvents()},closeMe:function(){Game.FullScreenPopupManager.close(this.popViewId)},events:{"click .closeMe":"closeMe","click .changePwd":"validateAndChangePassword"},isValidPassword:function(a,b,c,d){var e=!1;if(0==b.length)e=Game.Messages.ERR_REQ_FLD;else if(b.length<this.MIN_PWD_CHARS&&!d)e=Game.Messages.ERR_MIN_CHAR.replace("{0}",this.MIN_PWD_CHARS);else if(c){var f=b.match(/([A-Z])/)?1:0,g=b.match(/([a-z])/)?1:0,h=b.match(/([0-9])/)?1:0,i=b.match(/([!,%,&,@,#,$,^,*,?,_,~])/)?1:0,j=f+g+h+i>=3;j||(e=Game.Messages.HM_MSG_STRONG_PASSWORD)}return!e||(this.$(a).text(e).show(0).delay(5e3).hide(0),!1)},validateAndChangePassword:function(){var a=$.trim(this.$("input.cPass").val()),b=$.trim(this.$("input.nPass").val()),c=$.trim(this.$("input.rePass").val());if(this.isValidPassword(".errDiv.cPass",a,!1,!0)&&this.isValidPassword(".errDiv.nPass",b,1==companySettings.strongPassword)&&this.isValidPassword(".errDiv.rePass",c,1==companySettings.strongPassword)){if(b!=c)return void this.$(".errDiv.rePass").text(Game.Messages.ERR_INVALID_FLD).show(0).delay(3e3).hide(0);if(a==b)return void Utils.Func.alert(Game.Messages.SAME_PASSWORD);var d=this;if(!this.isChanging){this.isChanging=!0;var e="/change_password";$.ajax({type:"POST",url:e,dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({old_passhash:a,new_passhash:b}),success:function(a){d.isChanging=!1,d.$(".closeMe:eq(1),.changePasswordForm").hide(),d.$(".changePasswordSuccess").html(Game.Messages.CHANGE_PWD_SUCCESS).show(),d.$(".changePwd").hide(),d.$(".doneBtn").show()},error:function(a){d.isChanging=!1,a.responseText=$.parseJSON(a.responseText),a.responseText.errorCode?"MISSING_PASSWORD"==a.responseText.errorCode?GameObject.alert("One of the passwords missing!"):"WEAK_PASSWORD"==a.responseText.errorCode&&d.$(".errDiv.nPass").text(Game.Messages.HM_MSG_STRONG_PASSWORD).show(0).delay(1e3).hide(0):GameObject.alert(a.responseText.error)}})}}}});var Game=Game||{};Game.EntitySummaryPopUp=Backbone.View.extend({constructor:function(a,b,c,d){this.state=a,this.entity=b,this.entityId=d,this.entity&&(this.entityId=this.entity.id),this.series=c,this.courseIntroductionVideo=null,this.showCourseOutline=this.entity.showCourseOutline,this.entity.introductionVideos&&this.entity.introductionVideos.length>0&&this.entity.introductionVideos[0].objectNode&&(this.courseIntroductionVideo=this.entity.introductionVideos[0].objectNode);var e=$.trim($("script#tmpl_entity_summary").html());this.isReattempted=!1;var f="",g="";"COURSE"==b.type?(f="C",g="cBG_L"):"UPDATE"==b.type&&(f="Q",g="qBG_L");var h=null;null!=this.entity.lastPublishTime&&this.entity.lastPublishTime>0&&(h=Utils.Func.getNiceDate(this.entity.lastPublishTime)),this.el=_.template(e)({header:Game.Messages.LB_TXT_COURSE_DETAILS,outline:Game.Messages.LB_TXT_COURSE_OUTLINE,complete:Game.Messages.COMPLETE,type:f,tagClass:g,txtMaxscore:Game.Messages.LB_TXT_MAX_SCORE,lastUpdatedTxt:Game.Messages.LB_TXT_LAST_UPDATED,lastUpdatedTime:h,completionText:""}),Backbone.View.apply(this),this.isOutLineSectionsHidden=!0,appSettings.isPreview||window.AjaxWrapper&&AjaxWrapper.entityId==d||(window.AjaxWrapper=new Game.AARequestManager(this.entityId)),this.initPage()},setClock:function(a){a.timeRemaining-=1,a.timeRemaining>0?(clock=Utils.Func.getClock(a.timeRemaining),a.$(".limitedCompletionTimeDiv>div").text(_.template(Game.Messages.LB_TXT_TIMEREMAINING)({n:clock.mmss.replace("m","")})),clock.isRed?a.$(".limitedCompletionTimeDiv>div").addClass("critical"):a.$(".limitedCompletionTimeDiv>div").removeClass("critical")):(a.$(".limitedCompletionTimeDiv>div").text(Game.Messages.LB_TXT_TIMEUP),a.$(".limitedCompletionTimeDiv>div").addClass("critical"),clearInterval(a.timer))},initPage:function(){var a=this;if(this.entity){var b=[];if(mtBrodCastService.saveEntryState(),Game.MixPanelTracking.trackEmailClicked(a.entity),this.entity.dueDateText=Utils.Func.getDueDateText(this.entity.dueDateObj),this.$(".actCourseName").text(this.entity.name),this.$(".courseDesc").html(this.entity.desc),this.$(".courseThumbImg").attr("src",this.entity.thumb.url_180_120),this.$(".entitySummary_dueDate").text(this.entity.dueDateText),this.$(".entitySummary_completedOn").text(Game.Messages.LB_TXT_COMPLETED_ON+" "+Utils.Func.getNiceDate(this.entity.completedOn)),this.$(".courseCompletionPerc").text(Math.floor(this.entity.percCompletion)+"%"),this.$(".courseCompletionPercWid").css({width:this.entity.percCompletion+"%"}),this.$(".maxScore").text(this.entity.totalScore+" pts"),this.$(".medalCssDiv").html(this.getFinalMedalImage()),this.entity.completionCertificateEnabled?this.entity.certificateCutOffScore>-1?this.$(".cutoffscore").text(this.entity.certificateCutOffScore):this.$(".cutoffscoreDiv").hide():this.$(".completionCertficateInfoDiv").hide(),null!=this.entity.medalName&&Game.Messages["LB_MEDAL_"+this.entity.medalName]&&(this.entity.medalName=Game.Messages["LB_MEDAL_"+this.entity.medalName]),this.$(".medalNameDiv").text(this.entity.medalName),this.$(".myCourseScore").text(this.entity.score+"/"+this.entity.totalScore),this.entity.timeLimit>0&&(this.timeRemaining=0!=this.entity.endTimeStamp?this.entity.endTimeStamp-NTP.fixTime()/1e3:this.entity.timeLimit),this.entity.timeLimit<1)this.$(".limitedCompletionTimeDiv").hide();else{var a=this;if("COMPLETED"===this.entity.state){var c=Utils.Func.getClock(this.entity.endTimeStamp-this.entity.completedOn);this.$(".limitedCompletionTimeDiv>div").text(_.template(Game.Messages.LB_TXT_TIME)({n:c.mmss.replace("m","")}))}else if(a.timeRemaining<=0||"TIMEDOUT"===this.entity.state)a.$(".limitedCompletionTimeDiv>div").text(Game.Messages.LB_TXT_TIMEUP),a.$(".limitedCompletionTimeDiv>div").addClass("critical");else if("ADDED"==this.entity.state)this.$(".limitedCompletionTimeDiv>div").text(_.template(Game.Messages.LB_TXT_COMPLETION_TIME)({n:this.entity.timeLimit/60}));else if(a.timeRemaining>0&&"ADDED"!==this.entity.state&&"COMPLETED"!==this.entity.state){var c=Utils.Func.getClock(this.timeRemaining);this.$(".limitedCompletionTimeDiv>div").text(_.template(Game.Messages.LB_TXT_TIMEREMAINING)({n:c.mmss})),this.timer=setInterval(function(){a.setClock(a)},1e3),$(document).bind("cancelTimerTraining",function(){clearInterval(a.timer)})}}if("ADDED"==this.entity.state||this.entity.isCertificateExpired?(this.entity.dueDateObj&&this.entity.dueDateObj.dueOn>0&&this.$(".entitySummary_dueDate").show(),this.$(".notStartedSection").show(),this.entity.isCertificateExpired?b.push(Game.EntitySummaryPopUp.getBlueBtn(Game.Messages.ASSESSMENT_TXT_RECERTIFY,"reCertifyEntity")):this.isCourseActive()&&b.push(Game.EntitySummaryPopUp.getBlueBtn(Game.Messages.MSG_START_TRAINING,"startEntity",{"aria-label":"Start Course"}))):"ACTIVE"==this.entity.state?(this.entity.dueDateObj&&this.entity.dueDateObj.dueOn>0&&this.$(".entitySummary_dueDate").show(),this.$(".startedSection").show(),this.isCourseActive()?this.entity.timeLimit>0&&a.timeRemaining<1?b.push(Game.EntitySummaryPopUp.getBlueBtn(Game.Messages.MSG_REVIEW_BTN,"reviewEntity")):b.push(Game.EntitySummaryPopUp.getBlueBtn(Game.Messages.MSG_PROG_TRAINING,"resumeEntity",{"aria-label":"Resume"})):b.push(Game.EntitySummaryPopUp.getBlueBtn(Game.Messages.MSG_REVIEW_BTN,"reviewEntity"))):"COMPLETED"!=this.entity.state&&"TIMEDOUT"!=this.entity.state||(this.entity.completedOn>0&&this.$(".entitySummary_completedOn").show(),null!=this.entity.medalName?this.$(".completedSection").show():(this.$(".maxScore").prev().text(_.template(Game.Messages.TXT_YOUR_SCORE_X_Y)({x:this.entity.score,y:this.entity.totalScore})),this.$(".maxScore").text("")),b.push(Game.EntitySummaryPopUp.getBlueBtn(Game.Messages.MSG_REVIEW_BTN,"reviewEntity")),this.entity.isCertificateAchived&&b.push(Game.EntitySummaryPopUp.getGrayBtn(Game.Messages.MSG_DOWNLOAD_CERT,"downloadCertificate"))),"ACTIVE"==this.entity.state||"COMPLETED"==this.entity.state||"TIMEDOUT"==this.entity.state){if(this.entity.canReattempt&&this.isCourseActive()&&!this.entity.recertify){var d=Game.Messages.MSG_REPLAY_BTN;9999!=this.entity.numberOfAllowedReattempts&&(d+=" ("+Utils.Func.getRemainingReAttempsForLearner(this.entity.numberOfAllowedReattempts,this.entity.originalReattemptVersion,this.entity.graceReattempts)+")"),b.push(Game.EntitySummaryPopUp.getGrayBtn(d,"reAttemptEntity"))}this.entity.certificateExpiringOn&&this.entity.certificateExpiringOn>100?this.$(".cert_validity_time").text(_.template(Game.Messages.ASSESSMENT_TXT_CERTIFICATE_EXP_ON)({dt:Utils.Func.getNiceDate(this.entity.certificateExpiringOn)})):this.$(".cert_validity_time").remove()}return"COMPLETED"==this.entity.state&&this.entity.recertify&&(this.entity.isCertificateExpired||b.push(Game.EntitySummaryPopUp.getGrayBtn(Game.Messages.ASSESSMENT_TXT_RECERTIFY,"reCertifyEntity"))),appSettings.isPreview||b.push(Utils.Func.getExitToSeriesButton()),this.$(".btnSection").append(b),Utils.Func.isDueTodayOrTomorrow(this.entity.state,this.entity.dueDateObj)&&$(".entitySummary_dueDate",this.el).parent().addClass("cmplt2day"),this.isCourseActive()||(Utils.Func.isMission(this.entity.type)||0!=this.entity.percCompletion&&null!=this.entity.percCompletion)&&!(Utils.Func.isMission(this.entity.type)&&this.entity.reattemptVersion<=1&&["ADDED","ACTIVE","LEARNER_IN_PROGRESS","DRAFTING"].indexOf(this.entity.state)>=0)?void("UPDATE"==this.entity.type||"MISSION"==this.entity.type||"CHECKLIST"==this.entity.type||"ILT"==this.entity.type||"ONE_TO_ONE_COACHING"==this.entity.type||"PERFORMANCE_EVALUATION_COACHING"==this.entity.type||Utils.Func.isMission(this.entity.type)?"ADDED"===this.entity.state&&"CHECKLIST"!==this.entity.type&&"ILT"!==this.entity.type&&"ONE_TO_ONE_COACHING"!==this.entity.type&&"PERFORMANCE_EVALUATION_COACHING"!==this.entity.type?this.addEntityToLearner():(this.resumeEntity(),"COMPLETED"==this.entity.state?Game.MixPanelTracking.track("View content",{"Visit Type":"Review","Content Type":a.entity.type,"Content Name":a.entity.name,"Content ID":a.entity.id,SeriesId:a.state.params.series}):Game.MixPanelTracking.track("View content",{"Visit Type":"Resume","Content Type":a.entity.type,"Content Name":a.entity.name,"Content ID":a.entity.id,SeriesId:a.state.params.series})):(this.popViewId=Game.FullScreenPopupManager.open(this.$el),this.delegateEvents(),this.loadLearnerReportCard(),"COURSE"==this.entity.type&&this.loadCourseIntroductionVideo())):(Utils.Func.alert(_.template(Game.Messages.LB_TXT_ENDED_MODULE)({dt:Utils.Func.getNiceDateTimeShort(this.entity.dueDateObj.dueOn),name:Utils.Func.getEntityTypeObjByName(this.entity.type).name})),void this.gotoParent())}},getExpiryTime:function(){var a=NTP.fixTime()/1e3;return null!=this.entity.startTime&&this.entity.startTime>0&&a<this.entity.startTime?this.entity.startTime:this.entity.dueDateObj&&this.entity.dueDateObj.dueOn>0&&"NONE"!=this.entity.dueDateObj.dueDateExpiryAction&&a>this.entity.dueDateObj.dueOn?this.entity.dueDateObj.dueOn:""},isCourseActive:function(){var a=NTP.fixTime()/1e3;return!!appSettings.isPreview||!(null!=this.entity.startTime&&this.entity.startTime>0&&a<this.entity.startTime)&&!(this.entity.dueDateObj&&this.entity.dueDateObj.dueOn>0&&"NONE"!=this.entity.dueDateObj.dueDateExpiryAction&&a>this.entity.dueDateObj.dueOn)},getFinalMedalImage:function(){return this.entity.medalUrl?'<img src="'+this.entity.medalUrl+'" style="width:100px;height:100px;display:block;margin:0 auto;border-radius:50%;"/>':""},gotoSeries:function(){if(this.forceClose=!0,this.entity.seriesID){var a="root.courses";"undefined"!=typeof companySettings&&"DASHBOARD"==companySettings.lsSettings.lsView&&(a="root.courses.series");var b={series:this.series?this.series:this.entity.seriesID};mtBrodCastService.gotoState(a,b)}else this.gotoParent()},gotoParent:function(){this.forceClose=!0;var a=window.courseInfo||null;if(mtBrodCastService.hasWorkflowEntryPoint())return void mtBrodCastService.gotoPreviousState();if(a&&a.entityLearner&&"_default"!=a.entityLearner.invited_from[a.entityLearner.invited_from.length-1]){var b=null,c=null;this.state&&(this.entity||this.entityId)&&"course"==this.state.current.name.split(".")[0]?(b="course",c={entityId:this.entity.id||this.entityId,series:a.entityLearner.invited_from[a.entityLearner.invited_from.length-1]}):(b="root.courses",c={series:a.entityLearner.invited_from[a.entityLearner.invited_from.length-1]}),mtBrodCastService.gotoState(b,c)}else mtBrodCastService.gotoState("root.courses");eventManager.trigger("cancelTimerInfo")},events:{"click .startEntity":"addEntityToLearner","keypress .startEntity":"startEntityKeyPress","click .reviewEntity":"reviewEntity","click .resumeEntity":"resumeEntityActual","keypress .resumeEntity":"resumeEntityKeyPress","click .downloadCertificate":"downloadCertificate","click .reAttemptEntity":"reAttemptEntity","click .reCertifyEntity":"reCertifyEntity","click .closeMe":"gotoParent","click .exitToSeries":"gotoSeries","click .toggleOutLineSections":"toggleOutLineSections","click .limitedCompletionTimeDiv>div":"showTimeCourseMessage"},showTimeCourseMessage:function(){"COMPLETED"==this.entity.state||this.timeRemaining<1?Utils.Func.alert(_.template(Game.Messages.LB_TXT_TIMEOVERDETAILEDMSG)({n:this.entity.timeLimit/60}),void 0,500):Utils.Func.alert(this.getTimedCourseStatements(),void 0,500)},getTimedCourseStatements:function(){var a=$("<div></div>").css({"margin-left":"20px","text-align":"left"});return this.getTimedCourseStatement(_.template(Game.Messages.LB_TXT_INSTRUCTION1)({n:this.entity.timeLimit/60})).appendTo(a),this.getTimedCourseStatement(_.template(Game.Messages.LB_TXT_INSTRUCTION2)({n:this.entity.timeLimit/60})).appendTo(a),this.getTimedCourseStatement(_.template(Game.Messages.LB_TXT_INSTRUCTION3)({n:this.entity.timeLimit/60})).appendTo(a),this.getTimedCourseStatement(_.template(Game.Messages.LB_TXT_INSTRUCTION4)({n:this.entity.timeLimit/60})).appendTo(a),this.entity.canReattempt&&9999!=this.entity.numberOfAllowedReattempts&&this.getTimedCourseStatement(_.template(Game.Messages.LB_TXT_INSTRUCTION5)({n:this.entity.numberOfAllowedReattempts})).appendTo(a),a},getTimedCourseStatement:function(a){var b=$("<div></div>").addClass("lineHeight20 marginB10");return $("<div></div>").addClass("floatL marginR5 marginT7").html("&nbsp;").css({background:"#000",width:"6px",height:"6px","border-radius":"50%"}).appendTo(b),$("<div></div>").addClass("floatL").css({width:"420px"}).html(a).appendTo(b),$("<div></div>").addClass("clear").appendTo(b),b},reviewEntity:function(){var a=this;this.entity.timeLimit>0&&a.timeRemaining<1?Utils.Func.confirm(_.template(Game.Messages.LB_TXT_TIMEOVERDETAILEDMSG)({n:this.entity.timeLimit/60}),function(){a.reviewEntityOri()},Game.Messages.MSG_REVIEW_BTN,Game.Messages.HM_MSG_CANCEL):this.reviewEntityOri()},reviewEntityOri:function(){var a=this;Game.MixPanelTracking.track("View content",{"Visit Type":"Review","Content Type":a.entity.type,"Content Name":a.entity.name,"Content ID":a.entity.id,SeriesId:a.state.params.series}),this.resumeEntity()},resumeEntityActual:function(){var a=this;Game.MixPanelTracking.track("View content",{"Visit Type":"Resume","Content Type":a.entity.type,"Content Name":a.entity.name,"Content ID":a.entity.id,SeriesId:a.state.params.series,"Percent Completion":this.entity.percCompletion}),this.resumeEntity()},resumeEntityKeyPress:function(a){32==a.keyCode&&this.resumeEntityActual()},toggleOutLineSections:function(){this.isOutLineSectionsHidden?(this.isOutLineSectionsHidden=!1,this.$(".outLineSections").slideDown(),this.$(".toggleOutLineSections").addClass("borderB_99"),this.$(".toggleOutLineSections>.closedCourseDes_Tab").addClass("Open_Tab")):(this.isOutLineSectionsHidden=!0,this.$(".outLineSections").slideUp(),this.$(".toggleOutLineSections").removeClass("borderB_99"),this.$(".toggleOutLineSections>.closedCourseDes_Tab").removeClass("Open_Tab"))},resumeEntity:function(){if("UPDATE"==this.entity.type)this.state.go("update",{entityId:this.entity.id,entity:this.entity.type,series:this.series},{reload:this.isReattempted});else if("MISSION"==this.entity.type)this.state.go("mission",{entityId:this.entity.id,entity:this.entity.type,series:this.series,minimal:this.state.params.minimal},{reload:this.isReattempted});else if("CHECKLIST"==this.entity.type||"ILT"==this.entity.type){var a=this.series;this.entity.parentList&&this.entity.parentList.length>0&&(a=this.entity.parentList[0].id);var b="/ui/"+this.entity.type.toLowerCase()+"/"+a+"/"+this.entity.id;appSettings.cookie&&(b+="/?MtCookie="+encodeURIComponent(appSettings.cookie)),location.href=b}else if("ONE_TO_ONE_COACHING"==this.entity.type||Utils.Func.isMission(this.entity.type)){
var a=this.series;this.entity.parentList&&this.entity.parentList.length>0&&!a&&(a=this.entity.parentList[0].id);var b="/ui/coaching/"+Utils.Func.entityType[this.entity.type]+"/learner/"+this.entity.id+"/sessions?forSeries="+a;appSettings.cookie&&(b+="&MtCookie="+encodeURIComponent(appSettings.cookie)),location.href=b}else if("PERFORMANCE_EVALUATION_COACHING"==this.entity.type){var a=this.series;this.entity.parentList&&this.entity.parentList.length>0&&!a&&(a=this.entity.parentList[0].id);var c="?start_session=true";a&&(c=c+"&forSeries="+a);var b="/ui/coaching/"+Utils.Func.entityType[this.entity.type]+"/review/"+this.entity.id+"/"+learnerJson.id+"/sessions"+c;appSettings.cookie&&(b+="/?MtCookie="+encodeURIComponent(appSettings.cookie)),location.href=b}else eventManager.trigger("cancelTimerInfo"),mtBrodCastService.brodCast("CLEAR_TIMEOUT_TIMER_"+this.entity.id),this.state.go("course",{entityId:this.entity.id,entity:this.entity.type,series:this.series},{reload:this.isReattempted})},reCertifyEntity:function(){this.reAttemptEntityServer("Recertify Content",!0)},reAttemptEntityServer:function(a,b){var c=this;$.ajax({type:"POST",url:"/entity/"+c.entity.id+"/reattempt",contentType:"application/json",data:JSON.stringify({time:(new Date).getTime()/1e3,isRecertify:b}),success:function(b){b.reattemped?(c.isReattempted=!0,learnerJson.company_score-=c.entity.score,mtBrodCastService.brodCast("UPDATED_PROFILE",{learnerJson:learnerJson}),localStorage&&!localStorage.getItem(kScoreUpdatedKey)&&localStorage.setItem("initial_comapny_score",learnerJson.company_score),c.resumeEntity(),Game.MixPanelTracking.track(a,{"Content Type":c.entity.type,"Content Name":c.entity.name,"Content ID":c.entity.id})):Utils.Func.alert(Game.Messages.UNABLE_TO_REATTEMPT)},error:function(a){Utils.Func.alert(Game.Messages.UNABLE_TO_REATTEMPT)}})},reAttemptEntity:function(){var a=Utils.Func.getRemainingReAttempsForLearner(this.entity.numberOfAllowedReattempts,this.entity.originalReattemptVersion,this.entity.graceReattempts);if(9999!=this.entity.numberOfAllowedReattempts&&0==a)return void Utils.Func.alert(Game.Messages.LB_TXT_ZEROREATTEMPTS);var b=this;this.timer&&clearInterval(b.timer),Utils.Func.confirmWithNoAction(_.template(Game.Messages.TXT_REATTEMPT_CONFIRM)({type:Utils.Func.getEntityTypeObjByNum(2).name}),function(){b.reAttemptEntityServer("Restart Content")},function(){b.entity.timeLimit>0&&b.startTimer(b)})},startTimer:function(a){a.timeRemaining=0!=a.entity.endTimeStamp?a.entity.endTimeStamp-NTP.getNow()/1e3:a.entity.timeLimit,a.timer=setInterval(function(){a.setClock(a)},1e3)},downloadCertificate:function(){Utils.Func.downloadCertificate(this.entity.id,this.entity.certificateUrl,this.entity.name,this.entity.type)},addEntityToLearner:function(){var a=this;this.entity.timeLimit>0?Utils.Func.confirm(this.getTimedCourseStatements(),function(){a.addEntityToLearnerOri()},Game.Messages.MSG_START_TRAINING,Game.Messages.HM_MSG_CANCEL):this.addEntityToLearnerOri()},startEntityKeyPress:function(a){32==a.keyCode&&this.addEntityToLearner()},addEntityToLearnerOri:function(){var a=this;a.adding||(a.adding=!0,AjaxWrapper.addEntityToLearner(this.entity.version,this.series).then(function(b){a.adding=!1,b.failed.length>0?GameObject.alert("Failed to add learner to entity"):b.exists.length>0?"ADDED"==b.exists[0].state.current?a.startEntity():"ACTIVE"==b.exists[0].state.current?a.resumeEntity():"DEACTIVATED"==b.exists[0].state.current&&GameObject.alert("You have been removed from this "+a.entity.type):b.success.length>0?a.startEntity():GameObject.alert("Oops something went wrong. Please try again!")},function(b){a.adding=!1,b.responseText=JSON.parse(b.responseText),GameObject.alert(b.responseText.error),window.location.hash="/courses"}))},startEntity:function(){var a=this;if(!a.starting){a.starting=!0;var b="/entity/"+this.entity.id+"/start",c={};Utils.Func.isMission(a.entity.type)&&(b="/api/v1/cag/coaching/"+this.entity.id+"/users/"+learnerJson.id+"/sessions",c={entityVersion:a.entity.version}),$.ajax({type:"POST",url:b,data:JSON.stringify(c),contentType:"application/json",success:function(b){a.starting=!1,Game.MixPanelTracking.track("View content",{"Visit Type":"Start","Content Type":a.entity.type,"Content Name":a.entity.name,"Content ID":a.entity.id,SeriesId:a.state.params.series}),a.resumeEntity()},error:function(b){a.starting=!1,b.responseText=JSON.parse(b.responseText),GameObject.alert(b.responseText.error||"Unable to start entity"),Game.MixPanelTracking.track("Learning Site Errors",{contentId:a.entity.id,contentName:a.entity.name,contentType:a.entity.type,seriesId:a.entity.seriesID,seriesName:a.entity.seriesName,requestId:b.getResponseHeader("Request-Id"),errorCode:b.status,errorMessage:b.statusText,errorType:"Unable to start entity",location:a.state.current.name})}})}},loadCourseIntroductionVideo:function(){return this.courseIntroductionVideo?(this.$(".courseIntroduction").show(),this.courseIntroductionView||(this.courseIntroductionView=new Game.MediaRenderView(this.$(".courseIntroduction_Video"),this.courseIntroductionVideo,{autoPlay:!1})),console.log(this.courseIntroductionVideo),console.log(this.courseIntroductionView),this.courseIntroductionView.player.setMediaHeight(400),void this.courseIntroductionView.render()):void this.$(".courseIntroduction").hide()},loadLearnerReportCard:function(){if(!this.showCourseOutline)return void this.$(".detailedOutline").hide();this.$(".detailedOutline").show(),$("<div></div>").html("<img src='"+Game.Settings.loaderPic+"'/>").appendTo(this.$(".outLineSections"));var a=this;AjaxWrapper.loadReportCard().then(function(b){b.reportSummary?a.loadedLearnerReportCard(b.reportSummary):GameObject.alert(Game.Messages.LB_TXT_ERROR_LOADING_OUTILINE)},function(a){a.responseText=JSON.parse(a.responseText),GameObject.alert(a.responseText.error)})},loadedLearnerReportCard:function(a){this.removeOutlines(),this.outLineSectionViews=[],this.$(".outLineSections").empty();for(var b=0;b<a.levels.length;b++){for(var c=a.levels[b],d=0;d<c.topics.length;d++){var e=new Game.EntityOutLineSection(this.entityId,c.topics[d],a.contentScoring,this.isCourseActive());this.outLineSectionViews.push(e),this.$(".outLineSections").append(e.render()),this.listenTo(e,"open.learningobject",this.openEntity)}this.outLineSectionViews.length>0&&this.outLineSectionViews[0].slideDown()}},openEntity:function(a){appSettings.isPreview||"root.courses.gamelanuch"==this.state.current.name?window.initTickleRender={lo:a.id}:"course.gamelanuch"==this.state.current.name&&eventManager.trigger("open.learningobject",a.id),"ADDED"==this.entity.state?this.addEntityToLearner():this.resumeEntity()},removeOutlines:function(){if(this.outLineSectionViews)for(var a=0;a<this.outLineSectionViews.length;a++)this.outLineSectionViews[a].remove()},remove:function(){Game.FullScreenPopupManager.close(this.popViewId),this.removeOutlines(),Backbone.View.prototype.remove.apply(this),appSettings.isPreview&&this.forceClose&&(this.forceClose=void 0,delePreview())}},{getBlueBtn:function(a,b,c){var d=$('<div class="blueBtn_36 textalign_C marginB20" tabindex="0"></div>');if(d.addClass(b).text(a),c)for(var e in c)d.attr(e,c[e]);return d},getGrayBtn:function(a,b){return $('<div class="grayBtn_36 textalign_C marginB20"></div>').addClass(b).text(a)}}),Game.EntityOutLineSection=Backbone.View.extend({constructor:function(a,b,c,d,e){this.entityId=a,this.topicObj=b,this.contentScoring=c,this.isCourseActive=d;var f=$.trim($("script#tmpl_entity_summary_outline_section").html());this.el=_.template(f)({name:_.escape(this.topicObj.name)}),Backbone.View.apply(this),this.isDetailsSecHidden=!0,"NOT_STARTED"==this.topicObj.state&&this.$el.addClass("allLocked_vp"),e&&this.$(".toggleDetailsSec").parent().remove(),"ALL_OPEN"!=this.topicObj.unlockStrategy&&0!=this.topicObj.unlockStrategy||this.$el.removeClass("allLocked_vp"),this.isAssessment=e},render:function(){return this.delegateEvents(),this.$el},events:{"click .toggleDetailsSec":"toggleDetailsSec","click .retry":"loadLearningObjects"},slideDown:function(){this.isDetailsSecHidden=!0,this.toggleDetailsSec()},toggleDetailsSec:function(){this.isDetailsSecHidden?(this.isDetailsSecHidden=!1,this.$(".courseOutline_detailSec").slideDown(),this.$(".toggleDetailsSec").addClass("Open"),this.learningObjectsLoaded||this.loadLearningObjects()):(this.isDetailsSecHidden=!0,this.$(".courseOutline_detailSec").slideUp(),this.$(".toggleDetailsSec").removeClass("Open"))},loadLearningObjects:function(){var a=this;a.$("ul").empty(),$("<li></li>").html("<img src='"+Game.Settings.loaderPic+"'/>").appendTo(this.$("ul")),AjaxWrapper.loadLearningObjects(this.topicObj.id).then(function(b){b.reportLearningObjects?(a.loadedLearningObjects(b),a.learningObjectsLoaded=!0):a.$("ul").empty().append("<div class='marginT10 marginB10'>Error loading learning objects. <span class='retry cursor color0072bc'>try again</span></div>")},function(b){a.starting=!1,b.responseText=JSON.parse(b.responseText),GameObject.alert(b.responseText.error)})},removeLearningObjects:function(){if(this.learningObjectViews)for(var a=0;a<this.learningObjectViews.length;a++)this.learningObjectViews[a].remove()},loadedLearningObjects:function(a){var b=a.reportLearningObjects;this.removeLearningObjects(),this.$("ul").empty(),this.learningObjectViews=[];for(var c=1,d=["LO_HANGMAN","LO_MCQ_TXT","LO_MCQ_IMG","LO_MIXMATCH","LO_IMGMIXMATCH","LO_MAP","LO_TEXT","LO_TRUEFALSE"],e=0;e<b.length;e++){var f=_.indexOf(d,b[e].type)==-1,g=new Game.EntityOutLineSectionItem(this.entityId,b[e],c,f,this.contentScoring,this.isCourseActive,this.topicObj.unlockStrategy,this.isAssessment);this.learningObjectViews.push(g),this.$("ul").append(g.render()),this.listenTo(g,"open.learningobject",_.bind(this.trigger,this,"open.learningobject")),f||c++}if(a.randomizeIndex>-1&&a.randomizedQuizCount>-1){var h=$('<li class="hover_f9 qnsType lineHeight20 borderB_ee paddingT9 paddingB9 paddingL33 notViewd textalign_C">'+a.randomizedQuizCount+" "+Game.Messages.LB_TXT_RANDOM_QUIZES+"</li>");0==a.randomizeIndex?this.$("ul").prepend(h):h.insertAfter(this.$("ul li:eq("+(a.randomizeIndex-1)+")"))}},remove:function(){this.removeLearningObjects(),Backbone.View.prototype.remove.apply(this)}}),Game.EntityOutLineSectionItem=Backbone.View.extend({constructor:function(a,b,c,d,e,f,g,h){this.entityId=a,this.index=c,this.learningObject=b,this.contentScoring=e,this.isCourseActive=f,this.parentUnlockStratergy=g;var i="NA";if("LO_MCQPOLL"==this.learningObject.type&&(this.learningObject.title=Game.Messages.LB_TXT_QUIZ_MCQ_POLL),"LO_MCQTEXTPOLL"==this.learningObject.type&&(this.learningObject.title=Game.Messages.LB_TXT_QUIZ_MCQ_TEXT_POLL),(this.contentScoring||"LO_MCQPOLL"==this.learningObject.type||"LO_MCQTEXTPOLL"==this.learningObject.type||this.learningObject.score>0)&&(i=(this.learningObject.score>0?this.learningObject.score:"--")+"/"+this.learningObject.maxScore),d)if("LO_EMBED"==b.type){var j=$.trim($("script#tmpl_entity_summary_outline_section_tickle_mission").html()),k=this.learningObject.title.length<30?this.learningObject.title:this.learningObject.title.substring(0,30)+"...";this.el=_.template(j)({title:_.escape(k),pts:("COMPLETED"==this.learningObject.state?this.learningObject.score:"--")+"/"+this.learningObject.maxScore,lockMsg:Game.Messages.LB_TXTX_CANT_STAR})}else{var j=$.trim($("script#tmpl_entity_summary_outline_section_lc").html());this.el=_.template(j)({iconClass:this.getIconClass(),title:_.escape(this.learningObject.title),contentParts:this.getContentParts(),pts:i,lockMsg:Game.Messages.LB_TXTX_CANT_STAR})}else{var j=$.trim($("script#tmpl_entity_summary_outline_section_tickle").html());this.el=_.template(j)({qno:this.index,title:this.getQuizName(),pts:("COMPLETED"==this.learningObject.state||"SKIPPED"==this.learningObject.state?this.learningObject.score:"--")+"/"+this.learningObject.maxScore})}Backbone.View.apply(this),h&&this.$(".contentPartsDiv").remove(),this.updatedStaredState(),this.isDetailsSecHidden=!0,("NOT_STARTED"==this.learningObject.state||"IN_PROGRESS"==this.learningObject.state&&0==this.isCourseActive)&&this.$el.addClass("notViewd"),"LO_MCQPOLL"!=this.learningObject.type&&"LO_MCQTEXTPOLL"!=this.learningObject.type||this.$(".toggleStared").css({visibility:"hidden"}),"LO_EMBED"==this.learningObject.type&&"Failed"==this.learningObject.completionText&&(this.$(".redoEmbedMission").show(),this.$(".failedEmbedMission").show()),"COMPLETED"==this.learningObject.state&&this.$(".unlockedQTickIcon").show(),0!=this.parentUnlockStratergy&&"ALL_OPEN"!=this.parentUnlockStratergy||this.$el.removeClass("notViewd")},getContentParts:function(){var a="--";if(this.learningObject.contentParts)switch(this.learningObject.type){case"VIDEO":case"AUDIO":case"IMG_MASH_UP":a=Utils.Func.getClock(this.learningObject.contentParts).mmssWithoutPrefix+" "+Game.Messages.LB_TXT_MIN;break;case"IMAGE":case"ALBUM":a=this.learningObject.contentParts+" "+Game.Messages.LB_TXT_IMAGES;break;case"DOCUMENT_PDF":case"DOCUMENT_WORD":case"DOCUMENT_PPT":case"DOCUMENT_XLS":case"NOTE":a=this.learningObject.contentParts+" "+Game.Messages.LB_TXT_PAGES}return a},getQuizName:function(){return"LO_HANGMAN"==this.learningObject.type?Game.Messages.LB_TXT_QUIZ_HANGMAN:"LO_MCQ_TXT"==this.learningObject.type?Game.Messages.LB_TXT_QUIZ_MCQ:"LO_MCQPOLL"==this.learningObject.type?Game.Messages.LB_TXT_QUIZ_MCQ_POLL:"LO_MCQTEXTPOLL"==this.learningObject.type?Game.Messages.LB_TXT_QUIZ_MCQ_TEXT_POLL:"LO_MCQ_IMG"==this.learningObject.type?Game.Messages.LB_TXT_QUIZ_MCQ_IMAGES:"LO_MIXMATCH"==this.learningObject.type?Game.Messages.LB_TXT_QUIZ_MIXMATCH:"LO_IMGMIXMATCH"==this.learningObject.type?Game.Messages.LB_TXT_QUIZ_IMAGE_MIXMATCH:"LO_MAP"==this.learningObject.type?Game.Messages.LB_TXT_QUIZ_MAP:"LO_TEXT"==this.learningObject.type?Game.Messages.LB_TXT_QUIZ_TEXT:"LO_TRUEFALSE"==this.learningObject.type?Game.Messages.LB_TXT_QUIZ_TRUE_FALSE:void 0},getIconClass:function(){return"LO_MCQPOLL"==this.learningObject.type?"pollIcon":"LO_MCQTEXTPOLL"==this.learningObject.type?"textPollIcon":"IMAGE"==this.learningObject.type||"ALBUM"==this.learningObject.type?"imageIcon":"VIDEO"==this.learningObject.type?"videoIcon":"DOCUMENT_PDF"==this.learningObject.type?"pdfIcon":"DOCUMENT_WORD"==this.learningObject.type?"docIcon":"DOCUMENT_PPT"==this.learningObject.type?"pptIcon":"DOCUMENT_XLS"==this.learningObject.type?"xlsIcon":"AUDIO"==this.learningObject.type?"audioIcon":"IMG_MASH_UP"==this.learningObject.type?"mashupIcon":"NOTE"==this.learningObject.type?"noteIcon":"embedIcon"},render:function(){return this.delegateEvents(),this.$el},events:{click:"openLearningObjectPreview","click .toggleStared":"toggleStared"},openLearningObjectPreview:function(){"IN_PROGRESS"==this.learningObject.state&&0==this.isCourseActive||this.trigger("open.learningobject",this.learningObject)},hideTip:function(){this.$(".lockedContentMsgTip").hide(0)},toggleStared:function(a){return a.stopImmediatePropagation(),"NOT_STARTED"==this.learningObject.state||"IN_PROGRESS"==this.learningObject.state&&0==this.isCourseActive?(this.$(".lockedContentMsgTip").show(0),void this.listenTo(eventManager,"close.tips",this.hideTip)):(1==this.learningObject.starred?this.learningObject.starred=!1:this.learningObject.starred=!0,this.updatedStaredState(),void this.updateStarredStateToServer(this.learningObject.type))},updateStarredStateToServer:function(a){if(!appSettings.isPreview){var b=this,c="Star a Content File",d="undefined"!=typeof a&&"LO_SYNDICATE"===a?a:"LO_LEARNING_CONTENT";b.learningObject.starred||(c="UnStared a Content File"),Game.MixPanelTracking.track(c,{"File Type":"LO_LEARNING_CONTENT","Content ID":b.learningObject.id,"Content Type":b.learningObject.type});({learningObjectType:"LO_LEARNING_CONTENT",learningObjectId:this.learningObject.id,updatedFieldsAndValues:{starred:b.learningObject.starred}});AjaxWrapper.saveTickle({userData:{type:d},staticData:{id:this.learningObject.id},entityId:this.entityId},{starred:b.learningObject.starred}).then(function(a){b.learningObject.starred=a.userLearningObjectVo.starred,b.updatedStaredState()},function(a){a.responseText=JSON.parse(a.responseText),GameObject.alert(a.responseText.error)})}},updatedStaredState:function(){1==this.learningObject.starred?this.$(".toggleStared").addClass("bookMarked"):this.$(".toggleStared").removeClass("bookMarked")}}),Game.AssessmentSummaryPopUp=Backbone.View.extend({constructor:function(a,b,c,d){this.state=a,this.entity=b,this.entityId=d,this.entity&&(this.entityId=this.entity.id),this.series=c;var e=$.trim($("script#tmpl_assessment_summary").html());this.isReattempted=!1;var f=null;null!=this.entity.lastPublishTime&&this.entity.lastPublishTime>0&&(f=Utils.Func.getNiceDate(this.entity.lastPublishTime));var g="NA";if(!isNaN(this.entity.score)&&!isNaN(this.entity.totalScore)){var g=100*this.entity.score/this.entity.totalScore;(g+"").indexOf(".")>-1&&(g=g.toFixed(1))}this.el=_.template(e)({header:Game.Messages.TXT_ASSESSMENT_DETAILS,answered:Game.Messages.LB_TXT_ANSWERED,completionText:"",score:this.entity.score,totalScore:this.entity.totalScore,percScore:g,outline:Game.Messages.ASSESSMENT_SUMMARY_HEADER,wrong_info_msg:Game.Messages.ASSESSMENT_WRONG_ANSWER_INFO,intructions:Game.Messages.TXT_INSTRUCTIONS,max_score:Game.Messages.LB_TXT_MAX_SCORE,passing_score:Game.Messages.TXT_PASSING_SCORE,wrong_answer:Game.Messages.TXT_WRONG_ANSWER}),Backbone.View.apply(this),appSettings.isPreview||window.AjaxWrapper&&AjaxWrapper.entityId==d||(window.AjaxWrapper=new Game.AARequestManager(this.entityId)),this.wrongAnswerInfoHidden=!0,this.initPage(),this.showPercentOnly(g)},showPercentOnly:function(a){if("644881220230633662"==cname&&!this.entity.hideScoreAndCertificate){var b=$('<span class="color99 F22"></span>');if(b.html(a+"%"),this.$(".xofyScoreDiv").html(b),null!=this.entity.passingScore&&this.entity.passingScore.value>0){var c=$('<span class="color99 F14"></span>');c.html("&nbsp;(Passing score : "+this.entity.passingScore.value+"%)"),this.$(".xofyScoreDiv").append(c)}}},initPage:function(){var a=this;if(this.entity){var b=[];if(mtBrodCastService.saveEntryState(),Game.MixPanelTracking.trackEmailClicked(a.entity),this.entity.dueDateText=Utils.Func.getDueDateText(this.entity.dueDateObj),this.$(".actCourseName").text(this.entity.name),this.$(".courseDesc").html(this.entity.desc),this.$(".courseThumbImg").attr("src",this.entity.thumb.url_180_120),this.$(".entitySummary_dueDate").text(this.entity.dueDateText),this.$(".entitySummary_completedOn").text(Game.Messages.LB_TXT_COMPLETED_ON+" "+Utils.Func.getNiceDate(this.entity.completedOn)),this.$(".courseCompletionPerc").text(this.entity.totalSubmittedLearningObjects+"/"+this.entity.totalLearningObjects),this.$(".courseCompletionPercWid").css({width:this.entity.totalSubmittedLearningObjects/this.entity.totalLearningObjects*100+"%"}),this.$(".totalScore").text(this.entity.totalScore),this.entity.wrongAttempPanelty<1&&this.$(".wrongAttempPanelty").parent().parent().hide(),this.$(".wrongAttempPanelty").text("-"+this.entity.wrongAttempPanelty+"%"),this.entity.hideScoreAndCertificate?(this.$(".passingScore").parent().remove(),this.$(".completedSection>div:eq(0)").remove(),this.$(".cert_validity_time").parent().remove()):null!=this.entity.passingScore&&this.$(".passingScore").text(this.entity.passingScore.value*this.entity.totalScore/100+" ("+this.entity.passingScore.value+"%)"),this.entity.timeLimit>0&&(this.timeRemaining=0!=this.entity.endTimeStamp?this.entity.endTimeStamp-NTP.fixTime()/1e3:this.entity.timeLimit,this.timeRemaining<0&&"ACTIVE"==this.entity.state&&(this.entity.state="TIMEDOUT")),this.entity.timeLimit<1)this.$(".limitedCompletionTimeDiv").hide(),this.$(".timeLimitInstructions").hide();else{var a=this,c=Utils.Func.getClock(a.timeRemaining);this.$("li.ASSESSEMENT_INS1").html(_.template(Game.Messages.ASSESSEMENT_INS1)({n:this.entity.timeLimit/60+":00"})),this.$("li.ASSESSEMENT_INS2").html(Game.Messages.ASSESSEMENT_INS2),this.$("li.ASSESSEMENT_INS3").html(Game.Messages.ASSESSEMENT_INS3),this.$("li.ASSESSEMENT_INS4").html(Game.Messages.ASSESSEMENT_INS4),"ADDED"==this.entity.state?this.$(".limitedCompletionTimeDiv .timercolor").text(_.template(Game.Messages.LB_TXT_TIME_LIMIT)({n:this.entity.timeLimit/60+":00"})):"COMPLETED"===this.entity.state?(c=Utils.Func.getClock(this.entity.endTimeStamp-this.entity.completedOn),this.$(".limitedCompletionTimeDiv .timercolor").text(_.template(Game.Messages.LB_TXT_TIME_LIMIT)({n:c.mmss.replace("m","")}))):a.timeRemaining<=0||"TIMEDOUT"===this.entity.state?(a.$(".limitedCompletionTimeDiv .timercolor").text(Game.Messages.LB_TXT_TIMEUP),a.$(".limitedCompletionTimeDiv .timercolor").addClass("critical")):"ADDED"==this.entity.state?this.$(".limitedCompletionTimeDiv .timercolor").text(_.template(Game.Messages.LB_TXT_TIME_LIMIT)({n:this.entity.timeLimit/60+":00"})):a.timeRemaining>0&&"ADDED"!==this.entity.state&&"COMPLETED"!==this.entity.state&&(this.$(".limitedCompletionTimeDiv .timercolor").text(_.template(Game.Messages.LB_TXT_TIMEREMAINING)({n:c.mmss.replace("m","")})),this.timer=setInterval(function(){a.setClock(a)},1e3),$(document).bind("cancelTimerTraining",function(){clearInterval(a.timer)}))}if("SUBMITTED"!=this.entity.state&&"SUBMITTED_ON_TIMEOUT"!=this.entity.state||this.$(".scoreNotGeneratedYet").show(),"ADDED"==this.entity.state||this.entity.isCertificateExpired)this.entity.dueDateObj&&this.entity.dueDateObj.dueOn>0&&this.$(".entitySummary_dueDate").show(),this.$(".notStartedSection").show(),this.entity.isCertificateExpired?b.push(Game.EntitySummaryPopUp.getBlueBtn(Game.Messages.ASSESSMENT_TXT_RECERTIFY,"reCertifyEntity")):this.isAssessmentActive()&&b.push(Game.EntitySummaryPopUp.getBlueBtn(Game.Messages.MSG_START_ASSESSMENT,"startEntity"));else if("ACTIVE"==this.entity.state)this.entity.dueDateObj&&this.entity.dueDateObj.dueOn>0&&this.$(".entitySummary_dueDate").show(),this.$(".startedSection").show(),this.isAssessmentActive()&&b.push(Game.EntitySummaryPopUp.getBlueBtn(Game.Messages.MSG_PROG_ASSESSMENT,"resumeEntity"));else if("COMPLETED"==this.entity.state||"TIMEDOUT"==this.entity.state){if(this.entity.completedOn>0&&this.$(".entitySummary_completedOn").show(),this.$(".completedSection").show(),"NEVER"!=this.entity.revealAnswerLevel&&(b.push(Game.EntitySummaryPopUp.getBlueBtn(Game.Messages.MSG_REVIEW_ASSESSMENT,"reviewEntity")),this.loadLearnerReportCard(),this.$(".detailedOutline").show(),this.courseOverview&&this.loadCourseOverview(),this.$(".courseOverview").remove()),"FAIL"==this.entity.completionState?(this.entity.completionCertificateEnabled?this.$(".certBtn").addClass("Fail_withCert").removeClass("cursor"):this.$(".certBtn").addClass("Fail").removeClass("cursor"),this.$(".certBtn .certText").text(Game.Messages.FAIL)):"PASS"==this.entity.completionState&&(this.entity.completionCertificateEnabled?this.$(".certBtn").addClass("Pass_withCert  downloadCertificate cursor"):this.$(".certBtn").addClass("Pass  downloadCertificate").removeClass("cursor"),this.$(".certBtn .certText").text(Game.Messages.PASS),this.entity.certificateExpiringOn&&this.entity.certificateExpiringOn>100?this.$(".cert_validity_time").text(_.template(Game.Messages.ASSESSMENT_TXT_CERTIFICATE_EXP_ON)({dt:Utils.Func.getNiceDate(this.entity.certificateExpiringOn)})):this.$(".cert_validity_time").remove()),this.$(".XofYAnswered").text(_.template(Game.Messages.ANSWERED_X_OF_Y)({x:this.entity.totalSubmittedLearningObjects,y:this.entity.totalLearningObjects})),this.entity.timeLimit>0){var d=Utils.Func.getClock(this.entity.timeLimit);if(this.entity.completedOn>0){var e=Math.min(this.entity.completedOn-this.entity.startedOn,this.entity.timeLimit);d=Utils.Func.getClock(e)}this.$(".timeTaken").text(_.template(Game.Messages.ASSESSMENT_TIME_TAKEN)({t:d.mmss}))}else this.$(".timeTaken").hide();this.$(".infoDivForNonCompleted").hide(),this.$(".timeLimitInstructions").hide(),this.$(".limitedCompletionTimeDiv").hide()}Math.round(NTP.fixTime()/1e3);if("FAIL"==this.entity.completionState&&("COMPLETED"==this.entity.state||"TIMEDOUT"==this.entity.state)&&this.entity.canReattempt&&this.isAssessmentActive()){var f=Game.Messages.MSG_REPLAY_BTN;9999!=this.entity.numberOfAllowedReattempts&&(f+=" ("+Utils.Func.getRemainingReAttempsForLearner(this.entity.numberOfAllowedReattempts,this.entity.originalReattemptVersion,this.entity.graceReattempts)+")"),b.push(Game.EntitySummaryPopUp.getGrayBtn(f,"reAttemptEntity"))}"PASS"==this.entity.completionState&&this.entity.recertify&&(this.entity.isCertificateExpired||b.push(Game.EntitySummaryPopUp.getGrayBtn(Game.Messages.ASSESSMENT_TXT_RECERTIFY,"reCertifyEntity"))),appSettings.isPreview||b.push(Utils.Func.getExitToSeriesButton()),this.$(".btnSection").append(b),Utils.Func.isDueTodayOrTomorrow(this.entity.state,this.entity.dueDateObj)&&$(".entitySummary_dueDate",this.el).parent().addClass("cmplt2day"),this.popViewId=Game.FullScreenPopupManager.open(this.$el),this.delegateEvents()}},isAssessmentActive:function(){var a=NTP.fixTime()/1e3;return!(this.entity.dueDateObj&&this.entity.dueDateObj.dueOn>0&&"NONE"!=this.entity.dueDateObj.dueDateExpiryAction&&a>this.entity.dueDateObj.dueOn)},setClock:function(a){a.timeRemaining-=1,a.timeRemaining>0?(clock=Utils.Func.getClock(a.timeRemaining),a.$(".limitedCompletionTimeDiv .timercolor").text(_.template(Game.Messages.LB_TXT_TIMEREMAINING)({n:clock.mmss.replace("m","")}))):(a.$(".limitedCompletionTimeDiv .timercolor").text(Game.Messages.LB_TXT_TIMEUP),clearInterval(a.timer),window.location.reload(!0))},events:{"click .startEntity":"addLearnerToAssessment","click .reviewEntity":"reviewEntity","click .resumeEntity":"resumeEntityActual","click .downloadCertificate":"downloadCertificate","click .reAttemptEntity":"reAttemptEntity","click .reCertifyEntity":"reCertifyEntity","click .closeMe":"gotoParent","click .exitToSeries":"gotoSeries","click .toggleWrongAnswerInfo":"showWrongAnswerInfo"},showWrongAnswerInfo:function(a){a.stopPropagation(),this.wrongAnswerInfoHidden?(eventManager.triggerCloseTips(),this.$(".wrongAnswerInfoDiv").show(),this.wrongAnswerInfoHidden=!1,this.listenTo(eventManager,Game.CONST.CLOSE_TIPS,this.hideWrongAnswerInfo)):eventManager.triggerCloseTips()},hideWrongAnswerInfo:function(){this.$(".wrongAnswerInfoDiv").hide(),this.wrongAnswerInfoHidden=!0},gotoSeries:function(){if(this.forceClose=!0,this.entity.seriesID){var a="root.courses";"undefined"!=typeof companySettings&&"DASHBOARD"==companySettings.lsSettings.lsView&&(a="root.courses.series");var b={series:this.series?this.series:this.entity.seriesID};mtBrodCastService.gotoState(a,b)}else this.gotoParent()},gotoParent:function(){this.forceClose=!0;var a=window.courseInfo||null;if(mtBrodCastService.hasWorkflowEntryPoint())return void mtBrodCastService.gotoPreviousState();if(a&&a.entityLearner&&"_default"!=a.entityLearner.invited_from[a.entityLearner.invited_from.length-1]){var b=null,c=null;this.state&&(this.entity||this.entityId)&&"course"==this.state.current.name.split(".")[0]?(b="course",c={entityId:this.entity.id||this.entityId,series:a.entityLearner.invited_from[a.entityLearner.invited_from.length-1]}):(b="root.courses",c={series:a.entityLearner.invited_from[a.entityLearner.invited_from.length-1]}),mtBrodCastService.gotoState(b,c)}else mtBrodCastService.gotoState("root.courses");eventManager.trigger("cancelTimerInfo")},addLearnerToAssessment:function(){var a=this;return"undefined"!=typeof appSettings&&appSettings.isPreview?void a.resumeEntity():void(a.adding||(a.adding=!0,AjaxWrapper.addEntityToLearner(this.entity.version,this.series).then(function(b){a.adding=!1,b.failed.length>0?GameObject.alert("Failed to add learner to entity"):b.exists.length>0?"ADDED"==b.exists[0].state.current?a.startEntity():"ACTIVE"==b.exists[0].state.current?a.resumeEntity():"DEACTIVATED"==b.exists[0].state.current&&GameObject.alert("You have been removed from this "+a.entity.type):b.success.length>0?a.startEntity():GameObject.alert("Oops something went wrong. Please try again!")},function(b){a.adding=!1,b.responseText=JSON.parse(b.responseText),GameObject.alert(b.responseText.error),window.location.hash="/courses"})))},startEntity:function(){var a=this;a.starting||(a.starting=!0,$.ajax({type:"POST",url:"/entity/"+this.entity.id+"/start",success:function(b){a.starting=!1,Game.MixPanelTracking.track("View content",{"Visit Type":"Start","Content Type":a.entity.type,"Content Name":a.entity.name,"Content ID":a.entity.id,SeriesId:a.state.params.series}),a.resumeEntity()},error:function(b){a.starting=!1,b.responseText=JSON.parse(b.responseText),GameObject.alert(b.responseText.error),Game.MixPanelTracking.track("Learning Site Errors",{contentId:a.entity.id,contentName:a.entity.name,contentType:a.entity.type,seriesId:a.entity.seriesID,seriesName:a.entity.seriesName,requestId:b.getResponseHeader("Request-Id"),errorCode:b.status,errorMessage:b.statusText,errorType:"Unable to start entity",location:a.state.current.name})}}))},reviewEntity:function(){this.reviewEntityOri()},reviewEntityOri:function(){var a=this;Game.MixPanelTracking.track("View content",{"Visit Type":"Review","Content Type":a.entity.type,"Content Name":a.entity.name,"Content ID":a.entity.id,SeriesId:a.state.params.series}),this.resumeEntity()},resumeEntityActual:function(){var a=this;Game.MixPanelTracking.track("View content",{"Visit Type":"Resume","Content Type":a.entity.type,"Content Name":a.entity.name,"Content ID":a.entity.id,SeriesId:a.state.params.series}),this.resumeEntity()},resumeEntity:function(a){eventManager.trigger("cancelTimerInfo"),mtBrodCastService.brodCast("CLEAR_TIMEOUT_TIMER_"+this.entity.id),this.state.go("assessment",{entityId:this.entity.id,entity:this.entity.type,series:this.series,loid:a?a.id:void 0},{reload:this.isReattempted})},remove:function(){Game.FullScreenPopupManager.close(this.popViewId),this.removeOutlines(),this.timer&&clearInterval(this.timer),Backbone.View.prototype.remove.apply(this),appSettings.isPreview&&this.forceClose&&(this.forceClose=void 0,delePreview())},removeOutlines:function(){if(this.outLineSectionViews)for(var a=0;a<this.outLineSectionViews.length;a++)this.outLineSectionViews[a].remove()},loadLearnerReportCard:function(){$("<div></div>").html("<img src='"+Game.Settings.loaderPic+"'/>").appendTo(this.$(".outLineSections"));var a=this;AjaxWrapper.loadReportCard().then(function(b){b.reportSummary?a.loadedLearnerReportCard(b.reportSummary):GameObject.alert(Game.Messages.LB_TXT_ERROR_LOADING_OUTILINE)},function(a){a.responseText=JSON.parse(a.responseText),GameObject.alert(a.responseText.error)})},loadedLearnerReportCard:function(a){this.removeOutlines(),this.outLineSectionViews=[],this.$(".outLineSections").empty();for(var b=0;b<a.levels.length;b++){for(var c=a.levels[b],d=0;d<c.topics.length;d++){var e=new Game.EntityOutLineSection(this.entityId,c.topics[d],a.contentScoring,(!1),(!0));this.outLineSectionViews.push(e),this.$(".outLineSections").append(e.render()),this.listenTo(e,"open.learningobject",this.resumeEntity)}this.outLineSectionViews.length>0&&this.outLineSectionViews[0].slideDown()}},reCertifyEntity:function(){this.reAttemptEntityServer("Recertify Content",!0)},reAttemptEntityServer:function(a,b){var c=this;$.ajax({type:"POST",url:"/entity/"+c.entity.id+"/reattempt",contentType:"application/json",data:JSON.stringify({time:(new Date).getTime()/1e3,isRecertify:b}),success:function(b){b.reattemped?(c.isReattempted=!0,learnerJson.company_score-=c.entity.score,mtBrodCastService.brodCast("UPDATED_PROFILE",{learnerJson:learnerJson}),localStorage&&!localStorage.getItem(kScoreUpdatedKey)&&localStorage.setItem("initial_comapny_score",learnerJson.company_score),c.resumeEntity(),Game.MixPanelTracking.track(a,{"Content Type":c.entity.type,"Content Name":c.entity.name,"Content ID":c.entity.id})):Utils.Func.alert(Game.Messages.UNABLE_TO_REATTEMPT)},error:function(a){Utils.Func.alert(Game.Messages.UNABLE_TO_REATTEMPT)}})},reAttemptEntity:function(){var a=Utils.Func.getRemainingReAttempsForLearner(this.entity.numberOfAllowedReattempts,this.entity.originalReattemptVersion,this.entity.graceReattempts);
if(9999!=this.entity.numberOfAllowedReattempts&&0==a)return void Utils.Func.alert(Game.Messages.LB_TXT_ZEROREATTEMPTS);var b=this;Utils.Func.confirmWithNoAction(_.template(Game.Messages.TXT_REATTEMPT_CONFIRM)({type:Utils.Func.getEntityTypeObjByNum(5).name}),function(){this.timer&&clearInterval(b.timer),b.reAttemptEntityServer("Restart Content")},function(){})},downloadCertificate:function(){this.entity.completionCertificateEnabled&&Utils.Func.downloadCertificate(this.entity.id,this.entity.certificateUrl,this.entity.name,this.entity.type)}}),Game.CoachingSummaryPopUp=Backbone.View.extend({constructor:function(a,b,c,d){this.state=a,this.entity=b,this.$modal=d,this.entity&&(this.entityId=this.entity.id),this.series=c,mtBrodCastService.saveEntryState();var e=$.trim($("script#tmpl_coaching_summary").html());this.isReattempted=!1;var f=null;null!=this.entity.lastPublishTime&&this.entity.lastPublishTime>0&&(f=Utils.Func.getNiceDate(this.entity.lastPublishTime)),this.el=_.template(e)({header:Game.Messages.LB_TXT_COURSE_DETAILS}),Backbone.View.apply(this),this.render()},events:{"click .closeMe":"gotoParent"},gotoParent:function(){this.forceClose=!0;var a=window.courseInfo||null;if(mtBrodCastService.hasWorkflowEntryPoint())return void mtBrodCastService.gotoPreviousState();if(a&&a.entityLearner&&"_default"!=a.entityLearner.invited_from[a.entityLearner.invited_from.length-1]){var b=null,c=null;this.state&&(this.entity||this.entityId)&&"course"==this.state.current.name.split(".")[0]?(b="course",c={entityId:this.entity.id||this.entityId,series:a.entityLearner.invited_from[a.entityLearner.invited_from.length-1]}):(b="root.courses",c={series:a.entityLearner.invited_from[a.entityLearner.invited_from.length-1]}),mtBrodCastService.gotoState(b,c)}else mtBrodCastService.gotoState("root.courses");eventManager.trigger("cancelTimerInfo")},render:function(){var a=this;this.popViewId=Game.FullScreenPopupManager.open(this.$el);var b=this.$modal.open({templateUrl:templateBaseUrl+"/coaching/view_coaching.html",controller:"ViewCoachingCtrl",backdrop:"static",keyboard:!1,resolve:{entityInfo:function(){return a.entity}}});b.result.then(function(b){a.gotoParent()}),this.delegateEvents(),Game.MixPanelTracking.track("View content",{"Visit Type":"Review","Content Type":a.entity.type,"Content Name":a.entity.name,"Content ID":a.entity.id,SeriesId:a.state.params.series})},remove:function(){Game.FullScreenPopupManager.close(this.popViewId),Backbone.View.prototype.remove.apply(this)}});var Game=Game||{};Game.PreviewContentPopUp=Backbone.View.extend({constructor:function(a,b,c){this.data=b,this.state=a;var d={isFacto:!1};c=c||{},this.options=$.extend(d,c),this.options.navigation=!1,this.options.isPreview=!0,this.$previousState=c.$previousState;var e=$.trim($("script#tmpl_preview_content").html());this.el=_.template(e)({}),Backbone.View.apply(this),"undefined"==typeof courseInfo||this.data.userData||(this.data.userData=b.userData={gamificationEntityId:courseInfo.fixed.id}),window.courseInfo&&window.courseInfo.fixed&&window.courseInfo.fixed.id==b.userData.gamificationEntityId||(window.courseInfo={settings:this.data.settings,fixed:this.data.fixed}),this.data&&this.data.staticData&&this.data.staticData.mediaLoPreference&&this.data.staticData.media&&(this.data.staticData.media.mediaLoPreference=this.data.staticData.mediaLoPreference),courseInfo.entityLearner||(courseInfo.entityLearner={added_on:Math.round((new Date).getTime()/1e3)}),window.courseInfo.fixed.dueDateObj=Utils.Func.computeDueDateObj(courseInfo.fixed.dueDate,courseInfo.entityLearner.added_on),this.options.isFacto?(this.contentView=new Game.MediaRenderView(this.$(".fsarea"),this.data,{}),this.listenTo(this.contentView,"media.expired",this.mediaExpired)):(window.loadedForReportCardView=!0,window.AjaxWrapper=new Game.AARequestManager(this.data.userData.gamificationEntityId),this.module=Game.Tickle.createTickle(null,this.data,this.data.userData.gamificationEntityId),this.module instanceof Game.WebModuleTickle?(this.contentView=new Game.WebModuleView(this.module,this.$(".fsarea"),this.options),this.$(".headerTxt").text(this.data.staticData.media.title)):this.contentView=new Game.TickleView(this.module,this.$(".fsarea"),this.options))},mediaExpired:function(){Utils.Func.alert("Media expired, please refresh!")},render:function(){this.options.isFacto&&this.$(".bookmarkMe").hide(),this.popViewId=Game.FullScreenPopupManager.open(this.$el),this.delegateEvents(),this.contentView.render()},closeMe:function(){this.options.isFacto||this.module.save(),Game.FullScreenPopupManager.close(this.popViewId),this.contentView.player&&this.contentView.player.exit(),this.contentView.remove(),this.remove(),this.$previousState&&this.$previousState.get()?this.$previousState.go():this.options.viewOnly||this.state.go("^",null,{reload:!0})},closeMeKeyPress:function(a){32==a.keyCode&&this.closeMe()},events:{"click .closeMe":"closeMe","keypress .closeMe":"closeMeKeyPress"}});var Game=Game||{};Game.SelectEntityPopUP=Backbone.View.extend({constructor:function(a){this.state=a;var b=$.trim($("script#tmpl_qna_select_entity").html());this.el=_.template(b)({header:Game.Messages.LB_TXT_SELECT_COURSE,sat:Game.Messages.SELECT_A_TRAINING,select:Game.Messages.DD_SELECT_TEXT,cancel:Game.Messages.HM_MSG_CANCEL,done:Game.Messages.BTN_DONE_TEXT}),Backbone.View.apply(this)},loadCoursesInfo:function(){var a=this;return this.loadedCourseInfo?void this.makeEntitiesDD():void $.ajax({type:"GET",url:"/courses",success:function(b){a.loadedCourseInfo=b.courses,a.makeEntitiesDD()},error:function(a){a.responseText=JSON.parse(a.responseText),GameObject.alert(a.responseText.error)}})},makeEntitiesDD:function(){if(this.entitiesDDItems=[],this.loadedCourseInfo&&!$.isEmptyObject(this.loadedCourseInfo)){for(var a in this.loadedCourseInfo)this.entitiesDDItems.push({val:a,text:this.loadedCourseInfo[a].name,type:0});this.entitiesDD=new Game.DropdownView(this.$("dl.entitiesDD"),this.entitiesDDItems),this.listenTo(this.entitiesDD,"item.clicked",this.changeSelectedEntity),this.selectedEntitiy=!1,this.$("dl.entitiesDD dt a").text(Game.Messages.DD_SELECT_TEXT),this.popViewId=Game.FullScreenPopupManager.open(this.$el),this.delegateEvents()}else GameObject.alert(Game.Messages.LB_TXT_NO_COURSES_FOR_DISCUSSION)},changeSelectedEntity:function(a){this.selectedEntitiy=a.val},closeMe:function(){Game.FullScreenPopupManager.close(this.popViewId)},render:function(){this.loadCoursesInfo()},events:{"click .closeMe":"closeMe","click .openDiscussions":"openDiscussions"},openDiscussions:function(){this.selectedEntitiy?(this.closeMe(),this.state.go("root.discussions.questions",{geid:this.selectedEntitiy,type:"all"})):GameObject.alert(Game.Messages.SELECT_TRAINING_TO_VIEW)}});var Game=Game||{};Game.config=Game.config||{reportCardView:!0},Game.BaseGameModel=Backbone.Model.extend({constructor:function(a){this.entityId=a,Backbone.Model.apply(this)},initializeWithConf:function(a){var b=this;Game.config=a,Game.Settings.loaderPic=Utils.Func.repairUrl(Game.Settings.loaderPic),$(window).bind("beforeunload",function(){b.isPageReload=!0,eventManager.trigger(Game.CONST.RELOAD_TICKLE_WINDOW,"reload")}),this.isSessionValid=!0,this.isPageReload=!1,this.on("game.loaded",this.initVariables),this.gameView=new Game.GameView(this),AjaxWrapper.loadLandingPage(this.entityId,function(a){b.trigger("game.loaded",a)}),this.currLoading=0},setDefaultProperty:function(a,b,c){(_.isUndefined(a[b])||_.isNull(a[b]))&&(a[b]=c)},populateDefaultSettings:function(a){this.setDefaultProperty(a.fixed,"isSupport",!0),this.setDefaultProperty(a.fixed,"isParticipants",!0),this.setDefaultProperty(a.fixed,"isNotifications",!0),this.setDefaultProperty(a.fixed,"isMessage",!0),this.setDefaultProperty(a.fixed,"isNewsfeeds",!0),this.setDefaultProperty(a.fixed,"isHallofFame",!0),null!=a.fixed.showNewsFeeds&&(a.fixed.isNewsfeeds=a.fixed.showNewsFeeds),null!=a.fixed.showParticipants&&(a.fixed.isParticipants=a.fixed.showParticipants),3==a.fixed.mtentityType&&(a.fixed.isNewsfeeds=!1)},initVariables:function(a){this.initObj=a,this.game_version=a.game_version,window.courseInfo={fixed:a.gameInfo,settings:a.settings,user:a.GEState,gData:a.gData,entityLearner:a.entityLearner,nextModuleInfo:a.nextModuleInfo},a.seriesVo&&(window.courseInfo.seriesVo=a.seriesVo),this.populateDefaultSettings(courseInfo),mtBrodCastService.brodCast("COURSE_INFO",{courseInfo:courseInfo}),2==courseInfo.fixed.mtentityType?$(".tagClass").addClass("cBG_L").text("C"):3==courseInfo.fixed.mtentityType&&$(".tagClass").addClass("qBG_L").text("Q"),this.groupInfo=a.groupInfo,this.newsFeedServer=a.newsFeedServer,this.newsFeedChannel=a.newsFeedChannel,this.training=new Game.Training(this),this.training.setInfo(a.gameInfo,a.settings),this.training.setUserCourseState(a.GEState),this.training.set("startTime",a.starttime),this.training.set("endTime",courseInfo.fixed.remainingTimeInSeconds),this.training.set("mapConfig",a.map_config),this.training.set("qnaServer",a.qnaServer),this.training.setGroups(a.groupInfo),this.training.setRounds(a.levels,a.map_config,a.topics,a.topicStates,a.loTypes),this.training.scoreBar=new Game.ScoreBar(this.training),this.trigger("game.initalized"),a.entityLearner&&a.entityLearner.version&&$.ajaxSetup({data:{loadedEntityVersion:a.entityLearner.version}}),jQuery.ajaxPrefilter(function(a,b,c){c.error(function(){try{c.status>=300&&Utils.Func.trackError({status:c.status,url:a.url,headers:c.getResponseHeader,data:c.responseText}),Utils.Func.handleErrorResponse(403,c.responseText,c.url)}catch(b){}})})}},{exitGameWithWarnBeforeTimeExit:function(){var a=0;if(courseInfo.settings.timeLimit>0)var a=0!=courseInfo.user.timeoutTime?courseInfo.user.timeoutTime-NTP.fixTime()/1e3:courseInfo.settings.timeLimit;courseInfo.settings.timeLimit&&courseInfo.settings.timeLimit>0&&a>0&&"COMPLETED"!==courseInfo.user.status&&"TIMEDOUT"!==courseInfo.user.status?Utils.Func.confirm(Game.Messages.LB_TXT_EXIT_BEFORE_TIME_WARNING,function(){Game.BaseGameModel.exitGame(),$(document).trigger("cancelTimerInfo"),$(document).trigger("cancelTimerTraining")},Game.Messages.BTN_EXIT,Game.Messages.CANCEL):Game.BaseGameModel.exitGame()},exitGame:function(){var a=courseInfo.entityLearner.invited_from[courseInfo.entityLearner.invited_from.length-1];"undefined"!=typeof loadedFromParent&&_.indexOf(courseInfo.entityLearner.invited_from,loadedFromParent)!=-1&&(a=loadedFromParent),mtBrodCastService.brodCast("destroy.lb",{}),setTimeout(function(){mtBrodCastService.gotoState("root.courses",{series:a})},800)},EVENT_BASED:"event_based",USER_BASED:"user_based",defaultConf:{launchTraining:!0,profileView:!0,headerBtnsVisible:!0,scoreBar:!0,mapView:!0,leaderBoard:!0,newsFeeds:!0,reportCardView:!1,cacheTickles:!0}}),Game.GameView=Backbone.View.extend({constructor:function(a){window.eventManager||(window.eventManager=new Game.EventManager),this.el=$("body .container-fluid"),this.container=$(".Container>div:eq(0)",this.el),this.gameModel=a,this.viewHistory=[],Backbone.View.apply(this),eventManager.off("open.learningobject"),this.listenToOnce(eventManager,"open.learningobject",this.openTickleById)},initialize:function(){this.listenTo(this.gameModel,"game.initalized",this.renderView),this.listenTo(eventManager,"show.mapview",this.drawLevels)},events:{"click .getSupport":"showGetSupport"},goback:function(){this.viewHistory.pop();var a=Game.GameView.VIEW_MAP;switch(this.viewHistory.length>0&&(a=this.viewHistory[this.viewHistory.length-1]),a){case Game.GameView.VIEW_MAP:this.drawLevels(),this.viewHistory.pop();break;case Game.GameView.VIEW_TICKLE:}},showGetSupport:function(a){return a.stopPropagation(),Utils.Func.isiPad&&!this.isSupportActive?(eventManager.triggerCloseTips(),this.isSupportActive=!0,this.suppBtn.addClass("active"),void this.listenTo(eventManager,Game.CONST.CLOSE_TIPS,this.deactivateGetSupport)):(this.getHelpPopup||(this.getHelpPopup=new Game.GetHelp(this.gameModel.memberObj.get("email"))),this.deactivateGetSupport(),this.getHelpPopup.render(),void eventManager.triggerCloseTips())},deactivateGetSupport:function(){if(Utils.Func.isiPad&&this.isSupportActive)return this.isSupportActive=!1,this.suppBtn.removeClass("active"),void this.stopListening(eventManager,Game.CONST.CLOSE_TIPS,this.deactivateGetSupport)},renderView:function(){if(this.training=this.gameModel.training,courseInfo.totalEmbeds=0,this.gameModel.initObj&&this.gameModel.initObj.loTypes)for(var a in this.gameModel.initObj.loTypes)if("LO_EMBED"==this.gameModel.initObj.loTypes[a].type&&"LOEMBEDURL"==this.gameModel.initObj.loTypes[a].subtype){courseInfo.totalEmbeds+=1;break}if(Game.config.quick_update!==!0)return void this.drawLevels();appSettings.isPreview&&$(".getSupport1").remove();var b=this.gameModel.initObj.topic.id;this.gameModel.initObj.topic.name=this.gameModel.initObj.gameInfo.name,this.gameModel.training.rounds=new Game.Rounds([]);var c=new Game.RoundModel(this.gameModel.training,{id:1},{});this.gameModel.training.rounds.add(c);for(var d=this.gameModel.initObj.loTypes,e=this.gameModel.initObj.topic,f=0;f<e.children.length;f++)d[e.children[f].id]&&$.extend(e.children[f],d[e.children[f].id]);var g=new Game.Stop(this.gameModel.initObj.topic,this.gameModel.initObj.topicStates[b],0,c);c.addStop(g),this.stopView=new Game.StopView(this.container,g,{},0,1);var h=null,i=Game.MixPanelTracking.getQueryParams(location.hash.substr(location.hash.indexOf("?")+1));i.loid&&(h=i.loid),this.stopView.openTopic(h),eventManager.trigger("render.ScoreBar",$(".tickleScoreBar"),Game.ScoreBar.NO_BG)},drawLevels:function(){this.mapView||(this.mapView=new Game.MapView(this.container,this.training)),Game.config.mapView===!0&&(this.mapView.render(),this.viewHistory.push(Game.GameView.VIEW_MAP)),window.initTickleRender&&(this.openTickleById(window.initTickleRender.lo),delete window.initTickleRender)},openTickleById:function(a){for(var b=0;b<this.mapView.stopView.length;b++)for(var c=0;c<this.mapView.stopView[b].length;c++)if(this.mapView.stopView[b][c].model.hasTickle(a))return this.mapView.showMap(b),this.mapView.stopView[b][c].openTickle(a),void delete window.initTickleRender},undelegateEvents:function(){this.ipadHeader&&this.ipadHeader.undelegateEvents(),this.currTickleView&&this.currTickleView.remove(),this.getHelpPopup&&this.getHelpPopup.remove(),this.stopView&&this.stopView.remove(),this.mapView&&this.mapView.remove(),Backbone.View.prototype.undelegateEvents.apply(this)}},{VIEW_MAP:1,VIEW_TICKLE:2,VIEW_QNA:3,VIEW_INVITE:4,VIEW_PARTICIPANTS:5,VIEW_FULL_PROFILE:6,getImageSrc:function(a){return"undefined"!=typeof a&&null!==a&&""!==a||(a=Utils.Func.repairUrl(Game.Settings.defaultPic)),Utils.Func.repairUrl(a)},currPlayer:null,currVolume:-1,getVolume:function(){return Game.GameView.currVolume==-1&&(Game.GameView.currVolume=Utils.Func.readCookie(Game.Settings.volumeCookieName),Game.GameView.currVolume=parseInt(Game.GameView.currVolume),_.isNaN(Game.GameView.currVolume)&&(Game.GameView.currVolume=100)),Game.GameView.currVolume},setVolume:function(a){Game.GameView.currVolume=a,Utils.Func.saveCookie(Game.Settings.volumeCookieName,a,90)},toggleMute:function(){return 0==Game.GameView.getVolume()?Game.GameView.setVolume(100):Game.GameView.setVolume(0),Game.GameView.currVolume},playSound:function(a){var b=[Game.CONST.SOUND_CORRECT_OPTION,Game.CONST.SOUND_WRONG_OPTION,Game.CONST.SOUND_ATTEMPT_OVER,Game.CONST.SOUND_TICKLE_COMPLETE,Game.CONST.SOUNT_HINT_LL,Game.CONST.SOUNT_MEDAL];if(!(a<0||a>=b.length)&&0!=Game.GameView.getVolume())if(null===Game.GameView.currPlayer){for(var c=[],d=0;d<b.length;d++)c.push({file:b[d],title:"title"});var e={playlist:c,autostart:!1};Game.MTVideoPlayer.isOldJWPlayer?(e.flashplayer=assetsBase+"/libs/jwplayer6.12.flash.swf",e.html5player=assetsBase+"/libs/jwplayer6.12.html5.js",e.primary="flash"):e.primary="html5",Game.GameView.currPlayer=jwplayer("sound-element").setup(e),Game.GameView.currPlayer.on("complete",function(){Game.GameView.currPlayer.stop()}),Game.GameView.currPlayer.on("ready",function(){Game.GameView.currPlayer.playlistItem(a)})}else Game.GameView.currPlayer.playlistItem(a)}}),Game.GameModel=Game.BaseGameModel.extend({initialize:function(){window.AjaxWrapper=new Game.AARequestManager(this.entityId);var a={};this.initializeWithConf($.extend({},Game.BaseGameModel.defaultConf,a)),window.initGame=function(){},this.on("game.initalized",this.postInit)},postInit:function(){window.AjaxWrapper.setCourseId(this.training.courseState.get("playableObjectId"))}}),Game.PreviewGameModel=Game.BaseGameModel.extend({constructor:function(){"undefined"!=typeof previewObject&&(this.selfserveTrainingModel=previewObject.training,previewObject.level&&previewObject.topic&&(window.initTickleRender=previewObject),Game.BaseGameModel.call(this,this.selfserveTrainingModel.id))},initialize:function(){window.AjaxWrapper=new Game.SSRequestManager(this.selfserveTrainingModel,this);var a={launchTraining:!1,headerBtnsVisible:!1,leaderBoard:!1,newsFeeds:!1,cacheTickles:!1};this.initializeWithConf($.extend({},Game.BaseGameModel.defaultConf,a))}}),Game.ReportGameModel=Game.BaseGameModel.extend({constructor:function(a){this.gameConf=a,Game.BaseGameModel.apply(this)},initialize:function(){window.AjaxWrapper=new Game.ReportRequestManager(this.gameConf);var a={launchTraining:!1,headerBtnsVisible:!1,mapView:!1,leaderBoard:!1,newsFeeds:!1,reportCardView:!0};this.initializeWithConf($.extend({},Game.BaseGameModel.defaultConf,a))}}),Game.BaseUpdateModel=Game.BaseGameModel.extend({initialize:function(){var a=this,b={};Game.config=$.extend({quick_update:!0},Game.BaseGameModel.defaultConf,b),$(window).bind("beforeunload",function(){a.isPageReload=!0,eventManager.trigger(Game.CONST.RELOAD_TICKLE_WINDOW,"reload")}),this.isPageReload=!1,this.on("game.loaded",this.initVariables),this.gameView=new Game.GameView(this),AjaxWrapper.loadLandingPage(this.entityId,function(b){a.trigger("game.loaded",b)})},initVariables:function(a){window.mtBrodCastService=angular.element(document.body).injector().get("mtBrodCast"),this.initObj=a,this.game_version=a.game_version,window.courseInfo={fixed:a.gameInfo,settings:a.settings,user:a.GEState,gData:a.gData,entityLearner:a.entityLearner,nextModuleInfo:a.nextModuleInfo},window.courseInfo.settings.wrongAttempPanelty=10,a.seriesVo&&(window.courseInfo.seriesVo=a.seriesVo),this.populateDefaultSettings(courseInfo),mtBrodCastService.brodCast("COURSE_INFO",{courseInfo:courseInfo}),$(".headerUpdateName").text(courseInfo.fixed.name),courseInfo.entityLearner||(courseInfo.entityLearner={added_on:Math.round((new Date).getTime()/1e3)});var b=Utils.Func.computeDueDateObj(courseInfo.fixed.dueDate,courseInfo.entityLearner.added_on);return this.isQUpdateEnded(b)?(Utils.Func.alert(_.template(Game.Messages.LB_TXT_ENDED_UPDATE)({dt:Utils.Func.getNiceDateTimeShort(b.dueOn)})),void mtBrodCastService.gotoState("root.courses",{series:loadedFromParent})):(this.training=new Game.Training(this),this.training.setInfo(a.gameInfo,a.settings),this.training.setUserCourseState(a.GEState),this.training.scoreBar=new Game.ScoreBar(this.training),this.trigger("game.initalized"),void(a.entityLearner&&a.entityLearner.version&&$.ajaxSetup({data:{loadedEntityVersion:a.entityLearner.version}})))},isQUpdateEnded:function(a){if(appSettings.isPreview)return!1;var b=(new Date).getTime()/1e3,c=0==courseInfo.user.totalCorrect&&0==courseInfo.user.totalPartialCorrect&&0==courseInfo.user.totalSkipped&&0==courseInfo.user.totalWrong;return!!(a.dueOn>0&&"FREEZE"==a.dueDateExpiryAction&&b>a.dueOn&&c)},postInit:function(){window.AjaxWrapper.setCourseId(this.training.courseState.get("playableObjectId"))}}),Game.UpdateModel=Game.BaseUpdateModel.extend({constructor:function(a){this.entityId=a,window.AjaxWrapper=new Game.AARequestManager(this.entityId),Backbone.Model.apply(this)}}),Game.PreviewUpdateModel=Game.BaseUpdateModel.extend({constructor:function(a){this.selfserveTrainingModel=previewObject.training,this.entityId=this.selfserveTrainingModel.id,window.AjaxWrapper=new Game.SSRequestManager(this.selfserveTrainingModel,this),Backbone.Model.apply(this)}});var Game=Game||{};Game.Training=Backbone.Model.extend({constructor:function(a){this.gameModel=a,Backbone.Model.apply(this)},initialize:function(){window.gameConfigElements=this.gameModel.gameConfigElements,window.getCurrentMedalName=_.bind(this.getCurrentMedalName,this),window.getCurrentMedalCssByScore=_.bind(this.getCurrentMedalCssByScore,this),window.getNextMedalName=_.bind(this.getNextMedalName,this),window.getNextMedalCssByScore=_.bind(this.getNextMedalCssByScore,this),window.getPageNameById=_.bind(this.getPageNameById,this),window.getTopicNameById=_.bind(this.getTopicNameById,this)},isGameOver:function(){return this.get("totalPlayed")>=this.get("totalQuestions")},setInfo:function(a,b){this.name=a.title,this.desc=a.desc,this.rewards=b.medals.badgeList},getPageNameById:function(a){for(var b="Page",c=0;c<this.rounds.size();c++){var d=this.rounds.at(c);if(d.id==a){b=d.name&&""!=d.name?d.name:"Page "+(c+1);break}}return b},getTopicNameById:function(a){for(var b=0;b<this.rounds.size();b++)for(var c=this.rounds.at(b),d=0;d<c.stops.size();d++){var e=c.stops.at(d);if(e.id==a)return e.name}return"topic"},setRounds:function(a,b,c,d,e){this.rounds=new Game.Rounds([]);for(var f=this,g=0;g<a.length;g++){var h=b[a[g].mapId],i=new Game.RoundModel(f,a[g],h);g==a.length-1&&(i.isLastRound=!0),f.rounds.add(i);for(var j=0;j<a[g].children.length;j++){var k=a[g].children[j];if(k){for(var l=c[k.id],m=0;m<l.children.length;m++)e[l.children[m].id]&&$.extend(l.children[m],e[l.children[m].id]);var n=new Game.Stop(c[k.id],d[k.id],j,i);j==this.getLastNotNullIndex(a[g].children)&&(n.isLastTopic=!0),i.addStop(n)}}}},getLastNotNullIndex:function(a){for(var b=0,c=0;c<a.length;c++)null!=a[c]&&(b=c);return b},setUserCourseState:function(a){this.courseState=new Backbone.Model(a),this.set("score",a.totalScore),this.set("totalQuestions",a.totalLearningObjects),this.set("totalSolved",a.totalSkipped+a.totalWrong+a.totalCorrect+a.totalPartialCorrect)},setGroups:function(a){if(this.groups=[],"undefined"!=typeof a)for(var b=0;b<a.length;b++)this.groups[a[b].groupId]=a[b]},getCurrentMedalName:function(a){var b="NA";a=parseInt(a);for(var c=this.rewards.length-1;c>=0;c--)if(a>=this.rewards[c].score){b=this.rewards[c].thumbnail.title;break}return Game.Messages["LB_MEDAL_"+b]&&(b=Game.Messages["LB_MEDAL_"+b]),b},getCurrentMedalCssByScore:function(a){var b=null;a=parseInt(a);for(var c=this.rewards.length-1;c>=0;c--)if(a>=this.rewards[c].score){b=$("<img/>").attr("src",this.rewards[c].thumbnail.obj.processed_path).css({width:"100%",height:"100%",display:"block"});break}return b},getNextMedalName:function(a){var b="NA";a=parseInt(a);for(var c=0;c<this.rewards.length;c++)if(this.rewards[c].score>a){b=this.rewards[c].thumbnail.title;break}return Game.Messages["LB_MEDAL_"+b]&&(b=Game.Messages["LB_MEDAL_"+b]),b},getNextMedalCssByScore:function(a){var b=null;a=parseInt(a);for(var c=0;c<this.rewards.length;c++)if(this.rewards[c].score>a){b=$("<img/>").attr("src",this.rewards[c].thumbnail.obj.processed_path).css({width:"100%",height:"100%",display:"block"});break}return b},getMedalClassByBadgeName:function(a,b){a=a.toLowerCase();for(var c=this.rewards.length-1;c>=0;c--){var d=this.rewards[c].policyName.toLowerCase();if(d.indexOf(a)!=-1)return medalFamily+"size"+b+"_"+this.rewards[c].id}return medalFamily+"size"+b+"_0"},getMedalIdByBadgeName:function(a){a=a.toLowerCase();for(var b=this.rewards.length-1;b>=0;b--){var c=this.rewards[b].policyName.toLowerCase();if(c.indexOf(a)!=-1)return this.rewards[b].id}return 0},getMedalClassByScore:function(a,b){a=parseInt(a);for(var c=this.rewards.length-1;c>=0;c--)if(a>=this.rewards[c].criteriaValue)return medalFamily+"size"+b+"_"+this.rewards[c].id;return medalFamily+"size"+b+"_0"},getStarClassByScore:function(a,b){a=parseInt(a);for(var c=this.rewards.length-1;c>=0;c--)if(a>=this.rewards[c].criteriaValue)return"size"+b+"_Star"+this.rewards[c].noOfStar;return"size"+b+"_Star0"},getMedalNameByScore:function(a,b){a=parseInt(a);for(var c=this.rewards.length-1;c>=0;c--)if(a>=this.rewards[c].criteriaValue){var d=this.rewards[c].policyName;return Game.Messages[this.rewards[c].policyName]&&(d=Game.Messages[this.rewards[c].policyName]),"undefined"==typeof b||d.indexOf(" ")==-1?d:d.substr(0,d.lastIndexOf(" "))}return Game.Messages.MEDAL_NO},isQualifiedForCertificate:function(){var a=parseInt(gameConfigElements.minStarsToGetCertificate)-1;return!isNaN(a)&&(a=Math.min(Math.max(0,a),this.rewards.length-1),medalFamily.indexOf("1")!=-1&&this.get("score")>=this.rewards[a].criteriaValue||this.get("score")>=this.rewards[a].criteriaValue)}}),Game.Attachment=Backbone.Model.extend({constructor:function(a,b,c){this.attachment=a,this.vpId=c,this.id=this.cid=this.attachment.name,Backbone.Model.apply(this),this.set("state",b)}},{UNSEEN:1,SEEN:2}),Game.Attachments=Backbone.Collection.extend({model:Game.Attachment,getAttachmentsByVp:function(a){return this.filter(function(b){return b.vpId==a})}}),Game.AttachmentView=Backbone.View.extend({constructor:function(a){this.model=a,this.model.attachment.name=$.trim(this.model.attachment.name),this.model.attachment.url=$.trim(this.model.attachment.url),this.el=$(_.template($("script#tmpl_singleAttachment").html().trim())({iconClass:this.model.attachment.extClass,name:this.model.attachment.name,url:this.model.attachment.url})),Backbone.View.apply(this),this.model.get("state")==Game.Attachment.UNSEEN&&this.$el.find(">div>div:eq(1)").addClass("bold"),this.model.view=this,this.listenTo(a,"change:state",this.changeStatus)},changeStatus:function(){if(this.model.get("state")==Game.Attachment.UNSEEN)this.$el.find(">div>div:eq(1)").addClass("bold");else{this.$el.find(">div>div:eq(1)").removeClass("bold");var a=$($(".dowdBtn .redBg").get(1)),b=parseInt(a.text());b--,b>0?a.text(b):a.hide()}},events:{click:"download"},download:function(a){window.open(this.model.attachment.url),a.stopPropagation(),a.stopImmediatePropagation(),this.model.set("state",Game.Attachment.SEEN)},render:function(){return this.delegateEvents(),this.$el}}),Game.TrainingInfoPopUpView=Backbone.View.extend({constructor:function(a){this.el=a,Backbone.View.apply(this)},events:{"click .closeInfoPopup":"hideTInfoPopUp"},render:function(){this.delegateEvents(),this.$el.modal()},hideTInfoPopUp:function(){Utils.Func.hideModal()}}),Game.TrainingView=Backbone.View.extend({constructor:function(a){this.gameModel=a.gameModel,this.gameView=a,this.el=a.container,this.scoreView=this.isInfoVisible=!0,Backbone.View.apply(this),this.listenTo(this.gameModel.training,"map.Changed",this.mapChanged)},mapChanged:function(a){this.gameModel.training.isGameOver()?0!==$("#gameover-survey-html").length&&$("#gameover-survey-html").modal({close:!0,persist:!0}):a&&0!==$("#lv"+(a+1)+"-survey-html").length&&$("#lv"+(a+1)+"-survey-html").modal({close:!0,persist:!0}),this.render()},events:{"click .viewMoreTInfo":"showTInfoPopUp","click #info_cert":"switchView","click .gotoLBBtn":"gotoLearningBoard","click .resumeBtn":"resumeBtn","click .reportCard":"showReportCard","click .replayBtn":"replayGame","click ul.pagination>li>a":"switchMap"},replayGame:function(){this.gameView.replayGame()},gotoLearningBoard:function(){Game.BaseGameModel.exitGame()},resumeBtn:function(){eventManager.trigger("show.mapview")},switchView:function(){this.isInfoVisible?($(".mystatus_inprogress",this.el).hide(),$(".infoIcon1",this.el).hide(),$(".certIcon1",this.el).show(),$(".infoDetail",this.el).show(),$(".infoDetail>div:eq(0)",this.el).height()>250&&$(".infoDetail>div:eq(0)",this.el).css({height:"240px",overflow:"hidden"})):($(".infoIcon1",this.el).show(),$(".certIcon1",this.el).hide(),$(".mystatus_inprogress",this.el).show(),$(".infoDetail",this.el).hide()),this.isInfoVisible=!this.isInfoVisible},showTInfoPopUp:function(){this.infoView.render()},getBlueBtn:function(a,b){"undefined"==typeof b&&(b="");var c=$($.trim(_.template($("script#tmpl_std_blueBtn").html())({txt:a})));return c.addClass(b),c},getGrayBtn:function(a,b){"undefined"==typeof b&&(b="");var c=$($.trim(_.template($("script#tmpl_std_grayBtn").html())({txt:a})));return c.addClass(b),c},render:function(){eventManager.trigger("show.mapview")},showReportCard:function(){eventManager.trigger("show.reportCard")},getCompleteView:function(){var a=this.gameModel.training,b=Math.min(298,298*a.get("totalPlayed")/a.get("totalQuestions")),c=a.getMedalClassByScore(a.get("score"),100),d=a.getMedalNameByScore(a.get("score"),1),e=a.getStarClassByScore(a.get("score"),18),f="",g=a.rounds.length;f=1==g?_.template(Game.Messages.MSG_SINGLE_LEVEL_INFO)({num:1}):_.template(Game.Messages.MSG_MULTIPLE_LEVEL_INFO)({num:g});var h=$($.trim(_.template($("script#tmpl_training_infoPopUp").html(),{tName:a.name,tDesc:a.desc,okBtn:Game.Messages.OK_TEXT}))),i=_.template($("script#tmpl_runn_training_info").html())({traningName:a.name,gpPerc:b,medalClass:c,medalName:d,starClass:e,score:a.get("score"),tdesc:a.desc,viewMoreAbt:_.template(Game.Messages.MSG_VIEW_MORE_ABOUT,{courseName:_.escape(a.name)}),tlevelsMsg:f,bck2LB:Game.Messages.MSG_BACK2LB_BTN,currScore:Game.Messages.COURSE_CURR_SCORE}),j=$(i.trim());this.levelSlides=$("<div class='slides_container'></div>").width(400*a.rounds.length),this.paginationDiv=$('<ul class="pagination" style="margin:0"></div>'),a.rounds.length<2&&this.paginationDiv.css({visibility:"hidden"});for(var k=0;k<a.rounds.length;k++){var l=a.rounds.at(k),m=_.template(Game.Messages.MSG_SLIDE_NAME,{num:l.roundId,name:l.name?": "+l.name:""}),n=_.template($("script#tmpl_training_level_slide").html(),{levelImg:l.mapInfo.pImage,levelName:m});this.levelSlides.append(n.trim()),$("<li><a class='cursor'>"+k+"</a></li>").addClass(0===k?"current":"").appendTo(this.paginationDiv);var o=$.trim(_.template($("script#tmpl_training_levelNameDiv").html(),{n:k+1,name:l.name}));$(".tlevelNames",j).append(o);var p=$('<div style="width:236px" class="floatL marginR20"></div>'),q=$(o).clone();$(".textshadow0",q).addClass("bold"),p.addClass("marginB5 color00_F13 lineHeight19").append(q),k==a.rounds.length-1&&p.removeClass("marginR20");var r=$("<div></div>"),s=$("<ul></ul>").css({margin:0,padding:"0 0 0 15px","list-style-position":"outside"});s.appendTo(r);for(var t=0;t<l.stops.length;t++)$("<li></li>").addClass("marginB5 color00_F13 lineHeight16").text(l.stops.at(t).name).appendTo(s);p.append(r),$(".allStopsInfo",h).append(p),(k+1)%3===0&&$(".allStopsInfo",h).append("<div class='clear'></div>")}return $(".allStopsInfo",h).append("<div class='clear'></div>"),$(".product_images",j).append(this.levelSlides).append(this.paginationDiv),this.infoView=new Game.TrainingInfoPopUpView(h),this.gameModel.infoView=this.infoView,$(j)},switchMap:function(a){var b=parseInt($(a.target).text());b<0||b>=this.gameModel.training.rounds.length||(this.levelSlides.stop().animate({"margin-left":0-400*b}),this.paginationDiv.find(">li").removeClass("current").eq(b).addClass("current"))}}),Game.ScoreBar=Backbone.View.extend({constructor:function(a){this.trainingModel=a,this.el=$(_.template($("script#tmpl_scorebarNew").html().trim())({cb:Game.Messages.LB_TXT_CURRENT_BADGE,nb:Game.Messages.LB_TXT_NEXT_BADGE})),Backbone.View.apply(this),this.oldScore=0,this.listenTo(this.trainingModel,"change:score",this.refresh),this.scoreDDVisible=!1,this.isCSS3Anim=Utils.Func.isCSS3("transition"),$.fn.animateRotate=function(a,b,c,d){return this.each(function(){var e=$(this);$({deg:0}).animate({deg:a},{duration:b,easing:c,step:function(a){e.css({transform:"rotateY("+a+"deg)"})},complete:d||$.noop})})},this.isTimerStarted=!1,this.endTime=courseInfo.fixed.remainingTimeInSeconds,courseInfo.settings.timeLimit>0&&this.countTime(this),this.elapsedSeconds=0},countTime:function(a){a.endTime=0!=courseInfo.user.timeoutTime?courseInfo.user.timeoutTime-NTP.fixTime()/1e3:courseInfo.settings.timeLimit,a.timeRemaining=0!=courseInfo.user.timeoutTime?courseInfo.user.timeoutTime-NTP.fixTime()/1e3:courseInfo.settings.timeLimit,a.timeRemaining=a.timeRemaining<0?0:a.timeRemaining},startTimer:function(){
if(courseInfo.settings.timeLimit>0&&appSettings.isPreview){var a=Utils.Func.getClock(courseInfo.settings.timeLimit);this.$el.find(".timerDefault").removeClass("display_N"),this.$(".countDownTimer").parent().removeClass("critical"),this.$(".countDownTimer").text(a.mmss)}else if(courseInfo.settings.timeLimit>0){var b=this;if(this.countTime(this),this.$el.find(".timerDefault").removeClass("display_N"),!this.isTimerStarted&&this.timeRemaining>=0){this.isTimerStarted=!0;var c=0;this.timerIntervalId=setInterval(function(){b.updateCountDownTimer(),c+=1,20===c&&(b.timeRemaining=courseInfo.user.timeoutTime-NTP.fixTime()/1e3,c=0),b.timeRemaining-=1},1e3),$(document).bind("cancelTimerTraining",function(){clearInterval(b.timerIntervalId)})}else b.timeRemaining<=0?clearInterval(this.timerIntervalId):b.updateCountDownTimer()}else this.$(".countDownTimer").hide()},updateCountDownTimer:function(){this.timeRemaining<0?(this.$(".countDownTimer").parent().addClass("critical"),this.timeRemaining=0):this.$(".countDownTimer").parent().removeClass("critical");var a=Utils.Func.getClock(this.timeRemaining);if(this.$(".countDownTimer").text(a.mmss),a.isRed?this.$(".countDownTimer").parent().addClass("critical"):this.$(".countDownTimer").parent().removeClass("critical"),a.active||"TIMEDOUT"==courseInfo.user.status||"COMPLETED"==courseInfo.user.status){if("TIMEDOUT"==courseInfo.user.status||"COMPLETED"==courseInfo.user.status){var a;a="TIMEDOUT"==courseInfo.user.status?Utils.Func.getClock(0):appSettings.isPreview?Utils.Func.getClock(courseInfo.settings.timeLimit):Utils.Func.getClock(courseInfo.user.timeoutTime-courseInfo.user.completedOn),this.$(".countDownTimer").parent().removeClass("critical"),this.$(".countDownTimer").text(a.mmss),clearInterval(this.timerIntervalId)}}else clearInterval(this.timerIntervalId),courseInfo.user.status="TIMEDOUT",$(".medalDD_Bg").hide(),eventManager.trigger(Game.CONST.GOBACK_FROM_TICKLE),eventManager.trigger("timedOut"),Utils.Func.alert(_.template(Game.Messages.LB_TXT_TIMEENDED)({n:courseInfo.settings.timeLimit/60}),function(){})},initialize:function(){this.listenTo(eventManager,"render.ScoreBar",this.render),this.listenTo(eventManager,"flip.medal",this.flipMedalAndShowDD)},flipMedalAndShowDD:function(){appSettings.isPreview||(this.$(".currentMedalClass.badgeImgContainer img:eq(0)").animateRotate(-360,2e3),$(".medalDD_Bg",this.el).show(),this.listenTo(eventManager,Game.CONST.CLOSE_TIPS,this.hideDD),this.scoreDDVisible=!0)},events:{"click .timerDefault":"handleTimerClick",click:"showDD"},handleTimerClick:function(a){a.stopPropagation(),a.stopImmediatePropagation()},hideDD:function(){$(".medalDD_Bg",this.el).hide(),this.scoreDDVisible=!1,this.stopListening(eventManager,Game.CONST.CLOSE_TIPS,this.hideDD)},showDD:function(a){appSettings.isPreview||0==this.trainingModel.rewards.length||(a.stopPropagation(),this.scoreDDVisible?eventManager.triggerCloseTips():(eventManager.triggerCloseTips(),$(".medalDD_Bg",this.el).show(),this.listenTo(eventManager,Game.CONST.CLOSE_TIPS,this.hideDD),this.scoreDDVisible=!0))},render:function(a,b){this.startTimer(),a.find(".scorebarNew").remove(),a.prepend(this.$el),this.refresh(),this.delegateEvents(),b===Game.ScoreBar.GRAY_BG?this.$el.addClass("floatR").removeClass("floatL grayBg custom"):b===Game.ScoreBar.NO_BG&&this.$el.removeClass("floatR").addClass("floatL grayBg custom"),this.trainingModel.rewards.length<1},formatScore:function(a){var b=a+"";return b.length<2&&(b="0"+b),b},refresh:function(){var a=this.trainingModel.gameModel.initObj.gData.maxScore;a<1&&this.$el.hide();var b=this.trainingModel.get("score");this.$(".totalProgressPerc").css({width:100*b/a+"%"}),this.$(".currentScore").text(this.formatScore(b)),this.$(".totalScore").text(this.formatScore(a)),this.$(".badgeListForBadgeToolTip").empty();var c=this.trainingModel.getCurrentMedalCssByScore(b);null!=c&&this.$(".currentMedalClass").html(c);for(var d=0,e=0;e<this.trainingModel.rewards.length;e++)if(this.trainingModel.rewards[e].enabled){var f=e==courseInfo.settings.certificateCutoffBadgeIndex&&courseInfo.settings.certificate;this.$(".badgeListForBadgeToolTip").append(this.getBadgeSection(this.trainingModel.rewards[e],f)),d++}this.$(".badgeListForBadgeToolTip>.badgeReceived:eq(-1)").addClass("latest"),0==d&&this.$(".badgeListForBadgeToolTip").hide(),this.constructBadgeMsgs()},constructBadgeMsgs:function(){for(var a=null,b=0,c=null,d=0;d<this.trainingModel.rewards.length;d++){var e=this.trainingModel.rewards[d];e.enabled&&this.trainingModel.get("score")>=e.score?(a=e.thumbnail.title,b=e.score,c=null,"undefined"!=typeof this.trainingModel.rewards[d+1]&&(c=this.trainingModel.rewards[d+1].score)):null==c&&(c=e.score)}var f=0;null!=c&&(f=c-this.trainingModel.get("score"));var g=_.template(Game.Messages.TXT_BADGE_MSG1)({bname:a,pts:b}),h=_.template(Game.Messages.TXT_BADGE_MSG2)({pts:f});null!=a?this.$(".badgeMsg1").html(g).show():this.$(".badgeMsg1").html("").hide(),null!=c?this.$(".badgeMsg2").html(h).show():this.$(".badgeMsg2").html("").hide()},getBadgeSection:function(a,b,c){var d=$(_.template($("script#tmpl_scoreBarDDItem").html().trim())({bname:_.escape(a.thumbnail.title),bimage:a.thumbnail.obj.processed_path,bscore:a.score}));return this.trainingModel.get("score")>=a.score&&d.addClass("badgeReceived"),b?d.addClass("certCutOff"):$(".isCertCutOff",d).hide(),d}},{GRAY_BG:1,NO_BG:2}),Game.RoundModel=Backbone.Model.extend({constructor:function(a,b,c){this.training=a,this.roundId=b.id,this.name=b.name,this.mapId=b.mapId,this.desc=b.desc,this.mapInfo=c,this.stops=new Game.Stops([]),this.isLastRound=!1,3==c.mapType&&(this.childViewType="STICKEY_NOTE",b.staticNode&&b.staticNode.obj&&b.staticNode.obj.childViewType&&(this.childViewType=b.staticNode.obj.childViewType)),this.id=this.roundId,Backbone.Model.apply(this),this.set("numCompletedStop",0),this.listenTo(this.stops,"change:state",this.updateNumComletedStops)},updateTopicState:function(a){console.log(a)},updateNumComletedStops:function(a){a.isComplete()&&this.set("numCompletedStop",this.get("numCompletedStop")+1)},isComplete:function(){return!(this.get("numCompletedStop")<this.stops.size())},getFirstActiveStopIndex:function(){for(var a=0;a<this.stops.size();a++)if(this.stops.at(a).isActive())return a;return-1},addStop:function(a){this.stops.add(a),a.isComplete()&&this.set("numCompletedStop",this.get("numCompletedStop")+1)},getBgImage:function(){return this.mapInfo.background}}),Game.Rounds=Backbone.Collection.extend({model:Game.RoundModel,getFirstNotCompletedMapIndex:function(){for(var a=0;a<this.models.length;a++)if(!this.models[a].isComplete())return a;return-1},initialize:function(){this.justCompletedMap=-1},startListeningChange:function(){this.off("change:numCompletedStop"),this.on("change:numCompletedStop",this.setJustComplete)},setJustComplete:function(a){a.stops.size()<=a.get("numCompletedStop")&&(this.justCompletedMap=this.indexOf(a))},isAnyStopActive:function(){for(var a=0,b=0,c=0,d=null,e=0;e<this.models.length;e++)for(var f=this.models[e].stops,g=0;g<f.size();g++)f.at(g).isInactive()?(null==d&&(d=f.at(g)),c++):f.at(g).isActive()?b++:a++},getAndResetJustCompletedMap:function(){var a=this.justCompletedMap;return this.justCompletedMap=-1,a}}),Game.Stop=Backbone.Model.extend({constructor:function(a,b,c,d){Backbone.Model.apply(this),this.staticInfo=a,this.id=a.id,this.level=d,this.isLastTopic=!1;var e=a;this.children=a.children,this.correctChildrens(this.staticInfo,b),this.name=e.name,this.roundId=e.roundId,this.displayIndex=c,this.x=e.posX,this.y=e.posY,this.tickleTypes=e.children,this.tickles=new Game.Tickles,b?(this.lockedChildIds=b.lockedChildIds,this.completedChildIds=b.completedChildIds,this.activeChildIds=b.activeChildIds,this.set("state",b.state)):(this.lockedChildIds=[],this.completedChildIds=[],this.activeChildIds=[],this.set("state","NOT_STARTED"));(new Date).getTime()/1e3},correctChildrens:function(a,b){if(0!=courseInfo.settings.randomize&&b){var c=[],d=[];d=d.concat(b.completedChildIds).concat(b.activeChildIds).concat(b.lockedChildIds),b.orderedChildIds&&b.orderedChildIds.length>0&&(d=b.orderedChildIds);for(var e=0;e<d.length;e++)for(var f=0;f<a.children.length;f++)if(d[e]==a.children[f].id){c.push(a.children[f]);break}this.children=c}},getActiveTickle:function(){return this.tickles.getActiveTickle()},isActive:function(){var a=((new Date).getTime()/1e3,Utils.Func.isCourseActiveForLearner(courseInfo));return!(!a&&0==this.completedChildIds.length)&&"IN_PROGRESS"===this.get("state")},isComplete:function(){return"COMPLETED"===this.get("state")},isInactive:function(){return"NOT_STARTED"===this.get("state")},updateState:function(a){a&&(this.lockedChildIds=a.lockedChildIds,this.completedChildIds=a.completedChildIds,this.activeChildIds=a.activeChildIds,this.correctChildrens(this.staticInfo,a),"IN_PROGRESS"==this.get("state")&&"COMPLETED"==a.state&&mtBrodCastService.brodCast("SHOW_SURVEY",{surveys:this.staticInfo.survey}),this.set("state",a.state),this.trigger("updated.topic"))},hasTickle:function(a){return _.indexOf(this.completedChildIds,a)>-1||_.indexOf(this.activeChildIds,a)>-1||_.indexOf(this.lockedChildIds,a)>-1},loadSolvedTickle:function(a){var b=this;AjaxWrapper.loadTickle(function(a,c){if(a){a&&a.staticData&&a.staticData.mediaLoPreference&&a.staticData.media&&(a.staticData.media.mediaLoPreference=a.staticData.mediaLoPreference);var d=Game.Tickle.createTickle(b,a,c);b.tickles.add(d),b.trigger("tickle.loaded",d)}else b.trigger("tickle.loaded",null)},a)},loadActiveTickle:function(){var a=this;this.activeChildIds[0];AjaxWrapper.loadTickle(function(b,c){if(b){var d=Game.Tickle.createTickle(a,b,entityIdj);a.tickles.add(d),a.trigger("tickle.loaded",d)}else a.trigger("tickle.loaded",null)},this.activeChildIds[0])},isLastTickle:function(a){return this.children[this.children.length-1].id==a.json.staticData.id}}),Game.Stops=Backbone.Collection.extend({model:Game.Stop,getCompletedStops:function(){return this.filter(function(a){return a.isComplete()})},getCompletedStopsWithActive:function(){return this.filter(function(a){return!0})}}),Game.MovableObject=function(a,b,c,d,e){this.x=b,this.y=c,this.stops=d,this.curr_pos=0,this.boat=a,this.speed=e,a.css({left:b[d[0]]+"px",top:c[d[0]]})},Game.MovableObject.prototype.onComplete=function(a){this.completeFunc=a},Game.MovableObject.prototype.gotoNextStop=function(a){if(this.curr_pos>=this.stops.length-1||this.curr_pos>=a)return $.isFunction(this.completeFunc)&&this.completeFunc.call(),!1;var b=this.curr_pos+1;return arguments.length>0&&(b=a),this.curr_pos>=this.stops.length||b>=this.stops.length?($.isFunction(this.completeFunc)&&this.completeFunc.call(),!1):(this.move(this.stops[this.curr_pos],this.stops[b],!0),this.curr_pos=b,!0)},Game.MovableObject.prototype.move=function(a,b,c){if(a>=b)return $.isFunction(this.completeFunc)&&this.completeFunc.call(),!1;c&&this.boat.stop(!0,!0);for(var d=0,e=a;e<b;e++){var f=this.x[e+1]-this.x[e],g=this.y[e+1]-this.y[e],h=Math.sqrt(f*f+g*g),i=Math.round(100*h/this.speed);d+=i,f=this.x[e+2]-this.x[e+1],g=this.y[e+2]-this.y[e+1],(isNaN(f)||isNaN(g))&&(f=g=0);var j={left:this.x[e+1],top:this.y[e+1]};this.boat.animate(j,i,"linear"),e==b-1&&$.isFunction(this.completeFunc)&&setTimeout(this.completeFunc,d)}this.boat.off("remove").on("remove",function(){$(this).css(j)})},Game.MovableObject.prototype.reset=function(a,b){this.boat.stop(!0,!0),this.curr_pos=0,b&&(this.curr_pos=b),this.boat.css({left:this.x[this.stops[this.curr_pos]],top:this.y[this.stops[this.curr_pos]]}),a&&(this.speed=a)},Game.MapView=Backbone.View.extend({constructor:function(a,b){this.container=a,this.training=b,this.isCSSAnim=Utils.Func.isCSS3("transition");this.training.rounds.at(0);this.boats=[],this.stopView=[],appSettings.isPreview||(this.globalBackBtn=$($.trim(_.template($("script#tmpl_trainingDetailedName").html())({}))),$(".tName",this.globalBackBtn).text(courseInfo.fixed.name),"COMPANY"==courseInfo.fixed.parentList[0]?$(".sName",this.globalBackBtn).parent().remove():$(".sName",this.globalBackBtn).text(courseInfo.fixed.parentList[0]),this.setMyboard=!1,courseInfo.seriesVo&&"_default"!=courseInfo.entityLearner.invited_from[courseInfo.entityLearner.invited_from.length-1]?$(".myboard.series",this.globalBackBtn).text(courseInfo.seriesVo.name):(this.setMyboard=!0,$(".myboard.series",this.globalBackBtn).text(Game.Messages.MY_BOARD)),"DASHBOARD"!=companySettings.lsSettings.lsView||this.setMyboard||($(".myboard.dashboard_divide",this.globalBackBtn).removeClass("display_N"),$(".myboard.dashboard",this.globalBackBtn).removeClass("display_N").text(Game.Messages.DASHBOARD_TEXT))),this.el=$($.trim(_.template($("script#tmpl_gameArea").html())({}))),this.scoreBarContainer=$("<div/>").css({width:"100%",position:"relative"}),this.el.prepend(this.scoreBarContainer),Backbone.View.apply(this),this.paginationDiv=this.$(".mapBottom_Area .navigator .navigatorTabs"),this.$(".mapMiddle_Area").width(970*this.training.rounds.length).parent().css({overflow:"hidden"});this.currMap=0,$('<div class="floatL navLeftArrow Arrow_99_Left_14_14 cursor marginR10 marginT5"></div>').appendTo(this.paginationDiv);for(var c=0;c<this.training.rounds.length;c++)$('<div class="navTab">'+(c+1)+"</div>").attr("ln",c).appendTo(this.paginationDiv),this.drawRound(c);$(".mapMiddle_Area",this.el).append('<div class="clear"></div>'),$('<div class="floatL navRightArrow Arrow_99_Right_14_14 cursor marginT5"></div>').appendTo(this.paginationDiv),$('<div class="clear"></div>').appendTo(this.paginationDiv),this.showMap(this.currMap),this.training.rounds.length>1&&this.paginationDiv.css({visibility:"visible"}),this.listenTo(eventManager,Game.CONST.GOBACK_FROM_TICKLE,this.gobackToMap),this.listenTo(this.training,"change:totalSolved",this.setProgressBar),this.setProgressBar()},setProgressBar:function(){var a=Math.floor(100*this.training.get("totalSolved")/this.training.get("totalQuestions")),b=960*this.training.get("totalSolved")/this.training.get("totalQuestions");b>960&&(b=960),a>100&&(a=100),$(".mapBottom_Area .bigProgress_Bar .bigProgress_BarPerc",this.el).width(b),$(".mapBottom_Area .percTxt",this.el).text(_.template(Game.Messages.COURSE_PERCENT_DONE)({num:a}))},gobackToMap:function(){window.onbeforeunload=null,mtBrodCastService.brodCast("CHANGE_HEADER",{id:1,name:""}),this.render()},updateAnimArrowOfStopViews:function(){for(var a=!1,b=0;b<this.stopView.length;b++)for(var c=0;c<this.stopView[b].length;c++)this.stopView[b][c].model.isActive()&&!a?(Utils.Func.isCourseActiveForLearner(courseInfo)?this.stopView[b][c].anim_arrow.show():this.stopView[b][c].anim_arrow.hide(),a=!0):this.stopView[b][c].anim_arrow.hide()},drawRound:function(a){var b=this.training.rounds.at(a),c=0;if(1==b.mapInfo.mapType)for(c=2;c<852;c++)b.mapInfo.x[c-2]=0,b.mapInfo.y[c-2]=90;var d=b.mapInfo;3==d.mapType&&"BUTTON"!=b.childViewType?d.mapClass="boxes":d.mapClass="routemap";var e=$("<div class='pos_rel floatL'></div>").css({width:960,height:430}).addClass(d.mapClass);$("<img/>").attr("src",d.background.obj.processed_path).css({width:"100%",height:"100%"}).appendTo(e);var f=[0];for(this.stopView[a]=[],c=0;c<b.stops.size();c++){var g=new Game.StopView(this.container,b.stops.at(c),d,c,b.stops.size());if(this.listenTo(g,"changed.stop.view.state",this.updateAnimArrowOfStopViews),g.render().appendTo(e),2==d.mapType){var h=d.stops[g.model.displayIndex].idx;f.push(h)}this.stopView[a].push(g)}this.updateAnimArrowOfStopViews(),$(".mapMiddle_Area",this.el).append(e);var i=function(){};if(2==d.mapType){var j=[],k=[];for(c=0;c<d.path.length;c++)j.push(d.path[c].x-d.boat_offset.x),k.push(d.path[c].y-d.boat_offset.y);var l=$("<div class='movable_object'></div>");if(l.css({position:"absolute"}),"string"==typeof d.boatCSS)try{d.boatCSS=$.parseJSON(d.boatCSS),console.log("boatcss is in string. consider changing it to json "+d.id)}catch(m){d.boatCSS={},console.error("boatcss string json is invalid"+d.id)}l.css(d.boatCSS),l.css({"z-index":0}),l.appendTo(e),this.boats[a]=new Game.MovableObject(l,j,k,f,20)}else this.boats[a]={gotoNextStop:i,boat:{hide:i,show:i}};this.boats[a].boat.hide()},showMap:function(a){if(!(a<0||a>=this.training.rounds.length)){this.currMap=a,this.isCSSAnim?this.$(".mapMiddle_Area").css({"margin-left":0-961*a}):this.$(".mapMiddle_Area").stop().animate({"margin-left":0-961*a}),this.paginationDiv.find(">div").removeClass("current"),this.paginationDiv.find(">div").eq(a+1).addClass("current");var b=(Game.Messages.MSG_LEVEL_NAME.replace("<%=num%>",""),"Page "+(a+1));b="Page 1"==this.training.rounds.at(a).name||null==this.training.rounds.at(a).name?"Page "+(a+1):this.training.rounds.at(a).name;var c=this.training.rounds.at(a).name!=b&&"Page 1"!=this.training.rounds.at(a).name?this.training.rounds.at(a).name:b;null==this.training.rounds.at(a).name&&(c=b),$(".levelName",this.el).html(_.escape(c)),this.$(".mapBottom_Area .navRightArrow,.mapTop_Area .navLeftArrow").show()}},delegateEvents:function(){$.each(this.stopView,function(a,b){for(var a=0;a<b.length;a++)b[a].delegateEvents()}),Backbone.View.prototype.delegateEvents.call(this)},render:function(){eventManager.trigger("hide.tickleheader"),this.scoreBarContainer.html("<div class='clear'/>"),eventManager.trigger("render.ScoreBar",this.scoreBarContainer,Game.ScoreBar.GRAY_BG),this.container.empty().append(this.globalBackBtn).append(this.el),appSettings.isPreview||($(".myboard.series",this.globalBackBtn).unbind("click").click(function(){appSettings.isPreview||Game.BaseGameModel.exitGameWithWarnBeforeTimeExit()}),"DASHBOARD"!=companySettings.lsSettings.lsView||this.setMyboard||$(".myboard.dashboard",this.globalBackBtn).unbind("click").click(function(){appSettings.isPreview||(mtBrodCastService.gotoState("root.courses"),mtBrodCastService.brodCast("destroy.lb",{}))})),this.delegateEvents();for(var a=0;a<this.training.rounds.length;a++)this.boats[a].boat.hide();if(this.training.rounds.at(this.currMap).isComplete()){var b=this.training.rounds.getFirstNotCompletedMapIndex();b==-1&&(b=0),this.showMap(b)}var c=this.training.rounds.at(this.currMap).getFirstActiveStopIndex();this.boats[this.currMap].boat.show(),c>-1?this.boats[this.currMap].gotoNextStop(c+1):this.boats[this.currMap].boat.hide()},events:{"click .navigator .navigatorTabs .navTab":"gotoMap","click .navigator .navigatorTabs .navRightArrow":"gotoNextMap","click .navigator .navigatorTabs .navLeftArrow":"gotoPrevMap"},gotoMap:function(a){var b=parseInt($(a.target).attr("ln"));this.showMap(b)},gotoNextMap:function(){this.showMap(this.currMap+1)},gotoPrevMap:function(){this.showMap(this.currMap-1)}}),Game.StopView=Backbone.View.extend({constructor:function(a,b,c,d,e){if(this.tickleContainer=a,this.model=b,this.stopIdx=d,this.mapInfo=c,this.numStops=e,2==c.mapType){var f=0,g=0,h=0,i=0,j=this.mapInfo.stops[this.model.displayIndex].idx;if(f=this.mapInfo.path[j].x,g=this.mapInfo.path[j].y,h=f,i=g,"string"==typeof this.mapInfo.stopCSS)try{this.mapInfo.stopCSS=$.parseJSON(this.mapInfo.stopCSS),console.log("stopCss is in string. consider changing it to json "+c.id)}catch(k){this.mapInfo.stopCSS={},console.error("stopcss string json is invalid "+c.id)}this.dot=$('<div class="greenStop"></div>').css(this.mapInfo.stopCSS).css({top:i,left:h});var l=b.name,m=25;"undefined"!=typeof companySettings&&companySettings.lsSettings&&companySettings.lsSettings.topicNameLimitForTrim&&(m=companySettings.lsSettings.topicNameLimitForTrim),l.length>m&&(l=l.substr(0,m)+"..."),this.el=$(_.template($("script#tmpl_vpstop").html().trim())({name:_.escape(l),fullname:_.escape(b.name)})),Backbone.View.apply(this);var n=this.$el.appendTo("body").width();this.$el.remove(),1==this.mapInfo.mapType&&(n=107);var o=this.getLabelOffset(n);this.$el.css({left:f+o.x,top:g+o.y}),this.anim_arrow=$("<div class='animated_arrow'></div>").attr("stopId",this.model.id).css({left:f+o.x+n/2-14,top:g+o.y-33})}else if(3==c.mapType){if(this.el=$(_.template($("script#tmpl_vpstopModular").html().trim())({name:_.escape(b.name)})),"BUTTON"==this.model.level.childViewType){var l=b.name,m=25;"undefined"!=typeof companySettings&&companySettings.lsSettings&&companySettings.lsSettings.topicNameLimitForTrim&&(m=companySettings.lsSettings.topicNameLimitForTrim),l.length>m&&(l=l.substr(0,m)+"..."),this.el=$(_.template($("script#tmpl_vpstop").html().trim())({name:_.escape(l),fullname:_.escape(b.name)}))}if(Backbone.View.apply(this),this.$el.css({left:parseInt(this.model.x),top:parseInt(this.model.y)}),this.anim_arrow=$("<div class='animated_arrow'></div>").attr("stopId",this.model.id).css({left:parseInt(this.model.x)+66,top:parseInt(this.model.y)-35}),"BUTTON"==this.model.level.childViewType){var n=this.$el.appendTo("body").width();this.$el.remove();var o={x:0,y:0};this.anim_arrow=$("<div class='animated_arrow'></div>").attr("stopId",this.model.id).css({left:this.model.x+o.x+n/2-14,top:this.model.y+o.y-33})}else courseInfo.fixed.isMigrated&&this.$(".middle").css({width:133})}else this.el=$(_.template($("script#tmpl_vpstopModular").html().trim())({name:_.escape(b.name)})),Backbone.View.apply(this),this.anim_arrow=$("<div class='animated_arrow'></div>").attr("stopId",this.model.id).css({left:parseInt(this.model.x)+40,top:parseInt(this.model.y)-35});this.updateState(),this.currTickleView=null,this.listenTo(this.model,"change:state",this.updateStateRaw),this.listenTo(eventManager,"openSolved"+this.model.staticInfo.id,this.openTickle),this.listenTo(eventManager,"timedOut",this.updateStateRaw)},updateStateRaw:function(){this.trigger("changed.stop.view.state"),this.updateState()},events:{click:"openTopic",keypress:"openTopicKeyPress"},goback2Map:function(){var a=this;this.stopListening(eventManager,Game.CONST.GOBACK_FROM_TICKLE),this.stopListening(this.model,"tickle.loaded"),null!==this.currTickleView&&(this.currTickleView.tickle.staticData&&this.currTickleView.tickle.staticData.media&&"ARCHIVE"==this.currTickleView.tickle.staticData.media.type&&this.currTickleView.tickle.staticData.media.isScormEngine?(this.currTickleView&&this.currTickleView.player&&this.currTickleView.player.player&&this.currTickleView.player.player.remove(),setTimeout(function(){a.currTickleView&&a.currTickleView.remove(),a.currTickleView=null},300)):(this.currTickleView.remove(),this.currTickleView=null))},openTopicKeyPress:function(a){32==a.keyCode&&this.openTopic()},openTopic:function(a){if(appSettings.isPreview)!this.openActiveTickle()&&this.model.completedChildIds.length>0&&this.openTickle(this.model.completedChildIds[0]);else if(this.model.isActive()||this.model.isComplete()){try{Game.MixPanelTracking.track("Click Topic",{"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Content Type":courseInfo.entityLearner.entity_type,"Topic Name":this.model.name,"Topic Id":this.model.id})}catch(b){console.error(b)}!a||"string"!=typeof a||_.indexOf(this.model.activeChildIds,a)==-1&&_.indexOf(this.model.completedChildIds,a)==-1?!this.openActiveTickle()&&this.model.completedChildIds.length>0&&this.openTickle(this.model.completedChildIds[0]):this.openTickle(a)}$("#intercom-container").hide()},openActiveTickle:function(){if(this.model.activeChildIds.length>0&&Utils.Func.isCourseActiveForLearner(courseInfo))return this.openTickle(this.model.activeChildIds[0]),!0},openTickle:function(a){_.indexOf(this.model.activeChildIds,a)==-1&&_.indexOf(this.model.completedChildIds,a)==-1||(!Utils.Func.isCourseActiveForLearner(courseInfo)&&_.indexOf(this.model.activeChildIds,a)>-1&&(a=this.model.completedChildIds[0]),null!==this.currTickleView&&(this.currTickleView.remove(),this.currTickleView=null),this.tickleContainer.empty().append("<div style='height:590px;'><img style='margin:50px' src='"+Game.Settings.loaderPic+"'/></div>"),appSettings.isPreview&&this.handlePreviewHeaderChange({id:2,name:this.model.name}),mtBrodCastService.brodCast("CHANGE_HEADER",{id:2,name:this.model.name}),this.stopListening(eventManager,Game.CONST.GOBACK_FROM_TICKLE),this.listenTo(eventManager,Game.CONST.GOBACK_FROM_TICKLE,this.goback2Map),this.listenTo(this.model,"tickle.loaded",this.drawTickle),this.model.loadSolvedTickle(a))},handlePreviewHeaderChange:function(a){setTimeout(function(){mtBrodCastService.brodCast("CHANGE_HEADER",a)},500)},drawTickle:function(a){return this.stopListening(this.model,"tickle.loaded"),a instanceof Game.Tickle?(a instanceof Game.SyndicateTickle?this.currTickleView=new Game.SyndicateModuleView(a,this.tickleContainer):a instanceof Game.WebModuleTickle?this.currTickleView=new Game.WebModuleView(a,this.tickleContainer):this.currTickleView=new Game.TickleView(a,this.tickleContainer,{isLastRound:this.model.level.isLastRound}),this.listenTo(this.currTickleView,"tickle.openactive",this.openActiveTickle),this.listenTo(this.currTickleView,"tickle.opensolved",this.openTickle),void this.currTickleView.render()):void eventManager.trigger(Game.CONST.GOBACK_FROM_TICKLE)},updateState:function(){this.model.isActive()?(this.$el.addClass("active").removeClass("inactive").attr({"aria-label":"Go to Topic",tabindex:0}),this.trigger("stop.active",this.stopIdx)):this.model.isComplete()?(this.$el.addClass("rightanswer").removeClass("active"),this.trigger("stop.completed",this.stopIdx)):this.$el.addClass("inactive"),this.model.isActive()?this.anim_arrow.show():this.anim_arrow.hide()},canShowAnimArrow:function(){if(this.model.level.training.gameModel.gameView&&this.model.level.training.gameModel.gameView.mapView)for(var a=this.model.level.training.gameModel.gameView.mapView,b=!1,c=0;c<a.stopView.length;c++){for(var d=0;d<a.stopView[c].length;d++)if(this.mapView.stopView[c][d].model.isActive()&&!b){this.mapView.stopView[c][d].anim_arrow.show(),b=!0;break}if(b)break}else for(var c=0;c<this.model.level.stops.size();c++)if(this.model.level.stops.at(c).isActive()&&this.model.id==this.model.level.stops.at(c).id){this.anim_arrow.show();break}},render:function(){return this.delegateEvents(),this.$el.add(this.dot).add(this.anim_arrow)},getLabelOffset:function(a){var b=0,c=0;return b=this.mapInfo.stops[this.model.displayIndex].offset.x-this.mapInfo.stops[this.model.displayIndex].dir*a,c=this.mapInfo.stops[this.model.displayIndex].offset.y,{x:b,y:c}}});var Game=Game||{};Game.Notifications=Backbone.View.extend({constructor:function(a){this.gameModel=a.gameModel,this.gameView=a,this.socket=this.gameModel.disSocket;var b=$("#pp_ltSide .topBtnGrp > .msgBtn");Utils.Func.isiPad&&(b=$("#ipLeft_Menu .msgBtn")),this.el=$("ul",b),this.CountDiv=$(".redBg",b);var c=$("#pp_ltSide .topBtnGrp > .notfBtn");Utils.Func.isiPad&&(c=$("#ipLeft_Menu .notfBtn")),this.notifEl=$("ul",c),this.notifCountDiv=$(".redBg",c),Backbone.View.apply(this),this.socket&&this.listenTo(this.socket,"notifs",this.gotNotifs),this.fromIndex=0,this.num=20,this.totalUnread=0,this.totalAvialable=0,this.alreadyLoaded=0,this.listenTo(eventManager,"opened.messages",this.markMessagesRead);var d=this;this.timerId=setInterval(function(){d.fromIndex=0,d.num=20,d.loadPrivateMessages()},18e4)},events:{"click li.showMore":"loadMore"},loadMore:function(a){this.fromIndex=this.totalAvialable-this.alreadyLoaded,this.loadPrivateMessages()},markMessagesRead:function(){var a=this;this.totalUnread<1||$.ajax({method:"POST",url:"GamePathInfoUpdatesServlet",data:{optString:13,dt:(new Date).getTime(),type:1},success:function(b){a.CountDiv.text(0).hide()}})},loadPrivateMessages:function(){var a=this.$el;this.CountDiv;0==this.fromIndex&&$("li:gt(0)",a).remove()},PMLoaded:function(a){var b=this.$el,c=this.CountDiv,d=this;$("li.showMore",b).remove();var e=$.parseJSON(a),f=e.profiles,g=e.msg.length;if(0==g&&0==d.fromIndex){var h=".partBtn>.topMenuItem";Utils.Func.isiPad&&(h=".partBtn");var i=$("<span class='color0072_F13 lineHeight18'>"+Game.Messages.CLICK_HERE+"</span>").click(function(){$(h).click()}),j=$("<li class='forHoverColor1 lineHeight18'><span class='color00_F13 paddingB4'>"+Game.Messages.NO_MESSAGES+"</span> </li>");return j.append(i),j.append("<span class='color00_F13 lineHeight18'> "+Game.Messages.RESEND_MESSAGE+"</span>"),void j.appendTo(b)}for(var k=0;k<f.length;k++)if(f[k].id!=d.gameModel.memberObj.get("id")){var l=new Game.Profile(f[k]);d.gameModel.userProfiles.add(l)}for(d.alreadyLoaded+=g,0==d.fromIndex&&(e.msg.sort(function(a,b){return a.msgId>b.msgId?-1:a.msgId<b.msgId?1:0}),d.totalAvialable=e.msg[0].msgId),k=0;k<g;k++){var m=e.msg[k].msg;if(1==e.msg[k].notifType){var n=d.gameModel.userProfiles.get(e.msg[k].senderId),o=n.get("name");o.length>20&&(o=o.substr(0,18)+"...");var p=new Game.SingleMessage(d.gameModel,m,n);p.render().appendTo(b)}}0!=e.unreadMsg?(d.totalUnread=e.unreadMsg,c.text(e.unreadMsg).show()):c.hide(),d.totalAvialable>4&&b.slimScroll({opacity:1,size:"8px",width:310,height:330,railVisible:!1,alwaysVisible:!0,disableFadeOut:!0}),d.alreadyLoaded<d.totalAvialable&&$("<li class='forHoverColor1 textalign_C lineHeight18 showMore color00_F13'>"+Game.Messages.SHOW_MORE+"</li>").appendTo(b),d.delegateEvents()},gotNotifs:function(a,b){var c=this,d=[];this.notifColl||(this.notifColl=new Game.NotificationCollection);for(var e in a){a[e].isNewNotif=b;try{var f=Game.NotificationModel.createNotifModel(this.gameModel,a[e]);this.notifColl.addNotification(f),d=d.concat(f.getSenderIds())}catch(g){}}return this.notifColl.size()<1?void this.notifEl.append('<li class="color00_F13 lineHeight18 no_notif"><div class="paddingB5 paddingL10 paddingR10 color00_F13 borderB_dd textalign_C paddingT10 paddingB10">'+Game.Messages.MSG_NO_NOTIF+"</div></li>"):(this.notifViews&&_.each(this.notifViews,function(a){a.remove()}),$(".no_notif",this.notifEl).remove(),this.notifViews=[],this.listenTo(this.gameModel,"profile.loaded",function(){c.stopListening(c.gameModel,"profile.loaded");for(var a=0;a<this.notifColl.size();a++){var b=new Game.SingleNotification(this.gameModel,this.notifColl.at(a));this.notifViews.push(b),this.notifEl.append(this.notifViews[a].render())}var d=this.notifColl.getUnReadNotifCount();d>0&&(this.notifCountDiv.text(d).fadeIn(),this.stopListening(this.gameView.header,"opened.notifs"),this.listenTo(this.gameView.header,"opened.notifs",this.openedNotifs)),this.notifColl.size()>4&&this.notifEl.slimScroll({opacity:1,size:"8px",width:310,height:330,railVisible:!1,alwaysVisible:!0,disableFadeOut:!0})}),void this.gameModel.loadUsers(d))},openedNotifs:function(){this.stopListening(this.gameView.header,"opened.notifs"),this.socket.markNotifsAsRead(),this.notifCountDiv.text(0).fadeOut(),this.notifColl.markAllNotifsAsRead()}}),Game.NotificationModel=Backbone.Model.extend({constructor:function(a,b){this.gameModel=a,this.id=b.id,this.isNewNotif=b.isNewNotif,this.category=b.category,this.allTimeStamps=[b.timestamp],this.latestTimeStamp=b.timestamp,Backbone.Model.apply(this)},getSenderName:function(){var a="";if(this.senders=_.uniq(this.senders),_.indexOf(this.senders,this.gameModel.memberObj.get("id"))>-1&&this.senders.splice(_.indexOf(this.senders,this.gameModel.memberObj.get("id")),1),this.senders.length<2)return this.senders.length<1||this.senders[0]<1?"":_.escape(this.gameModel.userProfiles.get(this.senders[0]).get("name"));for(var b=0;b<this.senders.length-1&&b<2;b++)this.senders[b]<1||(0==b?a=_.escape(this.gameModel.userProfiles.get(this.senders[b]).get("name")):a+=", "+_.escape(this.gameModel.userProfiles.get(this.senders[b]).get("name")));return a+=this.senders.length-b==1?Game.Messages.MSG_AND+_.escape(this.gameModel.userProfiles.get(this.senders[b]).get("name")):_.template(Game.Messages.MSG_AND_MORE)({n:this.senders.length-b})},getsenderPic:function(){_.indexOf(this.senders,this.gameModel.memberObj.get("id"))>-1&&this.senders.splice(_.indexOf(this.senders,this.gameModel.memberObj.get("id")),1);var a=this.senders[this.senders.length-1];if(a>0){var b=this.gameModel.userProfiles.get(a).get("pic");if(b)return b}return Game.Settings.defaultPic},getNotifText:function(){return $.trim(_.template(this.template,this.getParamObj()))},getSenderIds:function(){return this.senders}},{createNotifModel:function(a,b){return b.category==Game.DISCUSSIONTYPE.ANSWER_ON_Q?new Game.NotificationNewAnswerModel(a,b):b.category==Game.DISCUSSIONTYPE.LIKE_Q?new Game.NotificationLikeQModel(a,b):b.category==Game.DISCUSSIONTYPE.LIKE_ANS?new Game.NotificationLikeAModel(a,b):b.category==Game.DISCUSSIONTYPE.FOLLOW_Q?new Game.NotificationQuestionFollowModel(a,b):b.category==Game.DISCUSSIONTYPE.TAGGED_ON_ANS?new Game.NotificationTagOnAnswerModel(a,b):null;
}}),Game.NotificationNewAnswerModel=Game.NotificationModel.extend({constructor:function(a,b){Game.NotificationModel.call(this,a,b),this.qId=b.qId,this.answeredBy=b.answeredBy,this.senders=[b.answeredBy],this.question=$.parseJSON(b.question),this.template=Game.Messages.MSG_NOTIF_NewAnswer},getParamObj:function(){var a=this.question[6];return a&&(a=a.substr(0,30)+"..."),{senderNames:this.getSenderName(),qText:_.escape(a)}},canCombine:function(a){return this.category==a.category&&this.qId==a.qId},combineOther:function(a){this.allTimeStamps.push(a.timestamp),this.latestTimeStamp<a.timestamp&&(this.latestTimeStamp=a.timestamp),a.answeredBy>0&&this.senders.push(a.answeredBy),this.trigger("combined.notif")}}),Game.NotificationLikeQModel=Game.NotificationModel.extend({constructor:function(a,b){Game.NotificationModel.call(this,a,b),this.qId=b.qId,this.likedBy=b.likedBy,this.senders=[b.likedBy],this.question=$.parseJSON(b.question),this.template=Game.Messages.MSG_NOTIF_QLike},getParamObj:function(){var a=this.question[6];return a&&(a=a.substr(0,30)+"..."),{senderNames:this.getSenderName(),qText:_.escape(a)}},canCombine:function(a){return this.category==a.category&&this.qId==a.qId},combineOther:function(a){this.allTimeStamps.push(a.timestamp),this.latestTimeStamp<a.timestamp&&(this.latestTimeStamp=a.timestamp),a.likedBy>0&&this.senders.push(a.likedBy),this.trigger("combined.notif")}}),Game.NotificationLikeAModel=Game.NotificationModel.extend({constructor:function(a,b){Game.NotificationModel.call(this,a,b),this.qId=b.qId,this.aId=b.aId,this.likedBy=b.likedBy,this.senders=[b.likedBy],this.answer=$.parseJSON(b.answer),this.template=Game.Messages.MSG_NOTIF_ALike},getParamObj:function(){var a=this.answer[1];return a&&(a=a.substr(0,30)+"..."),{senderNames:this.getSenderName(),qText:_.escape(a)}},canCombine:function(a){return this.category==a.category&&this.qId==a.qId&&this.aId==a.aId},combineOther:function(a){this.allTimeStamps.push(a.timestamp),this.latestTimeStamp<a.timestamp&&(this.latestTimeStamp=a.timestamp),a.likedBy>0&&this.senders.push(a.likedBy),this.trigger("combined.notif")}}),Game.NotificationTagOnAnswerModel=Game.NotificationModel.extend({constructor:function(a,b){Game.NotificationModel.call(this,a,b),this.qId=b.qId,this.aId=b.aId,this.taggedBy=b.taggedBy,this.senders=[b.taggedBy],this.question=$.parseJSON(b.question),this.answer=$.parseJSON(b.answer),this.template=Game.Messages.MSG_NOTIF_TagInAnswer},getParamObj:function(){var a=this.question[6];return a&&(a=a.substr(0,30)+"..."),{senderNames:this.getSenderName(),qText:_.escape(a)}},canCombine:function(a){return this.category==a.category&&this.qId==a.qId&&this.aId==a.aId},combineOther:function(a){this.allTimeStamps.push(a.timestamp),this.latestTimeStamp<a.timestamp&&(this.latestTimeStamp=a.timestamp),a.taggedBy>0&&this.senders.push(a.taggedBy),this.trigger("combined.notif")}}),Game.NotificationQuestionFollowModel=Game.NotificationModel.extend({constructor:function(a,b){Game.NotificationModel.call(this,a,b),this.qId=b.qId,this.followBy=b.followBy,this.senders=[b.followBy],this.question=$.parseJSON(b.question),this.template=Game.Messages.MSG_NOTIF_QFollow},getParamObj:function(){var a=this.question[6];return a&&(a=a.substr(0,30)+"..."),{senderNames:this.getSenderName(),qText:_.escape(a)}},canCombine:function(a){return this.category==a.category&&this.qId==a.qId},combineOther:function(a){this.allTimeStamps.push(a.timestamp),this.latestTimeStamp<a.timestamp&&(this.latestTimeStamp=a.timestamp),a.followBy>0&&this.senders.push(a.followBy),this.trigger("combined.notif")}}),Game.NotificationCollection=Backbone.Collection.extend({model:Game.NotificationModel,comparator:function(a){return-a.latestTimeStamp},getUnReadNotifCount:function(){return this.filter(function(a){return 1==a.isNewNotif}).length},markAllNotifsAsRead:function(){this.each(function(a){a.isNewNotif=0})},addNotification:function(a){var b=this.filter(function(b){return b.canCombine(a)});b.length>0?b[0].combineOther(a):this.add(a)}}),Game.SingleNotification=Backbone.View.extend({constructor:function(a,b){this.gameModel=a,this.notifObj=b,this.el=$($.trim(_.template($("script#tmpl_singleNotif").html())({image:Game.GameView.getImageSrc(b.getsenderPic()),notifMsg:b.getNotifText(),time:Utils.Func.getNiceTime(b.latestTimeStamp)}))),Backbone.View.apply(this)},events:{click:"openQuestion"},openQuestion:function(){eventManager.trigger("show.discussion",this.notifObj.qId)},render:function(){return this.$el}}),Game.SingleMessage=Backbone.View.extend({constructor:function(a,b,c){this.gameModel=a,this.memId=c.get("id");var d=c.get("name");d.length>20&&(d=d.substr(0,18)+"..."),this.el=$($.trim(_.template($("script#tmpl_singleMsg").html())({image:c.get("pic"),name:_.escape(d),msg:_.escape(b.message),time:Utils.Func.getNiceTime(b.timestamp)}))),Backbone.View.apply(this)},events:{click:"showProfileTip"},showProfileTip:function(a){this.gameModel.gameView.showProfileTip(this.$el,this.memId),a.stopImmediatePropagation()},render:function(){return this.$el}}),Game=Game||{},Game.ReportCard=Backbone.View.extend({constructor:function(a,b,c,d){this.container=a,this.entityName=b,this.entityId=c,this.learnerId=d,this.requestManager=new Game.ReportRequestManager(c),this.el=$(_.template($.trim($("script#tmpl_learner_report_card").html()))({back:"Back",learner_report_card:"Learner Report Card",completion:"Completion",startedOn:"Started On",completedOn:"Completed On",skipped:"Skipped",correct:"Correct",wrong:"Partial Correct / Wrong",tickle_filter_all:"Object Type: All",txtExport:"Export",learning_object:"Learning Object",object_type:"Object Type",learners_response:"Learner's Response",score:"Score",lifelines_used:"Lifelines Used",likes_dislikes:"Likes/Dislikes"})),this.reportCardObj=null,this.topicWiseTickles={},this.reportLoader=$.when(this.requestManager.loadStatic(this.entityId,this.learnerId,Game.ReportCard.FeatureTypeReport)),this.topicView=[],Backbone.View.apply(this)},events:{"click .back2Course":"goback"},goback:function(){this.trigger("go.back")},updateFilter:function(a){this.currFilter=a,this.trigger("filter.update",a)},loadReportCard:function(){this.reportLoader.done(_.bind(this.loadedReportCard,this)).fail(_.bind(this.failedReportCard,this))},failedReportCard:function(){Utils.Func.alert("Failed to load report card. Please try again"),this.trigger("go.back")},loadedReportCard:function(a){if(a.hasOwnProperty("error"))return void this.failedReportCard();if(this.staticInfo=a.reportSummary,this.$(".lname").text(this.staticInfo.user.name),this.$(".lpic>img").attr("src",this.staticInfo.user.pic?this.staticInfo.user.pic:ssAssets+"/images/default_pro_pic.png"),this.$(".headerTxt").html("Learner Report Card | "+_.escape(this.entityName)),this.$(".numSkipped").text(this.staticInfo.geSummary.totalSkipped),this.$(".numCorrect").text(this.staticInfo.geSummary.totalCorrect),this.$(".numWrong").text(this.staticInfo.geSummary.totalWrong+this.staticInfo.geSummary.partialCorrect),this.$(".myscore").text(this.staticInfo.geSummary.score),this.$(".totalScore").text(this.staticInfo.geSummary.maxScore),this.staticInfo.geSummary.medalUrl){var b=$("<img/>").attr("src",this.staticInfo.geSummary.medalUrl).css({width:"100%",height:"100%"});this.$(".badgeClass").html(b)}else this.$(".badgeClass").text("No Medal");this.staticInfo.geSummary.medalName?this.$(".badgeName").text(this.staticInfo.geSummary.medalName):this.$(".badgeName").text("No Medal"),this.staticInfo.geSummary.startedOn?this.$(".startedOn").text(Dashboard.EventManager.getNiceDate(this.staticInfo.geSummary.startedOn)):this.$(".startedOn").text("-"),this.staticInfo.geSummary.completedOn?this.$(".completedOn").text(Dashboard.EventManager.getNiceDate(this.staticInfo.geSummary.completedOn)):this.$(".completedOn").text("-"),this.$(".completionPerc").text(Math.floor(this.staticInfo.geSummary.percentageCompletion)+"%"),this.$(".completionPercBar").css({width:this.staticInfo.geSummary.percentageCompletion+"%"}),this.container.empty().append(this.$el),this.$(".course_topics").empty();for(var c=0;c<this.staticInfo.levels.length;c++)for(var d=this.staticInfo.levels[c],e=0;e<d.topics.length;e++){var f=new Game.ReportCardTopicRow(this,this.entityId,this.learnerId,d.topics[e],this.staticInfo.contentScoring,d);this.$(".course_topics").append(f.render()),this.topicView.push(f)}3==this.staticInfo.mtEntityType&&(this.$(".entityMedalSummaryTable,.entityContentSummaryTable").hide(),$("tr:eq(0)",this.topicView[0].$el).hide(),this.$(".loHeaderTxt").text("Learning Content"));var g={id:this.staticInfo.user.id,email:this.staticInfo.user.email,"Admin Name":"NA","Admin Email":"NA"};userJson&&(g["Admin Name"]=userJson.name,g["Admin Email"]=userJson.email),Game.MixPanelTracking.track("View Learner's Report Card",g)},render:function(){$("<div/>").addClass("loaderPic").height(590).append($("<img/>").css({margin:50}).attr("src",Game.Settings.loaderPic)).appendTo(this.container.empty()),"resolved"===this.reportLoader.state()?this.container.empty().append(this.$el):this.loadReportCard(),this.delegateEvents()},delegateEvents:function(){Backbone.View.prototype.delegateEvents.call(this),this.tickleFilter&&this.tickleFilter.delegateEvents();for(var a=0;a<this.topicView.length;a++)this.topicView[a].delegateEvents()}}),Game.ReportCardTopicRow=Backbone.View.extend({constructor:function(a,b,c,d,e,f){this.reportView=a,this.entityId=b,this.learnerId=c,this.topic=d,this.contentScoring=e,this.levelObj=f,this.tickleLoader=!1,this.tickles=!1,this.el=$(_.template($.trim($("script#tmpl_learner_topic_row").html()),{topicName:_.escape(f.name)+"|"+_.escape(this.topic.name)})),this.isTicklesHidden=!0,Backbone.View.apply(this),this.loadTickleDetails()},events:{"click .hoverShow_hideIcon":"toggleTickleRows"},toggleTickleRows:function(){},showTickleRows:function(){this.isTicklesHidden=!1,this.$(".tickleDetailsContainer").slideDown(),this.$(".showTable").removeClass("showTable_Icon").addClass("hideTable_Icon")},hideTickleRows:function(){this.isTicklesHidden=!0,this.$(".tickleDetailsContainer").slideUp(),this.$(".showTable").addClass("showTable_Icon").removeClass("hideTable_Icon")},loadTickleDetails:function(){if(this.tickleLoader===!1){var a=this;this.$(".tickleDetails").html($("<img/>").attr("src",Game.Settings.loaderPic).addClass("paddingT10 paddingB10 textalign_C margin0_auto display_B")),this.reportView.requestManager.loadTopicDetails(this.entityId,this.learnerId,this.topic.id,Game.ReportCard.FeatureTypeReport).done(function(b){a.tickles=b.reportLearningObjects,a.loadedTickleDetails()})}},loadedTickleDetails:function(){if(this.tickleViews)for(var a=0;a<this.tickleViews.length;a++)this.tickleViews[a].remove();this.tickleViews=[],this.$(".tickleDetails").empty();for(var b=1,a=0;a<this.tickles.length;a++){var c=this.tickles[a],d=new Game.ReportCardBaseTickleRow(this.reportView,c,this.contentScoring,b);Game.ReportCardBaseTickleRow.isQuiz(c.type)&&b++,this.$(".tickleDetails").append(d.render()),this.tickleViews.push(d)}},render:function(){return this.delegateEvents(),this.$el}},{FeatureTypeReport:"TRAINING_REPORT"}),Game.ReportCardBaseTickleRow=Backbone.View.extend({constructor:function(a,b,c,d){this.reportView=a,this.tickle=b,this.contentScoring=c,this.qno=d,this.el=$(_.template($.trim($("script#tmpl_learner_tickle_row").html()))({})),Backbone.View.apply(this),null==this.tickle.title&&(this.tickle.title="NA"),this.$(".qTitle").html(this.tickle.title);var e=this.getTickleTypeText();this.$(".qType").text(e),this.$(".score").text(this.tickle.score+"/"+this.tickle.maxScore),this.isQuiz()||0!=this.contentScoring||0!=this.tickle.score||this.$(".score").text("NA"),"LO_MCQPOLL"==this.tickle.type||"LO_MCQTEXTPOLL"==this.tickle.type?this.$(".numLifelines").text("NA"):this.$(".numLifelines").text(this.tickle.lifelinesUsed),null==this.tickle.likeDislikeState&&(this.tickle.likeDislikeState="NA"),this.$(".like_dislike").text(this.tickle.likeDislikeState),null==this.tickle.completionText&&(this.tickle.completionText="NA"),this.$(".status").text(this.tickle.completionText),this.isQuiz()?this.$(".iconClass").removeClass("colorff").addClass("color99 qnsBackground").prepend("<span>Q"+this.qno+"</span>"):this.$(".iconClass").addClass(Game.ReportCardBaseTickleRow.getIconClass(this.tickle.type)),"NOT_STARTED"!=this.tickle.state&&"IN_PROGRESS"!=this.tickle.state||(this.$el.addClass("bg_fa"),this.$("td:gt(1)>div").html("&nbsp;"),this.$("td:eq(1)>div").text("Yet to attempt"))},isQuiz:function(){return Game.ReportCardBaseTickleRow.isQuiz(this.tickle.type)},getTickleTypeText:function(){var a=this.tickle.type;switch(this.tickle.type){case"LO_HANGMAN":a="Quiz | Guess Word";break;case"LO_MCQ_TXT":a="Quiz | Multiple Choice";break;case"LO_MCQ_IMG":a="Quiz | Multiple Choice Images";break;case"LO_MIXMATCH":a="Quiz | Match the Labels";break;case"LO_IMGMIXMATCH":a="Quiz | Match Image with Label";break;case"LO_MAP":a="Quiz | Find Locations on Map";break;case"LO_TEXT":a="Quiz | Text Answer";break;case"LO_TRUEFALSE":a="Quiz | True - False";break;case"LO_MCQPOLL":a="Poll | Multiple Choice";break;case"LO_MCQTEXTPOLL":a="Poll | Text Feedback";break;case"DOCUMENT_XLS":a="Spreadsheet",this.tickle.lifelinesUsed="NA";break;case"DOCUMENT_DOC":a="Document",this.tickle.lifelinesUsed="NA";break;case"DOCUMENT_PPT":a="Presentation",this.tickle.lifelinesUsed="NA";break;case"DOCUMENT_PDF":a="Document",this.tickle.lifelinesUsed="NA";break;case"VIDEO":a="Video",this.tickle.lifelinesUsed="NA";break;case"AUDIO":a="Audio",this.tickle.lifelinesUsed="NA";break;case"IMAGE":a="Image",this.tickle.lifelinesUsed="NA";break;case"SWF":a="Embeded Object",this.tickle.lifelinesUsed="NA";break;case"IFRAME":a="Embeded content",this.tickle.lifelinesUsed="NA";break;case"LOEMBEDURL":a="Embeded content",this.tickle.lifelinesUsed="NA";break;case"ARCHIVE":a="Embeded object",this.tickle.lifelinesUsed="NA";break;default:a="Media File",this.tickle.lifelinesUsed="NA"}return a},events:{"click .qTitle":"openTickle"},openTickle:function(){if("NOT_STARTED"!=this.tickle.state&&"IN_PROGRESS"!=this.tickle.state&&!this.loading)if(this.data)new Game.PreviewContentPopUp(null,this.data,{isFacto:!1,viewOnly:!0,factoEnabled:!1}).render();else{var a=this;this.loading=!0,this.reportView.requestManager.loadTickle(function(b){delete a.loading,a.data=b,new Game.PreviewContentPopUp(null,b,{isFacto:!1,viewOnly:!0,factoEnabled:!1}).render()},this.reportView.learnerId,this.tickle.id)}},loadedTickleData:function(){},render:function(){return this.delegateEvents(),this.$el}},{isQuiz:function(a){var b=!1;switch(a){case"LO_HANGMAN":case"LO_MCQ_TXT":case"LO_MCQ_IMG":case"LO_MIXMATCH":case"LO_IMGMIXMATCH":case"LO_MAP":case"LO_TEXT":case"LO_TRUEFALSE":b=!0}return b},getIconClass:function(a){return"LO_MCQPOLL"==a?"pollIcon":"LO_MCQTEXTPOLL"==a?"textPollIcon":"IMAGE"==a||"ALBUM"==a?"imageIcon":"VIDEO"==a?"videoIcon":"DOCUMENT_PDF"==a?"pdfIcon":"DOCUMENT_WORD"==a?"docIcon":"DOCUMENT_PPT"==a?"pptIcon":"DOCUMENT_XLS"==a?"xlsIcon":"AUDIO"==a?"audioIcon":"NOTE"==a?"noteIcon":"embedIcon"}}),Game.Tickle=Backbone.Model.extend({constructor:function(a,b){this.stop=a,this.staticData=b.staticData,this.userData=b.userData,this.gameSettings=b.gameSettings,this.qMedia=this.staticData.media,this.score=this.userData.score,this.saving=!1,this.numChangesUnsaved=0,Backbone.Model.apply(this),this.gameSettings.wrongAttempPanelty||(this.gameSettings.wrongAttempPanelty=10)},isFirstTickleOfModule:function(){return!!(Game.config.quick_update&&this.stop&&this.stop.children&&this.stop.children[0].id==this.staticData.id)},isNextTickleUnlocked:function(a){for(var b=!1,c=0;c<this.stop.children.length;c++)if(this.stop.children[c].id==a){if(this.stop.children[c+1]){var d=this.stop.children[c+1].id;(_.indexOf(this.stop.activeChildIds,d)>-1||_.indexOf(this.stop.completedChildIds,d)>-1)&&(b=!0)}break}return b},initialize:function(){this.userData.lifelineAnswers||(this.userData.lifelineAnswers=[]),this.userData.correctAttempts||(this.userData.correctAttempts=[]),this.userData.correctAnswers||(this.userData.correctAnswers=[]),this.userData.wrongAttempts||(this.userData.wrongAttempts=[]),this.userData.lifelineEliminations||(this.userData.lifelineEliminations=[]),this.prevUserState=$.extend({},this.userData),this.score=this.userData.score,this.serverScore=this.score},getQuestionText:function(){return Game.config.quick_update?this.staticData.quesText.replace(/\r\n/g,"<br/>").replace(/[\r\n]/g,"<br/>"):this.staticData.quesText},getAnsDesc:function(){return null},getFactopedia:function(){return this.staticData.showFacto?this.staticData.facto:[]},getGlobalLifelinesAvailable:function(){return window.courseInfo?(window.courseInfo.user||(window.courseInfo.user={}),window.courseInfo?courseInfo.user.totalLifelines-courseInfo.user.totalUsedLifelines:0):0},useGlobalLifeline:function(){window.courseInfo&&courseInfo.user.totalUsedLifelines++},reEvaluate:function(){Game.MixPanelTracking.track("Re Evaluating Entity",{"Content Type":"Course","Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.staticData.id,"Quiz Type":this.staticData.type}),AjaxWrapper.reEvaluateTickle(function(){Utils.Func.alertCustom(Game.Messages.ALERT_STALE_DATA,function(){location.reload()},Game.Messages.BTN_RELOAD)},function(){},this.entityId)},getObjectToSave:function(){var a={};for(var b in this.userData)null===this.userData[b]||"completionState"==b&&"SKIPPED"==a[b]||"state"==b||(a[b]=this.userData[b]);return"POLL"==this.userData.type&&"SKIPPED"==this.userData.completionState&&(delete this.userData.selectedOption,delete a.selectedOption),a},save:function(){if("undefined"!=typeof courseInfo&&courseInfo.settings&&!Utils.Func.isCourseActiveForLearner(courseInfo))return void this.trigger("tickle.saved");var a=this;if(this.saving)return void setTimeout(function(){a.save()},1e3);if(this.numChangesUnsaved<1)return void this.trigger("tickle.saved");this.saving=!0;var b=this.numChangesUnsaved;AjaxWrapper.saveTickle(this,this.getObjectToSave()).done(function(c){a.saving=!1,a.numChangesUnsaved-=b,a.postSave(c)})},postSave:function(a){if(this.userData=a.userLearningObjectVo,this.isActive()||mtBrodCastService.brodCast("reFreshHandouts",{}),this.score=this.userData.score,this.initialize(),this.trigger("updateView"),this.stop){for(var b=this.stop.level.training,c=0;c<b.rounds.size();c++)for(var d=b.rounds.at(c),e=0;e<d.stops.size();e++){var f=d.stops.at(e);f.updateState(a.updatedTopics[f.id])}this.stop.level.training.setUserCourseState(a.userGamificationEntityVo),$(".tickleScoreBar").length>0&&!$(".tickleScoreBar").parent().hasClass("ng-hide")&&eventManager.trigger("render.ScoreBar",$(".tickleScoreBar"),Game.ScoreBar.NO_BG)}this.trigger("tickle.saved")},giveHint:function(){this.userData.hintUsed=!0,this.trigger("updateView"),Game.GameView.playSound(Game.SOUNDS.HINT),Game.MixPanelTracking.track("Used Hint",{"Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.staticData.id,"Quiz Type":this.staticData.type})},updateRating:function(a){if(!this.isActive()||this instanceof Game.WebModuleTickle){var b=this;this.userData.likeDislikeState=a;var c=$.extend({},{"Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed&&courseInfo.fixed.name?courseInfo.fixed.name:void 0,"Content Id":courseInfo.fixed&&courseInfo.fixed.id?courseInfo.fixed.id:void 0,"Quiz Id":b.staticData.id?b.staticData.id:void 0,"File Type":b.staticData.media&&b.staticData.media.type?b.staticData.media.type:void 0,Action:a?a:void 0});AjaxWrapper.saveTickle(this,this.getObjectToSave()).done(function(a){b.postSave(a),b.trigger("rating.updated"),courseInfo&&b.staticData&&Game.MixPanelTracking.track("Liked a content file",c)})}},skipTickle:function(){this.userData.completionState="SKIPPED",this.calculateScore(),this.numChangesUnsaved++,this.trigger("updateView"),this.save(),Game.MixPanelTracking.track("Skip",{"Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.staticData.id,"Quiz Type":this.staticData.type})},getUpdateObject:function(){throw"Implement specific tickle function"},isActive:function(){return"IN_PROGRESS"==this.userData.state},getState:function(){return"COMPLETED"===this.userData.state?"Review":"IN_PROGRESS"===this.userData.state?"Resume":"Start"},putEngagementMatric:function(a,b,c){if("undefined"!=typeof courseInfo&&"undefined"!=typeof appSettings&&!appSettings.isPreview){var d={type:"learningObjectEngagement",data:{}};d.data.eventType="learningObjectEngagement",d.data.userId=learnerJson.id,d.data.entityId=courseInfo.fixed.id,d.data.seriesId=courseInfo.seriesVo?courseInfo.seriesVo.id:null,d.data.loId=this.staticData.id,this.staticData.media?d.data.mediaId=this.staticData.media.id:d.data.mediaId=null,d.data.isStart=a,d.data.source="web",d.data.event_timestamp=(new Date).getTime(),d.data.context=b,d.data.playsequence=c,d.data.timezone=(new Date).getTimezoneOffset(),Game.MixPanelTracking.putEngagementMatric(d)}}},{createTickle:function(a,b,c){var d={LO_LEARNING_CONTENT_EMPTY:Game.WebModuleTickle,LO_EMBED:Game.WebModuleTickle,LO_ASSETTED_MEDIA:Game.WebModuleTickle,LO_HANGMAN:Game.HangmanTickle,LO_MCQ_TXT:Game.McqTickle,LO_MCQPOLL:Game.McqPollTickle,LO_MCQTEXTPOLL:Game.McqTextPollTickle,LO_MCQ_IMG:Game.McqTickle,LO_MIXMATCH:Game.MixmatchTickle,LO_IMGMIXMATCH:Game.ImageMixmatchTickle,LO_MAP:Game.WorldMapTickle,LO_TEXT:Game.TextTickle,LO_TRUEFALSE:Game.BooleanTickle,LO_SYNDICATE:Game.SyndicateTickle};if(d[b.staticData.type]){var e=new d[b.staticData.type](a,b);return e.entityId=c,e}Utils.Func.alert(Game.Messages.TICKLE_ERR_UNKNOWN)},ACTIVE:1,ATTEMPT_OVER:-3,SKIP:-4,SOLVED:0}),Game.Tickles=Backbone.Collection.extend({model:Game.Tickle,getActiveTickle:function(){return this.find(function(a){return a.isActive()})}}),Game.NavItem=Backbone.View.extend({constructor:function(a,b,c,d){switch(this.navTickle=b,this.stop=c,this.currTickleId=d,this.inc=0,this.navTickle.type){case"LO_LEARNING_CONTENT_EMPTY":var e="playIcon";switch(this.navTickle.subtype){case"IMAGE":case"ALBUM":e="images_content";break;case"DOCUMENT_WORD":case"DOCUMENT_DOC":e="doc_content";break;case"DOCUMENT_PPT":e="ppt_content";break;case"DOCUMENT_XLS":e="xls_content";break;case"DOCUMENT_PDF":e="pdf_content";break;case"VIDEO":e="video_content";break;case"AUDIO":e="audio_content";break;case"YOUTUBE":case"BRAINSHARK":case"EMBED":e="embed_content";break;case"IMG_MASH_UP":e="mashup_content";break;case"NOTE":e="note_content";break;default:e="embed_content"}this.el=$('<div class="qnsTab floatL marginR7 qnsNavItem pos_rel"><div class="'+e+'"></div></div>');break;case"LO_MCQPOLL":this.el=$('<div class="qnsTab floatL marginR7 qnsNavItem pos_rel"><div class="poll_content"></div></div>');break;case"LO_MCQTEXTPOLL":this.el=$('<div class="qnsTab floatL marginR7 qnsNavItem pos_rel"><div class="textPoll_content"></div></div>');break;case"LO_EMBED":this.el=$('<div class="qnsTab floatL marginR7 qnsNavItem pos_rel"><div class="qnoText"></div></div>'),$(".qnoText",this.el).text("M");break;case"LO_SYNDICATE":this.el=$('<div class="qnsTab floatL marginR7 qnsNavItem pos_rel"><div class="qnoText"></div></div>'),$(".qnoText",this.el).text("S");break;case"LO_ASSETTED_MEDIA":e="mashup_content",this.el=$('<div class="qnsTab floatL marginR7 qnsNavItem pos_rel"><div class="'+e+'"></div></div>');break;default:this.el=$('<div class="qnsTab floatL marginR7 qnsNavItem pos_rel"><div class="qnoText"></div></div>'),$(".qnoText",this.el).text(Game.Messages.TICKLE_SHORTNAME_PREFIX+a),this.inc=1}$('<div class="unlockedQTickIcon pos_abs" style="right:0px;top:-4px;"></div>').appendTo(this.el),d==this.navTickle.id&&this.el.addClass("current"),Backbone.View.apply(this),_.indexOf(this.stop.completedChildIds,this.navTickle.id)==-1&&this.$(".unlockedQTickIcon").remove(),this.constructLockMsg()},events:{click:"open"},hideLockedPopUpMsg:function(){$(".lockedContentMsgPopUp").hide()},constructLockMsg:function(){if("undefined"!=typeof locale&&"en"==locale){for(var a="content",b=0;b<this.stop.tickleTypes.length;b++)if(this.stop.tickleTypes[b].id==this.navTickle.id&&0!=b){a=Game.NavItem.getContentType(this.stop.tickleTypes[b-1].type);break}this.lockMsg="This "+Game.NavItem.getContentType(this.navTickle.type)+" is locked. To unlock this "+Game.NavItem.getContentType(this.navTickle.type)+", please complete the previous "+a+"."}else this.lockMsg=Game.Messages.LB_TXT_CONTENT_LOCKED},open:function(a){var b=!1;return appSettings.isPreview||Utils.Func.isCourseActiveForLearner(courseInfo)||_.indexOf(this.stop.activeChildIds,this.navTickle.id)==-1&&_.indexOf(this.stop.lockedChildIds,this.navTickle.id)==-1?_.indexOf(this.stop.activeChildIds,this.navTickle.id)==-1&&_.indexOf(this.stop.completedChildIds,this.navTickle.id)==-1&&(b=this.lockMsg):b=Game.Messages.TXT_CONTENT_LOCKED_DUE_DATE,b?($(".lockedContentMsg").text(b),$(".lockedContentMsgPopUp").css({left:this.$el.position().left-18}).show(),this.listenTo(eventManager,Game.CONST.CLOSE_TIPS,this.hideLockedPopUpMsg),void a.stopPropagation()):void(this.$el.hasClass("current")||(eventManager.trigger(Game.CONST.RELOAD_TICKLE_WINDOW),this.trigger("tickle.opensolved",this.navTickle.id)))},render:function(){return this.$el},addClass:function(a){this.$el.addClass(a)}},{getContentType:function(a){var b="content";switch(a){case"LO_HANGMAN":case"LO_MCQ_TXT":case"LO_MCQ_IMG":case"LO_MIXMATCH":case"LO_IMGMIXMATCH":case"LO_MAP":case"LO_TEXT":case"LO_TRUEFALSE":b="quiz";break;case"LO_MCQPOLL":b="poll";break;case"LO_MCQTEXTPOLL":b="feedback"}return b}}),Game.TickleView=Backbone.View.extend({constructor:function(a,b,c){void 0==typeof appSettings&&(window.appSettings={isPreview:!0});var d={viewOnly:!1,navigation:!0,factoEnabled:!0,isLastRound:!1};c=c||{},this.options=$.extend(d,c),a.stop||(this.options.navigation=!1),this.tickle=a,this.container=b,this.tickleStartState=this.tickle.userData.state;var e=Game.Messages.TICKLE_Q_TXT;"LO_MCQPOLL"==this.tickle.staticData.type?e=Game.Messages.TICKLE_POLL_TXT:"LO_MCQTEXTPOLL"==this.tickle.staticData.type&&(e=Game.Messages.TICKLE_TEXT_POLL_TXT),this.el=$(_.template($("script#tmpl_tickleArea").html().trim())({qText:a.getQuestionText(),skipBtnTxt:Game.Messages.SKIP_BTN_TXT,nextQBtnTxt:Game.Messages.NEXTQ_BTN_TXT,nextTBtnTxt:Game.Messages.NEXTT_BTN_TXT,doneBtnTxt:Game.Messages.BTN_DONE_TEXT,hintBtnTxt:Game.Messages.HINT_BTN_TXT,llBtnTxt:Game.Messages.LL_BTN_TXT,Q:e,A:Game.Messages.TICKLE_A_TXT,welldone:Game.Messages.TICKLE_WELL_DONE,tryAgain:Game.Messages.TICKLE_TRY_AGAIN,exitBtnTxt:Game.Messages.BTN_EXIT,score:0})),Backbone.View.apply(this),Utils.Func.isMobileBrowser()&&$(".mobileCustom",this.el).css({bottom:"-61px",position:"absolute"}),this.isLastQ=this.tickle.stop&&this.tickle.staticData.id==this.tickle.stop.children[this.tickle.stop.children.length-1].id,this.tickle.staticData.textHint&&""!=this.tickle.staticData.textHint||$(".hintBtn",this.el).remove(),$(".numLL",this.el).text(this.tickle.staticData.numLifelines-this.tickle.userData.lifelineAnswers.length),this.tickle.staticData.allowSkip?$(".skipBtn",this.el).show().attr("aria-label","Skip"):$(".skipBtn",this.el).remove(),this.tickle.staticData.numLifelines<1&&this.$(".lifeLineBtn").hide();var f={LO_HANGMAN:Game.HangmanAnswerView,LO_MCQ_TXT:Game.McqAnswerView,LO_MCQPOLL:Game.McqPollAnswerView,LO_MCQTEXTPOLL:Game.McqTextPollAnswerView,LO_MCQ_IMG:Game.McqImageAnswerView,LO_MIXMATCH:Game.MixmatchAnswerView,LO_IMGMIXMATCH:Game.ImageMixmatchAnswerView,LO_MAP:Game.WorldMapAnswerView,LO_TEXT:Game.TextAnswerView,LO_TRUEFALSE:Game.BooleanAnswerView};if(f[a.staticData.type]?this.answerView=new f[a.staticData.type](a,this.$(".ansDiv")):Utils.Func.alert(Game.Messages.TICKLE_ERR_UNKNOWN),this.updateTopNavigationBar(),this.options.navigation?this.listenTo(a.stop,"updated.topic",this.updateTopNavigationBar):this.$(".nextQ,.nextT").hide(),this.listenTo(a,"updateView",this.updateView),this.listenTo(a,"updateView.wrong.option",this.showRemainingWrongAttemptsTooltip),this.listenTo(a,"nolifeline",this.showLLPopUp),this.listenTo(this.tickle,"rating.updated",this.updateRatingDiv),this.listenTo(eventManager,Game.CONST.GOBACK_FROM_TICKLE,this.saveTickle),this.listenTo(eventManager,Game.CONST.SAVE_SCORE,this.saveTickle),this.listenTo(eventManager,Game.CONST.RELOAD_TICKLE_WINDOW,this.saveTickle),this.tickle.isActive())if(this.isActiveAtStart=!0,this.isLastQ&&Game.config.quick_update)this.$(".exitUpdate").addClass("disable").show();else if(this.isLastQ)this.tickle.stop.isLastTopic&&this.tickle.stop.level.isLastRound?this.$(".doneCourse").addClass("disable").show():this.$(".nextT").addClass("disable").show().attr("aria-label",Game.Messages.LB_TXT_COMPLETE_LOCKED_CONTENT);else{var g=this.$(".nextQ");this.tickle.isNextTickleUnlocked(this.tickle.staticData.id)||g.addClass("disable").attr("aria-label",Game.Messages.LB_TXT_COMPLETE_LOCKED_CONTENT),g.show()}else this.isActiveAtStart=!1;if(this.tickle.isActive()&&!this.options.viewOnly&&!appSettings.isPreview){var h=this;window.onbeforeunload=function(){return h.saveTickle(),null}}if(this.tickle.stop&&this.tickle.stop.tickleTypes?(this.$(".tickleSlideBigDiv").css({width:58*this.tickle.stop.tickleTypes.length}),this.resizeContextWrapper=_.bind(this.resizeContext,this),$(window).on("resize",this.resizeContextWrapper),this.listenTo(eventManager,"sideBarStateChanged",this.resizeContext)):this.$(".tickleSlideLeft,.tickleSlideRight").hide(),"undefined"!=typeof courseInfo&&"undefined"!=typeof appSettings&&!appSettings.isPreview){var i={"Visit Type":"Review","Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.tickle.staticData.id,"Quiz Type":this.tickle.staticData.type};this.tickle.isActive()&&(i["Visit Type"]="Start"),Game.MixPanelTracking.track("View Quiz",i)}appSettings.isPreview||this.tickle.putEngagementMatric(!0,"tickle",this.tickle.playSequence?this.tickle.playSequence:{})},remove:function(){this.tickle.putEngagementMatric(!1,"tickle",this.tickle.playSequence?this.tickle.playSequence:{}),this.exitPlayer(),this.isRemoved=!0,this.answerView&&this.answerView.remove(),Backbone.View.prototype.remove.call(this),$(window).off("resize",this.resizeContextWrapper),clearTimeout(this.idleTimeout)},resizeContext:function(a){this instanceof Game.WebModuleView?appSettings.isPreview?this.$(".fsarea").css({height:$(window).height()-226,"min-height":"400px"}):this.$(".fsarea").css({height:$(window).height()-176,"min-height":"440px"}):appSettings.isPreview?this.$(".tickleHeaderDiv").css({height:$(window).height()-272,"min-height":"341px"}):this.$(".tickleHeaderDiv").css({height:$(window).height()-222,"min-height":"391px"});var b=this.$(".tickleSlideBigDiv").parent(),c=b.width()+parseInt(b.css("margin-left"))+parseInt(b.css("margin-right")),d=58;null!=this.tickle.stop&&null!=this.tickle.stop.tickleTypes&&(d=58*this.tickle.stop.tickleTypes.length),c<d?(this.$(".tickleSlideLeft,.tickleSlideRight").show(),b.css({margin:"0 37px"})):(b.css({margin:0}),this.$(".tickleSlideLeft,.tickleSlideRight").hide())},showRemainingWrongAttemptsTooltip:function(){this.tickle.staticData.numWrong>0&&this.tickle.userData.wrongAttempts.length>0&&this.tickle.isActive()&&(tl=_.template(Game.Messages.WRONG_ATTEMPT_TXT)({n:this.tickle.staticData.numWrong-this.tickle.userData.wrongAttempts.length}),$(".wrongAttemptDiv .popupDiv .attemtRem_Div",this.el).text(tl),$(".rightAttemptDiv .popupDiv").hide(),$(".wrongAttemptDiv .popupDiv",this.el).show(0).delay(2e3).hide(0))},doneCourse:function(a){a&&a.target&&a.target.parentElement&&$(a.target.parentElement).hasClass("disable")||this.completedCourse()},completedCourse:function(){mtBrodCastService.brodCast("destroy.lb",{});eventManager.trigger(Game.CONST.GOBACK_FROM_TICKLE),setTimeout(function(){if(appSettings.isPreview){var a=location.hash.split("?");location.hash=a[0]+"/info?"+a[1]}else if("COMPLETED"==courseInfo.user.status&&Utils.Func.isNextModulePopUpEnabled())Utils.Func.showNextModulePopUp(courseInfo.seriesVo.id);else{
var a=location.hash.split("?");location.hash=a[0]+"/info?"+a[1]}},800)},getNextLockedMessage:function(){var a="Please complete this "+Game.NavItem.getContentType(this.tickle.staticData.type)+" to proceed.";return"undefined"!=typeof locale&&"en"!=locale&&(a=Game.Messages.LB_TXT_COMPLETE_LOCKED_CONTENT),a},hideLockedNextPopUp:function(){this.$(".lockedNextMsgPopUp").hide()},showNextQ:function(a){if(_.indexOf(this.tickle.stop.completedChildIds,this.tickle.staticData.id)===-1&&"COMPLETED"===this.tickle.userData.state&&!this.tickle.saving)return void this.tickle.reEvaluate();if(a&&$(a.currentTarget).hasClass("disable"))return this.$(".lockedNextMsg").text(this.getNextLockedMessage()),this.$(".lockedNextMsgPopUp").show(),this.listenTo(eventManager,Game.CONST.CLOSE_TIPS,this.hideLockedNextPopUp),void a.stopPropagation();if(this.tickle.saving)return void this.listenToOnce(this.tickle,"tickle.saved",this.showNextQ);if(this.saveTickle(),Game.MixPanelTracking.track("Clicked Next Question",{"Content Type":"Course","Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.tickle.staticData.id,"Quiz Type":this.tickle.staticData.type}),this.isLastQ&&Game.config.quick_update)return void this.exitQuickUpdate();if(this.isLastQ)return this.isActiveAtStart&&!this.tickle.isActive()&&"COMPLETED"==courseInfo.user.status?void this.completedCourse():void eventManager.trigger(Game.CONST.GOBACK_FROM_TICKLE);for(var b=0;b<this.tickle.stop.children.length;b++)if(this.tickle.stop.children[b].id==this.tickle.staticData.id){var c=this.tickle.stop.children[b+1].id;if(Game.config.quick_update)return void this.trigger("tickle.opensolved",c);if(!appSettings.isPreview&&Utils.Func.isCourseActiveForLearner(courseInfo)&&this.tickle.stop.activeChildIds.length>0&&_.indexOf(this.tickle.stop.activeChildIds,c)==-1&&(c=this.tickle.stop.activeChildIds[0]),_.indexOf(this.tickle.stop.completedChildIds,c)||_.indexOf(this.tickle.stop.activeChildIds,c))return void this.trigger("tickle.opensolved",c)}return console.error("upgrade case probably. cant go to next. trying to go to first active"),this.tickle.stop.activeChildIds.length>0?void this.trigger("tickle.opensolved",this.tickle.stop.activeChildIds[0]):(console.error("no active question. send to first solved.should never be here"),this.tickle.stop.completedChildIds.length>0?void this.trigger("tickle.opensolved",this.tickle.stop.completedChildIds[0]):(Game.MixPanelTracking.track("Failed to execute Next Question",{"Content Type":"Course","Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.tickle.staticData.id,"Quiz Type":this.tickle.staticData.type}),console.error("all question locked and this is not locked. some error maybe in server"),eventManager.trigger(Game.CONST.GOBACK_FROM_TICKLE),void(this.isMouseDown=!1)))},exitQuickUpdate:function(a){if(a&&$(a.currentTarget).hasClass("disable"))return this.$(".lockedNextMsg").text(this.getNextLockedMessage()),this.$(".lockedNextMsgPopUp").show(),this.listenTo(eventManager,Game.CONST.CLOSE_TIPS,this.hideLockedNextPopUp),void a.stopPropagation();var b=this.tickle;this.stopListening(b,"updateView",this.updateView),this.stopListening(b,"updateView.wrong.option",this.showRemainingWrongAttemptsTooltip),this.stopListening(b,"nolifeline",this.showLLPopUp),this.stopListening(b,"rating.updated",this.updateRatingDiv),this.stopListening(eventManager,Game.CONST.GOBACK_FROM_TICKLE,this.saveTickle),this.stopListening(eventManager,Game.CONST.SAVE_SCORE,this.saveTickle),this.stopListening(eventManager,Game.CONST.RELOAD_TICKLE_WINDOW,this.saveTickle),this.saveTickle(),this.exitPlayer(),mtBrodCastService.brodCast("destroy.lb",{}),appSettings.isPreview?$(".previewBackBtn").click():"COMPLETED"==courseInfo.user.status&&Utils.Func.isNextModulePopUpEnabled()?Utils.Func.showNextModulePopUp(courseInfo.seriesVo.id):Game.BaseGameModel.exitGame()},openTickle:function(){this.trigger("tickle.openactive")},openSolved:function(a){a!=this.tickle.staticData.id&&(_.indexOf(this.tickle.stop.lockedChildIds,a)>-1||this.trigger("tickle.opensolved",a))},saveTickle:function(){this.stopListening(eventManager,Game.CONST.GOBACK_FROM_TICKLE,this.saveTickle),this.stopListening(eventManager,Game.CONST.RELOAD_TICKLE_WINDOW,this.saveTickle),this.tickle.isActive()&&this.tickle.save(),this.player&&this.player.exit()},events:{"click .skipBtn":"skipTickle","keypress .skipBtn":"skipTickleKeyPress","click .ratingDiv .like_dislike_div .Like_Icon":"rateUp","keypress .ratingDiv .like_dislike_div .Like_Icon":"rateUpKeyPress","click .ratingDiv .like_dislike_div .disLike_Icon":"rateDown","keypress .ratingDiv .like_dislike_div .disLike_Icon":"rateDownKeyPress","click .nextQ":"showNextQ","keypress .nextQ":"nextQKeyPress","click .nextT":"showNextQ","keypress .nextT":"nextTKeyPress","click .lifeLineBtn":"giveLifeline","click .hintBtn":"giveHint","click .volume":"toggleVolume","click .doneCourse":"doneCourse","keypress .doneCourse":"doneCourseKeyPress","mouseover .finalTickleState>div:eq(1)":"showScoreDetails","mouseout  .finalTickleState>div:eq(1)":"hideScoreDetails","click .mediaDiv":"zoomContent","click .exitUpdate":"exitQuickUpdate","keypress .exitUpdate":"exitQuickUpdateKeyPress","mousedown .tickleSlideLeft":"tickleSlideLeft","mousedown .tickleSlideRight":"tickleSlideRight"},nextQKeyPress:function(a){32==a.keyCode&&this.showNextQ()},nextTKeyPress:function(a){32==a.keyCode&&this.showNextQ()},doneCourseKeyPress:function(a){32==a.keyCode&&this.doneCourse(a)},exitQuickUpdateKeyPress:function(a){32==a.keyCode&&this.exitQuickUpdate()},skipTickleKeyPress:function(a){32==a.keyCode&&this.skipTickle()},tickleSlideLeft:function(a){if(console.log("slideleft ",eventManager.mousePressed),a||eventManager.mousePressed){var b=this.$(".tickleSlideBigDiv").parent();b.stop().animate({scrollLeft:b.scrollLeft()-60},200,"linear",_.bind(this.tickleSlideLeft,this))}},tickleSlideRight:function(a){if(console.log("slideright ",eventManager.mousePressed),a||eventManager.mousePressed){var b=this.$(".tickleSlideBigDiv").parent();b.stop().animate({scrollLeft:b.scrollLeft()+60},200,"linear",_.bind(this.tickleSlideRight,this))}},zoomContent:function(){this.tickle.qMedia&&"IMAGE"==this.tickle.qMedia.type&&this.isLargeImage&&(this.zoomContentView||(this.zoomContentView=new Game.ZoomContentViewer(this.tickle.qMedia)),this.zoomContentView.render())},toggleVolume:function(){Game.GameView.toggleMute()>0?$(".volume").removeClass("mute"):$(".volume").addClass("mute")},showScoreDetails:function(){var a=this.$(".qnsansArea>.scoreDetails");a.is(":visible")||this.$(".qnsansArea>.scoreDetails").show()},hideScoreDetails:function(){var a=this.$(".qnsansArea>.scoreDetails");a.is(":visible")&&this.$(".qnsansArea>.scoreDetails").hide()},giveLifeline:function(){this.tickle.giveLifeline()},giveHint:function(){this.tickle.giveHint()},rateUp:function(a){"LIKE"==this.tickle.userData.likeDislikeState?this.tickle.updateRating("NEUTRAL"):this.tickle.updateRating("LIKE"),this.options.isPreview?this.$(".myStatus").removeClass("colorff").addClass("color00"):this.$(".myStatus").removeClass("color00").addClass("colorff")},rateDown:function(){"DISLIKE"==this.tickle.userData.likeDislikeState?this.tickle.updateRating("NEUTRAL"):this.tickle.updateRating("DISLIKE")},getFinalMsg:function(){var a="";return a="LO_MCQPOLL"==this.tickle.staticData.type?Game.Messages.TICKLE_SOLVED_TXT6:this.tickle.userData.score==this.tickle.staticData.maxScore?Game.Messages.TICKLE_SOLVED_TXT1:this.tickle.userData.score>=.9*this.tickle.staticData.maxScore?Game.Messages.TICKLE_SOLVED_TXT2:this.tickle.userData.score>=.7*this.tickle.staticData.maxScore?Game.Messages.TICKLE_SOLVED_TXT3:this.tickle.userData.score>=.4*this.tickle.staticData.maxScore?Game.Messages.TICKLE_SOLVED_TXT4:Game.Messages.TICKLE_SOLVED_TXT5},gameOver:function(){this.tickle.isActive()||(window.onbeforeunload=null),this.$(".nextT,.nextQ").removeClass("disable").attr("aria-label","Move to next learning object"),this.$(".exitUpdate").removeClass("disable").attr("aria-label","Exit to series"),this.$(".doneCourse").removeClass("disable").attr("aria-label","Done"),$(".wrongAttemptDiv .popupDiv",this.el).remove(),$(".rightAttemptDiv .popupDiv").remove(),$(".finalTickleState",this.el).html("");var a=$('<div class="floatL marginT11 marginR7"></div>'),b=$('<div class="floatL lineHeight49"></div>'),c=$('<div class="floatL Bg_00 lineHeight34 paddingL10 paddingR10 marginT6 marginL20"><div class="floatL plusIcon marginR5 marginT11"></div><div class="floatL colorffe384 F20 score"></div><div class="clear"></div></div>');if("CORRECT"==this.tickle.userData.completionState){a.addClass("yellowThumbs_Up");var d=this.getFinalMsg();b.addClass("colorffe384 F18").text(d),$(".score",c).text(this.tickle.userData.score)}else"WRONG"==this.tickle.userData.completionState?(a.addClass("weepingIcon"),b.addClass("colorff9078 F18").text(Game.Messages.TICKLE_UNSOLVED_TXT),$(".plusIcon",c).removeClass("plusIcon").addClass("colorPlus_Icon"),$(".score",c).removeClass("colorffe384 F20").addClass("colorff9078 F20").text(this.tickle.userData.score)):"SKIPPED"==this.tickle.userData.completionState?(a.addClass("weepingIcon"),b.addClass("colorff9078 F18").text(Game.Messages.TICKLE_SKIPPED_TXT),$(".plusIcon",c).removeClass("plusIcon").addClass("colorPlus_Icon"),isNaN(this.tickle.userData.score)&&(this.tickle.userData.score=0),$(".score",c).removeClass("colorffe384 F20").addClass("colorff9078 F20").text(this.tickle.userData.score)):(a.addClass("weepingIcon"),b.addClass("colorff9078 F18").text(this.getFinalMsg()),$(".plusIcon",c).removeClass("plusIcon").addClass("colorPlus_Icon"),$(".score",c).removeClass("colorffe384 F20").addClass("colorff9078 F20").text(this.tickle.userData.score));$(".finalTickleState",this.el).append(b).append(c),"IN_PROGRESS"==this.tickleStartState?Utils.Func.isCSS3("transition")?$(".finalTickleStateP",this.el).removeClass("display_N").css("margin-top","0px"):$(".finalTickleStateP",this.el).animate({"margin-top":"0px"},400):($(".activeQst",this.el).hide(),$(".finalTickleStateP",this.el).removeClass("display_N finalTickleStateP").css("margin-top","0px").show()),$(".skipBtn",this.el).hide(),this.options.navigation?this.tickle.staticData.id==this.tickle.stop.children[this.tickle.stop.children.length-1].id?Game.config.quick_update?this.$(".exitUpdate").show().attr("aria-label","Exit to series"):this.tickle.stop.isLastTopic&&this.tickle.stop.level.isLastRound?($(".nextT",this.el).hide(),$(".doneCourse",this.el).show().attr("aria-label","Done")):($(".doneCourse",this.el).hide(),$(".nextT",this.el).show().attr("aria-label","Move to next learning object")):$(".nextQ",this.el).show().attr("aria-label","Move to next learning object"):($(".nextT",this.el).hide(),$(".nextQ",this.el).hide(),$(".doneCourse",this.el).hide()),this.updateRatingDiv(!0);var e=Math.min(this.tickle.staticData.maxScore,this.tickle.userData.wrongAttempts.length*this.tickle.gameSettings.wrongAttempPanelty),f=$('<div class="pos_abs scoreDetails display_N color00 F13" style=" background: #fff; min-width: 175px; border-radius: 3px; padding: 5px; top: 447px;  z-index: 2;left: 600px;border: 1px solid #ccc;direction: ltr;"><div class="triangleLeft_28_14 pos_abs" style="left: -14px;top: 21px;z-index:1;height: 24px;"></div><div style="padding:5px"><div class="marginT5 correctAnswerScoreDiv">'+Game.Messages.LB_TXT_CORRECT_ANS+" : +"+this.tickle.userData.score+'</div><div class="marginT10 wrongAnswerScoreDiv">'+Game.Messages.LB_TXT_WRONG_ATTEMPTS+" : -"+e+"</div></div></div>");this.$(".qnsansArea .scoreDetails").length>0&&this.$(".qnsansArea .scoreDetails").remove(),$(".qnsansArea",this.el).append(f),"LO_TRUEFALSE"!=this.tickle.staticData.type&&"LO_MCQPOLL"!=this.tickle.staticData.type&&"LO_MCQTEXTPOLL"!=this.tickle.staticData.type||($(".wrongAnswerScoreDiv",f).remove(),$(".correctAnswerScoreDiv",f).addClass("paddingB20"));try{f.css({top:this.$(".finalTickleState").offset().top-60,left:this.$(".finalTickleState>div:eq(1)").offset().left+75})}catch(g){}},showLLPopUp:function(){var a=Game.Messages.LIFELINES_USED_TXT;this.tickle.getGlobalLifelinesAvailable()<1&&(a=Game.Messages.LIFELINES_OVER_TXT),$(".lifeLineBtn .llTxt",this.el).text(a),$(".lifeLineBtn .popupDiv",this.el).show(0).delay(3e3).hide(0),$(".hintBtn .popupDiv",this.el).hide()},updateView:function(a){var b=null,c={};if(this.tickle.staticData&&this.tickle.staticData.media&&this.tickle.staticData.media.mediaLoPreference){var d=null;d=appSettings.isPreview?parent.Dashboard.defaultLsSettings:companySettings.lsSettings,b=this.tickle.staticData.media.mediaLoPreference.hideTranscription||!(d&&d.enableTranscription),b||(c=Game.WebModuleTickle.getTrackTickleData(this.tickle))}if(this.options.viewOnly&&!this.tickle.isActive())return this.delegateEvents(),this.answerView.delegateEvents(),$(".skipBtn",this.el).hide(),this.options.factoEnabled?this.tickle.stop?mtBrodCastService.brodCast("sidebarData",{facto:this.tickle.getFactopedia(),vpId:this.tickle.stop.staticInfo.id,hideTranscription:b,transcriptionMixpanelData:c}):mtBrodCastService.brodCast("sidebarData",{facto:this.tickle.getFactopedia(),hideTranscription:b,transcriptionMixpanelData:c}):mtBrodCastService.brodCast("sidebarData",{hideTranscription:b,transcriptionMixpanelData:c}),this.updateWrongAttempt(),$(".numLL",this.el).text(this.tickle.getGlobalLifelinesAvailable()),this.tickle.userData.hintUsed&&($(".hintBtn .hintTxt",this.el).html(this.tickle.staticData.textHint),$(".hintBtn .popupDiv",this.el).is(":visible")?$(".hintBtn .popupDiv",this.el).hide():$(".hintBtn .popupDiv",this.el).show()),void this.answerView.updateView();if(this.tickle.isActive())this.updateWrongAttempt(),$(".numLL",this.el).text(this.tickle.getGlobalLifelinesAvailable()),this.tickle.userData.hintUsed&&($(".hintBtn .hintTxt",this.el).html(this.tickle.staticData.textHint),$(".hintBtn .popupDiv",this.el).is(":visible")?$(".hintBtn .popupDiv",this.el).hide():$(".hintBtn .popupDiv",this.el).show()),mtBrodCastService.brodCast("sidebarData",{facto:[],hideTranscription:b,transcriptionMixpanelData:c});else{if(!a&&"IN_PROGRESS"==this.tickleStartState){var e=this;this.undelegateEvents(),this.answerView.undelegateEvents();var f=this.tickle.userData.state;return this.tickle.userData.state="IN_PROGRESS",this.answerView.updateView(),this.tickle.userData.state=f,setTimeout(function(){e.isRemoved||e.updateView(!0)},1e3),$(".activeQst .popupDiv",this.el).hide(),void $(".finalTickleStateP",this.el).removeClass("display_N").parent().addClass("ofh")}this.delegateEvents(),this.answerView.delegateEvents(),this.options.factoEnabled?this.tickle.stop?mtBrodCastService.brodCast("sidebarData",{facto:this.tickle.getFactopedia(),vpId:this.tickle.stop.staticInfo.id,hideTranscription:b,transcriptionMixpanelData:c}):mtBrodCastService.brodCast("sidebarData",{facto:this.tickle.getFactopedia(),hideTranscription:b,transcriptionMixpanelData:c}):mtBrodCastService.brodCast("sidebarData",{hideTranscription:b,transcriptionMixpanelData:c}),this.gameOver()}this.answerView.updateView()},updateRatingDiv:function(){return this.tickle.gameSettings.enableLikeDislike===!1||this.options.viewOnly?void $(".ratingDiv",this.el).remove():($(".ratingDiv",this.el).show(),void("NEUTRAL"==this.tickle.userData.likeDislikeState?($(".ratingDiv .like_dislike_div .Like_Icon",this.el).removeClass("liked").show().attr("aria-label","Click to liked content"),$(".ratingDiv .like_dislike_div .disLike_Icon",this.el).removeClass("disliked").show().attr("aria-label","Click to dislike content"),$(".ratingDiv .myStatus",this.el).text("").hide()):"LIKE"==this.tickle.userData.likeDislikeState?($(".ratingDiv .like_dislike_div .Like_Icon",this.el).addClass("liked").attr("aria-label","Click to unselect liked content "),$(".ratingDiv .like_dislike_div .disLike_Icon",this.el).removeClass("disliked").attr("aria-label","Click to disliked content"),$(".ratingDiv .myStatus",this.el).text(Game.Messages.MSG_LIKED_TICKLED).show()):"DISLIKE"==this.tickle.userData.likeDislikeState&&($(".ratingDiv .like_dislike_div .Like_Icon",this.el).removeClass("liked").attr("aria-label","Click to like content"),$(".ratingDiv .like_dislike_div .disLike_Icon",this.el).addClass("disliked").attr("aria-label"," Click to unselect disliked content"),$(".ratingDiv .myStatus",this.el).text(Game.Messages.MSG_UNLIKED_TICKLED).show())))},rateUpKeyPress:function(a){32==a.keyCode&&this.rateUp()},rateDownKeyPress:function(a){32==a.keyCode&&this.rateDown()},updateTranscriptionColumn:function(){var a=null;a=appSettings.isPreview?parent.Dashboard.defaultLsSettings:companySettings.lsSettings,a&&a.enableTranscription&&(this.transcriptionView||(this.transcriptionView=new Game.TranscriptionView(this.tickle,$(".transcriptionCol"))),localStorage&&void 0==localStorage.transcription_init_popup_learner&&$(".tr-firstTimeMsg-msg").show())},updateTopNavigationBar:function(){if($(".qnsNav",this.el).html(""),this.options.navigation){var a=1;if(this.navItems)for(var b=0;b<this.navItems.length;b++)this.navItems[b].remove();this.navItems=[];for(var b=0;b<this.tickle.stop.children.length;b++){var c=new Game.NavItem(a,this.tickle.stop.children[b],this.tickle.stop,this.tickle.staticData.id);a+=c.inc;var d=$('<div class="floatL marginT10 marginR7"></div>');$(".qnsNav",this.el).append(c.render()),$(".qnsNav",this.el).append(d),this.tickle.stop.children[b+1]&&(_.indexOf(this.tickle.stop.completedChildIds,this.tickle.stop.children[b+1].id)>-1?d.addClass("unlockIcon"):_.indexOf(this.tickle.stop.lockedChildIds,this.tickle.stop.children[b+1].id)>-1?d.addClass("lockIcon"):d.addClass("unlockIcon")),this.listenTo(c,"tickle.openactive",this.openTickle),this.listenTo(c,"tickle.opensolved",this.openSolved),this.navItems.push(c)}this.resizeContext()}},updateWrongAttempt:function(){if(this.tickle instanceof Game.TextTickle&&this.tickle.totalMissedClicks>5)return $(".wrongAttemptDiv",this.el).hide(),void this.answerView.updateWrongAttempt();if(this.tickle instanceof Game.BooleanTickle||this.tickle.staticData.numWrong>10)return void $(".wrongAttemptDiv",this.el).hide();$(".wrongAttemptDiv .attempts",this.el).html("");for(var a=1;a<=this.tickle.staticData.numWrong&&a<10;a++){var b=$('<div class="floatL wrongAttempt marginR5 marginT6"></div>');a<=this.tickle.userData.wrongAttempts.length&&b.addClass("active"),$(".wrongAttemptDiv .attempts",this.el).append(b)}$(".wrongAttemptDiv .attempts",this.el).append("<div class='clear'></div>")},reloadTickle:function(){eventManager.trigger("openSolved"+this.tickle.stop.staticInfo.id,this.tickle.staticData.id)},render:function(){this.container.html(this.el),0==this.tickle.staticData.numWrong?this.$(".wrongAttemptDiv").hide():this.$(".wrongAttemptDiv").show(),this.updateView(),this.answerView.render(),_.isEmpty(this.tickle.qMedia)?this.$(".mediaDiv").hide():(this.contentView=new Game.MediaRenderView(this.$(".mediaDiv"),this.tickle.qMedia,{autoPlay:!1,isSmallMp3:!0}),"VIDEO"==this.tickle.qMedia.type&&this.contentView.player.setMediaHeight(220),this.contentView.render(),this.listenTo(this.contentView,"media.expired",this.reloadTickle));var a=this;if(this.tickle.qMedia&&"IMAGE"==this.tickle.qMedia.type){this.$(".mediaDiv img").css({cursor:"pointer"});var b=new Image;b.onload=function(){if(b.height<280&&b.height>0&&a.$(".mediaDiv").css({height:b.height}),b.width>350||b.height>280){var c=$('<div class="pos_abs cursor" style="left: 109px;top: 50px;"></div>');c.css({left:"45%",top:"50%",background:"url('//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/new-zoom-icon.png')",width:"26px",height:"26px"}),a.$(".mediaDiv img").parent().prepend(c),a.isLargeImage=!0}else a.isLargeImage=!1;b.onload=function(){}},b.src=this.tickle.qMedia.processed_path}this.$(".ansDiv").prepend('<div class="qansBg marginL7">'+Game.Messages.TICKLE_A_TXT+"</div>"),Game.GameView.getVolume()<1&&$(".volume",this.el).addClass("mute"),this.resizeContext(),this.focusOnActiveNav()},focusOnActiveNav:function(){if(this.options.navigation){var a=this.$(".tickleSlideBigDiv").parent(),b=a.width(),c=a.offset(),d=this.$(".tickleSlideBigDiv > .qnsNav > .current").offset(),e=this.$(".tickleSlideBigDiv > .qnsNav > .current").width(),f=d.left+e-c.left;f>b?a.stop().animate({scrollLeft:a.scrollLeft()+(f-b)},200,"linear"):f<0&&a.stop().animate({scrollLeft:a.scrollLeft()+f},200,"linear")}},skipTickle:function(){var a=this;this.isSkipClicked=!0;var b=Game.Messages.CONFIRM_SKIP_TICKLE_TXT;"undefined"!=typeof locale&&"en"==locale&&this.tickle instanceof Game.WebModuleTickle&&(b="Are you sure you want to skip this quiz?"),(this.tickle instanceof Game.McqPollTickle||this.tickle instanceof Game.McqTextPollTickle)&&(b=Game.Messages.CONFIRM_POLL_SKIP_TICKLE_TXT),Utils.Func.confirm(b,function(){a.tickle.skipTickle()},Game.Messages.BTN_YES,Game.Messages.BTN_NO)},exitPlayer:function(){}}),Game.TranscriptionView=Backbone.View.extend({constructor:function(a,b){this.tickleObj=a,this.el=b;var c="",d="",e="",f="",g="";if(this.bindEvents(),this.tickleObj&&this.tickleObj.staticData&&this.tickleObj.staticData.media&&(e=this.tickleObj.staticData.media.id,f=this.tickleObj.staticData.media.chunkedTranscription,g=this.tickleObj.staticData.media.transcriptPath,this.tickleObj.staticData.media.mediaLoPreference&&(d=this.tickleObj.staticData.media.mediaLoPreference.learningObjectStaticId)),this.tickleObj&&this.tickleObj.userData&&this.tickleObj.userData.companyId&&(c=this.tickleObj.userData.companyId),"undefined"!=typeof appSettings&&appSettings.isPreview){c=this.tickleObj.staticData.companyId;var h={chunkedTranscription:f,downloadLink:g};this.destroyFunc=(new Transcription).initLearner(e,d,c,h)}else{var i=Game.WebModuleTickle.getTrackTickleData(this.tickleObj);this.destroyFunc=(new Transcription).initLearner(e,d,c,i);try{var j=PubSub.getEventList();j.includes("Transcription.learner.scrollTranscriptionColumn")||PubSub.registerEvent("Transcription.learner.scrollTranscriptionColumn",{type:"object",properties:{scrollIndex:{type:"integer"}},required:["scrollIndex"]})}catch(k){console.log("error while registering  transcription event",k)}}},bindEvents:function(){var a=$(".tr-btn");a.unbind("click").click(function(a){$(this).closest(".tr-firstTimeMsg-msg").hide(),localStorage&&(localStorage.transcription_init_popup_learner="true")})},destroy:function(){this.destroyFunc&&this.destroyFunc(),this.$el.empty()}}),Game.ZoomContentViewer=Backbone.View.extend({constructor:function(a){var b=$("script#tmpl_emptyPopup").html(),c=$.trim(b);this.el=$(_.template(c)({})),Backbone.View.apply(this),this.mediaObj=a,this.videoArea=this.$(".bigContentArea")},drawContent:function(){var a=$("<img>").css({width:"100%",height:"100%"});a.attr("src",this.mediaObj.processed_path),this.videoArea.empty().append(a)},events:{"click .closeMe":"closeMe","keypress .closeMe":"closeMeKeyPress"},closeMe:function(){Game.FullScreenPopupManager.close(this.popViewId)},closeMeKeyPress:function(a){32==a.keyCode&&this.closeMe()},render:function(){this.drawContent(),this.popViewId=Game.FullScreenPopupManager.open(this.$el),this.delegateEvents()}}),Game.McqTickle=Game.Tickle.extend({constructor:function(a,b,c){Game.Tickle.call(this,a,b,c);for(var d=0,e=0;e<this.staticData.options.length;e++)"LO_MCQ_IMG"==this.staticData.type&&(this.staticData.options[e].isCorrect=this.staticData.options[e].isSelected),this.staticData.options[e].isCorrect&&d++;d>1?this.type="Square":this.type="Circle"},isAnswered:function(a){return _.indexOf(this.userData.correctAttempts,a)>-1||_.indexOf(this.userData.wrongAttempts,a)>-1||_.indexOf(this.userData.lifelineAnswers,a)>-1||_.indexOf(this.userData.lifelineEliminations,a)>-1},isSolved:function(){for(var a=0;a<this.staticData.options.length;a++)if(this.staticData.options[a].isCorrect&&!this.isAnswered(a))return!1;return!0},optSelected:function(a,b){if(this.isActive()&&!this.isAnswered(a)){var c=-1;this.staticData.options[a].isCorrect?b?(this.userData.lifelineAnswers.push(a),c=Game.SOUNDS.HINT):(this.userData.correctAttempts.push(a),c=Game.SOUNDS.CORRECTOPT,this.trigger("updateView.correct.option")):b?(this.userData.lifelineEliminations.push(a),c=Game.SOUNDS.HINT):(this.userData.wrongAttempts.push(a),c=Game.SOUNDS.WRONGOPT,this.trigger("updateView.wrong.option")),this.numChangesUnsaved++,this.userData.wrongAttempts.length>0&&this.userData.wrongAttempts.length>=this.staticData.numWrong?(this.userData.state="COMPLETED",this.userData.completionState="WRONG",this.calculateScore(),c=Game.SOUNDS.WRONGANS):this.isSolved()&&(this.userData.state="COMPLETED",this.userData.completionState="CORRECT",this.calculateScore(),c=Game.SOUNDS.CORRECTANS),this.isActive()||this.save(),this.trigger("updateView"),Game.GameView.playSound(c)}},calculateScore:function(){var a=0;for(i=0;i<this.staticData.options.length;i++)this.staticData.options[i].isCorrect&&a++;this.userData.score=Math.floor(this.staticData.maxScore*(this.userData.correctAttempts.length+this.userData.lifelineAnswers.length)/a-this.userData.wrongAttempts.length*this.gameSettings.wrongAttempPanelty),this.userData.score<0&&(this.userData.score=0)},giveLifeline:function(){if(this.isActive())if(this.userData.lifelineAnswers.length+this.userData.lifelineEliminations.length<this.staticData.numLifelines&&this.getGlobalLifelinesAvailable()>0){var a=[],b=[];for(i=0;i<this.staticData.options.length;i++)this.isAnswered(i)||(this.staticData.options[i].isCorrect?a.push(i):b.push(i));b.length>0?(this.useGlobalLifeline(),this.optSelected(b[_.random(b.length-1)],!0)):a.length>0&&(this.useGlobalLifeline(),this.optSelected(a[_.random(a.length-1)],!0));var c="MCQ";"LO_MCQ_IMG"==this.staticData.type&&(c="MCQ-Image"),Game.MixPanelTracking.track("Used Lifelines",{"Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.staticData.id,"Quiz Type":c})}else this.trigger("nolifeline")}},{OPTION_ACTIVE:1,OPTION_WRONG:0,OPTION_HINT:-1,OPTION_CORRECT:2}),Game.McqAnswerOption=Backbone.View.extend({constructor:function(a,b){this.optionObj=a.staticData.options[b],this.index=b,this.model=a,this.el=$(_.template($("script#tmpl_mcqOption").html().trim())({type:this.model.type,text:_.escape(this.optionObj.option)})),Backbone.View.apply(this),this.updateView()},events:{click:"checkAnswer"},render:function(){return this.$el},checkAnswer:function(){this.model.optSelected(this.index)},updateView:function(){this.model.isActive()||!this.model.staticData.options[this.index].isCorrect||Game.config.reportCardView?_.indexOf(this.model.userData.correctAttempts,this.index)>-1?this.$el.addClass("correct"):_.indexOf(this.model.userData.lifelineAnswers,this.index)>-1?this.$el.addClass("correct deactivated"):_.indexOf(this.model.userData.wrongAttempts,this.index)>-1?this.$el.addClass("wrong"):_.indexOf(this.model.userData.lifelineEliminations,this.index)>-1&&this.$el.addClass("deactivated"):this.$el.addClass("correct")}}),Game.McqAnswerView=Backbone.View.extend({constructor:function(a,b){this.model=a,this.container=b,this.optionViews=[],this.el=$(_.template($("script#tmpl_mcqAnswerArea").html().trim())({}));for(var c=0;c<this.model.staticData.options.length;c++)this.optionViews.push(new Game.McqAnswerOption(this.model,c)),$(".options",this.el).append(this.optionViews[c].render());Backbone.View.apply(this),this.listenTo(this.model,"updateView.correct.option",this.showRemainingCorrectAnswersTooltip)},updateView:function(){for(var a=0;a<this.model.staticData.options.length;a++)this.optionViews[a].updateView();this.updateRightAttempt()},updateRightAttempt:function(){$(".rightAttemptDiv .attempts").html("");for(var a=_.uniq(this.model.userData.correctAttempts.concat(this.model.userData.lifelineAnswers)).length,b=0,c=0;c<this.model.staticData.options.length;c++)this.model.staticData.options[c].isCorrect&&b++;if(b>1){for(var c=1;c<=b;c++){var d=$('<div class="floatL correctAttempt marginR5 marginT6"></div>');c<=a&&d.addClass("active"),$(".rightAttemptDiv .attempts").append(d)}$(".rightAttemptDiv .attempts").append("<div class='clear'></div>"),$(".rightAttemptDiv").show()}else $(".rightAttemptDiv").hide()},showRemainingCorrectAnswersTooltip:function(){for(var a=this.model.userData.correctAttempts.length+this.model.userData.lifelineAnswers.length,b=0,c=0;c<this.model.staticData.options.length;c++)this.model.staticData.options[c].isCorrect&&b++;if(b>1){var d=b-a;if(a>0&&d>0){var e=_.template(Game.Messages.N_MORE_CORRECT_REMAINING)({num:d});$(".rightAttemptDiv .popupDiv .attemtRem_Div").text(e),$(".wrongAttemptDiv .popupDiv",this.el).hide(),$(".rightAttemptDiv .popupDiv").show(0).delay(3e3).hide(0)}}},render:function(){this.container.html(this.el)}}),Game.McqImageAnswerOption=Game.McqAnswerOption.extend({constructor:function(a,b){this.optionObj=a.staticData.options[b],this.index=b,this.model=a,this.el=$(_.template($("script#tmpl_mcqImageOption").html().trim())({type:this.model.type,text:_.escape(this.optionObj.text),image:this.optionObj.image.processed_path})),Backbone.View.apply(this),this.updateView()}}),Game.McqImageAnswerView=Game.McqAnswerView.extend({constructor:function(a,b){this.model=a,this.container=b,this.optionViews=[],this.el=$(_.template($("script#tmpl_mcqAnswerArea").html().trim())({}));for(var c=0;c<this.model.staticData.options.length;c++)this.optionViews.push(new Game.McqImageAnswerOption(this.model,c)),$(".options",this.el).append(this.optionViews[c].render());$(".options",this.el).append('<div class="clear"></div>'),Backbone.View.apply(this),this.listenTo(this.model,"updateView.correct.option",this.showRemainingCorrectAnswersTooltip)}}),Game.McqPollTickle=Game.Tickle.extend({constructor:function(a,b,c){Game.Tickle.call(this,a,b,c),this.totalUsers=0,this.optionCounts={},this.userData.optionCounts&&(this.optionCounts=this.userData.optionCounts);for(var d in this.optionCounts)this.totalUsers+=this.optionCounts[d];this.userData.selectedOption||(this.userData.selectedOption=[])},optSelected:function(a){this.isActive()&&(this.numChangesUnsaved++,this.userData.selectedOption.push(a),this.optionCounts[a]||(this.optionCounts[a]=0),this.optionCounts[a]+=1,this.totalUsers++,this.userData.state="COMPLETED",this.userData.completionState="CORRECT",this.calculateScore(),this.save(),this.trigger("updateView"),Game.GameView.playSound(Game.SOUNDS.CORRECTANS))},calculateScore:function(){this.userData&&"CORRECT"==this.userData.completionState?this.userData.score=this.staticData.maxScore:this.userData.score=0}}),Game.McqPollOption=Backbone.View.extend({constructor:function(a,b){this.optionObj=a.staticData.options[b],this.index=b,this.model=a,this.el=$(_.template($("script#tmpl_mcqPollOption").html().trim())({num:String.fromCharCode(this.index+65),type:this.model.type,text:_.escape(this.optionObj.option)})),Backbone.View.apply(this),this.updateView()},events:{click:"checkAnswer"},render:function(){return this.$el},checkAnswer:function(a){this.model.isActive()&&(courseInfo.fixed.pollConfirmBeforeSubmit?this.trigger("triggerPollSelection",this):this.checkAnswerOri(a))},checkAnswerOri:function(a){this.model.userData.selectedOption&&0==this.model.userData.selectedOption.length&&$(".ss_unticked",this.$el).removeClass("ss_unticked").addClass("ss_ticked"),this.model.optSelected(this.index)},tick:function(){$(".ss_unticked",this.$el).removeClass("ss_unticked").addClass("ss_ticked")},unTick:function(){$(".ss_ticked",this.$el).removeClass("ss_ticked").addClass("ss_unticked")},updateView:function(){if(!this.model.isActive()){var a=0;if(this.model.totalUsers>0&&(a=100*this.model.optionCounts[this.index]/this.model.totalUsers),a>100&&(a=100),isNaN(a)&&(a=0),this.index===this.model.userData.selectedOption[0]&&$(".ss_unticked",this.$el).removeClass("ss_unticked").addClass("ss_ticked"),0!=this.model.staticData.showResults){var b=$(".perc",this.$el).show();$(".blueColor_Bg",this.$el).stop().animate({width:a+"%"},{step:function(a){b.text(Math.round(a)+"%")}}),_.indexOf(this.model.optionCounts,this.index)!==-1&&this.$(".pollDiv").css({"background-color":"#"});
}}}}),Game.McqPollAnswerView=Backbone.View.extend({constructor:function(a,b){this.model=a,this.container=b,this.optionViews=[],this.pollConfirmBeforeSubmit=courseInfo.fixed.pollConfirmBeforeSubmit,this.selectedOptionIndex=-1,this.el=$(_.template($("script#tmpl_mcqAnswerArea").html().trim())({}));for(var c=0;c<this.model.staticData.options.length;c++){var d=new Game.McqPollOption(this.model,c);this.listenTo(d,"triggerPollSelection",this.updatePollSelection),this.optionViews.push(d),$(".options",this.el).append(this.optionViews[c].render())}Backbone.View.apply(this)},events:{"click .confirmPollSubmitDiv":"confirmPollSubmit"},confirmPollSubmit:function(){this.selectedOptionIndex!=-1&&this.model.optSelected(this.selectedOptionIndex)},updatePollSelection:function(a){this.selectedOptionIndex=a.index;for(var b=0;b<this.optionViews.length;b++)this.optionViews[b]==a?this.optionViews[b].tick():this.optionViews[b].unTick()},updateView:function(){for(var a=0;a<this.model.staticData.options.length;a++)this.optionViews[a].updateView()},render:function(){this.container.html(this.el),this.pollConfirmBeforeSubmit?$(".confirmPollSubmitDiv").removeClass("hidden"):$(".confirmPollSubmitDiv").remove(),$(".activeQst").hide()}}),Game.McqTextPollTickle=Game.Tickle.extend({constructor:function(a,b,c){Game.Tickle.call(this,a,b,c),this.staticData.numLifelines=0,this.staticData.numWrong=0},feedBackSubmitted:function(a){(this.isActive()||1==this.staticData.editFeedBackAfterSubmit)&&(this.numChangesUnsaved++,this.userData.submittedText=a,this.userData.state="COMPLETED",this.userData.completionState="CORRECT",this.calculateScore(),this.save(),this.trigger("updateView"),Game.GameView.playSound(Game.SOUNDS.CORRECTANS))},calculateScore:function(){this.userData&&"CORRECT"==this.userData.completionState?this.userData.score=this.staticData.maxScore:this.userData.score=0}}),Game.McqTextPollAnswerView=Backbone.View.extend({constructor:function(a,b){this.model=a,this.container=b,this.el=$(_.template($("script#tmpl_mcqTextPollAnswerArea").html().trim())({placeHolder:"Answer / Feedback",submitTxt:Game.Messages.HM_BTN_SUBMIT,editText:Game.Messages.PROFILE_EDIT_PIC,cancel:Game.Messages.HM_MSG_CANCEL})),Backbone.View.apply(this),this.$(".submitTextArea textarea").val("")},events:{"click .submitFeedBack":"submitFeedBack","click .reSubmitFeedBack":"reSubmitFeedBack","click .cancelBtn":"updateView"},submitFeedBack:function(){if(this.model.isActive()||1==this.model.staticData.editFeedBackAfterSubmit){var a=$.trim(this.$(".submitTextArea textarea").val());if(""==a)return void this.$(".wrongSubmitTextMsg").text(Game.Messages.ERR_REQUIRED).show(0).delay(1e3).hide(0);this.model.feedBackSubmitted(a)}},reSubmitFeedBack:function(){this.$(".submitTextArea textarea").val(this.model.userData.submittedText),this.$(".submitTextArea").show(),this.$(".cancelBtn").show(),this.$(".submitedTextArea").hide()},updateView:function(){this.model.isActive()||(this.$(".submitTextArea,.cancelBtn").hide(),this.$(".submitedTextArea").show(),this.$(".submitedTextArea>div:eq(0)").text(this.model.userData.submittedText?this.model.userData.submittedText:""),this.model.staticData.editFeedBackAfterSubmit&&"CORRECT"==this.model.userData.completionState&&this.$(".reSubmitFeedBack").show(),"undefined"!=typeof loadedForReportCardView&&1==loadedForReportCardView&&this.$(".reSubmitFeedBack").hide())},render:function(){this.container.html(this.$el)}}),Game.HangmanTickle=Game.Tickle.extend({constructor:function(a,b){Game.Tickle.call(this,a,b),this.staticData.answer=this.staticData.answer.toUpperCase()},letterTyped:function(a,b,c){if(a=a.toUpperCase(),"IN_PROGRESS"==this.userData.state&&(c||/^\w$/g.test(a))&&!(_.indexOf(this.userData.correctAttempts,a)>=0||_.indexOf(this.userData.wrongAttempts,a)>=0)){var d=-1;if(this.numChangesUnsaved++,_.indexOf(this.staticData.answer,a)>-1){b?(this.userData.lifelineAnswers.push(a),d=Game.SOUNDS.HINT):(this.userData.correctAttempts.push(a),d=Game.SOUNDS.CORRECTOPT,this.trigger("updateView.correct.option"));for(var e=!0,f=0;f<this.staticData.answer.length;f++)/^\w$/g.test(this.staticData.answer[f])&&_.indexOf(this.userData.correctAttempts,this.staticData.answer[f])==-1&&_.indexOf(this.userData.lifelineAnswers,this.staticData.answer[f])==-1&&(e=!1);e&&(this.userData.state="COMPLETED",this.userData.completionState="CORRECT",this.calculateScore(),d=Game.SOUNDS.CORRECTANS)}else b?(this.userData.lifelineEliminations.push(a),d=Game.SOUNDS.HINT):(this.userData.wrongAttempts.push(a),d=Game.SOUNDS.WRONGOPT,this.trigger("updateView.wrong.option")),this.userData.wrongAttempts.length>=this.staticData.numWrong&&(this.userData.state="COMPLETED",this.userData.completionState="WRONG",this.calculateScore(),d=Game.SOUNDS.WRONGANS);"IN_PROGRESS"!=this.userData.state&&this.save(),this.trigger("updateView"),Game.GameView.playSound(d)}},calculateScore:function(){var a=_.uniq(this.userData.correctAttempts).length+_.uniq(this.userData.lifelineAnswers).length,b=_.uniq(_.difference(this.staticData.answer.split(""),[" ",";"])).length;this.userData.score=Math.floor(this.staticData.maxScore*a/b-this.userData.wrongAttempts.length*this.gameSettings.wrongAttempPanelty),this.userData.score<0&&(this.userData.score=0)},getUpdateObject:function(){},giveLifeline:function(){if("IN_PROGRESS"==this.userData.state)if(this.userData.lifelineAnswers.length+this.userData.lifelineEliminations.length<this.staticData.numLifelines&&this.getGlobalLifelinesAvailable()>0){for(var a=[],b=0;b<this.staticData.answer.length;b++)/^\w$/g.test(this.staticData.answer[b])&&_.indexOf(this.userData.correctAttempts,this.staticData.answer[b])==-1&&a.push(this.staticData.answer[b]);a.length>0&&(Game.GameView.playSound(Game.SOUNDS.HINT),this.useGlobalLifeline(),this.letterTyped(a[_.random(a.length-1)],!0)),Game.MixPanelTracking.track("Used Lifelines",{"Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.staticData.id,"Quiz Type":"Guess Word"})}else this.trigger("nolifeline")}}),Game.HangmanKBBtnView=Backbone.View.extend({constructor:function(a,b){this.letter=b,this.model=a,this.el=$('<div class="ansBtn"></div>').text(b),Backbone.View.apply(this),this.updateState()},events:{click:"letterTyped"},letterTyped:function(){this.model.letterTyped(this.letter,!1,!0)},updateState:function(){(_.indexOf(this.model.userData.correctAttempts,this.letter)>-1||_.indexOf(this.model.userData.lifelineAnswers,this.letter)>-1)&&this.$el.addClass("correct"),_.indexOf(this.model.userData.wrongAttempts,this.letter)>-1&&this.$el.addClass("wrong")},render:function(){return this.$el}}),Game.HangmanAnswerView=Backbone.View.extend({constructor:function(a,b){this.model=a,this.container=b,this.KBBtns=[],this.currKeyboard=[],this.el=$(_.template($("script#tmpl_hangmanAnswerArea").html().trim())({guess:Game.Messages.TICKLE_HM_GUESS})),this.answerSection=$(".letters",this.el),this.updateAnswerSection(),this.createKeyBoard(),this.keyBoard=$(".keyBoard",this.el);for(var c=null,d=0;d<this.currKeyboard.length;d++){var e=(this.currKeyboard[d],new Game.HangmanKBBtnView(this.model,this.currKeyboard[d]));if(this.KBBtns.push(e),d<8)e.render().appendTo(this.keyBoard);else if(d%8==0){$("<div class='clear'></div>").appendTo(this.keyBoard);var f=$("<div class='floatL pos_rel' style='left:50%'></div>");c=$("<div class='floatL pos_rel' style='left:-50%'></div>"),e.render().appendTo(c),c.appendTo(f),f.appendTo(this.keyBoard)}else e.render().appendTo(c)}$('<div class="clear"></div>').appendTo(this.keyBoard),Backbone.View.apply(this),this.model.isActive()&&this.listenTo(eventManager,Game.CONST.BODY_KEYPRESS,this.letterTyped)},letterTyped:function(a){var b=String.fromCharCode(a);b=b.toUpperCase(),_.indexOf(this.currKeyboard,b)<0||this.model.letterTyped(b)},updateView:function(){for(var a=0;a<this.currKeyboard.length;a++)this.KBBtns[a].updateState();this.updateAnswerSection(),this.model.isActive()||this.stopListening(eventManager,Game.CONST.BODY_KEYPRESS,this.letterTyped)},render:function(){this.container.html(this.el)},updateAnswerSection:function(){var a=null;this.answerSection.html("");for(var b=this.answerSection,c=0;c<this.model.staticData.answer.length;c++){var d=this.model.staticData.answer[c];if(0!=c||";"!=d){_.indexOf(this.model.userData.correctAttempts,d)==-1&&_.indexOf(this.model.userData.lifelineAnswers,d)==-1&&("IN_PROGRESS"==this.model.userData.state||Game.config.reportCardView)&&(d="");var e=$('<div class="qnsLetter_Bg"></div>');if(" "==this.model.staticData.answer[c])e.removeClass().addClass("marginL10 floatL").html("&nbsp;").appendTo(b);else if(";"==this.model.staticData.answer[c]){$("<div class='clear'></div>").appendTo(b);var f=$("<div class='floatL1 pos_rel marginT15' style='left1:50%'></div>");a=$("<div class='floatL1 pos_rel' style='left1:-50%'></div>"),a.appendTo(f),f.appendTo(b),b=a}else e.text(d).appendTo(b)}}},createKeyBoard:function(){var a=Array();if(""!=this.model.staticData.answer){$.extend(a,this.model.staticData.answer.split(""));for(var b=[],c=0;c<a.length;c++)" "!=a[c]&&";"!=a[c]&&b.push(a[c]);a=b,a.sort();var d=[a[0]];for(c=1;c<a.length;c++)a[c]!=a[c-1]&&d.push(a[c]);a=d;var e=0,f=a.toString().match(/\d/g);null!=f&&(e=f.length);var g=(a.length-e,0),h=0;a.length%2==0?0==e?g=4:(g=2,h=2):0==e?g=5:(g=3,h=2);var i=Array();for(c=65;c<=90;c++)$.inArray(String.fromCharCode(c),a)==-1&&i.push(String.fromCharCode(c));var j=Array();for(c=48;c<=57;c++)$.inArray(String.fromCharCode(c),a)==-1&&j.push(String.fromCharCode(c));if(j.length<h){var k=h-j.length;g+=k,h-=k}if(i.length<g){var l=g-i.length;h+=l,g-=l}for(var m=Math.floor(i.length/g),n=0;n<g;n++)a.push(i[n*m]);var o=Math.floor(j.length/h);for(n=0;n<h;n++)a.push(j[n*o]);a=_.shuffle(a);$("<div></div>");this.currKeyboard=a}},remove:function(){this.stopListening(eventManager,Game.CONST.BODY_KEYPRESS,this.letterTyped),Backbone.View.prototype.remove.call(this)}}),Game.MixmatchTickle=Game.Tickle.extend({constructor:function(a,b,c){Game.Tickle.call(this,a,b,c),this.wrongAttempts=[]},itemDropped:function(a,b,c){if(this.isActive()){var d=-1;a==b?c?(this.userData.lifelineAnswers.push({optionId:a,matchId:b}),d=Game.SOUNDS.HINT):(this.userData.correctAttempts.push({optionId:a,matchId:b}),d=Game.SOUNDS.CORRECTOPT,this.trigger("updateView.correct.option")):(this.userData.wrongAttempts.push({optionId:a,matchId:b}),this.wrongAttempts.push({optionId:a,matchId:b}),d=Game.SOUNDS.WRONGOPT,this.trigger("updateView.wrong.option")),this.userData.correctAttempts.length+this.userData.lifelineAnswers.length==this.staticData.options.length?(this.userData.state="COMPLETED",this.userData.completionState="CORRECT",this.calculateScore(),d=Game.SOUNDS.CORRECTANS):this.userData.wrongAttempts.length>=this.staticData.numWrong&&(this.userData.state="COMPLETED",this.userData.completionState="WRONG",this.calculateScore(),d=Game.SOUNDS.WRONGANS),this.numChangesUnsaved++,this.isActive()||this.save(),this.trigger("updateView"),Game.GameView.playSound(d)}},itemUndrop:function(a){for(var b=0;b<this.wrongAttempts.length;b++)if(this.wrongAttempts[b].matchId==a){var c=this.wrongAttempts[b].optionId;return this.wrongAttempts.splice(b,1),c}return-1},itemUndropOption:function(a){for(var b=0;b<this.wrongAttempts.length;b++)if(this.wrongAttempts[b].optionId==a){var c=this.wrongAttempts[b].matchId;return this.wrongAttempts.splice(b,1),this.trigger("undrop",c,a),c}return-1},calculateScore:function(){this.userData.score=Math.floor(this.staticData.maxScore*(this.userData.correctAttempts.length+this.userData.lifelineAnswers.length)/this.staticData.options.length-this.userData.wrongAttempts.length*this.gameSettings.wrongAttempPanelty),this.userData.score<0&&(this.userData.score=0)},giveLifeline:function(){if(this.isActive())if(this.userData.lifelineAnswers.length<this.staticData.numLifelines&&this.getGlobalLifelinesAvailable()>0){for(var a=_.range(this.staticData.options.length),b=0;b<this.userData.correctAttempts.length;b++)a=_.without(a,this.userData.correctAttempts[b].optionId);for(var b=0;b<this.userData.lifelineAnswers.length;b++)a=_.without(a,this.userData.lifelineAnswers[b].optionId);if(a.length<1)return void this.trigger("nolifeline");var c=_.random(a.length-1),d=a[c];this.useGlobalLifeline(),this.itemUndrop(d),this.itemUndropOption(d),this.itemDropped(d,d,!0);var e="MTF-Text";"LO_IMGMIXMATCH"==this.staticData.type&&(e="MTF-Image"),Game.MixPanelTracking.track("Used Lifelines",{"Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.staticData.id,"Quiz Type":e})}else this.trigger("nolifeline")}}),Game.MixmatchOptionView=Backbone.View.extend({constructor:function(a,b){this.pview=a,this.model=this.pview.model,this.index=b;var c=this.model.staticData;this.el=$($.trim(_.template($("script#tmpl_mixMatchOption").html())({optionText:_.escape(c.options[b].que),matchText:_.escape(c.options[c.shuffleList[b]].ans),dragHereTxt:Game.Messages.TXT_DRAG_HERE}))),Backbone.View.apply(this)},initialize:function(){this.dragger=this.$(".dragger").css({"z-index":1}).addClass("canDrag"),this.dropper=this.$(".dropper"),this.isEmpty=!0,this.listenTo(this.model,"undrop",this.undropDragger)},getDragger:function(){return this.dragger},undropDragger:function(a,b){_.indexOf(this.model.staticData.shuffleList,a)==this.index&&this.dragger.animate({top:0,left:0}).parent().removeClass("wrong dragging")},updateState:function(){var a=null;this.isEmpty=!0;var b=this.model.userData.correctAttempts,c=400;this.model.isActive()||Game.config.reportCardView||(b=[{optionId:this.index,matchId:this.index}],c=0);for(var d=0;d<b.length;d++)if(b[d].optionId==this.index){a=this.pview.getDragger(_.indexOf(this.model.staticData.shuffleList,b[d].matchId)),a.parent().addClass("correct").removeClass("wrong dragging"),a.is(".ui-draggable")&&a.draggable("option","cancel",".dragger");break}if(null==a)for(var d=0;d<this.model.userData.lifelineAnswers.length;d++)if(this.model.userData.lifelineAnswers[d].optionId==this.index){a=this.pview.getDragger(_.indexOf(this.model.staticData.shuffleList,this.model.userData.lifelineAnswers[d].matchId)),a.parent().addClass("correct").removeClass("wrong dragging"),a.is(".ui-draggable")&&a.draggable("option","cancel",".dragger");break}if(null==a)for(d=this.model.wrongAttempts.length-1;d>=0;d--)if(this.model.wrongAttempts[d].optionId==this.index){a=this.pview.getDragger(_.indexOf(this.model.staticData.shuffleList,this.model.wrongAttempts[d].matchId)),a.parent().addClass("wrong").removeClass("correct dragging");break}if(null!=a){var e=this.dropper.find(">div:eq(1)").offset(),f=a.offset(),g=parseInt(a.css("left"));isNaN(g)&&(g=0);var h=parseInt(a.css("top"));isNaN(h)&&(h=0),a.removeClass("canDrag").animate({left:g+e.left-f.left,top:h+e.top-f.top},c),this.isEmpty=!1}!this.model.isActive()&&this.dragger.is(".ui-draggable")&&this.dragger.draggable("option","cancel",".dragger")},render:function(){var a=this;return this.model.isActive()?(this.dragger.draggable({revert:"invalid",zIndex:2,start:function(b,c){a.trigger("drag.start",a.model.staticData.shuffleList[a.index]),c.helper.parent().addClass("dragging"),c.helper.parent().is(".wrong")&&(c.originalPosition.top=0,c.originalPosition.left=0,c.helper.parent().removeClass("wrong"),a.pview.removeWrong(a.model.staticData.shuffleList[a.index]))},stop:function(b,c){a.trigger("drag.stop",a.index),c.helper.parent().removeClass("dragging")}}),this.dropper.droppable({tolerance:"intersect",hoverClass:"hover",drop:function(b,c){return a.isEmpty?void a.trigger("dropped",a.index):void c.helper.animate({top:0,left:0})}}),this.$el):this.$el}}),Game.MixmatchAnswerView=Backbone.View.extend({constructor:function(a,b){this.model=a,this.container=b,this.el=$(_.template($("script#tmpl_mixMatchAnswerArea").html().trim())({})),this.optionViewClass=Game.MixmatchOptionView,Backbone.View.apply(this)},initialize:function(){this.boxes=[],this.mainDiv=$(".options",this.el);for(var a=0;a<this.model.staticData.options.length;a++){var b=new this.optionViewClass(this,a);this.boxes.push(b),this.mainDiv.append(b.render()),this.listenTo(b,"drag.start",this.dragStart),this.listenTo(b,"drag.stop",this.dragStop),this.listenTo(b,"dropped",this.dropped)}setTimeout(_.bind(this.updateView,this),1),this.currDragging=-1},updateView:function(){for(var a=0;a<this.boxes.length;a++)this.boxes[a].updateState();this.updateRightAttempt()},getDragger:function(a){return this.boxes[a].getDragger()},dragStart:function(a){this.currDragging=a},dragStop:function(){this.currDragging=-1},dropped:function(a){this.currDragging!=-1&&(this.model.itemDropped(a,this.currDragging),this.currDragging=-1)},updateRightAttempt:function(){$(".rightAttemptDiv").show(),$(".rightAttemptDiv .attempts").html("");for(var a=1;a<=this.model.staticData.options.length;a++){var b=$('<div class="floatL correctAttempt marginR5 marginT6"></div>');a<=this.model.userData.correctAttempts.length+this.model.userData.lifelineAnswers.length&&b.addClass("active"),$(".rightAttemptDiv .attempts").append(b)}$(".rightAttemptDiv .attempts").append("<div class='clear'></div>")},render:function(){this.container.html(this.el),this.updateRightAttempt()},removeWrong:function(a){this.boxes[this.model.itemUndrop(a)].updateState()}}),Game.ImageMixmatchTickle=Game.MixmatchTickle.extend({initialize:function(){this.staticData.options=this.staticData.images,Game.MixmatchTickle.prototype.initialize.call(this)}}),Game.ImageMixmatchOptionView=Game.MixmatchOptionView.extend({constructor:function(a,b){this.pview=a,this.model=this.pview.model,this.index=b;var c=this.model.staticData;this.el=$($.trim(_.template($("script#tmpl_imageMixMatchOption").html())({optionText:_.escape(c.options[b].processed_path),matchText:_.escape(c.options[c.shuffleList[b]].text),dragHereTxt:Game.Messages.TXT_DRAG_HERE}))),Backbone.View.apply(this)}}),Game.ImageMixmatchAnswerView=Game.MixmatchAnswerView.extend({constructor:function(a,b){this.model=a,this.container=b,this.el=$(_.template($("script#tmpl_imageMixMatchAnswerArea").html().trim())({})),this.optionViewClass=Game.ImageMixmatchOptionView,Backbone.View.apply(this)}}),Game.WorldMapTickle=Game.Tickle.extend({constructor:function(a,b,c){Game.Tickle.call(this,a,b,c);var d=Math.min(555,this.staticData.mapWidth),e=Math.min(330,this.staticData.mapHeight),f=d/this.staticData.mapWidth,g=e/this.staticData.mapHeight,h=Math.min(f,g);d=this.staticData.mapWidth*h,e=this.gridHeight*h},isAnswered:function(a){return _.indexOf(this.userData.correctAttempts,a)>-1||_.indexOf(this.userData.wrongAttempts,a)>-1||_.indexOf(this.userData.lifelineAnswers,a)>-1||_.indexOf(this.userData.lifelineEliminations,a)>-1},isSolved:function(){for(var a=0;a<this.staticData.positions.length;a++)if(this.staticData.positions[a].isCorrect&&!this.isAnswered(a))return!1;return!0},locationClicked:function(a,b){if(this.isActive()&&!this.isAnswered(a)){var c=-1;this.staticData.positions[a].isCorrect?b?(this.userData.lifelineAnswers.push(a),c=Game.SOUNDS.HINT):(this.userData.correctAttempts.push(a),c=Game.SOUNDS.CORRECTOPT,this.trigger("updateView.correct.option")):b?(this.userData.lifelineEliminations.push(a),c=Game.SOUNDS.HINT):(this.userData.wrongAttempts.push(a),c=Game.SOUNDS.WRONGOPT,this.trigger("updateView.wrong.option")),this.numChangesUnsaved++,this.userData.wrongAttempts.length>=this.staticData.numWrong?(this.userData.state="COMPLETED",this.userData.completionState="WRONG",this.calculateScore(),c=Game.SOUNDS.WRONGANS):this.isSolved()&&(this.userData.state="COMPLETED",this.userData.completionState="CORRECT",this.calculateScore(),c=Game.SOUNDS.CORRECTANS),this.isActive()||this.save(),this.trigger("updateView"),Game.GameView.playSound(c)}},calculateScore:function(){var a=0;for(i=0;i<this.staticData.positions.length;i++)this.staticData.positions[i].isCorrect&&a++;this.userData.score=Math.floor(this.staticData.maxScore*(this.userData.correctAttempts.length+this.userData.lifelineAnswers.length)/a-this.userData.wrongAttempts.length*this.gameSettings.wrongAttempPanelty),this.userData.score<0&&(this.userData.score=0)},giveLifeline:function(){if(this.isActive())if(this.userData.lifelineAnswers.length+this.userData.lifelineEliminations.length<this.staticData.numLifelines&&this.getGlobalLifelinesAvailable()>0){var a=[],b=[];for(i=0;i<this.staticData.positions.length;i++)this.isAnswered(i)||(this.staticData.positions[i].isCorrect?a.push(i):b.push(i));b.length>0?(this.useGlobalLifeline(),this.locationClicked(b[_.random(b.length-1)],!0)):a.length>0&&(this.useGlobalLifeline(),this.locationClicked(a[_.random(a.length-1)],!0)),Game.MixPanelTracking.track("Used Lifelines",{"Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.staticData.id,"Quiz Type":"Map"})}else this.trigger("nolifeline")}}),Game.Location=Backbone.View.extend({constructor:function(a,b){this.index=b,this.location=a.staticData.positions[b],this.model=a,this.el=$($.trim(_.template($("script#tmpl_worldMapLocation").html())({top:this.location.top-8+"px",left:this.location.left-8+"px",name:_.escape(this.location.text)}))),Backbone.View.apply(this),this.updateState()},events:{click:"clicked"},clicked:function(){this.model.locationClicked(this.index)},updateState:function(){return this.model.isActive()||Game.config.reportCardView?void(_.indexOf(this.model.userData.correctAttempts,this.index)>-1||_.indexOf(this.model.userData.lifelineAnswers,this.index)>-1?this.$(".locIcon").addClass("correct").removeClass("wrong"):(_.indexOf(this.model.userData.wrongAttempts,this.index)>-1||_.indexOf(this.model.userData.lifelineEliminations,this.index)>-1)&&this.$(".locIcon").addClass("wrong")):void(this.model.staticData.positions[this.index].isCorrect?this.$(".locIcon").addClass("correct").removeClass("wrong"):this.$(".locIcon").addClass("wrong"))},resolveOverlap:function(){var a=this.$el,b=0,c=0,d=a.offset(),e=[d.left,d.left+a.outerWidth()],f=[d.top,d.top+a.outerHeight()],g=a.parent().find(">div");g.not(a).each(function(){var a=$(this),d=a.offset(),g=[d.left,d.left+a.outerWidth()],h=[d.top,d.top+a.outerHeight()];e[0]<g[1]&&e[1]>g[0]&&f[0]<h[1]&&f[1]>h[0]&&(e[0]<g[0]?c=g[0]-e[1]-5:b=f[0]<h[0]?h[0]-f[1]:h[1]-f[0])}),0!=c?(this.location.left+=c,a.css({left:this.location.left})):0!=b&&(this.location.top+=b,a.css({top:this.location.top}),b<0&&(this.location.left+=10,a.css({left:this.location.left})))},render:function(){return this.$el}}),Game.WorldMapAnswerView=Backbone.View.extend({constructor:function(a,b){this.model=a,this.container=b,this.locationViews=[],this.el=$(_.template($("script#tmpl_worldMapAnswerArea").html().trim())({image:this.model.staticData.mapId.processed_path}));for(var c=0;c<this.model.staticData.positions.length;c++){var d=new Game.Location(this.model,c);this.locationViews.push(d),$(".locations",this.el).append(d.render())}Backbone.View.apply(this),this.currDragging=-1},updateView:function(){for(var a=0;a<this.locationViews.length;a++)this.locationViews[a].updateState();this.updateRightAttempt()},render:function(){this.container.html(this.el);for(var a=0;a<this.model.staticData.positions.length;a++){var b=this.locationViews[a];$(".locations",this.el).append(b.render())}this.delegateEvents(),this.updateRightAttempt();var c=this.container.width(),d=this.container.height(),e=Math.min(c/555,(d-22)/320);this.$el.css({transform:"scale("+e+")","transform-origin":"top"})},updateRightAttempt:function(){$(".rightAttemptDiv").show(),$(".rightAttemptDiv .attempts").html("");for(var a=this.model.userData.correctAttempts.length+this.model.userData.lifelineAnswers.length,b=0,c=0;c<this.model.staticData.positions.length;c++)this.model.staticData.positions[c].isCorrect&&b++;for(var c=1;c<=b;c++){var d=$('<div class="floatL correctAttempt marginR5 marginT6"></div>');c<=a&&d.addClass("active"),$(".rightAttemptDiv .attempts").append(d)}$(".rightAttemptDiv .attempts").append("<div class='clear'></div>")}}),Game.WebModuleTickle=Game.Tickle.extend({constructor:function(a,b){Game.Tickle.call(this,a,b),null==this.userData.playSequence&&(this.userData.playSequence=[]),this.staticData.media||(this.staticData.media={}),this.numTotal=this.staticData.media.contentParts,this.numSeen=0,this.playSequence=this.userData.playSequence;for(var c=0;c<this.playSequence.length;c++)this.numSeen+=this.playSequence[c].size;this.isScoring=this.gameSettings.contentScoring&&this.staticData.scoring&&this.staticData.maxScore>0,this.saveDefer=_.debounce(this.save.bind(this),1e3),this.listenTo(eventManager,"updateWebModuleView",this.normalizeSeq)},compare:function(a,b){return a.start<b.start?-1:a.start>b.start?1:0},getObjectToSave:function(){var a={};for(var b in this.userData)null===this.userData[b]||"completionState"==b&&"SKIPPED"==a[b]||(a[b]=this.userData[b]);return a},postSave:function(a){Game.Tickle.prototype.postSave.call(this,a),this.savingUpdates=!1},toggleBookmark:function(){1==this.userData.starred?this.userData.starred=!1:this.userData.starred=!0,this.saveDefer(),this.numChangesUnsaved++;var a="Star a Content File";this.userData.starred||(a="UnStared a Content File"),Game.MixPanelTracking.track(a,{"File Type":this.staticData.media,"Content ID":this.userData.gamificationEntityId,"Content Type":this.userData.type}),this.trigger("update.bookmark.status")},setSize:function(a){this.staticData.media.contentParts||(this.staticData.media.contentParts=Math.floor(a)),a>this.staticData.media.contentParts?this.staticData.media.contentParts=a:a<this.staticData.media.contentParts&&(this.staticData.media.contentParts=a),this.numTotal=this.staticData.media.contentParts,this.calculateScore()},normalizeSeq:function(){if(this.playSequence.length<1)return void(this.savingUpdates=!1);if("LO_EMBED"==this.userData.type)return void this.trigger("updateView");this.playSequence.sort(this.compare);var a=[this.playSequence[0]],b=0,c=this.numSeen;this.numSeen=0;for(var d=1;d<this.playSequence.length;d++)this.playSequence[d].start<=a[b].start+a[b].size?a[b].size=Math.max(this.playSequence[d].start+this.playSequence[d].size,a[b].start+a[b].size)-a[b].start:(a.push(this.playSequence[d]),b++);for(var d=0;d<a.length;d++)this.numSeen+=a[d].size;if("LO_SCORM_LEARNING_CONTENT"!==this.userData.type&&this.numSeen>.95*this.numTotal&&this.numSeen<this.numTotal?(this.numSeen=this.numTotal,this.playSequence=[{start:0,size:this.numTotal}]):this.playSequence=a,this.userData.playSequence=this.playSequence,this.userData&&"LO_SCORM_LEARNING_CONTENT"==this.userData.type)this.numChangesUnsaved++,this.save(),this.trigger("updateView");else if(c!=this.numSeen){this.numChangesUnsaved++;var e=this.userData.score||0;this.isScoring&&0!=this.numTotal?this.userData.score=Math.min(this.staticData.maxScore,Math.round(this.staticData.maxScore*this.numSeen/this.numTotal)):this.userData.score=0,!this.isScoring&&void 0!=this.numSeen&&void 0!=this.numTotal&&this.numSeen>=this.numTotal&&(this.userData.completionState="CORRECT","COMPLETED"!=this.userData.state&&(this.userData.state="COMPLETED",this.save()),this.trigger("updateView")),this.userData.score>e&&!(courseInfo.settings.timeLimit>0&&courseInfo.user.timeoutTime-NTP.fixTime()/1e3<0)?this.userData.score>=this.staticData.maxScore?(this.userData.completionState="CORRECT","COMPLETED"!=this.userData.state&&Game.MixPanelTracking.track("Complete Content File",{"Quiz Type":this.staticData.media.type,"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Series Name":courseInfo.seriesVo?courseInfo.seriesVo.name:"","Series Id":courseInfo.seriesVo?courseInfo.seriesVo.id:""}),this.userData.state="COMPLETED",this.save(),this.trigger("updateView")):this.trigger("score.changed"):courseInfo.settings.timeLimit>0&&courseInfo.user.timeoutTime-NTP.fixTime()/1e3<0&&(this.userData.state="TIMEDOUT",this.userData.completionState="CORRECT",this.save(),this.trigger("updateView"))}},setSeen:function(a,b){this.playSequence.push({start:a,size:b}),this.normalizeSeq()},setUpdates:function(a){var b=this;return this.savingUpdates?void setTimeout(function(){b.setUpdates(a)},1e3):(this.savingUpdates=!0,void(a&&(a.misc_content&&(this.userData.misc_content=a.misc_content),a.seen&&this.playSequence.push({start:a.seen.start,size:a.seen.count}),a.completionStatus&&"complete"==a.completionStatus&&(this.userData.state="COMPLETED"),a.successState&&("passed"==a.successState?this.userData.completionState="CORRECT":"failed"==a.successState&&(this.userData.completionState="WRONG")),a.successStatus&&("passed"==a.successStatus?this.userData.completionState="CORRECT":"failed"==a.successStatus&&(this.userData.completionState="WRONG")),this.normalizeSeq())))},isCompleted:function(){var a=this.numSeen>=this.numTotal;return"LO_LEARNING_CONTENT"==this.userData.type&&"SKIPPED"==this.userData.completionState&&(a=!0),"LO_SCORM_LEARNING_CONTENT"==this.userData.type&&(a="COMPLETED"==this.userData.state),"LO_EMBED"==this.userData.type&&(a="SUBMITTED"==this.userData.state||"COMPLETED"==this.userData.state||"AWAIT_REVIEW"==this.userData.embedLoStatus),a&&this.userData.score<this.staticData.maxScore,a},calculateScore:function(){var a=this.userData.score;this.isScoring&&0!=this.numTotal?"LO_EMBED"==this.userData.type?this.numSeen=1:this.userData.score=Math.min(this.staticData.maxScore,Math.round(this.staticData.maxScore*this.numSeen/this.numTotal)):this.userData.score=0,this.userData.score>a&&!(this.gameSettings.timeLimit>0&&this.userData.timeoutTime-NTP.fixTime()/1e3<0)&&(this.numChangesUnsaved++,this.userData.score>=this.staticData.maxScore?(this.userData.completionState="CORRECT",this.userData.state="COMPLETED",this.save(),this.trigger("updateView")):this.trigger("score.changed")),window.courseInfo&&this.gameSettings.timeLimit>0&&this.userData.timeoutTime-NTP.fixTime()/1e3<0&&(this.userData.state="TIMEDOUT",this.save(),this.trigger("updateView"))},markComplete:function(){return!(!appSettings.isPreview&&(this.isActive()||0!=this.numChangesUnsaved))||(this.userData.score>=this.staticData.maxScore&&(this.userData.completionState="CORRECT",this.userData.state="COMPLETED"),this.numChangesUnsaved++,this.save(),!1)},skipToNext:function(){return!this.isActive()&&!this.numChangesUnsaved||(this.userData.completionState="SKIPPED",this.userData.state="COMPLETED",this.numChangesUnsaved++,this.save(),!1)},isDownloadAllowed:function(){if("undefined"==typeof courseInfo)return 1==this.staticData.allowMediaDownload||this.staticData.allowMediaDownload==-1;var a=2==courseInfo.fixed.mtentityType&&1==courseInfo.fixed.allowMediaDownload,b=3==courseInfo.fixed.mtentityType&&(1==courseInfo.fixed.allowMediaDownload||courseInfo.fixed.allowMediaDownload==-1);return(a||b)&&this.isValidDownloadbleMedia()},isValidDownloadbleMedia:function(){return this.staticData.media&&("VIDEO"==this.staticData.media.type||"AUDIO"==this.staticData.media.type||"IMAGE"==this.staticData.media.type||"DOCUMENT_PPT"==this.staticData.media.type||"DOCUMENT_PDF"==this.staticData.media.type||"DOCUMENT_XLS"==this.staticData.media.type||"DOCUMENT_WORD"==this.staticData.media.type||"SWF"==this.staticData.media.type||"ARCHIVE"==this.staticData.media.type||"IMG_MASH_UP"==this.staticData.media.type||"NOTE"==this.staticData.media.type)},getDownloadLink:function(){return this.isDownloadAllowed()?"IMG_MASH_UP"==this.staticData.media.type&&this.staticData.media.lastPublishedMashUpMedia&&this.staticData.media.lastPublishedMashUpMedia.mashupVideo?this.staticData.media.lastPublishedMashUpMedia.mashupVideo.obj.original_path:"NOTE"==this.staticData.media.type&&this.staticData.media.lastConvertedNote&&this.staticData.media.lastConvertedNote.convertedPdf?this.staticData.media.lastConvertedNote.convertedPdf.obj.original_path:this.staticData.media.mp4Path||this.staticData.media.original_path:""},isSave2Drive:function(){return!!(companySettings&&companySettings.lsSettings&&companySettings.lsSettings.saveToGDriveEnabled)&&("VIDEO"==this.staticData.media.type||"AUDIO"==this.staticData.media.type||"IMAGE"==this.staticData.media.type||"DOCUMENT_PPT"==this.staticData.media.type||"DOCUMENT_PDF"==this.staticData.media.type||"DOCUMENT_XLS"==this.staticData.media.type||"DOCUMENT_WORD"==this.staticData.media.type);
}},{IMAGES:"images",YOUTUBE:"youtube",SLIDESHARE:"slideshare",CROCODOC:"crocodoc",VIDEO:"video",MTVIDEO:"mtvideo",MTAUDIO:"AUDIO",BRAINSHARK:"brainshark",PREZI:"prezi",IFRAME:"iframe",SWFOBJ:"swfobj",ARCHIVE:"archive",OLDHTML:"html",OEMBED:"oembed",IMG_MASH_UP:"IMG_MASH_UP",NOTE:"NOTE",LOEMBEDURL:"loembedurl",isDashStreamAvailable:function(a){var b="undefined"!=typeof InstallTrigger,c=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,d=!!window.chrome&&!c,e=a.statusMap&&0==a.statusMap.DASH&&a.cloudFrontUrlMap.DASH;return appSettings.isPreview?(companySettings.lsSettings=parent.Dashboard.defaultLsSettings,!1):!(!d&&!b||!e||!companySettings.lsSettings.enableDashVideoPlay)},getTrackTickleData:function(a,b){b||(b={});var c=null,d=null;return a.stop.level.training&&a.stop.level.training.gameModel&&a.stop.level.training.gameModel.initObj&&(c=a.stop.level.training.gameModel.initObj.gameInfo,d=a.stop.level.training.gameModel.initObj.seriesVo),a.staticData&&a.staticData.media&&a.staticData.media.type&&(b.mediaType=a.staticData.media.type,b.mediaId=a.staticData.media.id),c&&(b.moduleType=c.mtentityType,b.moduleId=c.id,b.moduleName=c.name),d&&(b.seriesId=d.id,b.seriesName=d.name),b}}),Game.BaseWebmoduleView=Backbone.View.extend({constructor:function(a,b,c){this.el=a,this.media=b,this.options=c||{},this.options=$.extend({autoPlay:!0,allowSkip:!0,numSeen:0,isSmallMp3:!1,startAt:0},this.options),Backbone.View.call(this),this.listenTo(eventManager,"stop.players",this.exit)},exit:function(){this.$el.empty()}}),Game.ImageList=Game.BaseWebmoduleView.extend({initialize:function(){if("IMAGE"==this.media.type)this.images=[this.media];else if("EMBED"==this.media.type){var a={processed_path:this.media.images[0]};this.images=[a]}else{this.images=[];for(var b=0;b<this.media.imagesVoIds.length;b++)this.images.push(this.media.imagesVoIds[b])}this.currentSlide=0,this.numSlides=this.images.length,this.slideWidth=100/this.numSlides,this.slideShow=$("<div></div>").css({position:"relative",height:"100%",width:100*this.numSlides+"%"}),this.slider=$(".learningContent",this.el),this.$(".fullSize_Icon").hide(),this.drawSlides(),this.updateBtns()},events:{"click .slideBack":"prevSlide","click .sml_slideBack":"prevSlide","click .tiny_slideBack":"gotoFirst","click .slideForward":"nextSlide","click .sml_slideForward":"nextSlide","click .tiny_slideForward":"gotoLast","click .ratingDiv .like_dislike_div .Like_Icon":"rateUp","keypress .ratingDiv .like_dislike_div .Like_Icon":"rateUpKeyPress","click .ratingDiv .like_dislike_div .disLike_Icon":"rateDown","keypress .ratingDiv .like_dislike_div .disLike_Icon":"rateDownKeyPress","click .nextQ":"showNextQ","keypress .nextQ":"nextQKeyPress","click .nextT":"showNextQ","keypress .nextT":"nextTKeyPress"},nextQKeyPress:function(a){32==a.keyCode&&this.showNextQ()},nextTKeyPress:function(a){32==a.keyCode&&this.showNextQ()},gotoFirst:function(){this.currentSlide=0,this.gotoSlide()},gotoSlide:function(){this.slideShow.stop().animate({"margin-left":0-100*this.currentSlide+"%"}),this.updateBtns(),this.trigger("updated.seen",this.currentSlide,1)},gotoLast:function(){this.currentSlide=this.numSlides-1,this.gotoSlide()},prevSlide:function(){0!=this.currentSlide&&(this.currentSlide-=1,this.gotoSlide())},nextSlide:function(){this.currentSlide!=this.numSlides-1&&(this.currentSlide+=1,this.gotoSlide())},drawSlides:function(){for(var a=null,b=0;b<this.images.length;b++){a=$("<img/>").attr("src",this.images[b].processed_path).css({margin:"auto"});var c=$("<div class='img_before'></div>").css({width:this.slideWidth+"%",left:b*this.slideWidth+"%",right:(b+1)*this.slideWidth+"%"}).append(a);this.slideShow.append(c)}this.slideShow.append("<div class='clear'></div>"),this.slider.css({height:"100%",overflow:"hidden"}).html(this.slideShow),this.numSlides<2&&(this.$(".slideBack").hide(),this.$(".tiny_slideBack").hide(),this.$(".slideForward").hide(),this.$(".tiny_slideForward").hide())},render:function(){return this.trigger("got.size",this.numSlides),this.trigger("updated.seen",this.currentSlide,1),this.$el},updateBtns:function(){0==this.currentSlide?(this.$(".slideBack").css({opacity:.5,filter:"alpha(opacity=50)"}),this.$(".sml_slideBack").css({opacity:.5,filter:"alpha(opacity=50)"}),this.$(".tiny_slideBack").css({opacity:.5,filter:"alpha(opacity=50)"})):(this.$(".slideBack").css({opacity:1,filter:"alpha(opacity=100)"}),this.$(".sml_slideBack").css({opacity:1,filter:"alpha(opacity=100)"}),this.$(".tiny_slideBack").css({opacity:1,filter:"alpha(opacity=100)"})),this.currentSlide==this.numSlides-1?(this.$(".slideForward").css({opacity:.5,filter:"alpha(opacity=50)"}),this.$(".sml_slideForward").css({opacity:.5,filter:"alpha(opacity=50)"}),this.$(".tiny_slideForward").css({opacity:.5,filter:"alpha(opacity=50)"})):(this.$(".slideForward").css({opacity:1,filter:"alpha(opacity=100)"}),this.$(".sml_slideForward").css({opacity:1,filter:"alpha(opacity=100)"}),this.$(".tiny_slideForward").css({opacity:1,filter:"alpha(opacity=100)"})),$(".curPage",this.$el).text(this.currentSlide+1),$(".numPages",this.$el).text(this.numSlides)}}),Game.MTVideoPlayer=Game.BaseWebmoduleView.extend({initialize:function(){this.autoStart=this.options.autoPlay&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&0==Game.FullScreenPopupManager.getNumActivePopups(),this.jwPlayer=null,this.isTrackingSetup=!1,this.maxPlayPosition=this.options.numSeen,this.disableDash=this.options.disableDash,this.isSmallMp3View=!1,this.isCFCookie=""!=document.cookie,this.playSpeed=1,this.jwPlayerPlayTimeTimeout=null,this.loadWithoutDash=!1},setMediaHeight:function(a){this.height=a},setMp3ToSmall:function(a){this.isSmallMp3View=a},setMediaCookie:function(){var a=this,b=a.media;if(Game.WebModuleTickle.isDashStreamAvailable(b)&&(b.hlscloudFront=a.media.cloudFrontUrlMap.DASH),!b)return Game.MixPanelTracking.track("JWPlayer Error",{message:"media missing",media:a.media,mediaId:a.media.id,cfstatus:!0,isCookie:a.isCFCookie}),!1;if(!b.hlscloudFront)return a.isCFCookie=!1,Game.MixPanelTracking.track("JWPlayer Warn",{message:"warn no hlscloudFront,using mtplayer",media:a.media,mediaId:a.media.id,cfstatus:!0,isCookie:a.isCFCookie}),void a.render();if(b.expiry-300<NTP.fixTime()/1e3)return void this.trigger("media.expired");var c=b.hlscloudFront.CloudFront_Url;c=c.split("/"),c.shift(),c.shift(),c.shift(),c.pop(),c="/"+c.join("/"),$.ajax({type:"GET",url:"//oauth.mindtickle.com/setmediacookies",dataType:"jsonp",jsonp:"callback",data:{policy:b.hlscloudFront.CloudFront_Policy,signature:b.hlscloudFront.CloudFront_Signature,kpid:b.hlscloudFront.CloudFront_Key_Pair_Id,path:c},success:function(b){b?(a.mediaCookieSet=!0,a.render()):(a.isCFCookie=!1,Game.MixPanelTracking.track("JWPlayer Warn",{message:"cookie disabled, using mtplayer",media:a.media,mediaId:a.media.id,cfstatus:!0,isCookie:a.isCFCookie}),a.render())},error:function(b){a.isCFCookie=!1,Game.MixPanelTracking.track("JWPlayer Warn",{message:"cookie disabled, using mtplayer",media:a.media,mediaId:a.media.id,cfstatus:!0,isCookie:a.isCFCookie}),a.render()}})},createNewConf:function(){var a=[],b={height:this.height?this.height:"100%",width:"100%",autostart:this.autoStart||this.loadWithoutDash,ga:{idstring:this.media.id,label:this.media.title},image:this.media.thumbPath};Game.MTVideoPlayer.isOldJWPlayer?(b.flashplayer=assetsBase+"/libs/jwplayer6.12.flash.swf",b.html5player=assetsBase+"/libs/jwplayer6.12.html5.js",b.primary="flash"):(b.primary="html5",b.startparam="start",b.skin={name:"seven",active:"#faa651"});var c="mp4PathList";this.media.type.toUpperCase()==Game.WebModuleTickle.MTAUDIO.toUpperCase()&&(c="mp3PathList");var d=[];!this.media[c]||this.media[c].length<1?d.push(this.media[c.substr(0,7)]):$.isArray(this.media[c])&&(d=this.media[c]);var e=!1,f=0,g=0,h="360p",i=360;companySettings&&1!=companySettings.cdnId&&(h="720p",i=720);for(var j=0;j<d.length;j++)if(d[j]){var k=d[j].substr(d[j].lastIndexOf("/")+1);k=k.substr(0,k.indexOf("."));var l=k.substr(0,k.length-1);companySettings&&companySettings.extra_config&&companySettings.extra_config.defaultVideoQuality&&(h=companySettings.extra_config.defaultVideoQuality,i=h.substr(0,h.length-1)),e=!!e||k==h,!e&&i>l&&g<l&&(f=j,g=l),a.push({file:d[j],label:k,type:c.substr(0,3),"default":k==h})}!e&&a[f]&&(a[f]["default"]=!0,console.log("jwSource",a[f])),(Game.MTVideoPlayer.isOldJWPlayer||d.length<1)&&this.media.type.toUpperCase()!=Game.WebModuleTickle.MTAUDIO.toUpperCase()&&0==this.media.status&&(this.media.hlscloudFront&&this.mediaCookieSet&&this.media.hlscloudFront.CloudFront_Url?a.unshift({file:this.media.hlscloudFront.CloudFront_Url}):this.media.hlsPath&&(a.unshift({file:Utils.Func.repairUrl(this.media.hlsPath.replace(/%25/g,"%").replace(/%26/g,"&"))}),Game.MixPanelTracking.track("JWPlayer Warn",{message:"hls but no cf path",media:this.media,mediaId:this.media.id,cfstatus:!0,isCookie:this.isCFCookie})));var m=[],n=this.media.customSubtitleList;if(companySettings.lsSettings&&companySettings.lsSettings.enableTranscription&&this.media.mediaLoPreference&&!this.media.mediaLoPreference.hideClosedCaption){var o="English(Default)"===this.media.mediaLoPreference.defaultLanguage;this.media.vttSubtitlePath&&this.media.vttSubtitlePath.length&&m.push({kind:"captions",file:this.media.vttSubtitlePath,label:"English(auto-generated)","default":o})}if(n&&n.length)for(var p=0;p<n.length;p++){var o=this.media.mediaLoPreference.defaultLanguage===n[p].language;m.push({kind:"captions",file:n[p].path,label:n[p].language,"default":o})}var q=[{sources:a,mediaid:this.media.id,image:this.media.thumbPath,tracks:m}];return this.media.type.toUpperCase()==Game.WebModuleTickle.MTAUDIO.toUpperCase()&&(this.media.thumbPath=assetsBase+"/css/course/images/audio-thumb.png","//"==this.media.thumbPath.substr(0,2)&&(this.media.thumbPath=location.protocol+this.media.thumbPath)),q[0].image=this.media.thumbPath,this.loadWithoutDash||this.disableDash||!Game.WebModuleTickle.isDashStreamAvailable(this.media)||(q=[{forceLocalizationDefaults:!0,withCredentials:!0,file:this.media.cloudFrontUrlMap.DASH.CloudFront_Url,type:"dash",image:this.media.thumbPath,tracks:m}],b.preload="auto"),b.playlist=q,"false"!=window.jwplayerView&&companySettings&&1==companySettings.lsSettings.videoSpeedControl&&(b.playbackRateControls=[.5,.75,1,1.25,1.5,2]),b},render:function(){if(Game.MTVideoPlayer.isOldJWPlayer&&this.isCFCookie&&!this.mediaCookieSet)return void this.setMediaCookie();if(Game.WebModuleTickle.isDashStreamAvailable(this.media)&&this.isCFCookie&&!this.mediaCookieSet)return void this.setMediaCookie();this.$el.empty();var a="mtvideo"+this.cid;$(".slideBack,.slideForward").hide();var b=$("<div/>").css("height","100%").appendTo(this.$el);b.append($("<div/>").attr("id",a));var c=this.createNewConf();this.setupAt=new Date,this.jwPlayer=jwplayer(a).setup(c),"false"==window.jwplayerView?(this.jwPlayer.onReady(_.bind(this.onReady,this)),this.jwPlayer.onTime(_.bind(this.trackScore,this)),this.jwPlayer.onError(_.bind(this.trackJwPlayerError,this)),this.jwPlayer.onSetupError(_.bind(this.onPlayerError,this))):(this.jwPlayer.on("ready",_.bind(this.onReady,this)),this.jwPlayer.on("time",_.bind(this.trackScore,this)),this.jwPlayer.on("error",_.bind(this.trackJwPlayerError,this)),this.jwPlayer.on("setupError",_.bind(this.onPlayerError,this)),this.jwPlayer.on("play",_.bind(this.onJwPlayerPlay,this)),this.jwPlayer.on("pause",_.bind(this.onJwPlayerPause,this)),this.jwPlayer.on("seeked",_.bind(this.onJwPlayerSeek,this))),this.isTrackingProgress=!0,this.options.allowSkip||(this.jwPlayer.on("seek",_.bind(this.seeking,this)),this.jwPlayer.on("seeked",_.bind(this.seeked,this))),this.listenTo(eventManager,"play.jwplayer",this.playJWPlayer),this.listenTo(eventManager,"pause.jwplayer",this.pauseJWPlayer)},playJWPlayer:function(){console.log(this.jwplayer)},pauseJWPlayer:function(){this.jwPlayer.pause(!0)},seTJwPlayerTimeout:function(a){var b=this,c=null;clearTimeout(this.jwPlayerPlayTimeTimeout);var d=this.jwPlayer.getPosition(),e=1e3*(30-d%30);if(a){c=Math.floor(d/30);try{PubSub.publish("Transcription.learner.scrollTranscriptionColumn",{scrollIndex:c})}catch(f){console.log("Error in publishing transcription scroll event")}}b.jwPlayerPlayTimeTimeout=setTimeout(function(){c=Math.round(b.jwPlayer.getPosition()/30);try{PubSub.publish("Transcription.learner.scrollTranscriptionColumn",{scrollIndex:c})}catch(a){console.log("Error in publishing transcription scroll event")}b.seTJwPlayerTimeout(3e4)},e)},onJwPlayerPlay:function(){this.seTJwPlayerTimeout()},onJwPlayerPause:function(){clearTimeout(this.jwPlayerPlayTimeTimeout)},onJwPlayerSeek:function(){this.seTJwPlayerTimeout(!0)},onReady:function(){if(!(Game.MTVideoPlayer.isOldJWPlayer||"true"==window.jwplayerView||companySettings&&0==companySettings.lsSettings.videoSpeedControl)){var a=this.$("video").get(0);if(a){var b=$("<div/>").addClass("jw-icon jw-reset jw-icon-inline jw-button-color jw-icon-speedchange");b.append($("<div></div>").text("1x").addClass("speedshow").css("width",40));for(var c=$("<div/>").addClass("jw-speedDiv").appendTo(b),d=[.5,.75,1,1.25,1.5,2],e=0;e<d.length;e++){var f=$("<div/>").addClass("").text(d[e]+"x").appendTo(c);1==d[e]&&f.addClass("current")}this.$(".jw-icon-fullscreen").after(b)}}},events:{"click .jw-speedDiv>div":"changeSpeed"},changeSpeed:function(a){this.playSpeed=parseFloat($(a.target).text()),this.playSpeed<.1&&(this.playSpeed=1);var b=this.$("video").get(0);b.playbackRate=this.playSpeed,b.defaultPlaybackRate=this.playSpeed,navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&this.jwPlayer.seek(this.jwPlayer.getPosition()),this.$(".jw-speedDiv>div").removeClass("current"),this.$(".speedshow").text(this.playSpeed+"x"),$(a.target).addClass("current")},seeking:function(a){a.offset>this.maxPlayPosition&&(this.isTrackingProgress=!1)},seeked:function(){this.isTrackingProgress||(this.jwPlayer.seek(this.maxPlayPosition),this.isTrackingProgress=!0)},getLink:function(a,b){if(!a)return"";var c="";return c=b?"https://"+a.split("/")[2]+b:"//"==a.substr(0,2)?"https:"+a:a,"<a href='"+c+"' target='_blank'>"+c+"</a><br>"},trackJwPlayerError:function(a){var b=this;if(b.media.expiry-300<NTP.fixTime()/1e3)return void this.trigger("media.expired");if(!this.loadWithoutDash&&Game.WebModuleTickle.isDashStreamAvailable(this.media))return this.loadWithoutDash=!0,a.media=b.media,a.isCookie=b.isCFCookie,a.jwversion=jwplayer.version,a.is_dash_error=!0,a.sourceError&&a.sourceError.data&&a.sourceError.data.length>=2&&(a.actualError=a.sourceError.data[1]),Game.MixPanelTracking.track("JWPlayer Error",a),void this.render();if(a.message.indexOf("crossdomain access denied")>-1||a.message.indexOf("SecurityErrorEvent")>-1||a.message.indexOf("404")>-1){var c="Please make sure following urls are unblocked<br>";c+=this.getLink(b.media.mp4Path,"/crossdomain.xml"),this.isCFCookie?(c+=this.getLink(b.media.hlscloudFront.CloudFront_Url,"/crossdomain.xml"),c+=this.getLink(b.media.hlscloudFront.CloudFront_Url)):(c+=this.getLink(b.media.hlsPath,"/crossdomain.xml"),c+=this.getLink("//d2hzmni0s74o4x.cloudfront.net","/crossdomain.xml"),c+=this.getLink("//d2eda235xm1k44.cloudfront.net","/crossdomain.xml"),c+=this.getLink("//d2h2ixjcr7fxno.cloudfront.net","/crossdomain.xml"),c+=this.getLink(b.media.hlsPath)),c+=this.getLink(b.media.mp4Path,"/crossdomain.xml"),c+=this.getLink(b.media.mp4Path),Utils.Func.alert(c)}else if(a.message.indexOf("Error loading media: File could not be played")>-1){var d=null,e=this.jwPlayer.getPlaylist();e&&e.length>0&&e[0].sources.length>0&&(d=e[0].sources[0].file);var c=null;c=d?"This video cannot be played because the URL seems to be blocked. Please contact your IT administrator.":"Corrupted video! Please contact admin to correct this.",Utils.Func.alert(c)}a.media=b.media,a.isCookie=b.isCFCookie,a.jwversion=jwplayer.version,a.sourceError&&a.sourceError.data&&a.sourceError.data.length>=2&&(a.actualError=a.sourceError.data[1]),Game.MixPanelTracking.track("JWPlayer Error",a)},onPlayerError:function(a,b){this.jwPlayer&&0==this.jwPlayer.getPlaylist().length?Utils.Func.alert("This video was removed because of a data deletion request from another user from your organization, in accordance with our regulatory compliance requirements. Please contact your admin for further details."):(Utils.Func.alert("Please install flash player or use Google Chrome/Firefox/IE9+."),Game.MixPanelTracking.track("JWPlayer Error",{type:"setup error",message:b}))},setupTracker:function(a){a>0&&(this.isTrackingSetup=!0,this.trigger("got.size",a),this.isSeeking=!1,this.options.startAt>0&&this.jwPlayer.seek(this.options.startAt))},trackScore:function(a){if(!this.isTrackingSetup){var b=new Date;this.videoStarted=!0,Game.MixPanelTracking.track("JWPlayer Delay",{timeTaken:b-this.setupAt,mediaId:this.media.id,isCFCookie:this.isCFCookie}),this.setupTracker(a.duration)}if(this.isTrackingProgress){this.maxPlayPosition=Math.max(this.maxPlayPosition,a.position);var c=Math.floor(a.position);this.trigger("updated.seen",c,2)}},exit:function(){if(this.jwPlayer){console.log("exit:remove player",this.jwPlayer);try{if(!this.videoStarted){var a=new Date;Game.MixPanelTracking.track("JWPlayer Infinite Buffer",{timeTaken:a-this.setupAt,mediaId:this.media.id,isCFCookie:this.isCFCookie}),this.videoStarted=!0}this.jwPlayer.remove()}catch(b){console.log("error in exiting jwplayer",b)}}else console.log("jwplayer not available to exit");clearTimeout(this.jwPlayerPlayTimeTimeout)}},{isFlashAvailable:function(){var a=swfobject.getFlashPlayerVersion();return a.major>10||10==a.major&&a.minor>1}(),isHtml5VideoAvailable:"function"==typeof $("<video/>").get(0).canPlayType,isOldJWPlayer:parseInt(jwplayer.version)<7}),Game.LoEmbedPlayer=Game.BaseWebmoduleView.extend({initialize:function(){if(this.videoArea=$(".learningContent",this.el),appSettings.isPreview)this.videoArea.empty().append('<div style="color:white; text-align:center; padding-top:200px;">Preview for Missions is not available</div>'),this.$(".lmArea").css("bottom",40),$(".pagesNav",this.el).remove(),$(".pagesInfo",this.el).remove(),$(".slideBack,.slideForward",this.el).remove();else{this.iframe=$(this.media.embedUrl),this.src=this.iframe[0].src;var a=this;this.iframe[0].onload=function(){a.iframe[0].src.indexOf(a.src)<0&&Utils.Func.alert("Unable to load.",function(){mtBrodCastService.gotoState("root.courses.recents",{series:null,query:null},{reload:!0})})},this.iframe.css({width:"100%",height:"100%","float":"left",background:"#fff"}),this.videoArea.html(this.iframe),this.videoArea.append("<div class='clear'></div>"),this.$(".lmArea").css("bottom",40),$(".pagesNav",this.el).remove(),$(".pagesInfo",this.el).remove(),$(".slideBack,.slideForward",this.el).remove()}},render:function(){this.trigger("got.size",1),this.trigger("updated.seen",0,1)}}),Game.IframePlayer=Game.BaseWebmoduleView.extend({initialize:function(){this.videoArea=$(".learningContent",this.el),this.iframe=$(this.media.htmlsrc),this.iframe.css({width:"100%",height:"100%","float":"left",background:"#fff"}),this.videoArea.html(this.iframe),this.videoArea.append("<div class='clear'></div>"),this.$(".lmArea").css("bottom",40),$(".pagesNav",this.el).remove(),$(".pagesInfo",this.el).remove(),$(".slideBack,.slideForward",this.el).remove()},render:function(){this.trigger("got.size",1),this.trigger("updated.seen",0,1)}}),Game.IframeLinkPlayer=Game.BaseWebmoduleView.extend({initialize:function(){if(this.videoArea=$(".learningContent",this.el),this.iframe=$("<iframe/>").attr("name","myIFrame"),this.iframe.attr({allowfullscreen:"",mozallowfullscreen:"",webkitallowfullscreen:""}),this.iframe.css({width:"100%",height:"100%","float":"left",background:"#fff"}),"ARCHIVE"==this.media.type&&this.media.archive_type&&"NONE"!=this.media.archive_type)if(this.media.isScormEngine&&this.media.original_path&&this.media.previewUrl){this.setMediaCookieAndPreviewUrl();var a=this;this.listenTo(eventManager,"update.aicc.score",function(b){var c=JSON.parse(b.updatedLo);a.trigger("update.user.data",c)})}else{var b={};b=this.options.misc_content&&this.options.misc_content.cmi?this.options.misc_content.cmi:this.media.misc_content&&this.media.misc_content.cmi?this.media.misc_content.cmi:this.getDefaultCmi();var c;try{c=learnerJson}catch(d){c=userJson}var e=JSON.stringify(b).replace(/\"/g,"&quot;");this.form=$('<form action="'+this.media.index+'" method="post" target="myIFrame" id="postToIframe"></form>'),this.form.append('<input type="hidden" name="cmi" value="'+e+'" />'),this.form.append('<input type="hidden" name="learnerId" value="'+c.id+'" />'),this.form.append('<input type="hidden" name="learnerName" value="'+c.name+'" />'),this.form.append('<input type="hidden" name="maxScore" value="'+this.media.contentParts+'" />'),this.videoArea.html(this.iframe),this.videoArea.append(this.form),this.videoArea.append('<script type="text/javascript"> $("#postToIframe").submit()</script>')}else this.iframe.attr("src",this.media.index),this.videoArea.html(this.iframe);this.videoArea.append("<div class='clear'></div>"),this.getIframeDataProxy=_.bind(this.getIframeData,this),window.addEventListener?window.addEventListener("message",this.getIframeDataProxy,!1):window.attachEvent("onmessage",this.getIframeDataProxy),this.$(".lmArea").css("bottom",40),$(".pagesNav",this.el).remove(),$(".pagesInfo",this.el).remove(),$(".slideBack,.slideForward",this.el).remove()},render:function(){if("ARCHIVE"==this.media.type&&this.media.has_swf&&1==this.media.has_swf){var a=Utils.Func.getFlashVersion().split(",").shift();a<9&&(void 0===localStorage.hideFlashWarningForArchive&&Utils.Func.alertCustomWithCheckbox(Game.Messages.ARCHIVE_FLASH_WARNING_TEXT+"<br/> "+Game.Messages.ARCHIVE_FLASH_WARNING_PART_A+"<a href='https://get.adobe.com/flashplayer/' target='_blank'>adobe flash center</a><br/> "+Game.Messages.ARCHIVE_FLASH_WARNING_PART_B,function(a){a&&(localStorage.hideFlashWarningForArchive=!0)},Game.Messages.CONTINUE,Game.Messages.DO_NOT_SHOW_MSG_CHECKBOX,!1),console.log("Flash player not found or incompatible flash version found"))}"ARCHIVE"==this.media.type&&this.media.archive_type&&"NONE"!=this.media.archive_type||(this.trigger("got.size",1),this.trigger("updated.seen",0,1))},exit:function(){this.iframe.attr("src",""),Game.IframeLinkPlayer.__super__.exit.apply(this,arguments)},setMiscContentForScorm:function(a){this.misc_content=a},getIframeData:function(a){if(a&&a.data&&a.data.type){var b={};switch(a.data.type){case"score":this.trigger("updated.seen",0,a.data.value.absolute);break;case"completion_status":b.completionStatus=a.data.value.completionStatus,this.trigger("updated.content",b);break;case"success_status":b.successStatus=a.data.value.successStatus,this.trigger("updated.content",b);break;case"all":var c=a.data.value.score.absolute;if(this.media.isScormEngine){var d="";if(a.data.value.registrationId){var e=a.data.value.registrationId;d=e.match("crsid_(.*)_uid"),d&&d.length>1&&(d=d[1].split("_")[1])}if(!d||d!=this.media.id)break;c=this.getAbsoluteScore(a.data.value.score,this.media.contentParts)}void 0!=a.data.value.score&&(b.seen={start:0,count:c}),a.data.value.cmi&&(b.misc_content={cmi:a.data.value.cmi}),a.data.value.completionStatus&&(b.completionStatus=a.data.value.completionStatus),a.data.value.successStatus&&(b.successStatus=a.data.value.successStatus),this.trigger("updated.content",b);break;case"quit":}}},getAbsoluteScore:function(a,b){return b||(b=1),Math.round(a*b)},getDefaultCmi:function(){return{completion_status:"unknown",location:0,score:{scaled:0,raw:0,min:0,max:1},success_status:"unknown"}},setMediaCookieAndPreviewUrl:function(){var a=this,b=a.iframe,c=a.videoArea,d=a.media,e=d.original_path;if(e=e.split("?"),e.length>1){for(var f,g=e[1],h=g.split("&"),i=[],j=0;j<h.length;j++)f=h[j].split("="),i[f[0]]=f[1];var k=e[0];k=k.split("/"),k.shift(),k.shift(),k.shift(),k="/"+k.join("/")+"/",$.ajax({type:"GET",url:"//oauth.mindtickle.com/setmediacookies",dataType:"jsonp",jsonp:"callback",data:{policy:i.Policy,signature:i.Signature,kpid:i["Key-Pair-Id"],path:k},success:function(e){a.mediaCookieSet=!0,b.attr("src",d.previewUrl),c.html(b)},error:function(a){console.log(a.message)}})}}}),Game.SwfObectPlayer=Game.BaseWebmoduleView.extend({initialize:function(){this.videoArea=$(".learningContent",this.el),this.$(".lmArea").css("bottom",40),$(".pagesNav",this.el).remove(),$(".pagesInfo",this.el).remove(),$(".slideBack,.slideForward",this.el).remove();var a=$("<div/>").attr("id","swfobj"+this.cid);this.videoArea.empty().append(a),this.videoArea.append("<div class='clear'></div>"),this.surl=this.media.swfsrc},render:function(){this.trigger("got.size",1),this.trigger("updated.seen",0,1);var a=this.media.original_path;this.media.processed_path&&(a=this.media.processed_path),swfobject.embedSWF(a,"swfobj"+this.cid,"100%","100%","0.0.0",void 0,void 0,void 0,{allowFullScreen:!0,wmode:"opaque"})}}),Game.OEmbedHandler=Game.BaseWebmoduleView.extend({initialize:function(){"string"==typeof this.media.frame&&(this.media.oEmbedData=$.parseJSON(this.media.frame));var a=this.media.oEmbedData;if(this.videoArea=$(".learningContent",this.el),"jwplayer"==a.type)this.media.thumbUrl=a.thumbnail_url.replace("http:","https:"),this.player=new Game.MTVideoPlayer(this.el,this.media),this.player.publicVideo=$(a.html).attr("src").replace("http:","https:");else if("photo"==a.type)this.media.images=[a.url.replace("http:","https:")],this.media.isPublicUrl=!0,this.media.processed_path=this.media.images[0],this.player=new Game.ImageList(this.el,this.media);else{a.html=$.trim(a.html),a.html=_.unescape(a.html),a.html=a.html.replace("http:","https:"),a.html=a.html.replace(/width="\d\d\dpx"/g,'width="100%"'),a.html=a.html.replace(/height="\d\d\dpx"/g,'height="100%"'),a.html=a.html.replace(/width=\d\d\dpx/g,"width=100%"),a.html=a.html.replace(/height=\d\d\dpx/g,"height=100%"),a.html=a.html.replace(/width="( )?\d\d\d"/g,'width="100%"'),a.html=a.html.replace(/height="( )?\d\d\d"/g,'height="100%"'),a.html=a.html.replace(/width=\d\d\d/g,"width=100%"),a.html=a.html.replace(/height=\d\d\d/g,"height=100%"),a.html=a.html.replace(/width:( )?\d\d\dpx/g,"width:100%"),a.html=a.html.replace(/height:( )?\d\d\dpx/g,"height:100%"),a.html=a.html.replace(/width:\d\d\d/g,"width:100%"),a.html=a.html.replace(/height:\d\d\d/g,"height:100%");var b=$(a.html);if("YouTube"==a.provider_name){var c=$("iframe",b).attr("src");c+="&rel=0&wmode=transparent",$("iframe",b).attr("src",c)}"rich"==a.type&&this.videoArea.css({background:"#fff"}),this.videoArea.html(b),this.videoArea.append("<div class='clear'></div>"),this.$(".noembed-embed,.noembed-wrapper,.noembed-embed-inner").css({height:"100%"}),this.$(".noembed-meta-info").hide(),$(".fullSize_Icon",this.el).remove(),$(".pagesNav",this.el).remove(),$(".pagesInfo",this.el).remove(),$(".slideBack,.slideForward",this.el).remove()}},render:function(){this.trigger("got.size",1),this.trigger("updated.seen",0,1),this.player&&this.player.render()}}),Game.YTVideoPlayer=Game.BaseWebmoduleView.extend({initialize:function(){this.videoUrl=$.trim("//www.youtube.com/embed/"+this.media.videoId+"?wmode=opaque&rel=0"),this.videoArea=$(".learningContent",this.el),this.iframe=$("<iframe></iframe>"),this.iframe.attr("src",this.videoUrl).css({width:"100%",height:"100%","float":"left"}),this.iframe.attr("allowfullscreen",!0),this.videoArea.html(this.iframe),this.videoArea.append("<div class='clear'></div>"),$(".fullSize_Icon",this.el).remove(),$(".pagesNav",this.el).remove(),$(".pagesInfo",this.el).remove(),$(".slideBack,.slideForward",this.el).remove()},render:function(){this.trigger("got.size",1),this.trigger("updated.seen",0,1)}}),Game.PreziVideoPlayer=Game.BaseWebmoduleView.extend({initialize:function(){this.media.objectId.toLowerCase().startsWith("view/")?this.videoUrl=$.trim("//prezi.com/"+this.media.objectId+"/embed"):this.videoUrl=$.trim("//prezi.com/embed/"+this.media.objectId+"/?bgcolor=ffffff&amp;lock_to_path=0&amp;autoplay=0&amp;autohide_ctrls=0&amp;features=undefined&amp;disabled_features=undefined"),this.videoArea=$(".learningContent",this.el),this.iframe=$("<iframe></iframe>"),this.iframe.attr("src",this.videoUrl).css({width:"100%",height:"100%","float":"left"}),this.videoArea.html(this.iframe),this.videoArea.append("<div class='clear'></div>"),$(".fullSize_Icon",this.el).remove(),$(".pagesNav",this.el).remove(),$(".pagesInfo",this.el).remove(),$(".slideBack,.slideForward",this.el).remove()},render:function(){this.trigger("got.size",1),this.trigger("updated.seen",0,1)}}),Game.BrainsharkPlayer=Game.BaseWebmoduleView.extend({initialize:function(){this.objectUrl="//www.brainshark.com/brainshark/vu/view.asp?pi="+this.media.objectId+'&dm=5&pause=1&nrs=1&appKey=77"',this.videoArea=$(".learningContent",this.el),this.iframe=$("<iframe></iframe>"),this.iframe.attr({src:this.objectUrl,width:"100%",height:"100%",scrolling:"no",frameborder:0}).css({width:"100%",height:"100%","float":"left"}),this.videoArea.html(this.iframe),this.videoArea.append("<div class='clear'></div>"),$(".fullSize_Icon",this.el).remove(),$(".pagesNav",this.el).remove(),$(".pagesInfo",this.el).remove(),$(".slideBack,.slideForward",this.el).remove()},render:function(){this.trigger("got.size",1),this.trigger("updated.seen",0,1)}}),Game.MTCrocodocPlayer=Game.BaseWebmoduleView.extend({initialize:function(){this.videoArea=$(".learningContent",this.el);var a=this.media.uuid;if(this.iframe=$("<iframe></iframe>"),Utils.Func.isiPad){this.iframe.attr("src",a).attr({width:"100%",height:"100%",scrolling:"no"}).css({width:"100%",height:"100%","float":"left"});var b=0,c=0,d=this,e=setInterval(function(){if(!d.iframe.is(":visible"))return void clearInterval(e);var a=d.iframe.parent().width(),f=d.iframe.parent().height();a==b&&f==c||(d.iframe.get(0).contentWindow.postMessage({width:a,height:f},"*"),b=a,c=f)},500)}else this.iframe.attr("src",a).attr({scrolling:"no"}).css({width:"100%",height:"100%","float":"left"});this.videoArea.html(this.iframe),this.videoArea.append("<div class='clear'></div>"),$(".pagesNav",this.el).remove(),$(".pagesInfo",this.el).remove(),$(".slideBack,.slideForward",this.el).hide(),$(".slideBack,.slideForward").hide(),this.pageChangeProxy=_.bind(this.pageChanged,this),window.addEventListener?window.addEventListener("message",this.pageChangeProxy,!1):window.attachEvent("onmessage",this.pageChangeProxy),this.maxPlayPosition=Math.max(1,this.options.numSeen),this.playerDomain="",a.indexOf("://")>-1?this.playerDomain=a.split("/")[2]:this.playerDomain=a.split("/")[0],this.playerDomain=this.playerDomain.split(":")[0],this.letterTypedHelper=_.bind(this.letterTyped,this),$(document).on("keydown",this.letterTypedHelper)},pageChanged:function(a){if(this.media.expiry-300<NTP.fixTime()/1e3&&this.trigger("media.expired"),a.data&&!(a.origin.toLowerCase().indexOf(this.playerDomain)<0)){if("object"==typeof a.data)return void this.trigger("fs.position",a.data);var b=a.data.split(".");if("A"==b[0]){var c=parseInt(b[1]);if(!this.options.allowSkip&&this.maxPlayPosition+1<c)return void this.iframe.get(0).contentWindow.postMessage("page."+this.maxPlayPosition,"*");this.maxPlayPosition=Math.max(this.maxPlayPosition,c),this.trigger("updated.seen",c-1,1)}else"N"==b[0]&&(this.trigger("got.size",parseInt(b[1])),this.trigger("updated.seen",0,1),this.options.startAt>0&&this.iframe.get(0).contentWindow&&this.iframe.get(0).contentWindow.postMessage("page."+this.options.startAt,"*"))}},render:function(){return this.$el},letterTyped:function(a){var b=a.which;37==b&&this.iframe.get(0).contentWindow&&this.iframe.get(0).contentWindow.postMessage("prev","*"),39==b&&this.iframe.get(0).contentWindow&&this.iframe.get(0).contentWindow.postMessage("next","*")},exit:function(){$(document).off("keydown",this.letterTypedHelper),window.removeEventListener?window.removeEventListener("message",this.pageChangeProxy,!1):window.detachEvent("onmessage",this.pageChangeProxy)},remove:function(){this.exit(),Game.BaseWebmoduleView.prototype.remove.call(this)}}),Game.MTPdfPlayer=Game.BaseWebmoduleView.extend({
initialize:function(){console.log("MTPdfPlayer called!"),this.iframeId="pdf_iframe"+(new Date).getTime(),this.iframe=$('<iframe id="'+this.iframeId+'" name="'+this.iframeId+'"></iframe>'),this.videoArea=$(".learningContent",this.el),this.videoArea.html(this.iframe);var a=Dashboard.GlobalVars.mtplayer_url+"/pdfViewer/?width=547&height=401";"undefined"!=typeof appSettings&&appSettings.isPreview&&(a+="&reset_to_page=1"),this.options&&this.options.hasOwnProperty("startAt")&&0==this.options.startAt&&(a+="&showPreviousViewOnLoad=false&reset_to_page=1"),console.log("URL to be called:",a),this.form=$('<form action="'+a+'" target="'+this.iframeId+'" method="post" style="display:none;" id="pdf_iframe_form" name="pdf_iframe_form"></form>');var b=this.media.urls&&this.media.urls.pdf?this.media.urls.pdf:this.media.original_path;if($("<input type='hidden' />").attr("name","pdf").attr("value",b).appendTo(this.form),Utils.Func.isiPad){this.iframe.attr({scrolling:"no"}).css({width:"100%",height:"100%","float":"left"});var c=0,d=0,e=this,f=setInterval(function(){if(!e.iframe.is(":visible"))return void clearInterval(f);var a=e.iframe.parent().width(),b=e.iframe.parent().height();a==c&&b==d||(e.iframe.get(0).contentWindow.postMessage({width:a,height:b},"*"),c=a,d=b)},500)}else this.iframe.attr({scrolling:"no"}).css({width:"100%",height:"100%","float":"left"});this.videoArea.append(this.form),this.form.attr("target",this.iframeId),this.videoArea.append("<div class='clear'></div>"),$(".pagesNav",this.el).remove(),$(".pagesInfo",this.el).remove(),$(".slideBack,.slideForward",this.el).hide(),$(".slideBack,.slideForward").hide(),this.pageChangeProxy=_.bind(this.pageChanged,this),window.addEventListener?window.addEventListener("message",this.pageChangeProxy,!1):window.attachEvent("onmessage",this.pageChangeProxy),this.maxPlayPosition=Math.max(1,this.options.numSeen),this.playerDomain="",a.indexOf("://")>-1?this.playerDomain=a.split("/")[2]:this.playerDomain=a.split("/")[0],this.playerDomain=this.playerDomain.split(":")[0],this.letterTypedHelper=_.bind(this.letterTyped,this),$(document).on("keydown",this.letterTypedHelper),this.render=_.wrap(this.render,function(a){a(),this.afterRender()})},pageChanged:function(a){if(this.media.expiry-300<NTP.fixTime()/1e3&&this.trigger("media.expired"),a.data&&!(a.origin.toLowerCase().indexOf(this.playerDomain)<0)){if("object"==typeof a.data)return void this.trigger("fs.position",a.data);var b=a.data.split(".");if("A"==b[0]){var c=parseInt(b[1]);if(!this.options.allowSkip&&this.maxPlayPosition+1<c&&this.iframe.get(0).contentWindow)return void this.iframe.get(0).contentWindow.postMessage("page."+this.maxPlayPosition,"*");this.maxPlayPosition=Math.max(this.maxPlayPosition,c),this.trigger("updated.seen",c-1,1)}else"N"==b[0]&&(this.trigger("got.size",parseInt(b[1])),this.trigger("updated.seen",0,1),this.options.startAt>0&&this.iframe.get(0).contentWindow&&this.iframe.get(0).contentWindow.postMessage("page."+this.options.startAt,"*"))}},render:function(){return this.$el},afterRender:function(){this.form.submit()},letterTyped:function(a){var b=a.which;37==b&&this.iframe.get(0).contentWindow&&this.iframe.get(0).contentWindow.postMessage("prev","*"),39==b&&this.iframe.get(0).contentWindow&&this.iframe.get(0).contentWindow.postMessage("next","*")},exit:function(){$(document).off("keydown",this.letterTypedHelper),window.removeEventListener?window.removeEventListener("message",this.pageChangeProxy,!1):window.detachEvent("onmessage",this.pageChangeProxy)},remove:function(){this.exit(),Game.BaseWebmoduleView.prototype.remove.call(this)}}),Game.MTSlideSharePlayer=Game.BaseWebmoduleView.extend({initialize:function(){this.videoUrl=$.trim("//www.slideshare.net/slideshow/embed_code/"+this.media.ssid),this.videoArea=$(".learningContent",this.el),this.iframe=$("<iframe></iframe>"),Utils.Func.isiPad?(this.iframe.attr("src",this.videoUrl).css({width:700,height:"100%",margin:"0 auto",display:"block"}),$(".fullSize_Icon",this.el).css({"margin-left":"50%",left:323,bottom:8,right:""})):this.iframe.attr("src",this.videoUrl).css({width:"100%",height:"100%","float":"left"}),this.videoArea.html(this.iframe),this.videoArea.append("<div class='clear'></div>"),$(".pagesNav",this.el).remove(),$(".pagesInfo",this.el).remove(),$(".slideBack,.slideForward",this.el).remove(),$(".slideBack,.slideForward").remove()},render:function(){return this.trigger("got.size",1),this.trigger("updated.seen",0,1),this.$el}}),Game.MediaRenderView=Backbone.View.extend({constructor:function(a,b,c,d,e,f,g){if(this.el=a,this.options=$.extend({autoPlay:!0,allowSkip:!0,numSeen:0,isSmallMp3:!1,startAt:0},c),Backbone.View.apply(this),this.media=b,_.indexOf(["DOCUMENT_PDF","DOCUMENT_PPT","DOCUMENT_WORD","DOCUMENT_XLS"],this.media.type)>-1)this.$el.append(this.$(".lmArea_bottomPart .fullSize_Icon").remove().css({top:15,bottom:"","z-index":1}).show()),this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0}),this.player=new Game.MTPdfPlayer(this.$el,this.media,this.options),this.listenTo(this.player,"fs.position",this.changeFSPosition);else if("VIDEO"==this.media.type)this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0}),this.player=new Game.MTVideoPlayer(this.$(".learningContent"),this.media,this.options);else if("AUDIO"==this.media.type)this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0}),this.player=new Game.MTVideoPlayer(this.$(".learningContent"),this.media,this.options),this.options.isSmallMp3&&this.player.setMp3ToSmall(!0);else if("IMAGE"==this.media.type||"ALBUM"==this.media.type)this.player=new Game.ImageList(this.$el,this.media,this.options),this.player.render(),this.$(".fullSize_Icon").show();else if("SLIDESHARE"==this.media.type)this.$el.append(this.$(".lmArea_bottomPart .fullSize_Icon").remove().css({top:"",bottom:9,"z-index":1}).show()),this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0}),this.player=new Game.MTSlideSharePlayer(this.$el,this.media,this.options);else if("YOUTUBE"==this.media.type)this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0}),this.player=new Game.YTVideoPlayer(this.$el,this.media,this.options);else if("BRAINSHARK"==this.media.type)this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0}),this.player=new Game.BrainsharkPlayer(this.$el,this.media,this.options);else if("EMBED"==this.media.type)this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0}),this.player=new Game.OEmbedHandler(this.$el,this.media,this.options);else if("PREZI"==this.media.type)this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0}),this.player=new Game.PreziVideoPlayer(this.$el,this.media,this.options);else if("IFRAME"==this.media.type)this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0}),this.player=new Game.IframePlayer(this.$el,this.media,this.options);else if("LOEMBEDURL"==this.media.type)this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0}),this.player=new Game.LoEmbedPlayer(this.$el,this.media,this.options);else if("ARCHIVE"==this.media.type)this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0}),this.player=new Game.IframeLinkPlayer(this.$el,this.media,this.options);else if("SWF"==this.media.type)this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0}),this.player=new Game.SwfObectPlayer(this.$el,this.media,this.options);else if("IMG_MASH_UP"==this.media.type)if(b.lastPublishedMashUpMedia&&b.lastPublishedMashUpMedia.mashupVideo){this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0});var h=this.media.lastPublishedMashUpMedia.mashupVideo.obj?this.media.lastPublishedMashUpMedia.mashupVideo.obj:this.media.mashupVideo;h.type="VIDEO",this.player=new Game.MTVideoPlayer(this.$(".learningContent"),h,this.options)}else this.$(".slideBack").hide(),this.$(".slideForward").hide(),this.newDiv=$("<div><div><p>The Voice-over Slideshow has not been converted to video yet. You will be able to preview the video only after conversion.</p></div></div>").css({position:"relative",height:"100%",width:"100%","margin-top":"100px","margin-left":"280px",color:"white"}),this.slider=$(".learningContent",this.$el),this.slider.append(this.newDiv),this.$(".fullSize_Icon").hide();else if("NOTE"==this.media.type)if(b.lastConvertedNote&&b.lastConvertedNote.convertedPdf&&0==b.lastConvertedNote.convertedPdf.obj.status){this.$(".lmArea_bottomPart").remove(),this.$(".lmArea").css({bottom:0}),this.$el.append(this.$(".lmArea_bottomPart .fullSize_Icon").remove().css({top:15,bottom:"","z-index":1}).show());var h=this.media.lastConvertedNote.convertedPdf.obj?this.media.lastConvertedNote.convertedPdf.obj:this.media.convertedPdf;h.type="DOCUMENT_PDF",h.showInManager=!1,this.renderer=$(".learningContent",this.$el),this.player=new Game.MTPdfPlayer(this.$el,h,this.options),this.listenTo(this.player,"fs.position",this.changeFSPosition)}else this.$(".slideBack").hide(),this.$(".slideForward").hide(),this.newDiv=$("<div><div><p>Document has not been converted to pdf yet. You will be able to preview only after conversion.</p></div></div>").css({position:"relative",height:"100%",width:"100%","margin-top":"100px","margin-left":"400px",color:"white"}),this.slider=$(".learningContent",this.$el),this.slider.append(this.newDiv),this.$(".fullSize_Icon").hide();this.player&&(this.listenTo(this.player,"got.size",this.gotSize),this.listenTo(this.player,"updated.seen",this.updateSeen),this.listenTo(this.player,"updated.content",this.updateContent),this.listenTo(this.player,"media.expired",this.mediaExpired),this.listenTo(this.player,"update.user.data",this.updatedUserData)),this.interval=1;var i=this;this.timer=setInterval(function(){i.interval>=5&&i.$(".mediaTitle").fadeOut(300),i.interval++},600)},mouseMoved:function(){var a=["982269434112020591","1080732371334056262","1069834390334531305","865675142591702271","909666665757230431","1158976327313681864","841330137455076749","1086866325794002108","995083332956850337"];a.indexOf(cname)>-1&&this.media&&(this.$(".mediaTitle .title").html("&nbsp;"),this.$(".mediaTitle").css({width:"40px"})),this.$(".mediaTitle").fadeIn(300),this.interval=1},gotSize:function(a){this.trigger("got.size",a)},updateSeen:function(a,b){this.trigger("updated.seen",a,b)},updateContent:function(a){this.trigger("updated.content",a)},mediaExpired:function(){this.trigger("media.expired")},updatedUserData:function(a){this.trigger("update.user.data",a)},render:function(){this.player&&this.player.render(),this.isFullscreen=!1;var a=this;$(document).off("mozfullscreenchange webkitfullscreenchange fullscreenchange MSFullscreenChange msfullscreenchange").on("mozfullscreenchange webkitfullscreenchange fullscreenchange MSFullscreenChange msfullscreenchange",function(){a.fullscreenChanged()})},exit:function(){this.player&&this.player.exit(),clearInterval(this.timer)},events:{"click .fullSize_Icon":"toggleFullscreen",mousemove:"mouseMoved",mouseenter:"mouseMoved",mouseleave:"mouseMoved",keypress:"mouseMoved"},changeFSPosition:function(a){this.$(".fullSize_Icon").css(a)},toggleFullscreen:function(){return this.player.toggleFullscreen?void this.player.toggleFullscreen():void(this.isFullscreen?this.exitFullscreen():this.enterFullscreen())},enterFullscreen:function(){var a=this.$el.get(0);a.requestFullScreen?a.requestFullScreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen?a.webkitRequestFullScreen():($(a).addClass("myfs"),this.isFullscreen=!0),$(".Container").css("overflow","visible"),$(".qnsansArea").css("overflow","visible")},exitFullscreen:function(){var a=this.$el.get(0);document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():($(a).removeClass("myfs"),this.isFullscreen=!1),$(".Container").css("overflow",""),$(".qnsansArea").css("overflow","")},fullscreenChanged:function(){null!=document.fullScreenElement||null!=document.webkitFullscreenElement||null!=document.mozFullScreenElement?(this.isFullscreen=!0,this.$(".fullSize_Icon").addClass("full")):(this.isFullscreen=!1,this.$(".fullSize_Icon").removeClass("full"))}}),Game.WebModuleView=Game.TickleView.extend({constructor:function(a,b,c){"undefined"==typeof appSettings&&(window.appSettings={isPreview:!0});var d={viewOnly:!1,navigation:!0,factoEnabled:!0};c=c||{},this.options=$.extend(d,c),a.stop||(this.options.navigation=!1),this.tickle=a,this.container=b,appSettings.isPreview||"LO_EMBED"!=a.staticData.type||this.tickle.isCompleted()||(this.tickle.numChangesUnsaved++,this.saveTickle()),this.el=$(_.template($("script#tmpl_webModuleArea").html().trim())({skipBtnTxt:Game.Messages.SKIP_BTN_TXT,nextQBtnTxt:Game.Messages.NEXTQ_BTN_TXT,nextTBtnTxt:Game.Messages.NEXTT_BTN_TXT,doneBtnTxt:Game.Messages.BTN_DONE_TEXT,exitBtnTxt:Game.Messages.BTN_EXIT,score:this.tickle.userData.score})),Backbone.View.apply(this),Utils.Func.isMobileBrowser()&&$(".mobileCustom",this.el).css({bottom:"-61px",position:"absolute"}),this.isLastQ=this.tickle.stop&&this.tickle.staticData.id==this.tickle.stop.children[this.tickle.stop.children.length-1].id,this.tickle.isActive()?(this.isActiveAtStart=!0,this.options.navigation?this.isLastQ&&Game.config.quick_update?this.$(".exitUpdate").show().attr("aria-label","Exit to series"):this.isLastQ?this.tickle.stop.isLastTopic&&this.tickle.stop.level.isLastRound?this.$(".doneCourse").addClass("disable").show():this.$(".nextT").addClass("disable").show():(this.$(".nextQ").show().attr("aria-label","Move to next learning object"),this.tickle.isNextTickleUnlocked(this.tickle.staticData.id)||this.$(".nextQ").addClass("disable").attr("aria-label",Game.Messages.LB_TXT_COMPLETE_LOCKED_CONTENT)):($(".nextT",this.el).hide(),$(".nextQ",this.el).hide(),$(".skipBtn",this.el).hide())):this.isActiveAtStart=!1,this.$(".title").text(this.tickle.staticData.media.title),"595230351230362761"==cname&&"ARCHIVE"==this.tickle.staticData.media.type&&this.$(".title").parent().remove();var e=0;if(!this.tickle.isCompleted()&&this.tickle.playSequence&&this.tickle.playSequence.length>0&&this.tickle.playSequence[0].start<2&&(e=this.tickle.playSequence[0].size),this.player=new Game.MediaRenderView(this.$(".fsarea"),this.tickle.staticData.media,{autoPlay:!this.tickle.isFirstTickleOfModule(),allowSkip:this.tickle.staticData.allowSkip||!!Game.config.quick_update,numSeen:this.tickle.numSeen,isSmallMp3:!1,startAt:e,misc_content:this.tickle.userData?this.tickle.userData.misc_content:null,disableDash:this.computeDisableDash()}),this.listenTo(this.player,"got.size",this.notifySize),this.listenTo(this.player,"updated.seen",this.notifySeen),this.listenTo(this.player,"updated.content",this.notifyContentUpdates),this.listenTo(this.player,"media.expired",this.reloadTickle),this.listenTo(this.player,"update.user.data",this.updateScoreView),this.tickle.isScoring?(this.$(".totalScore").text(this.tickle.staticData.maxScore),this.$(".lcContentCurrentScoreDiv").show()):this.$(".myScore").parent().hide(),this.tickle.gameSettings.enableLikeDislike===!1?$(".ratingDiv",this.el).remove():$(".ratingDiv",this.el).show(),this.updateTopNavigationBar(),this.updateRatingDiv(!0),this.updateTranscriptionColumn(),this.listenTo(this.tickle,"rating.updated",this.updateRatingDiv),this.listenTo(eventManager,Game.CONST.GOBACK_FROM_TICKLE,this.saveTickle),this.listenTo(eventManager,Game.CONST.RELOAD_TICKLE_WINDOW,this.saveTickle),this.listenTo(this.tickle,"update.bookmark.status",this.updateBookMarkStatus),this.updateBookMarkStatus(),this.tickle.isActive()&&!this.options.viewOnly){var f=this;window.onbeforeunload=function(){return f.saveTickle(),Game.Messages.LEAVE_QUESTION}}if(appSettings.isPreview?this.$(".fullScreenBtn").hide():this.$(".fullScreenBtn").show(),this.tickle.stop&&this.tickle.stop.tickleTypes?(this.$(".tickleSlideBigDiv").css({width:58*this.tickle.stop.tickleTypes.length}),this.listenTo(eventManager,"sideBarStateChanged",this.resizeContext)):this.$(".tickleSlideLeft,.tickleSlideRight").hide(),appSettings.isPreview?this.$(".fsarea").css({height:$(window).height()-221,"min-height":"400px"}):this.$(".fsarea").css({height:$(window).height()-171,"min-height":"440px"}),$(window).on("resize",this.resizeContextWrapper),this.tickle.isDownloadAllowed()){this.$(".downloadMedia").show().find("a").attr("href",this.tickle.getDownloadLink());var g=this;this.$(".downloadMedia").find("a").click(function(){Game.MixPanelTracking.track("Save Content File",{"Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":g.tickle.staticData.id,"Quiz Type":g.tickle.staticData.media.type})})}else this.$(".downloadMedia").remove();if(this.tickle.isSave2Drive()){var h=$('<div class="g-savetodrive"></div>');h.attr("data-src",this.tickle.staticData.media.original_path),h.attr("data-filename",this.tickle.staticData.media.title.replace(/[^a-z0-9.]/gim,"_")),h.attr("data-sitename","MindTickle");var i=$("<div class='floatL marginR10'></div>");i.attr("id","save2drive_"+this.tickle.staticData.media.id),i.append(h),i.insertBefore(this.$(".lcContentCurrentScoreDiv"))}if("LO_EMBED"!=this.tickle.staticData.type?this.$(".bookmarkMe").show():this.$(".missionEmbedScoreInfo").show(),"undefined"!=typeof courseInfo&&!appSettings.isPreview){var j={"Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.tickle.staticData.id,"Quiz Type":this.tickle.staticData.media.type};this.tickle.staticData.media.isScormEngine&&(j.isScormEngine=!0),j["Visit Type"]=this.tickle.getState(),Game.MixPanelTracking.track("View Content Type",j)}this.tickle.putEngagementMatric(!0,"tickle",this.tickle.playSequence);var k=this;$("body").unbind("mission_submitted"),$("body").bind("mission_submitted",function(){k.markMissionSubmitted()}),window.addEventListener("message",function(a){"mission_submitted"===a.data?k.markMissionSubmitted():"mission_destroyed"===a.data&&k.missionDestroyed()},!1),$("body").unbind("mission_destroyed"),$("body").bind("mission_destroyed",function(){k.missionDestroyed()}),this.updateSessionTick()},computeDisableDash:function(){return"LO_ASSETTED_MEDIA"===this.tickle.staticData.type&&4001===this.tickle.staticData.assetType||"LO_LEARNING_CONTENT_EMPTY"===this.tickle.staticData.type&&"IMG_MASH_UP"===this.tickle.staticData.media.type},reloadTickle:function(){eventManager.trigger("openSolved"+this.tickle.stop.staticInfo.id,this.tickle.staticData.id)},notifySize:function(a){this.tickle.setSize(a)},notifySeen:function(a,b){this.tickle.setSeen(a,b)},notifyContentUpdates:function(a){this.tickle.setUpdates(a)},updateScoreView:function(a){this.tickle.userData=a.userLearningObjectVo,this.tickle.userData.geUpdateResponseForAicc=JSON.stringify(a),null==this.tickle.userData.playSequence&&(this.tickle.userData.playSequence=[]),this.tickle.staticData.media||(this.tickle.staticData.media={}),this.tickle.numTotal=this.tickle.staticData.media.contentParts,this.tickle.numSeen=0;for(var b=0;b<this.tickle.playSequence.length;b++)this.tickle.numSeen+=this.tickle.playSequence[b].size;this.tickle.userData.playSequence.length>0&&this.tickle.playSequence.push(this.tickle.userData.playSequence[0]),this.tickle.isScoring=this.tickle.gameSettings.contentScoring&&this.tickle.staticData.scoring&&this.tickle.staticData.maxScore>0,eventManager.trigger("updateWebModuleView")},render:function(){var a=null,b={};if(this.tickle.staticData&&this.tickle.staticData.media&&this.tickle.staticData.media.mediaLoPreference){var c=null;c=appSettings.isPreview?parent.Dashboard.defaultLsSettings:companySettings.lsSettings,a=this.tickle.staticData.media.mediaLoPreference.hideTranscription||!(c&&c.enableTranscription),a||(b=Game.WebModuleTickle.getTrackTickleData(this.tickle))}this.options.isPreview?this.$(".myStatus").removeClass("colorff").addClass("color00"):this.$(".myStatus").removeClass("color00").addClass("colorff"),this.container.html(this.el),this.player&&this.player.render(),this.options.factoEnabled?this.tickle.stop?mtBrodCastService.brodCast("sidebarData",{facto:this.tickle.getFactopedia(),vpId:this.tickle.stop.staticInfo.id,hideTranscription:a,transcriptionMixpanelData:b}):mtBrodCastService.brodCast("sidebarData",{facto:this.tickle.getFactopedia(),hideTranscription:a,transcriptionMixpanelData:b}):mtBrodCastService.brodCast("sidebarData",{hideTranscription:a,transcriptionMixpanelData:b}),this.listenTo(this.tickle,"score.changed",this.showUpdatedScore),this.listenTo(this.tickle,"updateView",this.updateView),this.updateView(),this.resizeContext(),this.focusOnActiveNav(),this.tickle.isSave2Drive()&&gapi.savetodrive.go("save2drive_"+this.tickle.staticData.media.id)},showUpdatedScore:function(){isNaN(this.tickle.userData.score)?this.$(".myScore").text(0):(this.$(".myScore").text(this.tickle.userData.score),this.tickle.userData.score===this.tickle.staticData.maxScore?(this.$(".nextT,.nextQ").removeClass("disable").attr("aria-label","Move to next learning object"),this.$(".exitUpdate").removeClass("disable").attr("aria-label","Exit to series"),this.$(".doneCourse").removeClass("disable").attr("aria-label","Done")):"LO_EMBED"==this.tickle.staticData.type&&this.$(".nextT,.nextQ,.exitUpdate,.doneCourse").addClass("disable").attr("aria-label",Game.Messages.LB_TXT_COMPLETE_LOCKED_CONTENT))},updateView:function(){return this.showUpdatedScore(),this.options.navigation?void(this.tickle.isCompleted()?(this.$(".nextT,.nextQ").removeClass("disable").attr("aria-label","Move to next learning object"),this.$(".exitUpdate").removeClass("disable").attr("aria-label","Exit to series"),this.$(".doneCourse").removeClass("disable").attr("aria-label","Done"),this.isLastQ?(Game.config.quick_update?this.$(".exitUpdate").show().attr("aria-label","Exit to series"):this.tickle.stop.isLastTopic&&this.tickle.stop.level.isLastRound?($(".nextT",this.el).hide(),$(".doneCourse",this.el).show().attr("aria-label","Done")):($(".doneCourse",this.el).hide(),$(".nextT",this.el).show().attr("aria-label","Move to next learning object")),$(".nextQ",this.el).hide()):($(".nextT",this.el).hide(),$(".nextQ",this.el).show()),$(".skipBtn",this.el).hide()):this.tickle.staticData.allowSkip&&"LO_EMBED"!=this.tickle.staticData.type&&$(".skipBtn",this.el).show().attr("aria-label","Skip")):($(".nextT",this.el).hide(),$(".nextQ",this.el).hide(),void $(".skipBtn",this.el).hide())},showNextQ:function(a){if(a&&$(a.currentTarget).hasClass("disable"))return this.$(".lockedNextMsg").text(this.getNextLockedMessage()),this.$(".lockedNextMsgPopUp").show(),this.listenTo(eventManager,Game.CONST.CLOSE_TIPS,this.hideLockedNextPopUp),void a.stopPropagation();if(this.options.navigation)return this.options.viewOnly?void this.showMyNextQ():void(Game.config.quick_update?"COMPLETED"==this.tickle.userData.state&&this.tickle.markComplete()?this.tickle.markComplete()&&this.showMyNextQ():this.showMyNextQ():this.tickle.markComplete()?this.showMyNextQ():this.listenTo(this.tickle,"tickle.saved",this.showMyNextQ))},doneCourse:function(a){mtBrodCastService.brodCast("destroy.lb",{});var b=this;$(a.target.parentElement).hasClass("disable")||(this.exitPlayer(),eventManager.trigger(Game.CONST.GOBACK_FROM_TICKLE),setTimeout(function(){if(appSettings.isPreview){var a=location.hash.split("?");location.hash=a[0]+"/info?"+a[1]}else if("COMPLETED"==courseInfo.user.status&&Utils.Func.isNextModulePopUpEnabled())Utils.Func.showNextModulePopUp(courseInfo.seriesVo.id);else{var a=location.hash.split("?");location.hash=a[0]+"/info?"+a[1]}},800),setTimeout(function(){b.isActiveAtStart&&!b.tickle.isActive()&&mtBrodCastService.brodCast("SHOW_SURVEY",{surveys:b.tickle.stop.staticInfo.survey})},2e3))},skipToNext:function(){if(this.options.navigation)return this.options.viewOnly?void this.showMyNextQ():void(this.tickle.skipToNext()?this.showMyNextQ():this.listenTo(this.tickle,"tickle.saved",this.showMyNextQ))},saveTickle:function(a){this.tickle.save()},exitPlayer:function(){this.player&&(this.player.exit(),this.player=null)},showMyNextQ:function(){this.stopListening(this.tickle,"tickle.saved"),Game.TickleView.prototype.showNextQ.apply(this)},toggleBookmark:function(){this.tickle.toggleBookmark()},toggleBookmarkKeyPress:function(a){32==a.keyCode&&this.toggleBookmark()},rateUpKeyPress:function(a){32==a.keyCode&&this.rateUp()},rateDownKeyPress:function(a){32==a.keyCode&&this.rateDown()},updateBookMarkStatus:function(){1==this.tickle.userData.starred?this.$(".bookmarkMe > div").addClass("bookMarked").attr("aria-label","Remove from favourites"):this.$(".bookmarkMe > div").removeClass("bookMarked").attr("aria-label","Add to favourites")},markMissionSubmitted:function(){"LO_EMBED"==this.tickle.userData.type&&(this.tickle.userData.state="COMPLETED",this.tickle.userData.completionState="CORRECT",this.tickle.numChangesUnsaved++,this.saveTickle(),this.updateView())},missionDestroyed:function(){Dashboard.NotifBox.alert("Something went wrong."),mtBrodCastService.gotoState("root.courses.recents",{series:null,query:null},{reload:!0})},nextQKeyPress:function(a){32==a.keyCode&&this.showNextQ()},nextTKeyPress:function(a){32==a.keyCode&&this.showNextQ()},doneCourseKeyPress:function(a){32==a.keyCode&&this.doneCourse(a)},exitQuickUpdateKeyPress:function(a){32==a.keyCode&&this.exitQuickUpdate()},skipTickleKeyPress:function(a){32==a.keyCode&&this.skipToNext()},events:{"click .ratingDiv .like_dislike_div .Like_Icon":"rateUp","keypress .ratingDiv .like_dislike_div .Like_Icon":"rateUpKeyPress","click .ratingDiv .like_dislike_div .disLike_Icon":"rateDown","keypress .ratingDiv .like_dislike_div .disLike_Icon":"rateDownKeyPress","click .nextQ":"showNextQ","keypress .nextQ":"nextQKeyPress","click .nextT":"showNextQ","keypress .nextT":"nextTKeyPress","click .skipBtn":"skipToNext","keypress .skipBtn":"skipTickleKeyPress","click .exitUpdate":"exitQuickUpdate","keypress .exitUpdate":"exitQuickUpdateKeyPress","click .bookmarkMe":"toggleBookmark","keypress .bookmarkMe":"toggleBookmarkKeyPress","click .doneCourse":"doneCourse","keypress .doneCourse":"doneCourseKeyPress","mousedown .tickleSlideLeft":"tickleSlideLeft","mousedown .tickleSlideRight":"tickleSlideRight","mouseup .navBtnsParent":"stopSlideInterval"},updateSessionTick:function(){var a=this;companySettings&&companySettings.lsSettings&&companySettings.lsSettings.idleSessionTimeout>0&&companySettings.lsSettings.idleSessionTimeout-5>0&&(a.idleTimeout=setTimeout(function(){$.get("/update_session_tick?_="+(new Date).getTime()).then(function(b){a.updateSessionTick()})},1e3*(companySettings.lsSettings.idleSessionTimeout-5)))}}),Game.SyndicateTickle=Game.WebModuleTickle.extend({isCompleted:function(){var a=this.numSeen>=this.numTotal;return"LO_SYNDICATE"===this.userData.type&&"SKIPPED"===this.userData.completionState&&(a=!0),"LO_SYNDICATE"===this.userData.type&&(a="SUBMITTED"===this.userData.state||"COMPLETED"===this.userData.state),a}}),Game.SyndicateModuleView=Game.WebModuleView.extend({constructor:function(a,b,c){"undefined"==typeof appSettings&&(window.appSettings={isPreview:!0});var d={viewOnly:!1,navigation:!0,factoEnabled:!0};c=c||{},this.options=$.extend(d,c),a.stop||(this.options.navigation=!1),this.tickle=a,this.container=b,this.el=$($.trim(_.template($("script#tmpl_webModuleArea").html())({skipBtnTxt:Game.Messages.SKIP_BTN_TXT,nextQBtnTxt:Game.Messages.NEXTQ_BTN_TXT,nextTBtnTxt:Game.Messages.NEXTT_BTN_TXT,doneBtnTxt:Game.Messages.BTN_DONE_TEXT,exitBtnTxt:Game.Messages.BTN_EXIT,score:this.tickle.userData.score}))),Backbone.View.apply(this),Utils.Func.isMobileBrowser()&&$(".mobileCustom",this.el).css({bottom:"-61px",position:"absolute"}),this.isLastQ=this.tickle.stop&&this.tickle.staticData.id==this.tickle.stop.children[this.tickle.stop.children.length-1].id,this.tickle.isActive()?(this.isActiveAtStart=!0,this.options.navigation?this.isLastQ&&Game.config.quick_update?this.$(".exitUpdate").show():this.isLastQ?this.tickle.stop.isLastTopic&&this.tickle.stop.level.isLastRound?this.$(".doneCourse").addClass("disable").show():this.$(".nextT").addClass("disable").show():(this.$(".nextQ").show(),this.tickle.isNextTickleUnlocked(this.tickle.staticData.id)||this.$(".nextQ").addClass("disable")):($(".nextT",this.el).hide(),$(".nextQ",this.el).hide(),$(".skipBtn",this.el).hide())):this.isActiveAtStart=!1,this.tickle.staticData.media&&this.$(".title").text(this.tickle.staticData.media.title);var e=0;if(!this.tickle.isCompleted()&&this.tickle.playSequence&&this.tickle.playSequence.length>0&&this.tickle.playSequence[0].start<2&&(e=this.tickle.playSequence[0].size),this.tickle.staticData.media&&Object.keys(this.tickle.staticData.media).length>0?(this.player=new Game.MediaRenderView(this.$(".fsarea"),this.tickle.staticData.media,{autoPlay:!this.tickle.isFirstTickleOfModule(),allowSkip:this.tickle.staticData.allowSkip||!!Game.config.quick_update,numSeen:this.tickle.numSeen,isSmallMp3:!1,startAt:e,misc_content:this.tickle.userData?this.tickle.userData.misc_content:null}),this.listenTo(this.player,"got.size",this.notifySize),this.listenTo(this.player,"updated.seen",this.notifySeen),this.listenTo(this.player,"updated.content",this.notifyContentUpdates),this.listenTo(this.player,"media.expired",this.reloadTickle),this.listenTo(this.player,"update.user.data",this.updateScoreView)):(this.player=new Game.SyndicateRenderView(this.$(".fsarea"),this.tickle.staticData.media,this.tickle.staticData),this.listenTo(this.player,"goToCatalogClicked",this.markSyndicateContentCompleted)),this.tickle.isScoring?(this.$(".totalScore").text(this.tickle.staticData.maxScore),this.$(".lcContentCurrentScoreDiv").show()):this.$(".myScore").parent().hide(),this.tickle.gameSettings.enableLikeDislike===!1?$(".ratingDiv",this.el).remove():$(".ratingDiv",this.el).show(),this.updateTopNavigationBar(),this.updateRatingDiv(!0),this.listenTo(this.tickle,"rating.updated",this.updateRatingDiv),this.listenTo(eventManager,Game.CONST.GOBACK_FROM_TICKLE,this.saveTickle),this.listenTo(eventManager,Game.CONST.RELOAD_TICKLE_WINDOW,this.saveTickle),this.listenTo(this.tickle,"update.bookmark.status",this.updateBookMarkStatus),this.updateBookMarkStatus(),this.tickle.isActive()&&!this.options.viewOnly){var f=this;window.onbeforeunload=function(){return f.saveTickle(),Game.Messages.LEAVE_QUESTION}}if(appSettings.isPreview?this.$(".fullScreenBtn").hide():this.$(".fullScreenBtn").show(),this.tickle.stop&&this.tickle.stop.tickleTypes?(this.$(".tickleSlideBigDiv").css({width:58*this.tickle.stop.tickleTypes.length}),this.listenTo(eventManager,"sideBarStateChanged",this.resizeContext)):this.$(".tickleSlideLeft,.tickleSlideRight").hide(),appSettings.isPreview?this.$(".fsarea").css({height:$(window).height()-221,"min-height":"400px"}):this.$(".fsarea").css({height:$(window).height()-171,"min-height":"440px"}),$(window).on("resize",this.resizeContextWrapper),this.$(".downloadMedia").remove(),this.$(".bookmarkMe").show(),"undefined"!=typeof courseInfo&&!appSettings.isPreview){var g={"Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.tickle.staticData.id,"Quiz Type":this.tickle.staticData.media.type};this.tickle.staticData.media.isScormEngine&&(g.isScormEngine=!0),g["Visit Type"]=this.tickle.getState(),Game.MixPanelTracking.track("View Content Type",g)}this.tickle.putEngagementMatric(!0,"tickle",this.tickle.playSequence),this.updateSessionTick()},markSyndicateContentCompleted:function(){"LO_SYNDICATE"===this.tickle.userData.type&&(this.tickle.userData.state="COMPLETED",this.tickle.userData.completionState="CORRECT",this.tickle.numChangesUnsaved++,this.saveTickle(),this.updateView())}}),Game.SyndicateRenderView=Game.BaseWebmoduleView.extend({initialize:function(){this.lcArea=$(".learningContent",this.el),appSettings.isPreview?this.lcArea.empty().append('<div style="color:white; text-align:center; padding-top:200px;">Preview for SyndicateContent is not available</div>'):(this.catalogData={},
this.readMore=!1,this.descriptionLimit=350,this.fetchCatalogData()),this.$(".lmArea").css("bottom",40),$(".fullSize_Icon",this.el).remove(),$(".pagesNav",this.el).remove(),$(".pagesInfo",this.el).remove(),$(".sml_slideBack,.sml_slideForward",this.el).remove(),$(".slideBack,.slideForward",this.el).remove(),$(".lmArea_bottomPart",this.el).remove()},events:{"click .goToCatalog":"goToCatalog","click .toggleReadMoreLess":"toggleReadMoreLess"},render:function(){this.trigger("got.size",1),this.trigger("updated.seen",0,1)},goToCatalog:function(){this.catalogData.ssoLaunchUrl?window.open(this.catalogData.ssoLaunchUrl):this.catalogData.webLaunchUrl?window.open(this.catalogData.webLaunchUrl):Dashboard.NotifBox.alert("No url to launch"),this.trigger("goToCatalogClicked")},fetchCatalogData:function(){if(!this.options.sourceId||!this.options.source)return void this.showErrorMsg("Not able to fetch Catalog data. Please contact admin.");var a=this;$.ajax({type:"GET",url:"/"+cname+"/catalogs/"+this.options.sourceId,data:{source:this.options.source},success:function(b){b&&!b.isActive?a.showErrorMsg("Catalog has been deleted. Please contact admin."):(a.catalogData=b,a.showCatalog())},error:function(b){a.showErrorMsg("Error fetching catalog - "+b.statusText)}})},showErrorMsg:function(a){this.lcArea.empty().append('<div style="color:white; text-align:center; padding-top:200px;">'+a+"</div>")},showCatalog:function(){if(this.lcArea.empty(),this.catalogData&&this.catalogData.isActive){var a=Utils.Func.getClock(this.catalogData.timeToComplete).hhmmss.split(":"),b="/assets/images/catalog_videoThumb.png";this.catalogData.description&&(this.catalogData.description=_.unescape(this.catalogData.description));var c=$.trim(_.template($("script#tmpl_syndicateModuleViewArea").html())(this.mergeObjects(this.sourceProperty(this.catalogData.source),{catalogTitle:_.unescape(this.catalogData.title).replace(/\\"/gi,'"'),catalogDescription:this.catalogData.description&&"none"!==this.catalogData.description.toLowerCase()?this.catalogData.description.length<this.descriptionLimit?this.catalogData.description:this.catalogData.description.substring(0,this.descriptionLimit)+".. ":"",catalogType:this.catalogData.catalogType?this.convertToCamelCase(this.catalogData.catalogType):"",catalogInstructors:_.unescape(this.catalogData.authors),catalogSkills:this.catalogData.skills?this.catalogData.skills.split(",").map(function(a){return _.unescape(a)}):[],showReadMoreOption:!!this.catalogData.description&&this.catalogData.description.length>this.descriptionLimit,catalogThumbnail:this.catalogData.thumbnail&&"none"!==this.catalogData.thumbnail.toLowerCase()?this.catalogData.thumbnail:b,catalogLevel:this.catalogData.level&&"none"!==this.catalogData.level.toLowerCase()?this.convertToCamelCase(this.catalogData.level):"",catalogReleasedDate:this.catalogData.publishedAt?Utils.Func.getNiceDate5(this.catalogData.publishedAt):"",catalogHours:parseInt(a[0])>0?a[0]+"h":"",catalogMinutes:parseInt(a[1])>0?a[1]+"m":""})));this.lcArea.html(c),this.lcArea.append("<div class='clear'></div>")}else this.showErrorMsg("Unable to load syndicate content. Please contact admin")},toggleReadMoreLess:function(){this.readMore?(this.$(".catalogDescription").html(this.catalogData.description.substring(0,this.descriptionLimit)+".. "),this.$(".toggleReadMoreLess").html("Read More"),this.readMore=!1):(this.$(".catalogDescription").html(this.catalogData.description),this.$(".toggleReadMoreLess").html("Read Less"),this.readMore=!0)},convertToCamelCase:function(a){return a&&a.length>0?a.toUpperCase().substring(0,1)+a.toLowerCase().substring(1):a},sourceProperty:function(a){switch(a){case"LinkedinLearning":return{showBrandStrip:!0,showBrandLogo:!0,topFlag:!0,catalogSource:"LinkedIn",catalogSourceLogoClass:"linkedInWhiteLogo",catalogBrandColor:"#0077b5"};default:return{showBrandStrip:!1,showBrandLogo:!1,catalogSource:"",catalogSourceLogoClass:"",catalogBrandColor:""}}},mergeObjects:function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c}}),Game.BooleanTickle=Game.Tickle.extend({constructor:function(a,b){Game.Tickle.call(this,a,b)},isInAnswer:function(a){return _.indexOf(this.userData.correctAnswers,a)>-1||_.indexOf(this.userData.wrongAnswers,a)>-1||_.indexOf(this.userData.lifelineAnswers,a)>-1},isCompleted:function(){for(var a=0;a<this.staticData.trueFalseObjects.length;a++)if(_.indexOf(this.userData.correctAnswers,a)==-1&&_.indexOf(this.userData.wrongAnswers,a)==-1&&_.indexOf(this.userData.lifelineAnswers,a)==-1)return!1;return!0},optSelected:function(a,b,c){if("IN_PROGRESS"==this.userData.state&&!this.isInAnswer(a)){var d=-1;b==this.staticData.trueFalseObjects[a].isTrue?c?(this.userData.lifelineAnswers.push(a),d=Game.SOUNDS.HINT):(this.userData.correctAnswers.push(a),d=Game.SOUNDS.CORRECTOPT,this.trigger("updateView.correct.option")):c?(this.userData.lifelineEliminations.push(a),d=Game.SOUNDS.HINT):(this.userData.wrongAnswers.push(a),d=Game.SOUNDS.WRONGOPT,this.trigger("updateView.wrong.option")),this.numChangesUnsaved++,this.isCompleted()&&(this.userData.state="COMPLETED",this.userData.wrongAnswers.length>0&&this.userData.correctAnswers.length+this.userData.lifelineAnswers.length>0?this.userData.completionState="PARTIAL_CORRECT":this.userData.wrongAnswers.length>0?this.userData.completionState="WRONG":this.userData.completionState="CORRECT",this.calculateScore(),d=Game.SOUNDS.CORRECTANS),"IN_PROGRESS"!=this.userData.state&&this.save(),this.trigger("updateView"),Game.GameView.playSound(d)}},calculateScore:function(){this.userData.score=Math.floor(this.staticData.maxScore*(this.userData.correctAnswers.length+this.userData.lifelineAnswers.length)/this.staticData.trueFalseObjects.length),this.userData.score<0&&(this.userData.score=0)},giveLifeline:function(){if("IN_PROGRESS"==this.userData.state)if(this.userData.lifelineAnswers.length+this.userData.lifelineEliminations.length<this.staticData.numLifelines&&this.getGlobalLifelinesAvailable()>0){for(var a=[],b=0;b<this.staticData.trueFalseObjects.length;b++)this.isInAnswer(b)||a.push(b);var c=-1;if(a.length>0&&(c=_.random(a.length-1)),c==-1)return void this.trigger("nolifeline");this.numLifelinesUsed++,Game.GameView.playSound(Game.SOUNDS.HINT),this.optSelected(a[c],this.staticData.trueFalseObjects[a[c]].isTrue,!0),this.useGlobalLifeline(),this.trigger("updateView"),Game.MixPanelTracking.track("Used Lifelines",{"Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.staticData.id,"Quiz Type":"True-False"})}else this.trigger("nolifeline")}},{createUserAnswerWithDefault:function(a){for(var b=[],c=0;c<a;c++)b.push(-1);return b}}),Game.BooleanAnswerOption=Backbone.View.extend({constructor:function(a,b){this.optionObj=a.staticData.trueFalseObjects[b],this.index=b,this.model=a,this.el=$(_.template($("script#tmpl_booleanOption").html().trim())({num:this.index+1,text:_.escape(this.optionObj.text),trueTxt:Game.Messages.BOOLEAN_TRUE_TXT,falseTxt:Game.Messages.BOOLEAN_FALSE_TXT})),Backbone.View.apply(this),this.updateView()},events:{"click .trueOpt":"trueClicked","click .falseOpt":"falseClicked"},render:function(){return this.$el},trueClicked:function(){this.model.optSelected(this.index,!0)},falseClicked:function(){this.model.optSelected(this.index,!1)},updateView:function(){_.indexOf(this.model.userData.correctAnswers,this.index)>-1||_.indexOf(this.model.userData.lifelineAnswers,this.index)>-1?(this.$el.addClass("correct"),this.model.staticData.trueFalseObjects[this.index].isTrue?this.$el.addClass("true"):this.$el.addClass("false")):_.indexOf(this.model.userData.wrongAnswers,this.index)>-1||_.indexOf(this.model.userData.lifelineEliminations,this.index)>-1?(this.$el.addClass("wrong"),this.model.staticData.trueFalseObjects[this.index].isTrue?this.$el.addClass("false"):this.$el.addClass("true")):"IN_PROGRESS"==this.model.userData.state||Game.config.reportCardView||(this.$el.addClass("correct"),this.model.staticData.trueFalseObjects[this.index].isTrue?this.$el.addClass("true"):this.$el.addClass("false"))}}),Game.BooleanAnswerView=Backbone.View.extend({constructor:function(a,b){this.model=a,this.container=b,this.optionViews=[],this.el=$(_.template($("script#tmpl_mcqAnswerArea").html().trim())({}));for(var c=0;c<this.model.staticData.trueFalseObjects.length;c++)this.optionViews.push(new Game.BooleanAnswerOption(this.model,c)),$(".options",this.el).append(this.optionViews[c].render());Backbone.View.apply(this)},updateView:function(){for(var a=0;a<this.model.staticData.trueFalseObjects.length;a++)this.optionViews[a].updateView();this.updateRightAttempt()},updateRightAttempt:function(){if(!(this.model.staticData.trueFalseObjects.length<2)){$(".rightAttemptDiv").show(),$(".rightAttemptDiv .attempts").html("").show();for(var a=0;a<this.model.staticData.trueFalseObjects.length;a++){var b=$('<div class="floatL correctAttempt marginR5 marginT6"></div>');a<this.model.userData.correctAnswers.length+this.model.userData.lifelineAnswers.length&&b.addClass("active"),$(".rightAttemptDiv .attempts").append(b)}$(".rightAttemptDiv .attempts").append("<div class='clear'></div>")}},render:function(){this.container.html(this.el),this.updateRightAttempt()}}),Game.TextTickle=Game.Tickle.extend({constructor:function(a,b,c){Game.Tickle.call(this,a,b,c),this.totalMissedClicks=b.maxNoOfOptionsCanMiss},answerEntered:function(a){var b=this;this.isActive()&&AjaxWrapper.saveTickle(this,{currentAttempt:a}).done(function(a){b.postSave(a),b.trigger("server.done");var c=-1;"CORRECT"==b.userData.completionState?(c=Game.SOUNDS.CORRECTANS,b.trigger("updateView.correct.option")):(c=Game.SOUNDS.WRONGOPT,b.trigger("updateView.wrong.option")),Game.GameView.playSound(c)})},calculateScore:function(){},giveLifeline:function(){this.isActive()&&(this.userData.lifelinesUsed<this.staticData.numLifelines&&this.getGlobalLifelinesAvailable()>0?(this.userData.lifelinesUsed++,this.useGlobalLifeline(),this.trigger("updateView"),Game.GameView.playSound(Game.SOUNDS.HINT),Game.MixPanelTracking.track("Used Lifelines",{"Content Type":Utils.Func.getContentTypeName(),"Content Name":courseInfo.fixed.name,"Content Id":courseInfo.fixed.id,"Quiz Id":this.staticData.id,"Quiz Type":"Text-Answer"})):this.trigger("nolifeline"))}}),Game.TextAnswerView=Backbone.View.extend({constructor:function(a,b){this.model=a,this.container=b,this.optionViews=[],this.el=$(_.template($("script#tmpl_textAnswerArea").html().trim())({submitTxt:Game.Messages.HM_BTN_SUBMIT,placeHolder:Game.Messages.TICKLE_TEXT_PLACEHOLDER})),Backbone.View.apply(this),this.updateUserAnswers(),this.listenTo(this.model,"server.done",this.reEnable),this.$(".userAnswers").css({"min-height":"324px","overflow-y":"auto"})},updateUserAnswers:function(){$(".userAnswers",this.el).empty();var a=0;for(a=0;a<this.model.userData.wrongAttempts.length;a++)this.addWrongAnswerDiv(this.model.userData.wrongAttempts[a]);this.model.userData.correctAttempt&&this.addCorrectAnswerDiv(this.model.userData.correctAttempt)},events:{"keypress input":"keyCode","click .submitAnswer":"submitAnswer"},keyCode:function(a){13==a.keyCode&&this.submitAnswer()},submitAnswer:function(){var a=$.trim($("input",this.el).val());""!==a&&(this.$("input").attr("disabled","disabled"),this.model.answerEntered(a))},reEnable:function(){this.$("input").removeAttr("disabled")},updateView:function(){this.updateLifeLineBox(),this.updateUserAnswers(),this.model.isActive()||($("input",this.el).parent().parent().remove(),this.model.userData.correctAttempt||Game.config.reportCardView||this.addUserAnswerDiv(Game.Messages.LB_TXT_ANSWER+": "+this.model.staticData.exactAnswer,"color00_F13"),$(".txtLLArea",this.el).hide())},updateLifeLineBox:function(){var a=$.trim(this.model.staticData.exactAnswer).split(""),b=0;if(1==this.model.userData.lifelinesUsed){$(".txtLLArea .letters",this.el).empty();var c=0,d=1;for(b=0;b<a.length;b++)" "!=a[b]?($(".txtLLArea .letters",this.el).append('<span class="marginR3">_</span>'),c++):($(".txtLLArea .letters",this.el).append('<span class="marginR3">&nbsp;</span>'),d++);$(".txtLLArea .letters",this.el).next().text(_.template(Game.Messages.TICKLE_TEXT_LL)({words:d,letters:c})),$(".txtLLArea",this.el).show()}else if(this.model.userData.lifelinesUsed>1)for(b=0;b<Math.min(this.model.userData.lifelinesUsed,a.length);b++)for(var e=_.uniq(a)[b],f=0;f<a.length;f++)e.toLowerCase()==a[f].toLowerCase()&&$(".txtLLArea .letters>span",this.el).eq(f).text(a[f]);else $(".txtLLArea",this.el).hide()},addUserAnswerDiv:function(a,b){var c=$('<div class="marginB10 '+b+'" style="min-width:452px;width:80%"><div class="floatL ans" style="width:95%"></div><div class="floatR icon marginT2"></div><div class="clear"></div></div>');$(".ans",c).text(a),$(".userAnswers",this.el).prepend(c),$("input",this.el).val("")},addCorrectAnswerDiv:function(a){this.addUserAnswerDiv(a,"crtAns")},addWrongAnswerDiv:function(a){this.addUserAnswerDiv(a,"wrgAns")},render:function(){this.container.html(this.el)},updateWrongAttempt:function(){if(this.model.userData.WrongAttempts.length>0){var a=_.template(Game.Messages.WRONG_ATTEMPT_TXT)({n:this.model.totalMissedClicks-this.model.userData.WrongAttempts.length});this.$(".wrongTextAnswerMsg").text(a).show().fadeOut(7e3)}}});var Game=Game||{};window.trackedEmailClick=!1,Game.MixPanelTracking={track:function(a,b){try{if("page_error_viewed"==a&&b&&"/mixpanel/track"==b.api_url)return;if("undefined"!=typeof mixPanelProjectId&&""!=mixPanelProjectId&&"undefined"!=typeof appSettings&&!appSettings.isPreview){b.timestamp=Math.round((new Date).getTime()/1e3),b.learning_site=window.location.host,b.cname=cname,window.appSettings&&(b.sessionId=appSettings.sessionId),"undefined"!=typeof learnerJson&&(b.user_id=learnerJson.id,b.user_name=learnerJson.name),"undefined"!=typeof companySettings&&(b.learning_site_type=companySettings.companyType?companySettings.companyType:"UNKNOWN",b.org_id=companySettings.orgId||"UNKNOWN"),b.project_type="WebLearner",b.user_agent=navigator.userAgent,window.appSettings&&(b.session_id=appSettings.sessionId);try{b.in_iframe=self.location!=top.location}catch(c){}mixpanel.track(a,b),mixpanel.people.set({designLang:window.designLanguage})}Game.MixPanelTracking.logToMindTickle(a,b)}catch(c){try{mixpanel.track("error while tracking action",{location:window.location.href,error:JSON.stringify(c)})}catch(d){console.log(d)}}},logToMindTickle:function(a,b){$.ajax({type:"POST",url:"/mixpanel/track",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({event:a,props:b}),success:function(){}})},putEngagementMatric:function(a){$.ajax({type:"POST",url:"/putEvent",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(a),success:function(){}})},trackEmailClicked:function(a){var b=Game.MixPanelTracking.getQueryParams();b.source&&"email"==b.source&&b.type&&b.entity==a.id&&(Game.MixPanelTracking.track("Email Clicked",{"Content Type":a.type,"Content Name":a.name,"Content ID":a.id,User_id:learnerJson.id,User_name:learnerJson.name,"Learning Site Name":companySettings.parent_company,Type:b.type}),window.trackedEmailClick=!0)},getQueryParams:function(a){var b=a?a:location.search.substr(1),c={};if(""!=b)for(var d=b.split("&"),e=0;e<d.length;e++)c[d[e].split("=")[0]]=d[e].split("=")[1];return c},identifyAndSetUser:function(a){"undefined"!=typeof mixPanelProjectId&&""!=mixPanelProjectId&&(mixpanel.identify(a.id),mixpanel.people.set(a))}},Game.SegmentTracking={track:function(a,b){try{if("undefined"!=typeof segmentProjectId&&""!=segmentProjectId&&"undefined"!=typeof appSettings&&!appSettings.isPreview){b.timestamp=Math.round((new Date).getTime()/1e3);try{b.in_iframe=self.location!=top.location}catch(c){}b.cname=cname,"undefined"!=typeof learnerJson&&(b.user_id=learnerJson.id,b.user_name=learnerJson.name),b.learning_site=window.location.host,"undefined"!=typeof companySettings&&(b.learning_site_type=companySettings.companyType||"UNKNOWN",b.org_id=companySettings.orgId||"UNKNOWN"),b.project_type="WebLearner",b.user_agent=navigator.userAgent,window.appSettings&&(b.session_id=appSettings.sessionId),"undefined"!=typeof FS&&FS.getCurrentSessionURL&&(b["FullStory Session"]=FS.getCurrentSessionURL()),window.analytics.track(a,b)}}catch(c){try{window.analytics.track("error_while_tracking_learner",{location:window.location.href,error:JSON.stringify(c)})}catch(d){console.log(d)}}},logToMindTickle:function(a,b){$.ajax({type:"POST",url:"/mixpanel/track",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({event:a,props:b}),success:function(){}})}},Game.GroupSelectView=Backbone.View.extend({constructor:function(a,b,c){this.el=$("<div/>"),this.user=a,this.trainingName=c,this.groupInfo=b,this.editable=!1,a.get("groupId")<1&&(this.editable=!0),this.curSelGrp=!1,Backbone.View.apply(this)},render:function(){var a=this.user.get("groupId");if(this.editable!==!1){if(!this.groupInfo||a>=1&&"1"===Utils.Func.readCookie(this.user.get("id")+"grpsl"))return void this.remove();var b=_.template(Game.Messages.GROUP_SEL_MSG)({tname:this.trainingName}),c=Game.Messages.BTN_DONE_TEXT,d="floatR blueBtn_32 grey_std_btn cursor";this.editable||(b=_.template(Game.Messages.GROUP_SEL_INFO)({tname:this.trainingName}),c=Game.Messages.OK_IGOT,d="floatR blueBtn_32 cursor");var e=$("<div class='groupSel'/>").append("<div class='title'>"+b+"</div>");this.$el.css({width:649,padding:0}).empty().append(e).modal({escClose:!1}),$(".modalCloseImg").hide();var f=$('<div style="float:left;left:50%;position:relative;"><div style="float:left;position:relative;left:-50%;"/></div>').appendTo(e);$('<div class="clear"/>').appendTo(e),$("<div/>").css({"border-top":"1px dotted #d9d9d9",margin:"24px 9px 18px"}).appendTo(e);$('<div class="'+d+'" style="margin:0 9px 16px;"><a style="padding:0 45px;" ><div>'+c+'</div></a><span></span><div class="clear"></div></div>').appendTo(e);f=f.find("div"),this.groupBoxes=[];var g=this;$.each(this.groupInfo,function(a,b){var c=new Game.GroupBox(b.groupId,b.groupName,g.editable);f.append(c.render()),c.reAdjust(),g.listenTo(c,"grp.select",g.selectGroup),g.groupBoxes.push(c)}),a>=1&&this.selectGroup(a),$.modal.setPosition(),this.delegateEvents()}},selectGroup:function(a){this.curSelGrp=a;for(var b=0;b<this.groupBoxes.length;b++)this.groupBoxes[b].clearSelected(),this.groupBoxes[b].id==a&&this.groupBoxes[b].showSelected()},events:{"click .blueBtn_32":"saveSelectedGroup"},saveSelectedGroup:function(){if(!this.editable)return Utils.Func.saveCookie(this.user.get("id")+"grpsl","1",90),this.remove(),void $.modal.close();var a=this.curSelGrp;if(a&&!(a<1)){var b=this;$.ajax({url:"GameHandlerServlet",type:"POST",data:{optString:10,group:a},success:function(c){c?(b.remove(),$.modal.close(),b.user.set("groupId",a),Utils.Func.saveCookie(b.user.get("id")+"grpsl","1",90)):alert(Game.Messages.ERR_SEL_GRP)}})}}}),Game.GroupBox=Backbone.View.extend({constructor:function(a,b,c){this.id=a,this.el=$("<div>").addClass("floatL color55_F14 group"),this.grpBox1=$("<div></div>").appendTo(this.el),this.grpBox2=$("<div>"+b+"</div>").appendTo(this.grpBox1),this.editable=c,Backbone.View.apply(this)},render:function(){return this.$el},reAdjust:function(){this.grpBox2.css({position:"relative",top:(this.grpBox1.height()-this.grpBox2.height())/2})},showSelected:function(){this.$el.addClass("sel")},clearSelected:function(){this.$el.removeClass("sel")},events:{click:"select"},select:function(){this.editable&&this.trigger("grp.select",this.id)}}),Game.GetHelp=Backbone.View.extend({constructor:function(a){this.email=a,this.overlay=$("<div/>").css({opacity:.5,filter:"alpha(opacity=50)",left:0,top:0,background:"#000",position:"fixed","z-index":2e3,width:$(window).width(),height:$(window).height()}).appendTo("body"),this.el=$("<div/>").addClass("pos_abs").append(_.template($("script#tmpl_getHelpPopup").html().trim())({gethelpMsg:Game.Messages.GET_HELP_MSG,sendTxt:Game.Messages.SEND_TXT,cancelTxt:Game.Messages.CANCEL_TXT,typehere:Game.Messages.SUPPORT_TYPE_HERE,snapshot:Game.Messages.SNAPSHOT,attached:Game.Messages.ATTACHED})).css({"z-index":2001}).appendTo("body"),this.text=this.el.find("textarea"),Backbone.View.apply(this)},events:{"click .sendMsgBtn":"submit","click .cancel":"cancel"},render:function(){0==this.email.toLowerCase().indexOf("guest_")&&(this.$(".askEmail input").val(""),this.$(".askEmail .askEmailErr").text(""),this.$(".askEmail").show()),this.overlay.show(),this.$el.show().css({top:$(window).scrollTop()+20,left:($(window).width()-480)/2}),this.delegateEvents()},submit:function(){if(0==this.email.toLowerCase().indexOf("guest_")){var a=this.$(".askEmail input").val();if(""==a)return void $(".askEmailErr").text("Required!").show(0).delay(2e3).hide(0);if(a.indexOf("@")==-1||a.indexOf(".")==-1)return void $(".askEmailErr").text("Invalid Email!").show(0).delay(2e3).hide(0);this.email=a}var b=this.text.val();if(""===b||"Type here"==b){var c=$("textarea",this.el).parent();return void $('<div class="colorc634_F13 pos_abs">'+Game.Messages.GET_HELP_EMPTY+"</div>").appendTo(c).fadeOut(3e3,function(){$(this).remove()})}this.overlay.hide(),this.$el.hide(),send_feedback(this.text.val(),"AllABoard-4.0",this.email,"",!1),setTimeout(function(){Utils.Func.alert(Game.Messages.SUPPORT_THANKS)},500),this.text.val("")},cancel:function(){this.text.val(""),this.overlay.hide(),this.$el.hide()}}),Game.Settings={defaultPic:"//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/mtwrapper/mtcdn2/allaboard4.0/images/img_80_80.png",loaderPic:"//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/mtcdn2/allaboard4.0/images/ajax-loader.gif",volumeCookieName:"mtTickleSounds",searchType:"GLOBAL"},Game.ICONCLASS={doc:"pdfExt_Icon",image:"picExt_Icon",video:"videoExt_Icon"},Game.CONST={LOADED_QUESTIONS:"loaded.questions",LOADED_ANSWERS:"loaded.answers",LOADED_REPLIES:"loaded.replies",CLOSE_TIPS:"close.tips",GO_BACK:"goback",DRAW_TICKLE:"tickle.draw",GOBACK_FROM_TICKLE:"tickle.back",BODY_KEYPRESS:"keypress.body",OPEN_FACTO:"open.facto",LAUNCH_GAME_VIEW:1,GAME_PROG_VIEW:2,GAME_OVER_VIEW:3,SHOW_ALL_USERS:4,SHOW_NOT_JOINED:5,SHOW_TAG_USERS:6,RELOAD_TICKLE_WINDOW:"reload.browser",SOUND_CORRECT_OPTION:"//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/common-sounds/allaboard4.0/correct_option.mp3",SOUND_WRONG_OPTION:"//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/common-sounds/allaboard4.0/wrong_option.mp3",SOUND_ATTEMPT_OVER:"//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/common-sounds/allaboard4.0/attempts_over.mp3",SOUND_TICKLE_COMPLETE:"//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/common-sounds/allaboard4.0/correct_answer.mp3",SOUNT_HINT_LL:"//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/common-sounds/allaboard4.0/hint_lifeline.mp3",SOUNT_MEDAL:"//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/common-sounds/allaboard4.0/reward.mp3",SAVE_SCORE:"tickle.save"},Game.SOUNDS={CORRECTOPT:0,WRONGOPT:1,WRONGANS:2,CORRECTANS:3,HINT:4,MEDAL:5};var Utils=Utils||{};!function(){var a={};window.isErrorPopUpShow=!1,Utils.Func=Backbone.Model.extend({},{isNewDesignLanguage:function(){return window.designLanguage&&"NEW"==window.designLanguage},toTitleCase:function(a){var b=a.indexOf("/");b>-1&&(a=a.replace(/\//g," / "));var c=a.replace(/\w(\S|\/)*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()});return b&&(c=c.replace(/ \/ /g,"/")),c},mediaTypes:{HANDOUT:80,IMAGE:81,ALBUM:82,VIDEO:83,EMBED:84,SLIDESHARE:85,BRAINSHARK:86,SWF:87,YOUTUBE:88,ARCHIVE:89,AUDIO:90,IFRAME:91,PREZI:92,DOCUMENT_PDF:93,DOCUMENT_PPT:94,DOCUMENT_WORD:95,DOCUMENT_XLS:96,IMG_MASH_UP:99,NOTE:400,LOEMBEDURL:612},entityType:{SERIES:1,COURSE:2,UPDATE:3,MISSION:4,ASSESSMENT:5,COACHING:6,CHECKLIST:7,ONE_TO_ONE_COACHING:13,PERFORMANCE_EVALUATION_COACHING:15,VOICE_OVER_PPT_COACHING:9,VIDEO_PITCH_COACHING:10,TASK_EVALUATION_COACHING:11,SCREEN_CAPTURE_COACHING:12,ILT:8},getNumber:function(a){return new Array(a)},showRollupVideo:function(){var a=$('<div style="width:750px;" class="bg_ff pos_rel margin0_auto borderR5"><div class="crossIcon_15 pos_abs closeIcon closeRollup" style="right: 15px; top: 15px"></div><div style="padding:20px 30px"><div class="textalign_C color00 F16 lineHeight20 marginT10 introHeader fs-hide" style="font-family: Open Sans, Arial, sans-serif">Welcome! Introducing Manager Roll-Up Reports. Take a quick tour.</div><div class="borderT30_transparent borderB30_transparent" style="width:485px;margin:0 auto;height:335px"><div class="wistia_responsive_padding" style="padding1:56.34% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position1:absolute;top:0;width:100%;"><div class="wistia_embed wistia_async_yi830t42wo videoFoam=true" style="height:100%;width:100%">&nbsp;</div></div></div></div><div class="textalign_C F14 color00 marginB10 display_N"><span class="bold">What\u2019s New:</span> One-stop Dashboard, Notification hub and improved look &amp; feel.</div><div class="textalign_C borderB20_transparent"></div><!-- <div class="color0072bc F14 skipTour marginB30 textalign_C"><span>Skip Tour</span></div> --></div></div>');$(".closeRollup",a).click(function(a){$.modal.close()}),a.modal({close:!1,containerCss:{height:"auto"}})},showOpenSeriesPrompt:function(a,b,c){location.hash&&location.hash.indexOf("#/content")>-1&&Utils.Func.isNewDesignLanguage()&&(c=void 0),void 0==c&&(c=function(){var a="/courses";Utils.Func.isNewDesignLanguage()&&(a="/contents"),window.location.hash=a}),Utils.Func.isNewDesignLanguage()?Utils.Func.alertWithHeaderNDL(Game.Messages.LB_TXT_CONTENT_NOT_ACCESSIBLE,_.template(Game.Messages.SU_LOCKED_MODULE_WARNING)({a:a+" "}),b,{okBtn:Game.Messages.GO_TO_SERIES,cancelAction:c}):Utils.Func.confirm(_.template(Game.Messages.SU_LOCKED_MODULE_WARNING)({a:a+" "}),b,Game.Messages.GO_TO_SERIES,Game.Messages.GOTO_DASHBOARD,c)},loadEntityError:function(a){var b="/courses",c=b,d=function(){window.location.hash=b,window.location.reload(!0)};"FORBIDDEN_SEQ_UNLOCKING"==a.error&&(a.seriesId&&(c="/courses?series="+a.seriesId),d=function(){Utils.Func.showOpenSeriesPrompt("",function(){window.location.hash=c,window.location.reload(!0)},function(){window.location.hash=b,window.location.reload(!0)})}),d()},generateUUID:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},getFlashVersion:function(){try{try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{a.AllowScriptAccess="always"}catch(b){return"6,0,0"}}catch(b){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(b){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(c){}}return"0,0,0"},entityTypes:{0:{name:Game.Messages.LB_TXT_MODULE_TYPE_ALL,icon:"",shortKey:""},2:{name:Game.Messages.LB_TXT_COURSE,icon:"cBG_L",shortKey:"C",iconS:"cBG"},3:{name:Game.Messages.TXT_QUICK_UPDATE,icon:"qBG_L",shortKey:"Q",iconS:"qBG"},4:{name:Game.Messages.LB_TXT_MISSION,icon:"mBG_L",shortKey:"M",iconS:"mBG"},9:{name:Game.Messages.LB_TXT_MISSION,icon:"mBG_L",shortKey:"M",iconS:"mBG"},10:{name:Game.Messages.LB_TXT_MISSION,icon:"mBG_L",shortKey:"M",iconS:"mBG"},11:{name:Game.Messages.LB_TXT_MISSION,icon:"mBG_L",shortKey:"M",iconS:"mBG"},12:{name:Game.Messages.LB_TXT_MISSION,icon:"mBG_L",shortKey:"M",iconS:"mBG"},5:{name:Game.Messages.LB_TXT_ASSESSMENT,icon:"aBG_L",shortKey:"A",iconS:"aBG"},6:{name:Game.Messages.LB_TXT_COACHING,icon:"csBG_L",shortKey:"S",iconS:"csBG"},13:{name:Game.Messages.LB_TXT_COACHING_BETA,icon:"csBG_L",shortKey:"S",iconS:"csBG"},15:{name:Game.Messages.LB_TXT_PERFORMANCE_EVALUATION_COACHING,icon:"csBG_L",shortKey:"S",iconS:"csBG"},7:{name:Game.Messages.LB_TXT_CHECKLIST,icon:"clBG_L",shortKey:"L",iconS:"clBG"},8:{name:Game.Messages.LB_TXT_ILT,icon:"iltBG_L",shortKey:"I",iconS:"iltBG"},14:{name:Game.Messages.REINFORCEMENT_TXT,icon:"reinBG_L",shortKey:"R",iconS:"reinBG"}},entityTypesByName:{ALL:{name:Game.Messages.LB_TXT_MODULE_TYPE_ALL,icon:"",shortKey:""},COURSE:{name:Game.Messages.LB_TXT_COURSE,icon:"cBG_L",shortKey:"C",iconS:"cBG"},UPDATE:{name:Game.Messages.TXT_QUICK_UPDATE,icon:"qBG_L",shortKey:"Q",iconS:"qBG"},MISSION:{name:Game.Messages.LB_TXT_MISSION,icon:"mBG_L",shortKey:"M",iconS:"mBG"},ASSESSMENT:{name:Game.Messages.LB_TXT_ASSESSMENT,icon:"aBG_L",shortKey:"A",iconS:"aBG"},COACHING:{name:Game.Messages.LB_TXT_COACHING,icon:"csBG_L",shortKey:"S",iconS:"csBG"},ONE_TO_ONE_COACHING:{name:Game.Messages.LB_TXT_COACHING_BETA,icon:"csBG_L",shortKey:"S",iconS:"csBG"},PERFORMANCE_EVALUATION_COACHING:{name:Game.Messages.LB_TXT_PERFORMANCE_EVALUATION_COACHING,icon:"csBG_L",shortKey:"S",iconS:"csBG"},VOICE_OVER_PPT_COACHING:{name:Game.Messages.LB_TXT_MISSION,icon:"mBG_L",shortKey:"M",iconS:"mBG"},VIDEO_PITCH_COACHING:{name:Game.Messages.LB_TXT_MISSION,icon:"mBG_L",shortKey:"M",iconS:"mBG"},SCREEN_CAPTURE_COACHING:{name:Game.Messages.LB_TXT_MISSION,icon:"mBG_L",shortKey:"M",iconS:"mBG"},TASK_EVALUATION_COACHING:{name:Game.Messages.LB_TXT_MISSION,icon:"mBG_L",shortKey:"M",iconS:"mBG"},CHECKLIST:{name:Game.Messages.LB_TXT_CHECKLIST,icon:"clBG_L",shortKey:"L",iconS:"clBG"},ILT:{name:Game.Messages.LB_TXT_ILT,icon:"iltBG_L",shortKey:"I",iconS:"iltBG"},REINFORCEMENT:{name:Game.Messages.REINFORCEMENT_TXT,icon:"reinBG_L",shortKey:"R",iconS:"reinBG"}},TYPES_OF_SEARCH:{ALL:"all",MODULE:"module",FILE:"file",SERIES:"series",PEER:"peer",REVIEW:"review"},TYPE_OF_RESULT:{SERIES:"SERIES",MODULE:"MODULES",CONTENT:"FILES",USER:"PEERS"},TYPES_OF_SEARCH_TXT:{ALL:{type:"all",text:Game.Messages.DASHBOARD_TXT_SHOW_ALL_RESULTS,textNew:Game.Messages.LB_TXT_ALL_RESULTS,icon:"icon-search"},MODULE:{type:"module",text:"in Modules",textNew:Game.Messages.DASHBOARD_PROFILE_TXT_MODULES,icon:"icon-modules"},FILE:{type:"file",text:"in Files",textNew:Game.Messages.LB_TXT_FILES,icon:"icon-All-Files"},SERIES:{type:"series",text:"in Series",textNew:Game.Messages.DASHBOARD_PROFILE_SERIES,icon:"icon-seriesLine"},PEER:{type:"peer",text:"in Peers",textNew:Game.Messages.DASHBOARD_TAB_TIP_PEERS,icon:"icon-groupNew"}},escapeRegExp:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},getResultReasonPriority:function(a){return a.matches?a.matches.indexOf("NAME")!=-1?1:a.matches.indexOf("TAG")!=-1?3:a.matches.indexOf("TOPIC")!=-1?4:a.matches.indexOf("DESC")!=-1?2:5:0},getSearchMatchText:function(a,b){if(a.matches.length>0){if("DESC"===a.matches[0])return"has "+b+" in Description";if("TOPIC"===a.matches[0])return"has "+b+" in Topic name";if("TAG"===a.matches[0])return"has Tag"+b}},getEntityTypeObjByNum:function(a){return Utils.Func.entityTypes[a]},getEntityTypeObjByName:function(a){return Utils.Func.entityTypesByName[a]},getEntityType:function(a){return Utils.Func.entityTypes[a].name},getEntityIconSmall:function(){return Utils.Func.entityTypes[number].iconS},getNiceDate:function(a){a<1e11&&(a=1e3*a);var b=new Date(a),c=Game.Messages["MONTH_NAMES_SHORT_"+b.getMonth()];return b.getDate()+" "+c+", "+b.getFullYear()},getNiceDate2:function(a){a<1e11&&(a=1e3*a);var b=new Date(a),c=Game.Messages["MONTH_NAMES_SHORT_"+b.getMonth()];return c+" "+b.getDate()},getNiceDate5:function(a){if(!a||a===-1||0===a)return"NA";a<1e11&&(a=1e3*a);var b=new Date(a),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];return c[b.getMonth()]+" "+b.getDate()+", "+b.getFullYear()},getNiceDateWithTimezone:function(a,b,c,d,e){var f,g;if(c)e&&e.zone_offset_minutes&&(d=e.zone_offset_minutes),d=new Date(a).getTimezoneOffset(),f=d/60,g=f;else{var h;try{h=JSON.parse(b)}catch(i){}if(h&&(b=h.name),b&&"("===b[0]){var j=b.replace(/[()]/g,"");f=j.split(/ (.+)/)[0].replace("GMT","")}else f=b.split(" ")[1].slice(1,-1);var k=f.split(":");g=parseInt(k[0]),"30"==k[1]&&(g<0?g-=.5:g+=.5);
}a<1e11&&(a=1e3*a);var l=new Date(a),m=l.getTime()+6e4*l.getTimezoneOffset(),n=new Date(m+36e5*g),o=Game.Messages["MONTH_NAMES_SHORT_"+n.getMonth()],p=o+" "+n.getDate(),q=n.getHours(),r="AM";return q>12&&(q-=12,r="PM"),p+=", "+q+":"+("0"+n.getMinutes()).slice(-2)+" "+r+", GMT"+f},getNiceDateTimeShort:function(a){a<1e11&&(a=1e3*a);var b=new Date(a),c=Game.Messages["MONTH_NAMES_SHORT_"+b.getMonth()];return c+" "+b.getDate()+" "+Utils.Func.getTimeText({dueOn:b.getTime()/1e3})},getNiceDateTime:function(a){a<1e11&&(a=1e3*a);var b=new Date(a),c=b.toString().match(/\(([A-Za-z\s].*)\)/),d="";c&&(d=b.toString().match(/\(([A-Za-z\s].*)\)/)[1],d.length>3&&(d=Game.EventManager.getAcronym(d,3)));var e=Game.Messages["MONTH_NAMES_SHORT_"+b.getMonth()];return b.getDate()+" "+e+", "+b.getFullYear()+" "+b.getHours()+":"+b.getMinutes()+" "+d},getTimeString:function(a){a<1e11&&(a=1e3*a);var b=new Date(a),c=b.getHours(),d="AM";return c>=12&&(c>12&&(c-=12),d="PM"),c+":"+("0"+b.getMinutes()).slice(-2)+" "+d},convertScoreToKscore:function(a){return isNaN(a)?0:Math.floor(a/100)},myParseInt:function(a){return parseInt(a,10)},convertArr2Int:function(a){return a=_.without(a,""," "),_.map(a,Utils.Func.myParseInt)},saveCookie:function(a,b,c){var d=c,e=null;if(d){var f=new Date;f.setTime(f.getTime()+24*d*60*60*1e3),e="; expires="+f.toGMTString()}else e="";document.cookie=a+"="+b+e+"; path=/"},dispatchEvent:function(a,b){var c;b=b||{},isIE?(c=document.createEvent("CustomEvent"),c.initCustomEvent(a,!1,!1,b)):c=new CustomEvent(a,{detail:b}),document.dispatchEvent(c)},getProfileFieldName:function(a){for(var b="NA",c=companySettings.profile.fields,d=0;d<c.length;d++)if(a===c[d].shortKey){b=c[d].displayName,Game.Messages[c[d].displayName]&&(b=Game.Messages[c[d].displayName]);break}return b},readCookie:function(a){var b=a+"=",c="";if(document.cookie.indexOf(b)==-1)return c;for(var d=document.cookie.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "==f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(b))return f.substring(b.length,f.length)}return null},repairUrl:function(a){return"undefined"==typeof a||""===a||null===a?a=assetsBase+"/images/img_80_80.png":"https:"===location.protocol.toLowerCase()&&/^(https?:)?\/\/(?=mt(apps|game)-cdn\.mindtickle\.com)/i.test(a)?a.replace(/^(https?:)?\/\/(?=mt(apps|game)-cdn\.mindtickle\.com)/i,"https://s3-ap-southeast-1.amazonaws.com/"):"//"==a.substr(0,2)?location.protocol+a:"http:/"==a.substr(0,6)?location.protocol+a.substr(5):"https:"==a.substr(0,6)?location.protocol+a.substr(6):a},isiPad:navigator.userAgent.match(/(iPad|iPhone|iPod|Android)/i),isCSS3:function(a){var b=document.body||document.documentElement,c=b.style,d=a;if("string"==typeof c[d])return!0;var e=["Moz","Webkit","Khtml","O","ms"];d=d.charAt(0).toUpperCase()+d.substr(1);for(var f=0;f<e.length;f++)if("string"==typeof c[e[f]+d])return!0;return!1},isMobileBrowser:function(){if("undefined"!=typeof navigator&&navigator.userAgent){var a=new RegExp(/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i);if(null!=navigator.userAgent.match(a))return!0}return!1},getParsedComment:function(a){for(var b=/((?:https?\:\/\/)?[\w-]+(?:\.[\w-]+)*\.(?:\w+)\S*)/g,c=a.split(b),d=0;d<c.length;d++)c[d].split(b).length<2?c[d]=_.escape(c[d]):"http"==c[d].substr(0,4)?c[d]="<a href='"+c[d]+"' target='_blank'>"+c[d]+"</a>":c[d]="<a href='//"+c[d]+"' target='_blank'>"+c[d]+"</a>";return c.join("")},getNiceTime:function(a){if(a<1e3)return"";var b=new Date;if(b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),a>b.getTime()/1e3){var c=(new Date).getTime()/1e3-a,d=Math.floor(c/3600);return d>0?(d=Math.round(c/3600),_.template(Game.Messages.DUR_AGO)({dur:_.template(Game.Messages.DUR_HOURS,{n:d})})):(d=Math.round(c/60),_.template(Game.Messages.DUR_AGO)({dur:_.template(Game.Messages.DUR_MINS,{n:d})}))}b=new Date(1e3*a);var e=Game.Messages["MONTH_NAMES_SHORT_"+b.getMonth()];return e+" "+b.getDate()+","+b.getFullYear()},showGetSupport:function(){this.getSupport||(this.getSupport=new Game.GetSupport(learnerJson)),this.getSupport.render()},getSecondsToNiceTime:function(a,b){var c="",d=0,e=0,f=0;return a=parseInt(a),"auto"===b&&(a>=3600?b="hrs":a>=60&&(b="mins")),"hrs"===b?(c="Hours",d=a%60,e=Math.floor(a/60),f=Math.floor(e/60),e%=60,e<10&&(e="0"+e),f+":"+e+":"+d):"mins"===b?(c="Minutes",d=a%60,e=Math.floor(a/60),d<10&&(d="0"+d),e<10&&(e="0"+e),e+":"+d):(c="Seconds",a)},encodeHTML:function(a){return"undefined"==typeof a?"":$("<div></div>").text(a).html()},hideModal:function(){$.modal.close()},showAddToCalendar:function(a,b){var c=$("script#tmpl_add_to_calendar").html(),d=$.trim(c),e=$(_.template(d)({CS_ADD_TO_CALENDAR:Game.Messages.CS_ADD_TO_CALENDAR,CS_ADD_TO_CALENDAR_DESC:Game.Messages.CS_ADD_TO_CALENDAR_DESC,CS_GOOGLE_CALENDAR:Game.Messages.CS_GOOGLE_CALENDAR,CS_OUTLOOK_CALENDAR:Game.Messages.CS_OUTLOOK_CALENDAR,CS_ADD_TO_CALENDAR_LATER:Game.Messages.CS_ADD_TO_CALENDAR_LATER}));a.gCalUrl?$(".learningSiteRow.gCalUrl",e).attr("href",a.gCalUrl):($(".learningSiteRow.gCalUrl",e).remove(),$(".learningSiteRow.msCalUrl",e).addClass("borderT_dd")),a.msCalUrl?$(".learningSiteRow.msCalUrl",e).attr("href",a.msCalUrl):($(".learningSiteRow.msCalUrl",e).remove(),$(".learningSiteRow.gCalUrl",e).addClass("borderB_dd")),$(".closeMe",e).click(function(a){a.stopPropagation(),$.modal.close(),$.isFunction(b)&&b()}),$.modal.close(),e.modal({close:!1})},alertWithHeaderNDL:function(a,b,c,d){d||(d={}),d.okBtn||(d.okBtn=Game.Messages.OK),d.cancelBtn||(d.cancelBtn=Game.Messages.CANCEL);var e=$('<div class="selectTopic_popUp alertModel"><div style="padding:24px 32px"><div class="popupheader alertModelTitle"><div class="floatL htxt"></div><div class="closeAction floatR icon-close cursor F12 color2a2e36 marginT8"></div><div class="clear"></div></div><div class="lineHeight22 color00_F14 marginT20"><div class="errMsg color606369"></div><div class="marginT30"><div class="floatR btn_0072bc F14 lineHeight30 borderR4 paddingL30 paddingR30 okBtnContainer" style="background:#4D7CC7">'+d.okBtn+'</div><div class="floatR lineHeight30 marginR20 color99 cursor cancelContainer closeAction">'+d.cancelBtn+'</div><div class="clear"></div></div></div></div></div>');d.hideCancel&&$(".cancelContainer",e).hide(),d.hideCloseIcon&&$(".icon-close",e).hide(),a&&$(".popupheader .htxt",e).text(a),$(".errMsg",e).html(b),$(".closeAction",e).click(function(a){a.stopPropagation(),$.modal.close(),d.cancelAction&&$.isFunction(d.cancelAction)&&d.cancelAction()}),$(".okBtnContainer",e).click(function(a){a.stopPropagation(),$.modal.close(),$.isFunction(c)&&c()}),$.modal.close(),e.modal({close:!1})},alertWithHeader:function(a,b,c){var d=$('<div class="selectTopic_popUp"><div style="padding:5px"><div class="crossIcon floatR"></div><div class="clear"></div><div class="textalign_C popupheader"></div><div class="lineHeight22 color00_F14 marginT20 textalign_C"><div class="errMsg"></div><div class="marginB20 marginT30"><div style="left:50%" class="floatL pos_rel"><div style="left:-50%" class="floatL pos_rel"><div class="floatL btn_0072bc F14 lineHeight30 borderR15 paddingL30 paddingR30 okBtnContainer" style="">'+Game.Messages.OK+'</div><div class="clear"></div></div></div><div class="clear"></div></div></div></div></div>');$(".popupheader",d).text(a),$(".errMsg",d).html(b),$(".okBtnContainer,.crossIcon",d).click(function(a){a.stopPropagation(),$.modal.close(),$.isFunction(c)&&c()}),$.modal.close(),d.modal({close:!1})},alert:function(a,b,c,d){var e=$('<div class="selectTopic_popUp"><div style="padding:5px"><div class="crossIcon floatR"></div><div class="clear"></div><div class="lineHeight22 color00_F14 marginT20 textalign_C"><div class="errMsg"></div><div class="marginB20 marginT30"><div style="left:50%" class="floatL pos_rel"><div style="left:-50%" class="floatL pos_rel"><div class="floatL btn_0072bc F14 lineHeight30 borderR15 paddingL30 paddingR30 okBtnContainer alertOkBtn" id="alertOkBtn" style="">'+Game.Messages.OK+'</div><div class="clear"></div></div></div><div class="clear"></div></div></div></div></div>');"undefined"!=typeof c&&c&&!isNaN(c)&&e.css({width:c}),$(".errMsg",e).html(a),$(".okBtnContainer,.crossIcon",e).click(function(a){a.stopPropagation(),$.modal.close(),$.isFunction(b)&&b()}),$.modal.close();var f={close:!1};d&&(f.zIndex=d),e.modal(f)},qeEncode:function(a){var b=appSettings.sessionId+"t-*(b`.:#H$^[)7M^p&*@E]";if(""==b)return a;if(b.length<8)return a;var c=b.length<32?b.length:32,d=[],e=0;for(e=0;e<c;e++)d[e]=31&b.charCodeAt(e);var f=0,g=[];for(e=0;e<a.length;e++){var h=a.charCodeAt(e),i=224&h;g[e]=String.fromCharCode(0!==i?h^d[f]:h),f++,f=f==c?0:f}return g.join("")},mediaStatus:{SUCCESS:0,UPLOADING:1,PROCESSING:2,FAILED:3,COPYING:4,PUBLISHABLE_PROCESSED:5,PUBLISHABLE_PROCESSED_MP4ALL:6,COPYING_AND_PROCESSED:10,COPYIED_AND_PROCESSING:11,IN_MIGRATION:21,PUBLISHABLE_PROCESSED_BUT_FULLCONVERT_FAILED:22},getCoachingStatus:function(a){if(a&&a>0){var b=new Date;b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);var c=b.getTime()/1e3;return a>c&&a<c+86400?Game.Messages.COACHING_TXT_SCHEDULED_TODAY:a>=c+86400&&a<c+172800?Game.Messages.COACHING_TXT_SCHEDULED_TOMORROW:Game.Messages.COACHING_TXT_SCHEDULED_ON+" "+Utils.Func.getNiceDate2(a)}return Game.Messages.COACHING_TXT_UNSCHEDULED},pingAA:function(a,b,c){var d=50,e=16,f=1,g=function(){var a=new XMLHttpRequest;this.netStatus||(this.netStatus="online");var b=this;a.onreadystatechange=function(){4===a.readyState&&(4===a.readyState&&200===a.status?(1!=f&&(f=1),mtBrodCastService.brodCast("browser.online"),c(g,1e3*d),"online"!==b.netStatus&&(b.netStatus="online",Game.MixPanelTracking.track("ONLINE",{}))):(mtBrodCastService.brodCast("browser.offline"),c(g,1e3*(e*f)),f=f<3?f+1:3,"offline"!==b.netStatus&&(b.netStatus="offline",Game.MixPanelTracking.track("OFFLINE",{status:a.status}))))},"undefined"!=typeof cfAssetsBaseDomain?("undefined"!=typeof cname&&"970870258493103480"==cname&&(cfAssetsBaseDomain="assets.mindtickle.com"),a.open("GET","//"+cfAssetsBaseDomain+"/allaboard/prod-singapore/images/ping?_="+(new Date).getTime(),!0)):a.open("GET",assetsBase+"/images/ping?_="+(new Date).getTime(),!0),a.send()};c(g,1e3*d);var h=!1;a.$on("browser.offline",function(b){a.browserOffline=!0,document.getElementById("browserOffline").style.display="block",isHTML5MissionRecordingSupported&&["SCREEN_CAPTURE","VIDEO_PITCH"].indexOf(a.missionType)>-1&&(a.isRecording||a.isUploading)?(document.getElementById("browserOffline").className="",document.getElementById("offlineMessage").innerHTML=a.errorStatement||"You are offline!"):(document.getElementById("browserOffline").className="overlay",document.getElementById("offlineMessage").innerHTML="You are offline!"),h=!0,console.log("offline")},!1),a.$on("browser.online",function(b){a.browserOffline=!1,h&&(h=!1,document.getElementById("browserOffline").style.display="none",document.getElementById("browserOnline").style.display="block",a.browserOnline=!0,c(function(){document.getElementById("browserOnline").style.display="none"},1e4))},!1)},didIReviewed:function(a){for(var b=0;b<a.missionLearner.reviewers.length;b++)if(a.missionLearner.reviewers[b].id==learnerJson.id)return"PENDING"!=a.missionLearner.reviewers[b].status;return console.error("I am not reviewer, so we should never reach here"),!1},alertCustom:function(a,b,c){var d=$('<div class="selectTopic_popUp zIndex3k"><div style="padding:5px"><div class="crossIcon floatR"></div><div class="clear"></div><div class="lineHeight22 color00_F14 marginT20 textalign_C"><div class="errMsg"></div><div class="marginB20 marginT30"><div style="left:50%" class="floatL pos_rel"><div style="left:-50%" class="floatL pos_rel"><div class="floatL btn_0072bc F14 lineHeight30 borderR15 paddingL30 paddingR30 okBtnContainer" style="">'+(c?c:Game.Messages.OK)+'</div><div class="clear"></div></div></div><div class="clear"></div></div></div></div></div>');$(".errMsg",d).html(a),$(".okBtnContainer,.crossIcon",d).click(function(a){a.stopPropagation(),$.modal.close(),$.isFunction(b)&&b()}),$.modal.close(),d.modal({close:!1})},alertCustomWithCheckbox:function(a,b,c,d,e){void 0===e&&(e=!0);var f=$('<div class="selectTopic_popUp zIndex3k"><div style="padding:5px"><div class="crossIcon floatR"></div><div class="clear"></div><div class="lineHeight22 color00_F14 marginT20 textalign_C"><div class="errMsg"></div><div class="marginB20 marginT30"><div style="margin:20px auto;"><div class="floatL pos_rel" style="left:50%"><div class="floatL pos_rel" style="left:-50%"><div class="color36_F18 textalign_C lineHeight20 paddingL30 paddingR30" style="font-size:14px;"><div class="checkbox_16_16 mtCheckBox marginL10 marginT2 floatL marginR8"></div>'+d+'</div><div class="clear"></div></div><div class="clear"></div></div></div><br/><div style="margin:20px auto;"><div style="left:50%" class="floatL pos_rel"><div style="left:-50%" class="floatL pos_rel"><div class="floatL btn_0072bc F14 lineHeight30 borderR15 paddingL30 paddingR30 okBtnContainer" style="">'+(c?c:Game.Messages.OK)+'</div></div><div class="clear"></div></div></div><div class="clear"></div></div></div></div></div>');$(".errMsg",f).html(a),$(".okBtnContainer,.crossIcon",f).click(function(a){a.stopPropagation(),$.modal.close(),$.isFunction(b)&&b(e)});var g=function(){e?$(".mtCheckBox",f).addClass("checked"):$(".mtCheckBox",f).removeClass("checked")};$(".mtCheckBox",f).click(function(a){e=!e,g()}),g(),$.modal.close(),f.modal({close:!1})},alertBlank:function(a){var b=$('<div class="selectTopic_popUp zIndex3k"><div style="padding:5px"><div class="crossIcon floatR"></div><div class="clear"></div><div class="lineHeight22 color00_F14 marginT20 textalign_C"><div class="errMsg"></div><div class="marginB20 marginT5"><div style="left:50%" class="floatL pos_rel"><div style="left:-50%" class="floatL pos_rel"><div><img src="'+assetsBase+'/images/ajax-loader.gif"/></div><div class="clear"></div></div></div><div class="clear"></div></div></div></div></div>');return $(".errMsg",b).html(a),$(".okBtnContainer,.crossIcon",b).click(function(a){a.stopPropagation(),$.modal.close(),$.isFunction(callback)&&callback()}),$.modal.close(),b.modal({close:!1}),b},prompt:function(a,b,c,d,e,f,g,h,i,j){var k={title:"",msgTop:"",msgBottom:"",label:"",placeholder:"",input:"",okBtn:Game.Messages.OK,cancelBtn:Game.Messages.CANCEL,validateFunc:null,okCallback:null,cancelCallback:null},a=$.extend(k,a),l=$('<div class="selectTopic_popUp"><div><div class="crossIcon floatR"></div><div class="clear"></div><div class="lineHeight22 textalign_L marginL20 marginR20 marginT20 F13"><div class="title F16 bold textalign_C"></div><div class="msgTop marginT20"></div><div class="ofh marginT10"><div class="formInputBoxBorder"><input class="textinput formInputBox" placeholder=""/></div></div><div class="error colorc63434" style="opacity:0">0</div><div class="msgBottom"></div><div class="marginB20 marginT30"><div style="left:50%" class="floatL pos_rel"><div style="left:-50%" class="floatL pos_rel buttonCont"><div class="clear"></div></div></div><div class="clear"></div></div></div></div></div>');$(".msgTop",l).html(k.msgTop),$(".msgBottom",l).html(k.msgBottom),$("input",l).attr("placeholder",k.placeholder).val(k.input),$(".title",l).html(k.title),j=$('<div class="F12 lineHeight24 borderR12 paddingL25 color7c paddingR25 floatL marginR20 cursor" style="border:1px solid #ccc">'+k.cancelBtn+"</div>").click(function(a){return a.stopPropagation(),$.modal.close(),$.isFunction(k.cancelCallback)&&k.cancelCallback(),!1}),$(".crossIcon",l).click(function(){j.click()}),i=$('<div class="btn_0072bc F12 lineHeight26 borderR12 paddingL25 paddingR25 floatL">'+k.okBtn+"</div>").click(function(a){var b=$.trim($("input",l).val());if($.isFunction(k.validateFunc)){var c=k.validateFunc(b);if(c!==!0)return void $(".error",l).html(c).css({opacity:1}).animate({opacity:0},2e3)}return a.stopPropagation(),$.modal.close(),$.isFunction(k.okCallback)&&k.okCallback(b),!1}),$(".buttonCont",l).prepend(i).prepend(j),$.modal.close(),l.modal({close:!1})},confirm:function(a,b,c,d,e){"undefined"==typeof c&&(c=Game.Messages.BTN_YES),"undefined"==typeof d&&(d=Game.Messages.BTN_NO);var f=$('<div class="selectTopic_popUp"><div style="padding:5px"><div class="crossIcon floatR"></div><div class="clear"></div><div class="lineHeight22 color00_F14 marginT20 textalign_C"><div class="errMsg"></div><div class="marginB20 marginT30"><div style="left:50%" class="floatL pos_rel"><div style="left:-50%" class="floatL pos_rel buttonCont"><div class="clear"></div></div></div><div class="clear"></div></div></div></div></div>');$(".errMsg",f).html(a),d=$('<div class="F12 lineHeight24 borderR12 paddingL25 color7c paddingR25 floatL marginR20 cursor" style="border:1px solid #ccc">'+d+"</div>").click(function(a){return a.stopPropagation(),$.modal.close(),$.isFunction(e)&&e(),!1}),$(".crossIcon",f).click(function(){d.click()}),c=$('<div class="btn_0072bc F12 lineHeight26 borderR12 paddingL25 paddingR25 floatL">'+c+"</div>").click(function(a){return a.stopPropagation(),$.modal.close(),b(),!1}),$(".buttonCont",f).prepend(c).prepend(d),$.modal.close(),f.modal({close:!1})},confirmWithNoAction:function(a,b,c,d,e){"undefined"==typeof d&&(d=Game.Messages.BTN_YES),"undefined"==typeof e&&(e=Game.Messages.BTN_NO);var f=$('<div class="selectTopic_popUp"><div style="padding:5px"><div class="crossIcon floatR"></div><div class="clear"></div><div class="lineHeight22 color00_F14 marginT20 textalign_C"><div class="errMsg"></div><div class="marginB20 marginT30"><div style="left:50%" class="floatL pos_rel"><div style="left:-50%" class="floatL pos_rel buttonCont"><div class="clear"></div></div></div><div class="clear"></div></div></div></div></div>');$(".errMsg",f).html(a),e=$('<div class="F12 lineHeight24 borderR12 paddingL25 color7c paddingR25 floatL marginR20 cursor" style="border:1px solid #ccc">'+e+"</div>").click(function(a){return a.stopPropagation(),$.modal.close(),c(),!1}),$(".crossIcon",f).click(function(){e.click()}),d=$('<div class="btn_0072bc F12 lineHeight26 borderR12 paddingL25 paddingR25 floatL">'+d+"</div>").click(function(a){return a.stopPropagation(),$.modal.close(),b(),!1}),$(".buttonCont",f).prepend(d).prepend(e),$.modal.close(),f.modal({close:!1})},downloadCertificate:function(b,c,d,e){Game.MixPanelTracking.track("Download Certificate",{"Content Type":e,"Content Name":d,"Content ID":b}),c&&""!=c?top.location=c:a[b]?top.location=a[b]:$.ajax({type:"GET",url:"/entity/"+b+"/download",data:{time:(new Date).getTime()/1e3},success:function(c){""!=c.path?(a[b]=c.path,top.location=a[b]):Utils.Func.alert("The certificate is being generated. Please try after some time.")},error:function(){Game.MixPanelTracking.track("Download Certificate Failed",{"Content Type":e,"Content Name":d,"Content ID":b}),Utils.Func.alert("There was an error in certificate generation. Please try after some time.")}})},getTimeText:function(a){var b=new Date(1e3*a.dueOn),c="",d=!0,e=b.getHours();return e>12?(d=!1,e-=12):12==e?d=!1:0==e&&(e=12),c+=(e<10?"0"+e:e)+":"+(b.getMinutes()<10?"0"+b.getMinutes():b.getMinutes()),c+=d?" AM":" PM"},getDueDateText:function(a){if(null==a)return"";var b=new Date;return b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),b=b.getTime()/1e3,0==a.dueOn?"":"NONE"==a.dueDateExpiryAction?a.dueOn>b&&a.dueOn<b+86400?Game.Messages.LB_TXT_DUE_TODAY+", "+Utils.Func.getTimeText(a):a.dueOn>=b+86400&&a.dueOn<=b+172800?Game.Messages.LB_TXT_DUE_TOMORROW+", "+Utils.Func.getTimeText(a):Game.Messages.LB_TXT_DUE_ON+" "+Utils.Func.getNiceDate2(a.dueOn)+", "+Utils.Func.getTimeText(a):a.dueOn>b?a.dueOn>b&&a.dueOn<b+86400?(new Date).getTime()/1e3>a.dueOn?Game.Messages.ENDED_TODAY+", "+Utils.Func.getTimeText(a):Game.Messages.LB_TXT_ENDS_TODAY+", "+Utils.Func.getTimeText(a):a.dueOn>=b+86400&&a.dueOn<=b+172800?Game.Messages.LB_TXT_ENDS_TOMORROW+", "+Utils.Func.getTimeText(a):Game.Messages.ENDS_ON+" "+Utils.Func.getNiceDate2(a.dueOn)+", "+Utils.Func.getTimeText(a):a.dueOn>0?Game.Messages.ENDED_ON+" "+Utils.Func.getNiceDate2(a.dueOn)+", "+Utils.Func.getTimeText(a):""},computeDueDateObj:function(a,b){var c={dueOn:0,dueDateExpiryAction:"NONE"};return null==a||null==b?c:(c.dueDateExpiryAction=a.dueDateExpiryAction,"NONE"==a.dueDateType?c.dueOn=0:"NUM_MINUTES_AFTER_INVITATION"==a.dueDateType?c.dueOn=b+86400*(a.value/24/60):"SPECIFIC_DATE"==a.dueDateType&&(c.dueOn=a.value),c)},isDueTodayOrTomorrow:function(a,b){if("COMPLETED"===a)return!1;if(!b||!b.dueOn)return!1;var c=new Date(1e3*b.dueOn),d=new Date;d.setHours(c.getHours()),d.setMinutes(c.getMinutes()),d.setSeconds(c.getSeconds()),d.setMilliseconds(c.getMilliseconds());var e=new Date(d.getTime()+864e5);return(new Date).getTime()>c.getTime()?"NONE"==b.dueDateExpiryAction:c.getDate()==d.getDate()||c.getDate()==e.getDate()},isMission:function(a){return[9,10,11,12].indexOf(a)>-1||["VOICE_OVER_PPT_COACHING","VIDEO_PITCH_COACHING","TASK_EVALUATION_COACHING","SCREEN_CAPTURE_COACHING"].indexOf(a)>-1},getRemainingReAttempsForLearner:function(a,b,c){return a+=1,c&&"undefined"!=c?a+=c:"undefined"!=typeof courseInfo&&courseInfo.user&&(a+=courseInfo.user.graceReattempts),b>a?0:a-b},isCourseActiveForLearner:function(a){if(appSettings.isPreview)return!0;var b=(new Date).getTime()/1e3;return!(null!=a.fixed.startTime&&a.fixed.startTime>0&&b<a.fixed.startTime)&&(!(a.settings.timeLimit>0&&a.user.timeoutTime-Math.ceil(NTP.fixTime()/1e3)<0)&&(!(a.settings.timeLimit&&a.settings.timeLimit>0&&a.fixed.remainingTimeInSeconds<1)&&(0==a.fixed.dueDateObj.dueOn||!("NONE"!=a.fixed.dueDateObj.dueDateExpiryAction&&b>a.fixed.dueDateObj.dueOn))))},isCourseTimeOver:function(a,b){return a>0&&!Utils.Func.getClock(b).active},getClock:function(a){var b=1e3*a,c=Math.floor(b/36e5),d=Math.floor(b%36e5/6e4),e=Math.floor(b%36e4%6e4/1e3),f=(c<10?"0"+c:c)+":"+(d<10?"0"+d:d)+":"+(e<10?"0"+e:e),g=(60*c+d<10?"0"+(60*c+d):60*c+d)+":"+(e<10?"0"+e:e)+"m",h=(60*c+d<10?"0"+(60*c+d):60*c+d)+":"+(e<10?"0"+e:e)+" m",i=(60*c+d<10?"0"+(60*c+d):60*c+d)+":"+(e<10?"0"+e:e);return{hours:c,minutes:d,seconds:e,hhmmss:f,mmss:g,mmss2:h,mmssWithoutPrefix:i,active:a>=0&&(0!=c||0!=d||0!=e),isRed:c<1&&d<10}},handleErrorResponse:function(a,b,c){try{var d;if(d="string"==typeof b||b instanceof String?JSON.parse(b):b,403==a&&d.error&&"FORBIDDEN_SEQ_UNLOCKING"==d.error)return Utils.Func.loadEntityError(d),void(window.isErrorPopUpShow=!0);if(404==a&&"SERVER_MAINTENENCE"==d.errorCode)return void Utils.Func.alert("Site is under maintenence",function(){location.reload(!0)})}catch(e){c||(c="Unknown"),console.log("Generic Network Handler url=",c," Stack Trace",e)}if(!window.isErrorPopUpShow){if(window.isErrorPopUpShow=!0,"invalid session"==b||"learner not authenticated"==b)Utils.Func.alert(Game.Messages.SESSION_OUT,function(){location.reload(!0)});else if("learner not active"==b)Utils.Func.alert(Game.Messages.LB_DEACTIVATED_LEARNER,function(){location.reload(!0)});else if("entity learner upgraded"==b){var f=Utils.Func.getContentTypeName();Utils.Func.alertCustom(_.template(Game.Messages.LB_UGRADED_ENTITY)({type:f}),function(){"Assessment"==f?(location.hash="/"+courseInfo.fixed.id,window.isErrorPopUpShow=!1):location.reload(!0)},Game.Messages.REFRESH_NOW)}else if("entity_reset_progress_start"==b){var f=Utils.Func.getContentTypeName();Utils.Func.alertCustom(_.template(Game.Messages.LB_RESET_ENTITY_WITH_START)({type:f}),function(){location.hash="/"+courseInfo.fixed.id,window.isErrorPopUpShow=!1},Game.Messages.REFRESH_NOW)}else if("entity learner not active"==b||"Inactive entity learner"==b)location.hash="/courses";else if("learning site currently inactive"==b)Utils.Func.alertCustom(Game.Messages.HM_INACTIVE_LS_HEADING,function(){location.reload(!0)},Game.Messages.REFRESH_NOW);else if("learning site currently under maintenance"==b)Utils.Func.alertCustom(Game.Messages.HM_MAINTENANCE_LS_HEADING,function(){location.reload(!0)},Game.Messages.REFRESH_NOW);else if("old version"==b){var g=document.createElement("div");g.style.position="fixed",g.style.backgroundColor="white",g.style.height="100%",g.style.width="100%",g.style.top="0px",document.body.appendChild(g),Utils.Func.alertCustom(Game.Messages.HM_OLD_VERSION_RELOAD,function(){location.reload(!0)},Game.Messages.REFRESH_NOW)}window.isErrorPopUpShow=!1}},trackError:function(a){var b=a.status,c=a.url,d=a.headers;Game.MixPanelTracking.track("page_error_viewed",{error_code:b||-1,request_id:d&&(d("request-id")||d("Request-Id")),response_status_code:b,api_url:c,api_status:b,api_time:d&&(d("X-Request-Time")||d("x-request-time"))})},isPartnerTraining:function(){var a=!1;return companySettings&&companySettings.lsSettings&&"PARTNER_TRAINING"==companySettings.lsSettings.lsType&&(a=!0),a},isParticipantsDisabled:function(){return"undefined"!=typeof companySettings&&1==companySettings.disableParticipants||"undefined"!=typeof companySettings&&companySettings.extra_config&&companySettings.extra_config.disableParticipants&&(1==companySettings.extra_config.disableParticipants||"true"==companySettings.extra_config.disableParticipants)},markPlatformMessage:function(a){$("#"+a).slideUp(),$.ajax({type:"GET",url:"/update_platform_msg_state",data:{time:(new Date).getTime()/1e3},success:function(a){}})},storeLearnerLsView:function(a,b){b||(b="CLASSIC"),$("#"+a).slideUp(),$.ajax({type:"GET",url:"/update_platform_msg_state?lsView="+b,data:{time:(new Date).getTime()/1e3},success:function(a){window.location.reload(!0)}})},getContentTypeName:function(){if("undefined"!=typeof courseInfo&&courseInfo.fixed){if(2==courseInfo.fixed.mtentityType)return"Course";if(3==courseInfo.fixed.mtentityType)return"Q-Update";if(4==courseInfo.fixed.mtentityType)return"Mission";if(5==courseInfo.fixed.mtentityType)return"Assessment";if(6==courseInfo.fixed.mtentityType)return"Coaching Session";if(13==courseInfo.fixed.mtentityType)return"Coaching Session";if(7==courseInfo.fixed.mtentityType)return"Checklist";if(8==courseInfo.fixed.mtentityType)return"ILT"}return"NA"},getCompletionStateText:function(a,b){return null==a||""==a?"":Utils.Func.isNewDesignLanguage()&&b&&"PASS"==a?Game.Messages.LB_TXT_CERTIFIED:Game.Messages[a]},getDayOfMonthSuffix:function(a){if(a<1||a>31)return"";if(a>=11&&a<=13)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},goBackAngular:function(a,b){b.get("beforeSearchState")?b.go("beforeSearchState",{reload:!0}):b.get()&&b.get().state.name.indexOf("search")===-1?b.go():(a.current.name.indexOf("root.courses")!==-1&&a.go("root.courses.recents"),a.current.name.indexOf("root.contents")!==-1&&a.go(".",{query:void 0},{reload:!0}),a.current.name.indexOf("root.participants")!==-1?a.go(".",{query:void 0},{reload:!0}):a.go("root.courses.recents"))},sortArrayOnAField:function(a,b){b||(b="name");var c=angular.copy(a);return c=a.sort(function(a,c){if("string"==typeof a[b]){if(a[b].toLowerCase()>c[b].toLowerCase())return 1;if(a[b].toLowerCase()<c[b].toLowerCase())return-1}else if("number"==typeof a[b]){if(a[b]>c[b])return 1;if(a[b]<c[b])return-1}return 0})},showReviewsTab:function(){return(!appSettings||!appSettings.isPreview)&&!!(companyUser.reviewStats&&companyUser.reviewStats.assigned>0)},showOtherTabs:function(){return!(Utils.Func.showReviewsTab()&&companyUser.numSeriesInLearningBoard<1)},getTimezoneName:function(a){for(var b=null,c=Utils.Func.getTimezones(),d=0;d<c.length;d++)if(a==c[d].val){b=c[d].text;break}return b},getNewTimezoneName:function(a){return mtTimezones.find(function(b){return b.id==a}).name},getTimezones:function(){var a=[];return a.push({val:-720,text:"(GMT-12:00) Dateline Standard Time"}),a.push({val:-660,text:"(GMT-11:00) Samoa Standard Time"}),a.push({val:-600,text:"(GMT-10:00) Hawaiian Standard Time"}),a.push({val:-540,text:"(GMT-09:00) Alaskan Standard Time"}),a.push({val:-480,text:"(GMT-08:00) Pacific Standard Time"}),a.push({val:-420,text:"(GMT-07:00) Mountain Standard Time"}),a.push({val:-360,text:"(GMT-06:00) Central Standard Time"}),a.push({val:-300,text:"(GMT-05:00) Eastern Standard Time"}),a.push({val:-240,text:"(GMT-04:00) Atlantic Standard Time"}),a.push({val:-210,text:"(GMT-03:30) Newfoundland and Labrador Standard Time"}),a.push({val:-180,text:"(GMT-03:00) S.A. Eastern Standard Time"}),a.push({val:-120,text:"(GMT-02:00) Mid-Atlantic Standard Time"}),a.push({val:-60,text:"(GMT-01:00) Azores Standard Time"}),a.push({val:0,text:"(GMT) GMT Standard Time"}),a.push({val:60,text:"(GMT+01:00) Central Europe Standard Time"}),a.push({val:120,text:"(GMT+02:00) Eastern Europe Standard Time"}),a.push({val:180,text:"(GMT+03:00) Arab,Russian Standard Time"}),a.push({val:210,text:"(GMT+03:30) Iran Standard Time"}),a.push({val:240,text:"(GMT+04:00) Arabian Standard Time"}),a.push({val:270,text:"(GMT+04:30) Transitional Islamic State of Afghanistan Standard Time"}),a.push({val:300,text:"(GMT+05:00) West Asia Standard Time"}),a.push({val:330,text:"(GMT+05:30) India Standard Time"}),a.push({val:345,text:"(GMT+05:45) Nepal Standard Time"}),a.push({val:360,text:"(GMT+06:00) Central Asia Standard Time"}),a.push({val:390,text:"(GMT+06:30) Myanmar Standard Time"}),a.push({val:420,text:"(GMT+07:00) S.E./North Asia Standard Time"}),a.push({val:480,text:"(GMT+08:00) China/Singapore Standard Time"}),a.push({val:540,text:"(GMT+09:00) Korea/Tokyo Standard Time"}),a.push({val:570,text:"(GMT+09:30) Central Australia Standard Time"}),a.push({val:600,text:"(GMT+10:00) Eastern Australia Standard Time"}),a.push({val:660,text:"(GMT+11:00) Central Pacific Standard Time"}),a.push({val:720,text:"(GMT+12:00) New Zealand/Fiji Islands Standard Time"}),a.push({val:780,text:"(GMT+13:00) Tonga Standard Time"}),a},generateChecksum:function(a){var b="";if("object"==typeof a)for(var c=0;c<a.length;c++)b+=String(a[c]);else b+=String(a);var d=new jsSHA("SHA-256","TEXT");return d.update(b),d.getHash("HEX")},getHourMinuteWithAMPM:function(a){var b=a.getHours()>12?a.getHours()-12:a.getHours(),c=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes(),d=a.getHours()>=12?"pm":"am";return b=b<10?"0"+b:b,b+":"+c+" "+d},getMaintenanceTimeWindow:function(a,b){a=parseInt(a,10),b=parseInt(b,10);var c="";try{var d=new Date(parseInt(a,10)),e=new Date(parseInt(b,10));Date.prototype.dayOfYear=function(){var a=new Date(this);return a.setMonth(0,0),Math.round((this-a)/864e5)};var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"];if(d.dayOfYear()==e.dayOfYear()){c=" "+f[d.getDay()]+", "+g[d.getMonth()]+" "+d.getDate()+Utils.Func.getDayOfMonthSuffix(d.getDate())+", "+d.getFullYear(),c+=" between "+Utils.Func.getHourMinuteWithAMPM(d)+" to "+Utils.Func.getHourMinuteWithAMPM(e);var h=d.toString().match(/\(([A-Za-z\s].*)\)/),i="";if(null!=h)i=h[1];else try{i="GMT"+dt.getUTCOffset()}catch(j){i=""}c+=" "+i}}catch(j){}return c},getEntityTypeNameFromMtEntityType:function(a){a&&Object.keys(Utils.Func.entityType).find(function(b){return Utils.Func.entityType[b]==a})},getExitToSeriesButton:function(){var a=$('<div class="color0072bc F14 cursor"><div class="cursor floatR textalign_R txtDecoration exitToSeries">'+Game.Messages.EXIT_TO_SERIES+'</div><div class="clear"></div></div>');return a},generateAddToCalenderLinks:function(a,b,c,d,e,f,g,h,i,j){if(d){d.setHours(10),d.setMinutes(0),d.setSeconds(0),e.setHours(11),e.setMinutes(0),e.setSeconds(0),"ALL_DAY"!==f&&(g&&d.setHours(g),h&&d.setMinutes(h),i&&e.setHours(i),j&&e.setMinutes(j));var k=d.getUTCFullYear()+""+("0"+(d.getUTCMonth()+1)).slice(-2)+("0"+d.getUTCDate()).slice(-2),l=e.getUTCFullYear()+""+("0"+(e.getUTCMonth()+1)).slice(-2)+("0"+e.getUTCDate()).slice(-2);"ALL_DAY"===f?(e.setDate(e.getDate()+1),l=e.getUTCFullYear()+""+("0"+(e.getUTCMonth()+1)).slice(-2)+("0"+e.getUTCDate()).slice(-2)):(k+="T"+("0"+d.getUTCHours()).slice(-2)+("0"+d.getUTCMinutes()).slice(-2)+("0"+d.getUTCSeconds()).slice(-2)+"Z",l+="T"+("0"+e.getUTCHours()).slice(-2)+("0"+e.getUTCMinutes()).slice(-2)+("0"+e.getUTCSeconds()).slice(-2)+"Z");
var m={googleLink:"",msLink:""};return m.googleLink="https://www.google.com/calendar/render?action=TEMPLATE&text="+a+"&dates="+k+"/"+l+"&details="+b+"&sf=true&output=xml&add="+c,m.msLink="https://outlook.office365.com/owa/?path=/calendar/view/Month&rru=addevent&startdt="+k+"&enddt="+l+"&subject="+a+"&body="+b,m}},shuffleIntArray:function(a){for(var b,c,d=a.length;d>0;)c=Math.floor(Math.random()*d),d--,b=a[d],a[d]=a[c],a[c]=b;return a},isNextModulePopUpEnabled:function(){return!companySettings.extra_config||0!=companySettings.extra_config.showNextModulePopUp&&"false"!=companySettings.extra_config.showNextModulePopUp},gotoNextModule:function(a,b,c,d){$.modal.close();var e=a&&a.current&&a.current.name||c&&Utils.Func.getEntityTypeNameFromMtEntityType(c.mtEntityType);if(e&&(e=e.toLowerCase()),"LOCKED"===d.lockState){var f=function(){Game.MixPanelTracking.track("series_clicked",{series_id:b,from:"module_completion_popup",location:e}),a?a.go("root.courses.series",{series:b}):location.hash="/courses/series/"+b+"?series="+b},g=_.template(Game.Messages.SU_LOCKED_MODULE_WARNING)({a:d.name+" "});return void Utils.Func.confirm(g,f,Game.Messages.GO_TO_SERIES,Game.Messages.CANCEL)}Game.MixPanelTracking.track("click module",{location:"Module Completion Popup","Content Name":d.name,"Content ID":d.id,"Content Type":d.mtentityType}),Game.MixPanelTracking.track("module_clicked",{from:"module_completion_popup",location:e,series_id:b,module_id:d.id,module_name:d.name,module_type:d.mtentityType}),appSettings.fromNextModulePopUp=!0,a?a.go("root.courses.gamelanuch",{entityId:d.id}):location.hash="/"+d.id},showNextModulePopUp:function(a){var b=Utils.Func.getEntityTypeObjByNum(courseInfo.fixed.mtentityType),c=_.template(Game.Messages.TXT_YOU_HAVE_COMPLETED)({m:b.name});courseInfo.user.maxScore>0&&(c+=courseInfo.totalEmbeds&&courseInfo.totalEmbeds>0?". "+Game.Messages.TXT_YOUR_CURRENT_SCORE:". "+Game.Messages.TXT_YOUR_FINAL_SCORE);var d=-1;courseInfo.settings.certificateCutoffBadgeIndex>-1&&(d=courseInfo.settings.medals.badgeList[courseInfo.settings.certificateCutoffBadgeIndex].score);var e="",f="",g="";if(courseInfo.nextModuleInfo){e=courseInfo.nextModuleInfo.name;var h=Utils.Func.getEntityTypeObjByName(courseInfo.nextModuleInfo.mtentityType);f=h.iconS,g=h.shortKey}var i=$(_.template($("script#module_completion_popup").html().trim())({header:_.template(Game.Messages.TXT_MODULE_COMPLETED)({m:b.name}),completion_msg:c,myScore:courseInfo.user.totalScore,maxScore:courseInfo.user.maxScore,cutoff:d,btnTxt:Game.Messages.MSG_DOWNLOAD_CERT,mClass:f,mShortName:g,nMName:e,next:Game.Messages.NEXTQ_BTN_TXT,LATER_SCORE_EMBED_MISSION:_.template(Game.Messages.LATER_SCORE_EMBED_MISSION)({m:b.name})}));courseInfo.totalEmbeds&&courseInfo.totalEmbeds>0&&$(".embededLOLaterScore",i).show(),courseInfo.user.maxScore<1&&$(".scoreDetailsDiv",i).hide(),d<1&&$(".passingScoreDiv",i).hide(),courseInfo.user.certificateRecieved||$(".certificateDiv",i).hide(),courseInfo.nextModuleInfo?$(".nextModuleLink",i).click(function(){courseInfo.nextModuleInfo.lockState="UNLOCKED",Utils.Func.gotoNextModule(void 0,a,courseInfo.fixed,courseInfo.nextModuleInfo)}):$(".nextModuleLink",i).parent().remove(),2!=courseInfo.fixed.mtentityType?$(".moduleOverviewLink",i).parent().remove():$(".moduleOverviewLink",i).click(function(){$.modal.close(),location.hash="/"+courseInfo.fixed.id,Game.MixPanelTracking.track("go to module detail",{location:"Module Completion Popup","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,"Content Type":courseInfo.fixed.mtentityType})}),$(".moduleOverviewLink",i).text(Game.Messages.TXT_GOTO_COURSE_OVERVIEW),$(".seriesLink",i).text(Game.Messages.EXIT_TO_SERIES).click(function(){$.modal.close(),location.hash="/courses/series/"+a+"?series="+a,Game.MixPanelTracking.track("Click Series",{location:"Module Completion Popup",SeriesId:a})}),$.modal.close();var j={close:!1};i.modal(j)},showTimezoneSelection:function(){var a=$(_.template($("script#tmpl_user_timezone_selection").html().trim())({TZ_POPUP_HEADER:Game.Messages.TZ_POPUP_HEADER,TZ_POPUP_DESC_LINE1:Game.Messages.TZ_POPUP_DESC_LINE1,TZ_POPUP_DESC_LINE2:Game.Messages.TZ_POPUP_DESC_LINE2,TZ_POPUP_NOTE:Game.Messages.TZ_POPUP_NOTE,TZ_POPUP_TXT_CONFIRM:Game.Messages.TZ_POPUP_TXT_CONFIRM,TZ_POPUP_TXT_TIMEZONE:Game.Messages.TZ_POPUP_TXT_TIMEZONE}));b=[],mtTimezones.map(function(a){b.push({val:a.id,text:a.name,tooltip:!0,offset_minutes:a.offset/1e3/60})});var b=[];mtTimezones.map(function(a){b.push({val:a.id,text:a.name,tooltip:!0,offset_minutes:a.offset/1e3/60})});var c=new Utils.DropdownView($(".timezonesDD",a),b,null,(void 0),{sort:!1,search:!0}),d=Intl.DateTimeFormat().resolvedOptions().timeZone||"Etc/Greenwich";c.clickItemByVal(d);var e=!1;(new Backbone.View).listenTo(c,"item.clicked",function(){$(".okBtnContainer",a).removeClass("disable")}),$(".okBtnContainer",a).unbind("click").click(function(){if(!e&&c&&c.selectedItem){e=!0;var a={zone_name:c.selectedItem.val,zone_offset_minutes:c.selectedItem.offset_minutes};$.ajax({type:"POST",url:"/user/timezone",contentType:"application/json; charset=utf-8",data:JSON.stringify({timezoneOffset:(new Date).getTimezoneOffset()*-1,timezone_new:a}),success:function(b){companyUser.user.timezone_new=a,$.modal.close()},error:function(){alert("Unable to save timezone")}})}}),$.modal.close();var f={close:!1};a.modal(f)},resetPagePerformanceMetrics:function(a,b,c){window.pagePerformanceData={startTime:a?a:Date.now(),from:b?b:window.location.hash,to:c?c:null},console.log("resetPagePerformanceMetrics: ",window.pagePerformanceData)},sendPagePerformanceMetrics:function(a,b){if(window.pagePerformanceData&&window.pagePerformanceData.from!==window.pagePerformanceData.to){var c=window.pagePerformanceData&&window.pagePerformanceData.startTime?window.pagePerformanceData.startTime:0;Game.MixPanelTracking.track("page_load_view",{page_name:a,is_page_load:!!window.pagePerformanceData.from,perceived_page_load_time:Date.now()-c,dom_load_time:window.performance.timing.domComplete-window.performance.timing.requestStart,dom_interactive_time:window.performance.timing.domInteractive-window.performance.timing.requestStart,stream:b}),Utils.Func.resetPagePerformanceMetrics(null,window.pagePerformanceData.from,window.pagePerformanceData.from)}},getSearchFilters:function(a,b){var c=_.extend({},a,b||{});return delete c.$$uirouterextrasreload,c}}),Utils.DropdownView=Backbone.View.extend({constructor:function(a,b,c,d,e){this.conf=e||{sort:!1},this.el=a,this.items=b,this.msg=c,this.selectedItem=null,this.itemViews=[],this.currentHighlighted=0,this.lastHighlighted=0,this.top=1,this.bottom=5,this.disabled=d,Backbone.View.apply(this)},addSearchBox:function(){this.$("#dd_search_box").remove(),this.searchBox=$("<input/>").addClass("F13 color00 display_N").css({border:0,"font-weight":"normal",width:this.$("dt a").css("width")}),this.searchBox.attr("id","dd_search_box"),this.$("dt").prepend(this.searchBox)},initialize:function(){this.$("dd ul").empty(),this.conf.sort&&(this.items=Utils.Func.sortArrayOnAField(this.items,"text"));for(var a=0;a<this.items.length;a++){var b=new Utils.DropdownLi(this.items[a]);this.$("dd ul").append(b.render()),this.listenTo(b,"item.clicked",this.itemClicked),this.itemViews.push(b)}this.isDDHidden=!0,this.conf.search&&this.addSearchBox()},events:{click:"showDDMenu",keydown:"keyAction",input:"searchRegex"},searchRegex:function(a){a.stopPropagation(),a.stopImmediatePropagation();var b=this.$("dt input").val();if(void 0!==b)for(var c=new RegExp(Utils.Func.escapeRegExp(b.toLowerCase())),d=0;d<this.itemViews.length;d++)c.test(this.itemViews[d].el.innerText.toLowerCase())||!b?this.itemViews[d].$el.show():this.itemViews[d].$el.hide()},val:function(a){if("undefined"==typeof a)return this.selectedItem?this.selectedItem.val:"";for(var b=0;b<this.items.length;b++)if(isNaN(this.items[b].val)){if(this.items[b].val.toLowerCase()==a.toLowerCase()){this.itemClicked(this.items[b]);break}}else if(this.items[b].val==a){this.itemClicked(this.items[b]);break}},keyAction:function(a){a.stopPropagation(),a.stopImmediatePropagation();var b=a.keyCode||a.which;if(40==b){if(a.preventDefault(),this.isDDHidden)this.showDDMenu(a);else if(this.currentHighlighted<this.items.length&&(this.lastHighlighted=this.currentHighlighted,this.currentHighlighted+=1),this.itemViews[this.lastHighlighted-1]&&this.itemViews[this.lastHighlighted-1].highlight(!1),this.itemViews[this.currentHighlighted-1]&&this.itemViews[this.currentHighlighted-1].highlight(!0),this.currentHighlighted>this.bottom){var c=this.$("dd ul li:nth-child("+this.currentHighlighted+")").position();c&&this.$("dd ul").scrollTop(c.top),this.bottom+=1,this.top+=1}}else if(38==b){if(a.preventDefault(),this.isDDHidden||(this.lastHighlighted=this.currentHighlighted,this.currentHighlighted>1&&(this.currentHighlighted-=1),this.itemViews[this.lastHighlighted-1]&&this.itemViews[this.lastHighlighted-1].highlight(!1),this.itemViews[this.currentHighlighted-1]&&this.itemViews[this.currentHighlighted-1].highlight(!0)),this.currentHighlighted<this.top){var c=this.$("dd ul li:nth-child("+this.currentHighlighted+")").position();c&&this.$("dd ul").scrollTop(c.top),this.bottom-=1,this.top-=1}}else 13==b&&this.currentHighlighted>-1&&this.itemClicked(this.items[this.currentHighlighted-1])},showDDMenu:function(a){this.disabled||(a.stopPropagation(),this.isDDHidden&&$(a.target).closest("dd").length<1?(eventManager.triggerCloseTips(),this.$("dd ul").show(),this.isDDHidden=!1,this.listenTo(eventManager,Game.CONST.CLOSE_TIPS,this.hideDDMenu),this.conf.search&&(this.selectedItem?this.searchBox.attr("placeholder",this.selectedItem.text):this.searchBox.attr("placeholder",Game.Messages.SEARCH),this.searchBox.show(0).focus(),this.$("dt a").hide())):eventManager.triggerCloseTips())},hideDDMenu:function(){this.$("dd ul").hide(),this.isDDHidden=!0,this.stopListening(eventManager,Game.CONST.CLOSE_TIPS,this.hideDDMenu),this.conf.search&&(this.searchBox.hide(),this.$("dt a").show())},clickItemByVal:function(a){for(var b=0;b<this.items.length;b++){if(this.items[b].val.toLowerCase()==a.toLowerCase()){this.$("dt a").text(this.items[b].text),this.hideDDMenu(),this.selectedItem=this.items[b];break}if(2==this.items[b].type){this.$("dt a").text(Utils.Func.getNiceDate(this.items[b].val)),this.hideDDMenu(),this.selectedItem=this.items[b];break}}},itemClicked:function(a){this.selectedItem=a,this.$("dt a").text(a.text),this.hideDDMenu(),this.trigger("item.clicked",a)},delegateEvents:function(){Backbone.View.prototype.delegateEvents.call(this);for(var a=0;a<this.itemViews.length;a++)this.itemViews[a].delegateEvents()}}),Utils.DropdownLi=Backbone.View.extend({constructor:function(a){this.item=a,this.el=$("<li/>"),Backbone.View.apply(this),$("<a href='javascript:void(0);'/>").text(a.text).appendTo(this.$el),a.type&&1==a.type&&this.$el.addClass("bold ddHeading").css("font-size","13px"),a.tooltip&&this.$el.addClass("tooltip_bottom_left").attr("mtitle",a.text)},render:function(){return this.$el},events:{click:"clicked"},highlight:function(a){a?this.$el.addClass("highlight"):this.$el.removeClass("highlight")},clicked:function(){this.item.type&&1==this.item.type||this.trigger("item.clicked",this.item)}})}(),Utils.cookieStore=function(a,b){function c(a){try{var b=window[a],c="__storage_test__";return b.setItem(c,c),setTimeout(function(){b.removeItem(c)},400),!0}catch(d){return!1}}function d(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString();document.cookie=a+"="+b+e+"; path=/"}function e(a){for(var b=a+"=",c=document.cookie.split(";"),d=0,e=c.length;d<e;d++){for(var f=c[d];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(b))return f.substring(b.length,f.length)}return null}var f=!1;if(c("localStorage")&&(f=!0),"undefined"!=typeof b&&null!==b&&("object"==typeof b&&(b=JSON.stringify(b)),f?localStorage.setItem(a,b):d(a,b,30)),"undefined"==typeof b){f?data=localStorage.getItem(a):data=e(a);try{data=JSON.parse(data)}catch(g){data=data}return data}null===b&&(f?localStorage.removeItem(a):d(a,"",-1))},"undefined"!=typeof companySettings&&companySettings.disableParticipants&&(delete Utils.Func.TYPES_OF_SEARCH_TXT.PEER,delete Utils.Func.TYPE_OF_RESULT.USER,delete Utils.Func.TYPES_OF_SEARCH.PEER),Game=Game||{},Game.BERequestManager=Backbone.Model.extend({initialize:function(){this.set("numPending",0),this.set("numSuccess",0),this.set("numFailed",0),this.failedRequests=[],this.pendingRequests={},this.currReqId=0},ajaxComplete:function(a,b){this.set("numPending",this.get("numPending")-1),$.isFunction(a)&&a.call(window,b)},ajaxSuccess:function(a,b){this.set("numSuccess",this.get("numSuccess")+1),this.ajaxComplete(a,b)},ajaxFailed:function(a,b){this.set("numFailed",this.get("numFailed")+1),this.ajaxComplete(a,b)},ajaxWrapper:function(a){var b=a.success,c=a.error;return a.success=_.bind(this.ajaxSuccess,this,b),a.error=_.bind(this.ajaxFailed,this,c),this.set("numPending",this.get("numPending")+1),$.ajax(a)},loadActiveTickle:function(){alert("not implemented")},loadSolvedTickle:function(){alert("not implemented")},saveTickle:function(){alert("not implemented")},updateTickleRating:function(){alert("not implemented")},loadLandingPage:function(){alert("not implemented")}}),Game.AARequestManager=Game.BERequestManager.extend({constructor:function(a){this.entityId=a,Game.BERequestManager.apply(this)},setCourseId:function(a){},updateTickleRating:function(){alert("not implemented")},loadLandingPage:function(a,b){var c="/entity/"+a+"?_="+Date.now();return"undefined"!=typeof loadedFromParent&&(c+="&series="+loadedFromParent),this.ajaxWrapper({url:c,success:function(a){b.call(window,a)},error:function(b){Game.MixPanelTracking.track("Learning Site Errors",{contentID:a,seriesID:loadedFromParent,errorCode:b.status,errorMessage:b.statusText,errorType:"Unable to load landing page",location:"landing page"})}})},qEncode:function(a){var b=appSettings.sessionId+"t-*(b`.:#H$^[)7M^p&*@E]";if(""==b)return a;if(b.length<8)return a;var c=b.length<32?b.length:32,d=[],e=0;for(e=0;e<c;e++)d[e]=31&b.charCodeAt(e);var f=0,g=[];for(e=0;e<a.length;e++){var h=a.charCodeAt(e),i=224&h;g[e]=String.fromCharCode(0!==i?h^d[f]:h),f++,f=f==c?0:f}return g.join("")},loadTickle:function(a,b){var c=this;return this.ajaxWrapper({url:"/entity/"+this.entityId+"/"+b+"?_="+Date.now(),success:function(b){var d=c.qEncode(b),e={};try{e=$.parseJSON(d)}catch(f){e={}}a&&a.call(window,e,c.entityId)},error:function(a){c.entity||(c.entity={}),Game.MixPanelTracking.track("Learning Site Errors",{contentId:c.entity.id,contentName:c.entity.name,contentType:c.entity.type,seriesId:c.entity.seriesID,seriesName:c.entity.seriesName,requestId:a.getResponseHeader("Request-Id"),errorCode:a.status,errorMessage:a.statusText,errorType:"Unable to start entity",location:c.state?c.state.current.name:"NA"})}})},reEvaluateTickle:function(a,b,c){return this.ajaxWrapper({url:"/entity/"+c+"/reEvaluate",success:a,error:b})},saveTickle:function(a,b,c){var d=this,e=0!=c;d.currentSavingLOs||(d.currentSavingLOs=[]),d.isSavingLO=!0,d.currentSavingLOs.push(a.staticData.id);var f=[];if(a.stop){f.push(a.stop.staticInfo.id);var g=a.stop.level,h=g.stops.at(g.stops.indexOf(a.stop)+1);if(h)f.push(h.staticInfo.id);else for(var i=0;i<g.training.rounds.size();i++)for(var j=g.training.rounds.at(i),k=0;k<j.stops.size();k++){var l=j.stops.at(k);f.push(l.id)}}var m=(b.score||0,JSON.stringify(b)),n=Utils.Func.generateChecksum([learnerJson.id,cname,a.staticData.id,m]),o={learningObjectType:a.userData.type,learningObjectId:a.staticData.id,updatedFieldsAndValues:b,updatedFieldsAndValuesStr:m,getTopics:f,checksum:n,protocol:"v2"},p="_="+Date.now();return $.ajaxSettings&&$.ajaxSettings.data&&(p+="loadedEntityVersion="+$.ajaxSettings.data.loadedEntityVersion),"undefined"!=typeof courseInfo&&courseInfo.user&&(p+="&loadedEntityVersion="+courseInfo.user.version,p+="&reattemptVersion="+courseInfo.user.reattemptVersion),this.ajaxWrapper({url:"/entity/"+a.entityId+"/"+o.learningObjectId+"?"+p,type:"POST",async:e,contentType:"application/json; charset=utf-8",data:JSON.stringify(o),success:function(a){d.isSavingLO=!1;var b=_.indexOf(d.currentSavingLOs,o.learningObjectId);if(b!=-1&&d.currentSavingLOs.splice(b,1),window.courseInfo&&window.courseInfo.user){var c=!1;courseInfo.user.currentBadgeIdx!=a.userGamificationEntityVo.currentBadgeIdx&&(c=!0);var e=courseInfo.user.status;if(courseInfo.user=a.userGamificationEntityVo,mtBrodCastService.brodCast("CHANGED_SCORE"),c&&setTimeout(function(){eventManager.trigger("flip.medal")},700),courseInfo.user.status!=e&&"COMPLETED"==courseInfo.user.status){var f="Course";3==courseInfo.fixed.mtentityType&&(f="Quick Update"),Game.MixPanelTracking.track("Complete content",{"Content Type":f,"Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id})}}a.company_score&&(learnerJson.company_score=a.company_score,learnerJson.kscore=a.kscore,mtBrodCastService.brodCast("UPDATED_PROFILE",{learnerJson:learnerJson}),Modernizr.localstorage&&localStorage.setItem(kScoreUpdatedKey,learnerJson.company_score))},error:function(b){if(d.isSavingLO=!1,Game.MixPanelTracking.track("Learning Site Errors",{"request-id":b.getResponseHeader("request-id"),errorCode:b.status,errorMessage:b.statusText,contentId:"undefined"!=typeof courseInfo&&courseInfo.fixed&&courseInfo.fixed.id?courseInfo.fixed.id:void 0,contentName:"undefined"!=typeof courseInfo&&courseInfo.fixed&&courseInfo.fixed.name?courseInfo.fixed.name:void 0,seriesId:"undefined"!=typeof courseInfo&&void 0!==courseInfo.seriesVo?courseInfo.seriesVo.id:"",seriesName:"undefined"!=typeof courseInfo&&void 0!==courseInfo.seriesVo?courseInfo.seriesVo.name:"",playableId:"undefined"!=typeof courseInfo&&courseInfo.gData?courseInfo.gData.playableId:void 0,location:"Update Learning Object"}),Game.MixPanelTracking.track("_error_update_tickle",{loid:a.staticData.id,postData:m}),"invalid session"==b.responseText||"learner not authenticated"==b.responseText)Utils.Func.alert(Game.Messages.SESSION_OUT,function(){location.reload(!0)});else if("entity learner upgraded"==b.responseText){var c=Utils.Func.getContentTypeName();Utils.Func.alertCustom(_.template(Game.Messages.LB_UGRADED_ENTITY)({type:c}),function(){"Assessment"==c?(location.hash="/"+courseInfo.fixed.id,window.isErrorPopUpShow=!1):location.reload(!0)},Game.Messages.REFRESH_NOW)}else Utils.Func.alert("Error updating progress!",function(){window.location.reload(!0)});var e=_.indexOf(d.currentSavingLOs,o.learningObjectId);e!=-1&&d.currentSavingLOs.splice(e,1)}})},loadReportCard:function(){return this.ajaxWrapper({url:"/reportcard/"+this.entityId+"/"+learnerJson.id})},loadLearningObjects:function(a){return this.ajaxWrapper({url:"/reportcard/"+this.entityId+"/"+learnerJson.id+"/"+a})},addEntityToLearner:function(a,b){var c="/learner/addEntity?entity="+this.entityId+"&version="+a;return b&&"undefined"!=b&&(c+="&series="+b),this.ajaxWrapper({url:c,type:"POST",data:{time:(new Date).getTime()/1e3}})}}),Game.ReportRequestManager=Game.AARequestManager.extend({loadStatic:function(a,b,c){return this.ajaxWrapper({url:"/"+cname+"/reportcard/"+a+"/"+b,data:{Feature:c}})},loadTopicDetails:function(a,b,c,d){return this.ajaxWrapper({url:"/"+cname+"/reportcard/"+a+"/"+b+"/"+c,data:{Feature:d}})},loadTickle:function(a,b,c,d){var e="_="+Date.now();return d&&(e=e+"&reattemptVersion="+d),this.ajaxWrapper({url:"/"+cname+"/reportcard/user/"+b+"/entity/"+this.entityId+"/"+c+"?"+e,success:function(b){var c=b;try{}catch(d){c={}}a.call(window,c)}})},loadLevels:function(a,b,c){return this.ajaxWrapper({url:a+"level-getalllevels",data:{Feature:c}})},loadTopics:function(a,b,c){return this.ajaxWrapper({url:a+"level-1/topic-alltopics",data:{Feature:c}})},loadTickles:function(a,b,c,d,e){return this.ajaxWrapper({url:a+"topic-"+c+"/alltickles",data:{Feature:e}})}}),Game.SSRequestManager=Game.BERequestManager.extend({constructor:function(a,b){this.ssCourse=a,this.gameModel=b,this.learningObjects={},this.useranswers={},this.typeMap={101:"LO_LEARNING_CONTENT_EMPTY",102:"LO_HANGMAN",103:"LO_MCQ_TXT",104:"LO_MCQPOLL",112:"LO_MCQTEXTPOLL",105:"LO_MCQ_IMG",106:"LO_MIXMATCH",107:"LO_IMGMIXMATCH",108:"LO_MAP",109:"LO_TEXT",110:"LO_TRUEFALSE",122:"LO_EMBED",124:"LO_SYNDICATE",125:"LO_ASSETTED_MEDIA"},this.mediaTypeMap={70:"TEXT",80:"HANDOUT",81:"IMAGE",82:"ALBUM",83:"VIDEO",84:"EMBED",85:"SLIDESHARE",86:"BRAINSHARK",87:"SWF",88:"YOUTUBE",89:"ARCHIVE",90:"AUDIO",91:"IFRAME",92:"PREZI",93:"DOCUMENT_PDF",94:"DOCUMENT_PPT",95:"DOCUMENT_WORD",96:"DOCUMENT_XLS",99:"IMG_MASH_UP",400:"NOTE",612:"LOEMBEDURL"},this.GEState={type:"GAMIFICATION_ENTITY",userId:"36cde2ba8b6561ce",companyId:"test1",groupId:"0",gamificationEntityId:"537975096564917232",version:1,reattemptVersion:1,playableObjectId:"539431725165137227",playableObjectType:"COURSE",status:"IN_PROGRESS",totalCorrect:0,totalPartialCorrect:0,totalSkipped:0,totalWrong:0,totalScore:this.ssCourse.getTotalScore(),currentBadgeIdx:4,certificateRecieved:!1,totalLifelines:this.ssCourse.settingsModel.fixed.get("initialLifelifes"),totalUsedLifelines:0,active:!0,completedOn:0,percentageCompletion:6,totalLearningObjects:17,hangoutIds:[]},this.ssCourse.settingsModel.settings.get("timeLimit")>0&&(this.GEState.timeoutTime=Date.now()/1e3+this.ssCourse.settingsModel.settings.get("timeLimit"),this.GEState.status="COMPLETED"),Game.BERequestManager.apply(this)},loadLandingPage:function(a,b){var c=$.extend(!0,{},this.ssCourse.settingsModel.fixed.attributes),d=$.extend(!0,{},this.ssCourse.settingsModel.settings.attributes);if(c.isDiscussion=!1,c.isParticipants=!1,c.isNotifications=!1,c.isMessage=!1,c.isNewsfeeds=!1,c.isSupport=!1,c.isHallofFame=!1,null!=this.ssCourse.fixed.dueDate)if(c.dueDateObj={dueDateExpiryAction:this.ssCourse.fixed.dueDate.dueDateExpiryAction},"NONE"!=this.ssCourse.fixed.dueDate.dueDateType)if("NUM_MINUTES_AFTER_INVITATION"==this.ssCourse.fixed.dueDate.dueDateType){var e=Math.round((new Date).getTime()/1e3);c.dueDateObj.dueOn=e+86400*(this.ssCourse.fixed.dueDate.value/24/60)}else c.dueDateObj.dueOn=this.ssCourse.fixed.dueDate.value;else c.dueDateObj.dueOn=0;else c.dueDateObj={dueDateExpiryAction:"NONE",dueOn:0};for(var f={},g={},h={},i={},j=0;j<this.ssCourse.levels.size();j++){var k=this.ssCourse.levels.at(j),l=k.get("gameMap");f[l.id]=l.attributes;for(var m=0;m<k.stops.size();m++){var n=k.stops.at(m);g[n.attributes.id]=angular.copy(n.attributes),g[n.attributes.id].name=n.attributes.staticNode.obj.name,g[n.attributes.id].survey=n.attributes.staticNode.obj.survey,h[n.attributes.id]={activeChildIds:[],childrenType:"LEARNING_OBJECT",completedChildIds:[],lockedChildIds:[],state:"COMPLETED",type:"TOPIC"};for(var o=0;o<n.tickles.size();o++){h[n.attributes.id].completedChildIds.push(n.tickles.at(o).qId),this.learningObjects[n.tickles.at(o).qId]=n.tickles.at(o);var p=i[n.tickles.at(o).qId]={type:this.typeMap[n.tickles.at(o).type]};"LO_LEARNING_CONTENT_EMPTY"==p.type&&n.tickles.at(o).tickleObj.data.media&&(p.subtype=this.mediaTypeMap[n.tickles.at(o).tickleObj.data.media.type])}}}this.ssCourse.course.maxScore=this.ssCourse.getTotalScore();var q={GEState:this.GEState,gData:this.ssCourse.course,gameInfo:c,game_version:1,levels:this.ssCourse.levels.toJSON(),map_config:f,settings:d,topicStates:h,topics:g,loTypes:i};if(this.ssCourse.isQuickUpdate){d.medals={badgeList:[]};for(var r in g){q.topic=g[r];break}}b.call(window,q)},convertMediaFormat:function(a){},getUserTickleData:function(a,b){var c={playableObjectId:a,state:"IN_PROGRESS",score:0,lifelinesUsed:0,hintUsed:!1,likeDislikeState:"NEUTRAL",completionState:null};return"LO_LEARNING_CONTENT_EMPTY"==b?(c.playSequence=[],size=0):"LO_HANGMAN"==b||"LO_MCQ_TXT"==b||"LO_MCQ_IMG"==b||"LO_MIXMATCH"==b||"LO_IMGMIXMATCH"==b||"LO_MAP"==b||"LO_TRUEFALSE"==b?(c.lifelineAnswers=[],c.lifelineEliminations=[],c.correctAttempts=[],c.wrongAttempts=[],c.correctAnswers=[],c.wrongAnswers=[]):"LO_MCQPOLL"==b?c.selectedOption=[]:"LO_MCQTEXTPOLL"==b?c.submittedtext="":"LO_TEXT"==b&&(c.wrongAttempts=[],c.correctAttempt=null),c},loadTickle:function(a,b){if(this.learningObjects[b]){var c=$.extend(!0,{},this.learningObjects[b].tickleObj.data);if(c.type=this.typeMap[c.type],101!=c.type&&(c.textHint=c.staticNode.obj.textHint,c.numLifelines=c.staticNode.obj.numLifelines),c.allowSkip=c.staticNode.obj.allowSkip,c.media&&c.media.obj&&(c.media.obj.title=c.media.title,c.media=c.media.obj,c.media.type)){var d={80:"HANDOUT",81:"IMAGE",82:"ALBUM",83:"VIDEO",84:"EMBED",85:"SLIDESHARE",86:"BRAINSHARK",87:"SWF",88:"YOUTUBE",89:"ARCHIVE",90:"AUDIO",91:"IFRAME",92:"PREZI",93:"DOCUMENT_PDF",94:"DOCUMENT_PPT",95:"DOCUMENT_WORD",96:"DOCUMENT_XLS",99:"IMG_MASH_UP",400:"NOTE",612:"LOEMBEDURL"};c.media.type=d[c.media.type]}if("LO_LEARNING_CONTENT_EMPTY"==c.type&&c.media&&"ALBUM"==c.media.type){for(var e=[],f=0;f<c.media.imagesVoIds.length;f++)e.push(c.media.imagesVoIds[f].obj);c.media.imagesVoIds=e}if("LO_MCQ_IMG"==c.type){for(var g=[],f=0;f<c.options.length;f++)c.options[f].image&&c.options[f].image.obj&&(c.options[f].image.processed_path=c.options[f].image.obj.processed_path,g.push(c.options[f]));c.options=g}else if("LO_IMGMIXMATCH"==c.type){for(var g=[],f=0;f<c.images.length;f++)c.images[f].text&&c.images[f].img&&c.images[f].img.obj&&(c.images[f].processed_path=c.images[f].img.obj.processed_path,g.push(c.images[f]));c.images=g,c.shuffleList=_.shuffle(_.range(c.images.length))}else"LO_MAP"==c.type?c.mapId&&c.mapId.obj&&(c.mapId.processed_path=c.mapId.obj.processed_path):"LO_LEARNING_CONTENT_EMPTY"==c.type?c.scoring=c.contentScoring:"LO_MIXMATCH"==c.type&&(c.shuffleList=_.shuffle(_.range(c.options.length)));var h=this.learningObjects[b].factoArr;c.facto=[];for(var f=0;f<h.length;f++){var i=this.mediaTypeMap[h[f].type];if("TEXT"==i)c.facto.push($.extend({},h[f])),c.facto[c.facto.length-1].text=c.facto[c.facto.length-1].object;else if("ALBUM"==i){for(var e=[],j=0;j<h[f].obj.imagesVoIds.length;j++)e.push(h[f].obj.imagesVoIds[j].obj);h[f].obj.imagesVoIds=e,c.facto.push($.extend({},h[f].obj))}else c.facto.push($.extend({},h[f].obj));c.facto[c.facto.length-1].type=i}var k={contentScoring:this.ssCourse.settingsModel.settings.attributes.contentScoring,wrongAttempPanelty:this.ssCourse.settingsModel.settings.attributes.wrongAttempPanelty};a.call(window,{staticData:c,userData:this.getUserTickleData(c.id,c.type),gameSettings:k},0)}},loadActiveTickle:function(a,b,c,d,e){this.loadSolvedTickle(a,b,c,-1,e)},checkTextAnswer:function(a,b,c,d,e,f,g,h){return this.ajaxWrapper({url:top.game_base_url+"game/validateAnswer",type:"POST",data:{userAnswer:c,exactAnswer:e[0],thresold:f,noOfAttempts:d,maxScore:g,variantAnswers:h}})},saveTickle:function(a,b){var c=jQuery.Deferred(),d={userLearningObjectVo:b,updatedTopics:{},userGamificationEntityVo:this.GEState};if(a instanceof Game.TextTickle&&"SKIPPED"!=b.completionState){var e=[a.staticData.exactAnswer];a.staticData.isIncludeVariant&&(e=e.concat(a.staticData.variantAnswers)),$.ajax({url:"/"+cname+"/preview_lo",data:JSON.stringify({myanswer:b.currentAttempt,answers:e}),contentType:"application/json",type:"POST",success:function(e){var f=a.userData;e.percentMatch>=a.staticData.accuracy?(f.correctAttempt=b.currentAttempt,f.state="COMPLETED",f.completionState="CORRECT",f.score=Math.max(0,a.staticData.maxScore-f.wrongAttempts.length*courseInfo.settings.wrongAttempPanelty)):f.wrongAttempts.push(b.currentAttempt),f.wrongAttempts.length>=a.staticData.numWrong&&(f.state="COMPLETED",f.completionState="WRONG"),d.userLearningObjectVo=f,c.resolve(d)}})}else setTimeout(function(){c.resolve(d)},100);return c},loadUserLeaderBoard:function(){var a=jQuery.Deferred();return a.resolve('{"leaderBoardDetails":{"totalSkippedQuestionCount":1, "totalUnSolvedQuestionCount":1,totalSolvedQuestionCount:0,totalQuestionsCount:2}, "rankings":[]}'),a},addEntityToLearner:function(a,b){var c=jQuery.Deferred();return c.resolve({success:[],failed:[],exists:[{state:{current:"ACTIVE"}}]}),c},loadReportCard:function(){var a=jQuery.Deferred(),b={reportSummary:{levels:[],contentScoring:this.ssCourse.settingsModel.settings.attributes.contentScoring}};try{for(var c=0;c<this.ssCourse.levels.size();c++){for(var d=this.ssCourse.levels.at(c),e={id:d.get("id"),name:d.get("staticNode").obj.name,topics:[]},f=0;f<d.stops.size();f++){var g=d.stops.at(f);e.topics.push({id:g.get("id"),name:g.get("staticNode").obj.name,state:"COMPLETED"})}b.reportSummary.levels.push(e)}a.resolve(b)}catch(h){a.reject({responseText:JSON.stringify({error:"Error loading course outline!"})})}return a},loadLearningObjects:function(a){var b=jQuery.Deferred(),c={reportLearningObjects:[]};try{for(var d=0;d<this.ssCourse.levels.size();d++)for(var e=this.ssCourse.levels.at(d),f=0;f<e.stops.size();f++){var g=e.stops.at(f);if(g.get("id")==a)for(var h=0;h<g.tickles.size();h++){var i=g.tickles.at(h).tickleObj.data,j={id:g.tickles.at(h).qId},k={101:"LO_LEARNING_OBJECT",103:"LO_MCQ_TXT",105:"LO_MCQ_IMG",104:"LO_MCQPOLL",112:"LO_MCQTEXTPOLL",102:"LO_HANGMAN",106:"LO_MIXMATCH",107:"LO_IMGMIXMATCH",110:"LO_TRUEFALSE",108:"LO_MAP",109:"LO_TEXT",122:"LO_EMBED",125:"LO_ASSETTED_MEDIA"};if(k[i.type])if(j.type=k[i.type],"LO_LEARNING_OBJECT"==j.type&&i.media)switch(j.title=i.media.title,j.type=i.media.type,i.media.type){case 81:case 82:j.type="IMAGE";break;case 83:case 88:j.type="VIDEO";break;case 90:j.type="AUDIO";break;case 93:j.type="DOCUMENT_PDF";break;case 94:j.type="DOCUMENT_PPT";break;case 95:j.type="DOCUMENT_WORD";break;case 96:j.type="DOCUMENT_XLS";break;case 99:j.type="IMG_MASH_UP";break;case 400:j.type="NOTE";break;default:j.type="EMBED"}else"LO_EMBED"==j.type&&(j.title=i.media.title);j.state="COMPLETED",j.score=0,j.maxScore=i.maxScore,c.reportLearningObjects.push(j)}}b.resolve(c)}catch(l){b.reject({responseText:JSON.stringify({error:"Error loading learning objects!"})})}return b}}),angular.module("commonModule",["ui.bootstrap","mtTranslate","swfobject","timer","ui.bootstrap","infinite-scroll","ngCookies","ngAnimate","ab-base64","learnginBoardDirectives","ngQueue"]),angular.module("commonModule").filter("trustUrl",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}]).controller("MediaViewController",["$scope","$translate","$state","$stateParams","missionsService","mtHistory","$sce","base64",function(a,b,c,d,e,f,g,h){var i=[93,94,95,96],j=[81],k=[70],l=[89],m=[83,90];a.isVideoType=function(){return m.indexOf(a.media.type)!=-1},a.getZipUrl=function(){return g.trustAsResourceUrl(assetsBase+"/images/zip.png")},a.isCrocoDoc=function(){return a.currentMedia||(a.currentMedia=a.media),i.indexOf(a.media.type)!=-1},a.isImage=function(){return j.indexOf(a.media.type)!=-1},a.isText=function(){return k.indexOf(a.media.type)!=-1},a.isZip=function(){return l.indexOf(a.media.type)!=-1},a.getSecureText=function(a){return g.trustAsResourceUrl("data:text/html;base64,"+h.encode(a))},a.showMediaName=!1,a.getTrustedUrl=function(){var b=null;return a.media?(a.isImage()&&(b=a.media.obj.processed_path),a.isCrocoDoc()&&(b=a.media.obj.uuid),g.trustAsResourceUrl(b)):null},a.$watch("media",function(){setTimeout(function(){a.currentMedia=a.media,a.$evalAsync()},100)}),a.downloadMedia=function(){var b=a.media.processed_path||a.media.obj.original_path;window.open(b)},a.getMedia=function(){return a.media}}]).controller("offlineMissionViewController",["$scope","$translate","$state","$stateParams","missionsService","mtHistory","$sce","base64",function(a,b,c,d,e,f,g,h){function i(a){return(a+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")}var j=[93,94,95],k=[81],l=[96],m=[70],n=[89],o=[83,90];a.iframeId="offlineIframe",a.mediaIndex=0,a.maxIndex=a.submission.missionMedia.length-1,a.isVideoType=function(){return o.indexOf(a.submission.missionMedia[a.mediaIndex].type)!=-1},a.getZipUrl=function(){return g.trustAsResourceUrl(assetsBase+"/images/zip.png")},a.isXlsx=function(){return l.indexOf(a.submission.missionMedia[a.mediaIndex].type)!=-1},a.isCrocoDoc=function(){return j.indexOf(a.submission.missionMedia[a.mediaIndex].type)!=-1},a.isImage=function(){
return k.indexOf(a.submission.missionMedia[a.mediaIndex].type)!=-1},a.isText=function(){return m.indexOf(a.submission.missionMedia[a.mediaIndex].type)!=-1},a.isZip=function(){return n.indexOf(a.submission.missionMedia[a.mediaIndex].type)!=-1},a.getSecureText=function(a){return g.trustAsResourceUrl("data:text/html;base64,"+h.encode(a))},a.showMediaName=!1,a.loadIframe=function(){var b=document.getElementById(a.iframeId);b&&(b.src="javascript:'<html><body>"+i(a.getMedia().object)+"'")},a.hoverIn=function(){a.isText()&&a.showMediaName||($(".fade-out-title").css("opacity",1),a.showMediaName=!0,a.$evalAsync(),setTimeout(function(){a.showMediaName=!1,a.$evalAsync()},1e4))},a.hoverOut=function(){a.isText()&&!a.showMediaName||(a.showMediaName=!1,a.$evalAsync())},a.getTrustedUrl=function(){var b=null;return a.currentMedia?(a.isImage()&&(b=a.currentMedia.obj.processed_path),a.isCrocoDoc()&&(b=a.currentMedia.obj.uuid),g.trustAsResourceUrl(b)):null},a.getUrl=function(){},a.gotoPrevMedia=function(){a.mediaIndex<=0||(a.currentMedia=null,a.mediaIndex-=1,a.$evalAsync())},a.gotoNextMedia=function(){a.mediaIndex>=a.maxIndex||(a.currentMedia=null,a.mediaIndex+=1,a.$evalAsync())},a.$watch("currentMedia",function(){setTimeout(function(){a.currentMedia=a.submission.missionMedia&&a.submission.missionMedia[a.mediaIndex],a.$evalAsync()},100)}),a.$watch("submission",function(){a.currentMedia=null,a.mediaIndex=0,setTimeout(function(){a.currentMedia=a.submission.missionMedia&&a.submission.missionMedia[a.mediaIndex],a.$evalAsync()},100)}),a.downloadMedia=function(){var b=a.currentMedia.processed_path||a.currentMedia.obj.original_path;window.open(b)},a.currentMedia=a.submission.missionMedia[a.mediaIndex],a.getMedia=function(){return a.currentMedia}}]).controller("submissionsViewController",["$scope","$translate","$state","$stateParams","submissionsStore","mtHistory","$sce",function(a,b,c,d,e,f,g){var h=function(){a.submissions=e.getSubmissionsData(a.submissionsList,a.gameId,a.playableId,a.userId)};a.$watch("submissionsList",function(){h()})}]).controller("oldReviewsController",["$scope","$sce","submissionsStore",function(a,b,c){a.companySettings=window.companySettings,a.submission=a.submissions.submissionList[a.submissionId],a.assetsBase=assetsBase,a.olderSubmissionsIndex=a.$index,a.allReviewsDone=a.submission.reviewScore>0,a.atleastOneReviewDone=Object.keys(a.submission.reviewerIdReviewMap).length>0,"VIDEO_MISSION_LEARNER_SUBMSSION"==a.submission.type?a.videoPitch=!0:a.videoPitch=!1,a.getTrustedUrl=function(a){return b.trustAsResourceUrl(a)},a.media={media:a.submission.missionMedia[0],$resolved:!0};var d=0,e=0;for(var f in a.submission.reviewerIdReviewMap)"SUBMITTED"==a.submission.reviewerIdReviewMap[f].reviewState&&(d+=a.submission.reviewerIdReviewMap[f].score,e++);a.playerFilters={authors:[]};a.submission.reviewerIdReviewMap;for(var f in a.submission.reviewerIdReviewMap)"SUBMITTED"==a.submission.reviewerIdReviewMap[f].reviewState&&a.playerFilters.authors.push({id:a.submission.reviewerIdReviewMap[f].reviwerId});a.tabClicked=function(b){if("comment"===b){var c=a.$parent&&a.$parent.$parent&&a.$parent.$parent.$parent&&a.$parent.$parent.$parent.$parent;c&&a.trackMPEvent("manager video comments tab",c.miLearner.miObj["static"],c.miLearner.miLearner.missionLearner)}},a.trackMPEvent=function(a,b,c,d){d||(d={}),d.ContentId=b.id,d.ContentName=b.name,d.SeriesID=b.parentList[0].series,d.MissionType=b.missionLoType,d["Learner Name"]=c.user.name,d["Learner Id"]=c.user.id,Game.MixPanelTracking.track(a,d)},a.getSubmissionDateForReviewer=function(a){return Utils.Func.getNiceDate(a.timestamp)},0==e?(a.submission.reviewScore=0,a.submission.reviewCount=0):(a.submission.reviewScore=d/e,a.submission.reviewCount=e),a.submission.$resolved=!0,a.getNumReviewers=function(a){return a?a.length:0},a.downloadAttachment=function(a){var b=c.getMedia(a);b.$promise.then(function(a){var b=a.original_path||a.processed_path;window.open(b,"_self")},function(){Utils.Func.alert("Unable to download media, try again later.")})},a.evalParams=function(b,c){if(void 0===c){var d=0,e=0;for(var f in a.submission.reviewerIdReviewMap)"SUBMITTED"==a.submission.reviewerIdReviewMap[f].reviewState&&(d+=a.submission.reviewerIdReviewMap[f].evalParamIdxRatingMap[b],e++);return d/e}if(a.submission.reviewerIdReviewMap[c]){var g=a.submission.reviewerIdReviewMap[c];return g.evalParamIdxRatingMap[b]}return 0}}]).controller("evalParamRatingPartialController",["$scope","$translate","$state","$stateParams",function(a,b,c,d){if(a.getRatingClassName=function(b,c){var d="";return d=10*c%2==0?a.firsthalfRatingClass:a.secondhalfRatingClass,b/100>c?d:""},a.changeScore=function(b){if(a.stepConcrete&&b>0&&b%100!=0&&(b+=50),a.isReview&&!a.reviewed){if(a.biIndex&&a.biModel){var c=a.biIndex(a);a.biModel[c]=b}a.scoreValue=b,a.$evalAsync()}},"function"==typeof a.scoreValue&&(a.scoreValue=a.scoreValue(a)),a.reviewed){var e=a.biIndex(a);e&&(a.scoreValue=a.biModel[e])}}]).controller("evalParamBinaryPartialController",["$scope","$translate","$state","$stateParams",function(a,b,c,d){if(a.getScoreName=function(a){return 0===a?"No":100===a?"Remediation":500===a?"Yes":void 0},a.changeScore=function(b){if(a.isReview&&!a.reviewed){var c=a.biIndex(a);a.biModel[c]=b,a.scoreValue=b,a.$evalAsync()}},"function"==typeof a.scoreValue&&(a.scoreValue=a.scoreValue(a)),a.reviewed){var e=a.biIndex(a);e&&(a.scoreValue=a.biModel[e])}}]).controller("reviewerBarPartialController",["$scope","$translate","$state","$stateParams",function(a,b,c,d){a.getScoreName=function(a){return 0===a?"No":100===a?"Remediation":500===a?"Yes":void 0},a.changeScore=function(b){a.isReview&&!a.reviewed&&(a.ngModel=b,a.scoreValue=b,a.$evalAsync())},a.reviewed?a.scoreValue=a.biModel:a.changeScore(500),"function"==typeof a.scoreValue&&(a.scoreValue=a.scoreValue(a))}]).controller("audioLevelPartialController",["$scope",function(a){if(a.stream&&a.stream.id){a.decibelLevel=0,a.indicatorColor=a.indicatorColor||"#ccc";var b=0,c=0;window.AudioContext=window.AudioContext||window.webkitAudioContext,navigator.getUserMedia=navigator.webkitGetUserMedia||navigator.mozGetUserMedia,window.audioContext=window.audioContext||new AudioContext;var d=audioContext.createMediaStreamSource(a.stream),e=audioContext.createScriptProcessor(1024,1,1);d.connect(e),e.connect(audioContext.destination);var f;e.onaudioprocess=function(d){for(var e=d.inputBuffer.getChannelData(0),g=0,h=0,i=0;i<e.length;++i)h+=e[i]*e[i];if(g=Math.sqrt(h/e.length),b=Math.max(b,g),g=Math.max(g,c-.008),c=g,db=parseInt(Math.ceil(g/b*10)),a.decibelLevel=db,null==a.$$phase&&a.$apply(),!a.theme){if(f=f||angular.element("#canvasAudio")[0],!f)return;var j=f.getContext("2d");j.clearRect(0,0,f.width,f.height),j.fillStyle=a.indicatorColor,j.fillRect(0,10,f.width*(g/b),f.height-20)}}}}]).controller("raplayerController",["$scope","$sce","mediaService",function(a,b,c){function d(b){if(v=document.getElementById(a.commentContainerId+"-count")){var c=b?"("+b+")":"";v.innerHTML=c}}function e(){h&&h.length&&(j=1,k=document.getElementById(s),k.ontimeupdate=function(a){for(var b=0;b<h.length;b++){if(h[b].position/1e3>k.currentTime){if(0===b||j==h[b-1].slideNum)return;return j=h[b-1].slideNum,void angular.element(i).get(0).contentWindow.postMessage("page."+j,"*")}if(b===h.length-1&&j!==h[b].slideNum)return j=h[b].slideNum,void angular.element(i).get(0).contentWindow.postMessage("page."+j,"*")}},k.onended=function(){j=1,angular.element(i).get(0).contentWindow.postMessage("page.1","*")})}a.loadingImg=a.assetsBase+"/images/loading_light.gif",a.currentContainerId="ra-"+modalCounter;var f,g,h,i,j,k,l,m,n,o,p,q,r,s="ra-vid-"+modalCounter,t=!1,u={},v=document.getElementById(a.commentContainerId+"-count"),w=null;a.showSubtitles&&(w=a.subtitlesSrc,u.subtitles=!0),modalCounter++,a.checkingConversionVideo=!1,a.checkingConversionScreen=!1;var x=a.submission.refSocial&&a.submission.refSocial.id;a.filters&&a.filters.authors&&a.filters.authors.length||(x=void 0),p=a.$parent.$parent&&a.$parent.$parent&&a.$parent.$parent.$parent,p&&p.miLearner&&p.miLearner.miLearner&&p.miLearner.miLearner.missionLearner&&(r=p.miLearner.miLearner.missionLearner.user.name),p&&p.miLearner&&p.miLearner.miLearner&&(q=p.miLearner.miObj["static"].name),"undefined"!=typeof courseInfo&&(q=courseInfo.fixed.name),83==a.submission.missionMedia[0].type?(f=c.checkMediaStatus(a.submission.missionMedia[0].object),a.checkingConversionVideo=!0,o="VIDEO_PITCH"):[98,100].indexOf(a.submission.missionMedia[0].type)>-1?(a.submission.missionMedia[0].obj.video&&(f=c.checkMediaStatus(a.submission.missionMedia[0].obj.video.object),a.checkingConversionVideo=!0),g=c.checkMediaStatus(a.submission.missionMedia[0].obj.screen.object),a.checkingConversionScreen=!0,o="VOICE_OVER_PPT"):97==a.submission.missionMedia[0].type&&(a.checkingConversionVideo=!0,t=!0,u={fullScreen:!1},a.pptMedia=a.submission.missionMedia[0].obj.ppt.obj,a.pdfId=a.submission.missionMedia[0].obj.id||a.pptMedia.id,h=a.submission.missionMedia[0].obj.voiceOverData,i="#pdf_iframe_"+a.pdfId,f=c.checkMediaStatus(a.submission.missionMedia[0].obj.audio.object),o="SCREEN_CAPTURE"),f&&f.then(function(){a.checkingConversionVideo=!1}),g&&g.then(function(){a.checkingConversionScreen=!1}),l=c.getTracks(a.submission.missionMedia[0]),a.api&&(a.api.pause=function(){});var y=setInterval(function(){if(!a.checkingConversionVideo&&!a.checkingConversionScreen){clearInterval(y);var b=!1;if(localStorage&&a.isAddingCommentAllowed){var c=localStorage.getItem("__ras");c||(b=!0),localStorage.setItem("__ras",!0)}b=!1;var f={cname:cname,socialId:x,subjectId:a.submission.submissionId,learnerId:a.submission.userId,entityId:a.submission.gamificationEntityId,playableObjectId:a.submission.playableObjectId,author:learnerJson,userName:r,trackData:{contentId:a.submission.gamificationEntityId,learnerId:a.submission.userId,missionType:o,contentType:"Mission",contentName:q}},g={targetVideoContainer:a.currentContainerId,targetCommentContainer:a.commentContainerId,targetTranscriptionContainer:a.transcriptionContainerId,id:s,showControlsOnly:t,controlOptions:u,primaryTracks:l.primaryTracks,secondaryTracks:l.secondaryTracks,downloadSrc:a.downloadlink,subtitleTrackSrc:w,app:f,trackEvent:Game.MixPanelTracking,showOnboarding:b,edit:a.isAddingCommentAllowed,onRenderComplete:e,onCommentPaneRender:d,filter:a.filters},h={app:f,targetChartContainer:a.pitchContainerId};b&&v&&v.parentElement.click(),m=new RaPlayer.player(g),m.setup();var i=$("#"+a.pitchContainerId);i.length&&i.html(""),n=new RaPlayer.pitch(h),n.setup(),a.api&&!function(b){a.api.pause=function(){b.pause()}}(m)}},500);a.$on("$destroy",function(){m&&m.destroy(),n&&n.destroy(),a.api&&"function"==typeof a.api.pause&&a.api.pause()})}]).controller("missionMediaViewPartialController",["$scope","$sce",function(a,b){}]).controller("screenRecordingMediaViewPartialController",["$scope","$sce","$element","mediaService","$modal",function(a,b,c,d,e){function f(){if(!a.checkingConversionScreen&&!a.checkingConversionVideo){var b=c.find(".mediaClass");b.each(function(a){b.get(a).load()})}}if(a.hasVideo=!1,a.loadingImg=a.assetsBase+"/images/loading_light.gif",a.currentContainerId="media-view-container-"+modalCounter,modalCounter++,a.dragOptions={container:a.currentContainerId},a.uiStyles={nonToggle:{height:"381px",width:"672px",recordingScreenHeight:"351px"},fullScreenToggle:{height:"100%",width:"100%",recordingScreenHeight:"100%"}},a.missionMedia[0].obj.video){var g=d.checkMediaStatus(a.missionMedia[0].obj.video.object);a.checkingConversionVideo=!0,g&&g.then(function(){a.checkingConversionVideo=!1,a.videoUrl=a.missionMedia[0].obj.video&&a.missionMedia[0].obj.video.obj&&a.missionMedia[0].obj.video.obj.mp4Path?a.missionMedia[0].obj.video.obj.mp4Path:null,f()}),a.hasVideo=!0,a.$evalAsync()}var h={primaryMedia:0,secondaryMedia:0},i=setInterval(function(){var b=c.find(".primaryVideoContainer video")[0],d=c.find(".secondaryVideoContainer video")[0];b&&b.readyState&&(h.primaryMedia=1),d&&d.readyState&&(h.secondaryMedia=1),!h.primaryMedia||a.hasVideo&&!h.secondaryMedia||(clearInterval(i),console.log("metaloaded last"),a.metaLoaded=!0,setTimeout(function(){createSeekBar(c,a,e,!1)},100),a.$evalAsync())},500);a.checkingConversionScreen=!0;var j=d.checkMediaStatus(a.missionMedia[0].obj.screen.object),k=function(){a.checkingConversionScreen=!1,a.screenUrl=a.missionMedia[0].obj.screen&&a.missionMedia[0].obj.screen.obj&&a.missionMedia[0].obj.screen.obj.mp4Path?a.missionMedia[0].obj.screen.obj.mp4Path:null,f()};j.then(function(){a.missionMedia.isVideoProcessingDone=!0,k()},function(){k()}),a.isPlay=!1,a.isMute=!1,a.currentTime="00:00",a.$evalAsync(),a.$on("$destroy",function(){a.api&&a.api.pause()}),a.api&&(a.api.pause=function(){var b=c.find(".mediaClass");b.each(function(c){var d=b.get(c);d.pause(),a.isPlay=!1})})}]).controller("tagFilterCtrl",["$scope","$sce","commonService","$q",function(a,b,c,d){a.tagResource=c.getTags(a.series),a.menuPortal=document.body,a.noneTagLabelReact=Utils.Func.toTitleCase(Game.Messages.TAGS),a.tagReactStyle={container:function(a){return a.position="absolute",a.width="340",a}},a.tsbd=$(".tagSliderBigDiv").parent(),a.tagResource.resource.$promise.then(function(){var b=a.tagResource.tags;b.map(function(a){a.label=a.name,a.value=a.id});var c=document.getElementsByClassName("seriesTopPart")[0].clientWidth,d=function(){function a(b,c){var d=a.canvas||(a.canvas=document.createElement("canvas")),e=d.getContext("2d");e.font=c;var f=e.measureText(b);return f.width}for(var d="12px open sans",e=2,f=5,g=0,h=0,i=c-520;g<b.length;){var j=Math.min(180,a(b[g].name,d)+e)+f;if(!(h+j<=i))break;h+=j,g++}return g}();d<b.length&&(d--,a.isLargeContent=!0),b=b.sort(function(b,c){var d=a.selectedTags.indexOf(b.id)!==-1?0:1,e=a.selectedTags.indexOf(c.id)!==-1?0:1;return d-e}),a.customTagList=b.slice(0,d),a.searchableTagList=b.slice(d,b.length),a.filteredTagList=a.searchableTagList,a.initiallySelectedTags=a.searchableTagList.reduce(function(b,c){return a.selectedTags.indexOf(c.id)!==-1&&b.push(c.id),b},[]),a.dropdownSelectedTagList=a.initiallySelectedTags.slice(),a.resetDropdownSelected=function(){a.dropdownSelectedTagList=a.initiallySelectedTags.slice()},a.clearDropdownSelect=function(){a.dropdownSelectedTagList=[]},a.input={tagSearchText:""},a.$watch("input.tagSearchText",function(){a.filteredTagList=[],a.searchableTagList.forEach(function(b){b.name.toLowerCase().indexOf(a.input.tagSearchText.toLowerCase().trim())!==-1&&a.filteredTagList.push(b)})}),a.toggleDropdownSelectedTag=function(b){a.dropdownSelectedTagList.indexOf(b)!==-1?a.dropdownSelectedTagList=a.dropdownSelectedTagList.filter(function(a){return b!==a}):a.dropdownSelectedTagList.push(b)},a.isFocus=function(){setTimeout(function(){$(".focusMe").focus()},500)},a.applyTags=function(){if(Utils.Func.isNewDesignLanguage())return void a.selectTag(arguments[0]);var b=[],c={};a.initiallySelectedTags.forEach(function(a){c[a]=!0});var d={};a.dropdownSelectedTagList.forEach(function(a){d[a]=!0}),a.initiallySelectedTags.forEach(function(a){d[a]||b.push(a)}),a.dropdownSelectedTagList.forEach(function(a){c[a]||b.push(a)}),a.selectTag(b)}})}]).controller("tagSearchFilterController",["$scope",function(a){this.isNewDesignLanguage=Utils.Func.isNewDesignLanguage}]).controller("flashMissionMediaViewPartialController",["$scope","$sce","mediaService","$q",function(a,b,c,d){var e={$resolved:!1};83!==a.missionMedia[0].type&&90!==a.missionMedia[0].type||(a.videoPitch=!0,e=c.checkMediaStatus(a.missionMedia[0].object)),97===a.missionMedia[0].type&&(a.videoPitch=!1,a.pptMedia=a.missionMedia[0].obj.ppt.obj,a.pdfId=a.missionMedia[0].obj.id||a.pptMedia.id,a.heightStyle={height:"381px"},e=c.checkMediaStatus(a.missionMedia[0].obj.audio.object));var f=d.defer();a.media={$resolved:!1,$promise:f.promise};var g=function(){a.media.media=a.missionMedia[0],f.resolve(),a.media.$resolved=!0};e.then(function(){g(),a.missionMedia.isVideoProcessingDone=!0},function(){g()})}]);var modalCounter=0,pfx=["webkit","moz","ms","o","","MS"];angular.module("commonModule").directive("taskEvalMissionViewPartial",function(){return{restrict:"A",controller:"offlineMissionViewController",templateUrl:templateBaseUrl+"/common/task-eval-mission-view-partial.html"}}).directive("mtLoader",function(){return{restrict:"E",scope:{size:"@",type:"@",bgColor:"@",color:"@"},templateUrl:templateBaseUrl+"/common/mt-loader.html"}}).directive("emptyState",function(){return{restrict:"E",scope:{imgSrc:"@",messageTitle:"@",suggestionContent:"@"},link:function(a){a.imgBasePath=window.assetsBase+"/"},templateUrl:templateBaseUrl+"/common/empty-state.html"}}).directive("mediaView",function(){return{restrict:"A",controller:"MediaViewController",scope:{media:"="},templateUrl:templateBaseUrl+"/common/media-view.html"}}).directive("raplayerViewPartial",function(){return{restrict:"A",scope:{submission:"=submission",commentContainerId:"@commentContainerId",transcriptionContainerId:"@transcriptionContainerId",pitchContainerId:"@pitchContainerId",assetsBase:"=assetsBase",downloadlink:"=downloadlink",filters:"=filters",isAddingCommentAllowed:"=isAddingCommentAllowed",api:"=api",showSubtitles:"=showSubtitles",subtitlesSrc:"=subtitlesSrc"},templateUrl:templateBaseUrl+"/common/raplayer.html",controller:"raplayerController"}}).directive("submissionsViewPartial",function(){return{restrict:"A",controller:"submissionsViewController",scope:{evalParamType:"=evalParamType",evaluationParams:"=evaluationParams",submissionsList:"=submissionsList",gameId:"=gameId",playableId:"=playableId",userId:"=userId",submissionCutoff:"=submissionCutoff",numAddedReviewers:"=numAddedReviewers"},templateUrl:templateBaseUrl+"/common/submissions-view-partial.html"}}).directive("oldReviewDisplayPartial",function(){return{restrict:"A",templateUrl:templateBaseUrl+"/common/old-review-display-partial.html",link:function(a,b,c){a.olderSubmissionsIndex=c.oldReviewDisplayPartial},controller:"oldReviewsController",controllerAs:"oldreviews"}}).directive("tagFilter",function(){return{templateUrl:templateBaseUrl+"/common"+(Utils.Func.isNewDesignLanguage()?"/tags-new/":"/")+"tag-filter.html",controller:"tagFilterCtrl",scope:{series:"=",selectTag:"=",selectedTags:"="}}}).directive("tagSearchFilter",function(){return{templateUrl:templateBaseUrl+"/common/tag-search-filter.html",controller:"tagSearchFilterController",scope:{toggleTag:"=",isTagActive:"=",tagsList:"=",isNewDesignLanguage:"="}}}).directive("reviewerBarPartial",function(){return{restrict:"A",scope:{evaluationParams:"=evaluationParams",reviewerIdReviewMap:"=reviewerIdReviewMap",reviewers:"=reviewers",evalParamType:"=evalParamType"},templateUrl:templateBaseUrl+"/common/reviewer-bar-partial.html",controller:"reviewerBarPartialController",controllerAs:"reviewerBPC"}}).directive("audioLevelPartial",function(){return{restrict:"A",scope:{stream:"=stream",indicatorColor:"=indicatorColor",theme:"@"},templateUrl:templateBaseUrl+"/common/audio-level-partial.html",controller:"audioLevelPartialController"}}).directive("evalParamRatingPartial",function(){return{restrict:"A",scope:{scoreValue:"=score",firsthalfRatingClass:"=firsthalfRatingClass",secondhalfRatingClass:"=secondhalfRatingClass",isReview:"=isReview",reviewed:"=reviewed",biModel:"=biModel",biIndex:"&biIndex",stepConcrete:"=stepConcrete",isNA:"=isNa",guidanceEnabled:"=guidanceEnabled",guidance:"=guidance"},templateUrl:templateBaseUrl+"/common/eval-param-rating-partial.html",controller:"evalParamRatingPartialController",controllerAs:"evalPRPC"}}).directive("evalParamBinaryPartial",function(){return{restrict:"A",scope:{scoreValue:"=score",isReview:"=isReview",reviewed:"=reviewed",binaryType:"=binaryType",biModel:"=biModel",biIndex:"&biIndex"},templateUrl:templateBaseUrl+"/common/eval-param-binary-partial.html",controller:"evalParamBinaryPartialController",controllerAs:"evalPBPC"}}).directive("jwplayerMission",function(){var a=0;return function(b,c,d){a++;var e="mtng_jwmedia_"+a,f=d.controlIframeId,g=d.heightData||30;c.attr("id",e).html('<div style="line-height: '+g+'px;background: #000;color: #fff;text-align: center;" '+(g>100?'class="F20"':"")+'><img src="'+assetsBase+'/images/loading_light.gif"/>'+Game.Messages.M_TXT_PROCESSING+"</div>");var h=null,i=function(a){var b={media:{}};97==a.media.type?(b.media=a.media.obj.audio,b.voiceOverData=a.media.obj.voiceOverData):b=a;var c=[],d="mp4PathList";90!=a.media.obj.type&&97!=a.media.obj.type||(d="mp3PathList");var i=[];!b.media.obj[d]||b.media.obj[d].length<1?i.push(b.media.obj[d.substr(0,7)]):$.isArray(b.media.obj[d])&&(i=b.media.obj[d]);for(var j=0;j<i.length;j++){i[j]=i[j]||"/";var k=i[j].substr(i[j].lastIndexOf("/")+1);k=k.substr(0,k.indexOf(".")),c.push({file:i[j],label:k,type:d.substr(0,3)})}var l=[{image:b.media.obj.thumbPath,sources:c,mediaid:b.media.id}],m={height:g,width:"100%",autostart:!1,ga:{idstring:b.media.id,label:b.media.title},image:b.media.obj.thumbPath,playlist:l,controlbar:{position:"bottom"},primary:"html5",startparam:"start",skin:{name:"seven",active:"#faa651"}};if(c.length>0&&$("#"+e).length>0){$("#"+e).parent().addClass("fs-hide");var n;h=jwplayer(e).setup(m);var o=1;h.onTime(function(a){for(var c=0;c<b.voiceOverData.length;c++){if(b.voiceOverData[c].position/1e3>a.position){if(0===c||o==b.voiceOverData[c-1].slideNum)return;return o=b.voiceOverData[c-1].slideNum,void angular.element(f).get(0).contentWindow.postMessage("page."+o,"*")}if(c===b.voiceOverData.length-1&&o!==b.voiceOverData[c].slideNum)return o=b.voiceOverData[c].slideNum,void angular.element(f).get(0).contentWindow.postMessage("page."+o,"*")}}),h.on("seek",function(a){n=h.getState()}),h.on("seeked",function(){"paused"===n&&h.pause(!0)}),h.onComplete(function(){console.log("complete"),o=1,angular.element(f).get(0).contentWindow.postMessage("page.1","*")})}};b.$watch(d.jwplayerMission,function(a){a&&(a.$resolved?i(a):a.$promise.then(function(){i(a)}))}),b.$on("$destroy",function(){h&&h.remove()})}}).directive("jwplayerSimple",function(){var a=0;return function(b,c,d){a++;var e="mtng_jwmedia_simple_"+a,f=d.heightData||30;c.attr("id",e).html('<div style="line-height: 30px;background: #000;color: #fff;text-align: center;">'+Game.Messages.M_TXT_PROCESSING+"</div>");var g=null,h=function(a){var b=[],c="mp4PathList";90==a.obj.type&&(c="mp3PathList");var d=[];!a.obj[c]||a.obj[c].length<1?d.push(a.obj[c.substr(0,7)]):$.isArray(a.obj[c])&&(d=a.obj[c]);for(var h=0;h<d.length;h++){d[h]=d[h]||"/";var i=d[h].substr(d[h].lastIndexOf("/")+1);i=i.substr(0,i.indexOf(".")),b.push({file:d[h],label:i,type:c.substr(0,3)})}var j=[{image:a.obj.thumbPath,sources:b,mediaid:a.id}],k={height:f,width:"100%",autostart:!1,ga:{idstring:a.id,label:a.title},image:a.obj.thumbPath,playlist:j,controlbar:{position:"bottom"},primary:"html5",startparam:"start",skin:{name:"seven",active:"#faa651"}};b.length>0&&$("#"+e).length>0&&(g=jwplayer(e).setup(k))};b.$watch(d.jwplayerSimple,function(a){h(a)}),b.$on("$destroy",function(){g&&g.remove()})}}).directive("crocodoc",["$log",function(a){var b=1,c=1,d="",e=null,f=function(a,f,g){var h=function(a){if(console.log("ramta jogi page has changed :D ",a.data),a.data&&!(a.origin.toLowerCase().indexOf(d)<0)){var f=a.data.split(".");"A"==f[0]?(b=parseInt(f[1]),angular.isFunction(e)&&e(b)):"N"==f[0]&&(c=f[1])}};a.$watch(g.onPageChange,function(a){e=a}),g.$observe("ngSrc",function(a){if(a){var b=a;b=b.indexOf("://")>-1?b.split("/")[2]:b.split("/")[0]}}),window.addEventListener?window.addEventListener("message",h,!1):window.attachEvent("onmessage",h),a.$on("$destroy",function(){window.removeEventListener?window.removeEventListener("message",h,!1):window.detachEvent("onmessage",h)})};return{replace:!0,restrict:"A",link:f}}]).directive("pdfplayer",["$log",function(a){var b=1,c=1,d="",e=function(e,f,g){var h=g.dontShowNavigationControls,i=(g.scrolling,e.iframeClass,e.pdfMediaId||e.pdfMedia.id),j=e.pdfMedia.uuid+"&width=547&height=401";j=j.replace("crocodoc","pdfViewer"),"true"==h&&j.includes("dontshowbignavigation")===!1&&(j+="&dontshowbignavigation=true"),j+="&showPreviousViewOnLoad=false";var k="";k=e.pdfMedia.urls&&e.pdfMedia.urls.pdf?e.pdfMedia.urls.pdf:e.pdfMedia.original_path;var l=$('<form action="'+j+'" target="pdf_iframe_'+i+'" method="post" style="display:none;" id="pdf_iframe_form_'+i+'" name="pdf_iframe_form"></form>');$("<input type='hidden' />").attr("name","pdf").attr("value",k).appendTo(l);var m=angular.element("#pdf_iframe_"+i)[0];m&&m.remove();var n='<iframe class="pdf_iframe_class" id="pdf_iframe_'+i+'" name="pdf_iframe_'+i+'"></iframe>';this.iframe=$(n),this.iframe.attr({scrolling:"no"}).css({width:"100%",height:"100%"}),f.html(this.iframe),$(document.body).append(l),f.append("<div class='clear'></div>"),l.submit(),e.lastPage=null;var o=function(f){if(a.debug("pdfplayer page has changed :D ",f.data),f.data&&"string"==typeof f.data&&!(f.origin.toLowerCase().indexOf(d)<0)){var g=f.data.split(".");"A"==g[0]?(b=parseInt(g[1]),!angular.isFunction(e.onPageChange)||e.lastPage&&e.lastPage==b||(e.lastPage=b,e.onPageChange(b))):"N"==g[0]&&(c=g[1])}};g.$observe("ngSrc",function(a){if(a){var b=a;b=b.indexOf("://")>-1?b.split("/")[2]:b.split("/")[0]}}),window.addEventListener?window.addEventListener("message",o,!1):window.attachEvent("onmessage",o),e.$on("$destroy",function(){window.removeEventListener?window.removeEventListener("message",o,!1):window.detachEvent("onmessage",o)})};return{replace:!0,restrict:"A",scope:{pdfMedia:"=",onPageChange:"=",pdfMediaId:"="},link:e}}]).directive("compile",["$compile",function(a){return function(b,c,d){b.$watch(function(a){return a.$eval(d.compile)},function(d){c.html(d),a(c.contents())(b)})}}]).directive("missionMediaViewPartial",function(){return{restrict:"A",scope:{missionMedia:"=missionMedia",missionLoType:"=missionLoType",isVideo:"=isVideo",assetsBase:"=assetsBase",api:"="},templateUrl:templateBaseUrl+"/common/mission-media-view-partial.html",controller:"missionMediaViewPartialController"}}).directive("screenRecordingMediaViewPartial",function(){return{restrict:"A",scope:{missionMedia:"=missionMedia",missionLoType:"=missionLoType",isVideo:"=isVideo",assetsBase:"=assetsBase",api:"="},templateUrl:templateBaseUrl+"/common/screen-recording-media-view-partial.html",controller:"screenRecordingMediaViewPartialController"}}).directive("flashMissionMediaViewPartial",function(){return{restrict:"A",scope:{missionMedia:"=missionMedia",missionLoType:"=missionLoType",isVideo:"=isVideo"},templateUrl:templateBaseUrl+"/common/flash-mission-media-view-partial.html",controller:"flashMissionMediaViewPartialController"}}).directive("ngDraggable",["$document",function(a){return{restrict:"A",scope:{dragOptions:"=ngDraggable"},link:function(b,c,d){var e,f,g,h,i,j,k=0,l=0,m=c[0].offsetWidth,n=c[0].offsetHeight;g=b.dragOptions.start,i=b.dragOptions.drag,h=b.dragOptions.stop;var o,p=b.dragOptions.container;setTimeout(function(){function d(a){l=a.clientY-f,k=a.clientX-e,s(),a.stopPropagation(),i&&i(a)}function q(b){a.unbind("mousemove",r),a.unbind("mouseup",q),b.stopPropagation(),h&&h(b)}function r(a){o||(o=setTimeout(function(){o=null,d(a)},66))}function s(){j=document.getElementById(p).getBoundingClientRect(),j&&(k<0?k=0:k>j.width-m&&(k=j.width-m),l<0?l=0:l>j.height-2*n&&(l=j.height-2*n)),c.css({top:l+"px",left:k+"px"})}b.dragOptions&&p&&(j=document.getElementById(p).getBoundingClientRect()),c.on("mousedown",function(b){b.preventDefault(),e=b.clientX-c[0].offsetLeft,f=b.clientY-c[0].offsetTop,a.on("mousemove",r),a.on("mouseup",q),b.stopPropagation(),g&&g(b)})},300)}}}]).directive("evalParamUpdate",function(){return{restrict:"A",scope:{topicid:"=",lodata:"=",entityid:"=",version:"=",userid:"=",gelodata:"=",index:"=",savetext:"=",allowEdit:"=",reattemptVersion:"=",coachingSectionsUiStates:"=",isRemidiationSentInPrevCycles:"="},templateUrl:templateBaseUrl+"/reviews/evalParams.html",controller:"EvalUpdateController",controllerAs:"epCtrl"}}).directive("ddTextCollapse",["$compile",function(a){return{restrict:"A",scope:!0,link:function(b,c,d){b.collapsed=!1,b.toggle=function(){b.collapsed=!b.collapsed},d.$observe("ddTextCollapseText",function(e){var f=b.$eval(d.ddTextCollapseMaxLength),g=b.$eval(d.ddTextExpandCollapseType);if(g||(g=1),e.length>f){var h=String(e).substring(0,f),i=String(e),j=null,k=null,l=null,m=null,n=null;if(2==g||"2"==g){var o=$("<div/>");o.append(h),h=o.html(),j=a('<div ng-if="!collapsed" class="overriderListStyle custom-table-parent">'+h+'<span class="collapse-text-toggle cursor color0072bc" ng-click="toggle()">{{collapsed ? viewLess : viewMore}}</span></div>')(b),k=a('<div ng-if="collapsed" class="overriderListStyle custom-table-parent pos_abs bg_ff paddingB20" style="z-index: 10;width:100%">'+i+'<span class="collapse-text-toggle cursor color0072bc" ng-click="toggle()">{{collapsed ? viewLess : viewMore}}</span></div>')(b),l=a('<span ng-if="!collapsed"></span>')(b),m=a('<br ng-if="collapsed">')(b),b.viewMore=Game.Messages.M_VIEW_MORE,b.viewLess=Game.Messages.M_VIEW_LESS}else j=a('<div ng-if="!collapsed" class="overriderListStyle custom-table-parent">'+h+" ...</div>")(b),k=a('<div ng-if="collapsed" class="overriderListStyle custom-table-parent">'+i+"</div>")(b),l=a('<span ng-if="!collapsed"></span>')(b),m=a('<br ng-if="collapsed">')(b),b.viewMore=Game.Messages.M_VIEW_MORE,b.viewLess=Game.Messages.M_VIEW_LESS,n=a('<span class="collapse-text-toggle cursor color0072bc" ng-click="toggle()">{{collapsed ? viewLess : viewMore}}</span>')(b);c.empty(),c.append(j),c.append(k),c.append(l),c.append(m),null!=n&&c.append(n)}else c.empty(),c.append(e)})}}}]).directive("ddTextCollapseNew",["$compile",function(a){return{restrict:"A",scope:!0,link:function(b,c,d){b.collapsed=!1,b.toggle=function(){b.collapsed=!b.collapsed},d.$observe("ddTextCollapseText",function(e){var f=b.$eval(d.ddTextCollapseMaxLength),g=b.$eval(d.ddTextExpandCollapseType);if(g||(g=1),e.length>f){var h=String(e).substring(0,f),i=String(e),j=null,k=null,l=null,m=null,n=null;if(2==g||"2"==g){var o=$("<div/>");o.append(h),h=o.html(),j=a('<div ng-if="!collapsed" class="overriderListStyle custom-table-parent">'+h+'<span class="collapse-text-toggle cursor color0072bc" ng-click="toggle()">{{collapsed ? viewLess : viewMore}}</span></div>')(b),k=a('<div ng-if="collapsed" class="overriderListStyle custom-table-parent pos_abs bg_ff paddingB20" style="z-index: 10;width:100%">'+i+'<span class="collapse-text-toggle cursor color0072bc" ng-click="toggle()">{{collapsed ? viewLess : viewMore}}</span></div>')(b),l=a('<span ng-if="!collapsed"></span>')(b),m=a('<br ng-if="collapsed">')(b),b.viewMore=Game.Messages.M_VIEW_MORE,b.viewLess=Game.Messages.M_VIEW_LESS}else j=a('<div ng-if="!collapsed" class="overriderListStyle custom-table-parent">'+h+" ...</div>")(b),k=a('<div ng-if="collapsed" class="overriderListStyle custom-table-parent">'+i+"</div>")(b),l=a('<span ng-if="!collapsed"></span>')(b),m=a('<br ng-if="collapsed">')(b),b.viewMore=Game.Messages.M_VIEW_MORE,b.viewLess=Game.Messages.M_VIEW_LESS,n=a('<span class="collapse-text-toggle cursor color0072bc" ng-click="toggle()"><div class="floatL">{{collapsed ? viewLess : viewMore}}</div><div class="floatL marginL5 F8 marginT7" ng-class="{\'icon-downFillcaret\':!collapsed,\'icon-rightFillcaret\':collapsed}"></div></span>')(b);c.empty(),c.append(j),c.append(k),c.append(l),c.append(m),null!=n&&c.append(n)}else c.empty(),c.append(e)})}}}]).directive("mtScroll",["$window",function(a){return function(a,b,c){angular.element(b).bind("scroll",function(){var c=$(">div",b).width(),d=$(b).scrollLeft()+$(b).width();0==$(b).scrollLeft()?a.showLeftArrow=!1:(a.showLeftArrow=!0,a.showRightArrow=!0),d>=c&&(a.showRightArrow=!1),a.$evalAsync()})}}]).directive("mtUpload",["UploaderFactory",function(a){return{restrict:"A",link:function(b,c,d){var e=!1,f=d.type;b.$watch(d.mtUpload,function(b){if(b&&!e){var d=a.getUploaderById(b.config.uploadId,f);b.render({container:$(c),type:1,width:500,height:300,previewType:2,uploadObjInstance:d}),e=!0}}),b.$on("$destroy",function(){})}}}]).directive("noResultWithoutFilterPartial",function(){
return{template:"<div class='textalign_C color88' style='width:840px' ng-style='{width : ((!loading && totalCount === 0) || (!loading && max == 0)) ? \"auto\" : \"840px\"}'><div class='borderT100_transparent'><div class='noSearchResultImg' style='margin:0 auto 20px'></div><div class='F18 lineHeight30 marginT5 ng-scope' translate='NO_RESULT_FOUND'>No Results Found</div><div class='F13 lineHeight20 ng-scope' translate='TRY_ADJUSTING_YOUR_SEARCH'>Try adjusting your search</div></div></div>"}}).directive("noResultWithFilterPartial",function(){return{scope:{resetFilters:"=resetFilters"},template:"<div class='textalign_C' style='border-top: 100px solid transparent;'><div class='color88 noTagsDirectionImg' style='margin:0 auto 20px'></div><div class='color88 F20 lineHeight30 marginB2 ng-scope' translate='FILTERS_HAVE_LEAD_YOU_NOWHERE'>The filters have led you nowhere.</div><div class='color88 F13 lineHeight18'><span translate='TRY_ADJUSTING_YOUR_FILTER_OR'>Try adjusting your filters or</span><span class='cursor color0072bc ng-scope marginL5' translate='RESET_FILTERS' ng-click='resetFilters()'>Reset Filters</span></div></div>"}}),angular.module("commonModule").factory("commonService",["$log","$q","$resource","$timeout",function(a,b,c,d){function e(a){var b,c,d,e;b=atob(a.split("base64")[1].substr(1)),c=a.split("base64")[0].split(":")[1].split(";")[0],d=new ArrayBuffer(b.length),e=new Uint8Array(d);for(var f=0;f<b.length;f++)e[f]=b.charCodeAt(f);return new Blob([e],{type:c})}var f=c("",{cname:cname},{getTagsR:{url:"/mtelements/:seriesid/elements_tags",method:"GET",cache:!0}});return f.tagStore={series:{}},f.getTags=function(a){return f.tagStore.series[a]={resource:f.getTagsR({seriesid:a}),sortOrder:[]},f.tagStore.series[a].resource.$promise.then(function(b){f.tagStore.series[a].tags=[];for(var c=0;c<b.frequencies.length;c++){var d=b.frequencies[c]._1,e={frequency:b.frequencies[c]._2};e=_.extend({},e,b.tags[d]),f.tagStore.series[a].tags.push(e)}}),f.tagStore.series[a]},f.blobToDataUri=function(a){var b;return new Promise(function(c,d){b=new FileReader,b.onloadend=function(){var a=b.result;c(a)},b.onerror=function(a){d(a)},b.readAsDataURL(a)})},f.dataUriToBlob=function(a){var b;return new Promise(function(c,d){try{b=e(a),c(b)}catch(f){d(f)}})},f}]).factory("submissionsStore",["$log","$q","$resource","$timeout",function(a,b,c,d){var e=c("/:cname/reviews",{cname:cname},{getGlobalMedia:{url:"/"+cname+"/media/:mediaId",method:"GET",cache:!0},getSubmissionsBulk:{url:"/bulk/submissions",method:"POST",cache:!1},getKeywordsData:{url:"/:cname/submission/get_keywords_data",method:"POST",cache:!1}});return e.store={},e.store.submissions={},e.getSubmissionsData=function(a,b,c,d){for(var f={companyId:cname,list:[]},g=_.keys(a),h=0;h<g.length;h++){var i={submissionId:a[g[h]],playableId:c,gameId:b,userId:d};f.list.push(i)}return f.list=f.list.reverse(),e.getSubmissionsBulk({},f)},e.getMedia=function(a){return e.getGlobalMedia({mediaId:a,_:Date.now()})},e.getKeywordsDataForSubmission=function(a,b,c){var d={companyId:cname,submissionId:a,entityId:b,userId:c};return e.getKeywordsData({},d)},e}]).factory("mediaService",["$log","$q","$http","$resource","$timeout",function(a,b,c,d,e){var f=d("/:cname/",{cname:cname},{getMediaStatus:{url:"/:cname/media/:mediaId/status",cache:!1}}),g=function(a,b){c.get("/"+cname+"/media/"+b+"/status?_="+Date.now()).success(function(c){"PUBLISHABLE_PROCESSED"==c||"SUCCESS"==c||"PUBLISHABLE_PROCESSED_BUT_FULLCONVERT_FAILED"==c?a.resolve():"FAILED"==c?a.reject():setTimeout(function(){g(a,b)},2e3)}).error(function(){setTimeout(function(){g(a,b)},2e3)})};f.checkMediaStatus=function(a){var c=b.defer();return g(c,a),c.promise};var h=function(a,b){var c=[],d=[];if(!a||!b)return c;a[b]&&a[b].length?$.isArray(a[b])&&(c=a[b]):c.push(a[b.substr(0,7)]);for(var e=0;e<c.length;e++){var f=c[e].substr(c[e].lastIndexOf("/")+1);f=f.substr(0,f.indexOf(".")),d.push({src:c[e],label:f})}return d};return f.getTracks=function(a){var b,c,d,e=a.type;switch(e){case 83:d="mp4PathList",b=a.obj;break;case 98:case 100:d="mp4PathList",b=a.obj.screen&&a.obj.screen.obj,c=a.obj.video&&a.obj.video.obj;break;case 97:case 90:d="mp3PathList",b=a.obj.audio.obj}return{primaryTracks:h(b,d),secondaryTracks:h(c,d)}},f}]).factory("trackingEventService",function(){var a={EVENTS:{CANCEL_UPLOAD:"CancelUpload",RETRY_UPLOAD:"RetryUpload",SWITCH_TO_UPLOAD:"SwitchToUpload",SWITCH_TO_RECORD:"SwitchToRecord",UPLOAD_ERROR:"UploadError",UPLOAD_STARTED:"UploadStarted",UPLOAD_COMPLETED:"UploadCompleted"},DIMENSIONS:{CONTENT_ID:"Content Id"}};return window.TRACKING_EVENT_SERVICE=a,a}),angular.module("commonModule").factory("sessionSocket",["$state","$location",function(a,b){if(appSettings.userSession&&appSettings.userSession.url){var c,d=io(appSettings.userSession.url,{transports:["websocket","polling"]}),e=appSettings.sessionId+"-"+(new Date).getTime(),f=!1,g=appSettings.userSession.ping_interval?appSettings.userSession.ping_interval:6e4,h=appSettings.userSession.heartbeat_interval?appSettings.userSession.heartbeat_interval:3e5,i=appSettings.userSession.activity_timeout?appSettings.userSession.activity_timeout:18e5,j=function(){setInterval(function(){var a=Date.now();f&&a-c>=i&&(f=!1,console.log("setting session as inactive"))},g)},k=864e5,l=appSettings.userSession.num_days_week?appSettings.userSession.num_days_week:7,m=appSettings.userSession.num_days_month?appSettings.userSession.num_days_month:30,n={week:{time:0,numDays:l}};d.on("session_duration",function(a){a&&a.durations&&a.user==learnerJson.id&&a.cname==cname&&(a.durations.week&&a.durations.week.duration&&(n.week={time:a.durations.week.duration,numDays:l}),a.durations.month&&(a.durations.month.first_seen>0&&NTP.fixTime()-a.durations.month.first_seen>m*k?n.month={time:a.durations.month.duration,numDays:m}:n.month=void 0))});var o=function(){if(f){var b=angular.copy(a.params.entity),g=angular.copy(a.params.series);b&&b.id&&"object"==typeof b&&(b=b.id),g&&g.id&&"object"==typeof g&&(g=g.id),d.emit("session",{cname:cname,org_id:companySettings.orgId,session_id:e,user:learnerJson.id,entity:b,series:g,last_active:c})}},p=function(){setInterval(o,h)},q=function(){f=!0,c=Date.now(),o(),j(),p()},r=function(){f||(console.log("setting session as active"),f=!0,e=appSettings.sessionId+"-"+(new Date).getTime()),c=Date.now()};return d.getTotalTime=function(){return n},window.addEventListener("keypress",function(){r()},!1),window.addEventListener("mousemove",function(){r()},!1),window.addEventListener("load",function(){q()},!1),d}return null}]).run(["sessionSocket",function(a){console.log("sessionSocket loaded.")}]),angular.module("missions",["ui.bootstrap","mtTranslate","swfobject","timer","ui.bootstrap","infinite-scroll","ngCookies","commonModule","ui.tinymce"]),angular.module("missions").controller("missionsController",["$scope","$translate","$state","$stateParams","missionsService","mtHistory",function(a,b,c,d,e,f){if(companySettings.lsSettings.modulesUnderMaintenance&&companySettings.lsSettings.modulesUnderMaintenance.indexOf(4)>-1)return void(top.location.href="/ui/coaching/10/maintainence");"undefined"!=typeof Appcues&&Appcues.page(),a.minimal=!1,void 0==d.minimal&&null==d.minimal||(a.minimal=JSON.parse(d.minimal)),window.loadedFromParent=d.series,$.ajaxSettings&&$.ajaxSettings.data&&delete $.ajaxSettings.data.loadedEntityVersion,this.tab="practice",d.tab&&(this.tab=d.tab);var g=this;try{var h=document.createElement("script");h.setAttribute("id","dropboxjs"),h.setAttribute("data-app-key","oytq27dqbdikndc"),h.setAttribute("type","text/javascript"),h.setAttribute("src","https://www.dropbox.com/static/api/1/dropbox.js"),document.head.appendChild(h)}catch(i){console.log("error adding dropbox js"),Game.MixPanelTracking.track("_mission_dropbox_addition_failed",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id})}isMissionSupported||Utils.Func.alertCustom("'Missions' feature is not supported on this browser.<br/>Please switch to another browser for better experience.<br/>Example: Chrome, Firefox, Safari etc.",function(){"undefined"!=typeof courseInfo&&courseInfo.series?c.go("root.courses",{series:courseInfo.series.id}):c.go("root.courses")},"Back"),a.Game=Game,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var j=(Utils.Func.getFlashVersion().split(",").shift(),navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i));a.isIPad=function(){return j},a.loaderImg=assetsBase+"/images/ajax-loader.gif",a.loadingImg=assetsBase+"/images/loading_light.gif",a.recordingImg=assetsBase+"/images/recording.gif",a.nointernetImg=a.assetsBase+"/images/no-internet.gif",this.showGetSupport=function(){this.getSupport||(this.getSupport=new Game.GetSupport(learnerJson)),this.getSupport.render()},a.practice&&a.practice.fetchData.$resolved&&(this.showTopSubmission=!0),this.showTopSubmission=!1,g.scope=a}]).controller("practiceTabController",["$scope","$rootScope","$translate","$state","$stateParams","$sce","missionsService","UploadService","UploaderFactory","$timeout","$rootScope","$interval","$cookies","recordStatus","trackingEventService","$element","$q","$modal",function(a,b,c,d,e,f,g,h,i,j,b,k,l,m,n,o,p,q){function r(a){for(var b in a)return b}window.mtBrodCastService=angular.element(document.body).injector().get("mtBrodCast"),a.companySettings=window.companySettings,a.isHTML5MissionRecordingSupported=function(){return isHTML5MissionRecordingSupported},a.states={SELECT_UPLOAD_METHOD_STATE:-1,READY:0,UPLOAD_PPT:1,UPLOADING_PPT:2,RECORD_READY_STATE:3,UPLOADING_VIDEO:4,BROWSER_PERMISSION:5,PREPARING:6,COUNTDOWN_RUNNING:7,RECORDING:8,OFFLINE:9,PAUSED_OFFLINE:10,PAUSED_ONLINE:11,SAVING:12,PREVIEW_DRAFT:13,DRAFT_STATE:14,SUBMITTED_STATE:15,SUBMITTED_VIEW_PRESENTATION:16,ERROR_STATE:17,FLASH_PERMISSION_DENIED_STATE:18,TEM_UPLOAD_STATE:19,TEM_START_STATE:20,TEM_UPLOADED_STATE:21,GET_CAM_MIC_ACCESS:22,CHECKING_PLUGIN_STATE:23,INSTALL_PLUGIN_STATE:24,INSTALL_PLUGIN_STATE_DISABLED:25,PURIFY_STATE:26,UNSUPPORTED_BROWSER_STATE:27,GET_CAM_MIC_ERROR:28,SAVE_SUBMISSION:29,ERROR_STATE_MISSION:30,LOADING_PPT_STATE:31,TEM_UPLOADING_STATE:32,SELECT_DEVICES:33},a.changeState=function(c){var d=!1;b.isUploading=!1,c===a.states.RECORD_READY_STATE&&a.isUploadVideoFlow&&(a.currentState=a.states.UPLOADING_VIDEO,d=!0),c==a.states.BROWSER_PERMISSION?a.showClickBrowserPopup=!0:a.showClickBrowserPopup=!1,d||(a.currentState=c),a.$evalAsync(),a.practice&&a.practice.childScope&&(a.practice.childScope.currentState=a.currentState,setTimeout(function(){a.practice.childScope.$evalAsync()},10))},a.goToStart=function(b){b!==a.states.RECORD_READY_STATE||"VOICE_OVER_PPT"!==a.missionType||a.practice.fetchData.settings.pptUploadByAdmin||(b=a.states.UPLOAD_PPT),b===a.states.RECORD_READY_STATE&&a.isTEM&&(b=a.states.TEM_UPLOAD_STATE),a.changeState(b)};var s=function(){var a=p.defer();return a.resolve(null),a.promise};a.practiceTabObject={permissionStatesCheck:function(){return a.checkMissionState(),s()}},a.switchTo=function(b){var c;b===a.states.RECORD_READY_STATE?(a.practiceTabObject.permissionStatesCheck(),a.isUploadVideoFlow=!1,c=n.EVENTS.SWITCH_TO_RECORD):b===a.states.UPLOADING_VIDEO?(K(),a.isUploadVideoFlow=!0,c=n.EVENTS.SWITCH_TO_UPLOAD,a.changeState(b)):a.changeState(b),Game.MixPanelTracking.track(c,{"Content ID":e.entityId})},a.timeParam=Date.now(),a.nonNavigableStates=[a.states.UPLOADING_PPT,a.states.RECORDING,a.states.OFFLINE,a.states.PAUSED_OFFLINE,a.states.PAUSED_ONLINE,a.states.SAVING],a.changeState(a.states.READY),a.showPptMediaDiv=function(){},a.showReRecordControls=function(){a.isUploadVideoFlow&&(a.changeState(a.states.UPLOADING_VIDEO),K()),a.practiceTabObject.permissionStatesCheck()},a.showMissionMedia=function(){return(a.currentState==a.states.PREVIEW_DRAFT||a.currentState==a.states.SUBMITTED_STATE||a.currentState==a.states.DRAFT_STATE)&&a.submission&&a.submission.$resolved&&a.submission.missionMedia},a.checkIfShowPresentation=function(){return!(a.currentState===a.states.UPLOAD_PPT||a.currentState===a.states.UPLOADING_PPT||a.currentState!=a.states.RECORDING&&a.currentState!=a.states.RECORD_READY_STATE&&a.currentState!=a.states.COUNTDOWN_RUNNING&&a.currentState!=a.states.PREPARING&&a.currentState!=a.states.SUBMITTED_VIEW_PRESENTATION||a.loadingPptMedia||a.videoPitch||a.screenCapture)},a.getCountdownVoiceURL=function(a){return f.trustAsResourceUrl(assetsBase+"/libs/countdownVoices/"+a+".mp3")},a.getCountdownVoiceStartURL=function(){return f.trustAsResourceUrl(assetsBase+"/libs/countdownVoices/start.mp3")},a.$on("timer-tick",function(b,c){if(a.currentState===a.states.COUNTDOWN_RUNNING){if(a.audioCount=Math.floor(c.millis/1e3)-1,a.audioCount>0){var d=o.find('[data-count-down-number="'+a.audioCount+'"]')[0];d.play()}else if(0==a.audioCount){var d=o.find('[data-count-down-number="start"]')[0];d.play()}a.$evalAsync()}});var t=this,u=1e3;this.olderSubmissionsIndex=[],Utils.Func.pingAA(b,k,j),a.audioRecSwf="/assets/libs/AudioRec.swf",this.fetchData={$resolved:!1},t.hasPermissions=!1,a.fetchData=this.fetchData,a.isNetworkDown=!1,this.lastFetchCall=Date.now(),this.intervalRefresh=null,this.isOffline=!1,this.isTEM=!1,a.assetsBase=assetsBase,this.submissionsData=[],this.currentCallDataLength=0,a.currpage=1;var v=a;this.recordPageChange=function(c,d){try{if(d&&(v.localVoiceOverData=[],v.recordingStartTime=Date.now(),v.localVoiceOverData.push({slideNum:v.currpage,position:0})),v.currpage===c)return;if(v.currpage=c||v.currpage||1,!b.isRecording)return;var e=angular.element("#pitch-recording")[0];v.recordingStartTime||(v.recordingStartTime=Date.now()),v.videoPitch||(e&&e.startNextFrame&&e.startNextFrame(a.currpage),v.localVoiceOverData.push({slideNum:v.currpage,position:Date.now()-v.recordingStartTime})),console.log("Voice-Over Data so far: ",v.localVoiceOverData)}catch(f){if(a.currpage=c,!b.isRecording)return;var e=angular.element("#pitch-recording")[0];a.videoPitch||e.startNextFrame(a.currpage)}},a.goBack=function(){if(x()){var b;b=a.practice.fetchData.seriesVo?a.practice.fetchData.seriesVo.id:a.practice.fetchData.entityLearner.invited_from[a.practice.fetchData.entityLearner.invited_from.length-1],"undefined"!=typeof loadedFromParent&&_.indexOf(a.practice.fetchData.entityLearner.invited_from,loadedFromParent)!=-1&&(b=loadedFromParent),d.go("root.courses",{series:b})}},a.getDueDateText=Utils.Func.getDueDateText,a.isDueToday=Utils.Func.isDueTodayOrTomorrow,a.isNewDashboard=!1,a.getBackButtonName=function(){return"undefined"!=typeof appSettings&&appSettings.isPreview?"Exit Preview":!a.practice.fetchData.seriesVo||"_default"==a.practice.fetchData.entityLearner.invited_from[a.practice.fetchData.entityLearner.invited_from.length-1]||appSettings&&appSettings.isPreview?(a.isNewDashboard=!1,Game.Messages.MY_BOARD):("DASHBOARD"==companySettings.lsSettings.lsView&&(a.isNewDashboard=!0),a.practice.fetchData.seriesVo.name)},a.parseTime=function(a){if(0==a)return"";var b=Math.floor(a/60),c=Math.floor(a%60),d=(b>9?b:"0"+b)+":"+(c>9?""+c:"0"+c)+"m";return d},a.temEmailsText=a.temEmailsText||{};var w=function(a){var b=a.getElement().getAttribute("placeholder")||a.settings.placeholder,c=a.settings.placeholder_attrs||{style:{position:"absolute",top:"5px",left:0,color:"#888",padding:"1%",width:"98%",overflow:"hidden","white-space":"pre-wrap"}},d=a.getContentAreaContainer();tinymce.DOM.setStyle(d,"position","relative"),this.el=tinymce.DOM.add(d,"label",c,b)};w.prototype.hide=function(){tinymce.DOM.setStyle(this.el,"display","none")},w.prototype.show=function(){tinymce.DOM.setStyle(this.el,"display","")},a.uiState={tinyMCEOptions:{selector:"textarea",width:670,height:285,menubar:!1,statusbar:!1,theme_url:assetsBase+"/libs/themes/modern/theme.min.js",skin_url:assetsBase+"/libs/skins/mtskin",placeholder:"abra ka dabra",setup:function(a){a.on("init",function(){function b(){d.hide(),a.execCommand("mceFocus",!1)}function c(){""==a.getContent()?d.show():d.hide()}var d=new w(a);c(),tinymce.DOM.bind(d.el,"click",b),a.on("focus",b),a.on("blur",c),a.on("change",c),a.on("setContent",c)}),a.addButton("fontsizeselectCustom",function(){var b=[],c="8pt=1 10pt=2 12pt=3 14pt=4 18pt=5 24pt=6 36pt=7",d=a.settings.fontsize_formats||c;return a.$.each(d.split(" "),function(a,c){var d=c,e=c,f=c.split("=");f.length>1&&(d=f[0],e=f[1]),b.push({text:d,value:e})}),{type:"listbox",text:"Font Size",tooltip:"Font Size",values:b,fixedWidth:!0,onPostRender:function(){var b=this;a.on("NodeChange",function(){var c;c=a.dom.getParent(a.selection.getNode(),"font"),c?b.value(c.size):b.value("")})},onclick:function(b){b.control.settings.value&&a.execCommand("FontSize",!1,b.control.settings.value)}}}),a.addButton("fontselectCustom",function(){function b(a){a=a.replace(/;$/,"").split(";");for(var b=a.length;b--;)a[b]=a[b].split("=");return a}var c="Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Tahoma=tahoma,arial,helvetica,sans-serif;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;",d=[],e=b(a.settings.font_formats||c);return $.each(e,function(a,b){d.push({text:{raw:b[0]},value:b[1],textStyle:b[1].indexOf("dings")==-1?"font-family:"+b[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:d,fixedWidth:!0,onPostRender:function(){var b=this;a.on("NodeChange",function(){var c;c=a.dom.getParent(a.selection.getNode(),"font"),c?b.value(c.face):b.value("")})},onselect:function(b){b.control.settings.value&&a.execCommand("FontName",!1,b.control.settings.value)}}})},plugins:["advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table directionality","emoticons template paste textcolor colorpicker textpattern"],toolbar1:"fontsizeselectCustom | fontselectCustom | bold italic underline | bullist numlist outdent indent  | alignleft aligncenter alignright alignjustify | link |",image_advtab:!0,templates:[{title:"Test template 1",content:"Test 1"},{title:"Test template 2",content:"Test 2"}],content_css:["//fonts.googleapis.com/css?family=Lato:300,300i,400,400i","//www.tinymce.com/css/codepen.min.css",assetsBase+"/css/tinymce.css"],target_list:[{title:"New page",value:"_blank"}]}},b.hasConfirmedMigration=!1,a.isPptUploadOn=function(){return!t.fetchData.settings.pptUploadByAdmin&&0!=a.uiState.PPTUploader.state},a.hasDrafts=function(){return!!a.practice.fetchData.learningObject.userData.draftIdDraftMap&&Object.keys(a.practice.fetchData.learningObject.userData.draftIdDraftMap).length>0},a.isVideoUploadOn=function(){return a.uiState.VideoUploader&&0!=a.uiState.VideoUploader.state},a.isVideoPitch=function(){return"LO_VIDEO_MISSION"==a.practice.fetchData.learningObject.staticData.type},a.alertOffline=function(){a.changeState(a.states.PAUSED_OFFLINE),a.timerPaused=!0,$(".recording-timer")[0].stop(),a.$evalAsync(),Utils.Func.alertCustom(Game.Messages.ERROR_MISSION_OFFLINE,function(){},"OK")},a.retryCurrentUpload=function(){$(document).trigger("retryCurrentUpload")},a.cancelPausedRecording=function(){var b=angular.element("#pitch-recording")[0];a.timerPaused=!1,b.resetRecording(),a.changeState(a.states.RECORD_READY_STATE)},a.resumePausedRecording=function(){var a=angular.element("#pitch-recording")[0];a.resumeRecording()},a.alertOnline=function(){a.changeState(a.states.PAUSED_OFFLINE),a.$evalAsync(),Game.MixPanelTracking.track("_mission_online",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id})};var x=function(){return!(a.isVideoUploadOn()||a.isPptUploadOn())&&_.indexOf(a.nonNavigableStates,a.currentState)==-1};b.$on("$stateChangeStart",function(a,c,e,f,g){"mission"!==f.name||b.hasConfirmedMigration||(x()?(a.preventDefault(),b.hasConfirmedMigration=!0,d.go(c.name,e)):(a.preventDefault(),Utils.Func.confirm(Game.Messages.M_TXT_NAVIGATE_OUT_WARNING_DATA_LOSS,function(){b.hasConfirmedMigration=!0,d.go(c.name,e)},void 0,void 0,function(){b.hasConfirmedMigration=!1,d.go(f.name,g)})))});var y=function(c){a.currentState!=a.states.TEM_UPLOAD_STATE&&(a.isVideoPitch()?(a.changeState(a.states.UPLOADING_VIDEO),b.isUploading=!0):a.changeState(a.states.UPLOADING_PPT))},z=function(b){a.changeState(a.states.ERROR_STATE_MISSION),b.detail=b.detail||{},a.error={label:b.detail.message||b.detail.code,subMessage:b.detail.subMessage,isRetryable:b.detail.isRetryable}},A=function(b){a.isNetworkDown&&(a.isNetworkDown=!1,null==a.$$phase&&a.$apply())},B=function(b){a.isNetworkDown||(a.isNetworkDown=!0,null==a.$$phase&&a.$apply())},C=function(c){b.isUploading=!1,null==a.$$phase&&a.$apply()},D=function(b){var c=b.detail,d=c.s3Key,e=c.file;"/"==d[0]&&(d=d.substr(1,d.length-1)),a.uiState.VideoUploader.afterSuccess(a.uiState.VideoUploader),a.uiState.VideoUploader.setState(0),a.currentDraftUploadedFileName=e.name,F(d)};document.addEventListener("upload.progressbar.started",y,!1),document.addEventListener("uploader.error",z,!1),document.addEventListener("uploader.network.success",A,!1),document.addEventListener("uploader.network.error",B,!1),document.addEventListener("uploader.cancelled",C,!1),document.addEventListener("uploader.success",D,!1),b.isRecording=!1,a.isSaving=!1,a.showErrorInRecording=!1,a.showMicAccessDenied=!1,a.showClickBrowserPopup=!1,a.srcMicView=assetsBase+"/images/microphone_icon_40_60.png",a.videoPitch=!1,a.startTime=0,a.endTime=0,a.recordingErrorMessage="",a.srcMicAccessDenied=assetsBase+"/images/microphone_denied_icon_96.png",a.heightStyle={height:"378px"},a.missionService=g;var E=function(){Game.MixPanelTracking.track("_mission_start_recording_state",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id}),a.isSaving=!1,b.isRecording=!1,a.showClickBrowserPopup=!1,g.currentKey=null,a.changeState(a.states.RECORD_READY_STATE),a.timerDisplayOption=Game.Messages.M_TXT_TARGET_LENGTH+" - "+a.getTargetLengthString(t.fetchData.gameInfo.specialStaticSettings.targetLength);var c=angular.element(".pdf_iframe_class").get(0);c&&c.contentWindow&&(a.currpage=1,c.contentWindow.postMessage("page.1","*")),L(),null==a.$$phase&&a.$apply()};a.startTimer=function(){a.timerDisplayOption="",t.hasPermissions=!0,a.changeState(a.states.COUNTDOWN_RUNNING)};a.getDraftDisplayText=function(a){return"Draft "+a.draftOrder+(a.timestamp?" -  Created on "+Utils.Func.getNiceDateTimeShort(a.timestamp):"")};var F=function(b,c,d,e){if(!a.isSaving){a.isSaving=!0,g.currentKey=b,c&&(g.currentKey1=c),"VOICE_OVER_PPT"==t.fetchData.gameInfo.missionLoType&&(g.currentVoiceOverData=d?d:a.localVoiceOverData),a.draftKey=null,a.messageWait=Game.Messages.M_TXT_SAVING_SUBMISSION,a.changeState(a.states.SAVE_SUBMISSION);var f={draftState:"DRAFT",draftOrder:a.currentDraftOrder,duration:e};a.timerDisplayOption="Draft-"+a.currentDraftOrder+" "+a.parseTime(e);var h=g.saveRecordedMedia(t.fetchData.gameInfo.id,f);return Game.MixPanelTracking.track("_mission_saving_learning_object",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,draftOrder:f.draftOrder}),h.$promise.then(function(b){var c=b.submission.submissionId;t.fetchData.learningObject.userData=b.missionUserLearningObject,a.media=b.submission,a.media.$resolved=!0,a.submission=b.submission,a.submission.$resolved=!0,a.changeState(a.states.PREVIEW_DRAFT),Game.MixPanelTracking.track("_mission_learning_object_saved",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,Id:c,draftOrder:f.draftOrder}),a.isSaving=!1,a.draftKey=c,a.selectedOption=c,a.$evalAsync()},function(a){Game.MixPanelTracking.track("_mission_failed_to_process_recorder_media",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,draftOrder:f.draftOrder,error:JSON.stringify(a)}),a&&403==a.status?Utils.Func.alertCustom(Game.Messages.SESSION_OUT,function(){location.reload()},Game.Messages.BTN_RELOAD):(Utils.Func.alert(Game.Messages.M_TXT_ERROR_IN_PROCESSING),E())}),h.$promise}};a.getTargetLengthString=function(a){a||(a=t.fetchData.gameInfo.specialStaticSettings.targetLength);var b=Math.floor(a/60);b<10&&(b="0"+b);var c=Math.floor(a%60);return c<10&&(c="0"+c),b+"m : "+c+"s"},a.addDrafts=F,a.currentVoiceOverData=g.currentVoiceOverData;var G=function(b){Game.MixPanelTracking.track("_mission_draft_state",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,"Draft Key":b}),a.selectedOption=b,a.isSaving=!1;var c=angular.element(".pdf_iframe_class").get(0);c&&c.contentWindow&&c.contentWindow.postMessage("page.1","*");var d=t.fetchData.learningObject.userData.draftIdDraftMap[a.selectedOption],e=d.duration>0?a.parseTime(d.duration):null;d&&(a.timerDisplayOption="Draft "+d.draftOrder+(e?" - "+e:"")),t.fetchData.settings.pptUploadByAdmin||"VOICE_OVER_PPT"!=t.fetchData.gameInfo.missionLoType||t.fetchPpt(d.draftOrder),a.media=g.getLearnerSubmission(t.fetchData.gameInfo.id,a.selectedOption),a.submission=a.media,a.submission.$promise.then(function(){1==a.submission.missionMedia.length&&(100!=a.submission.missionMedia[0].type&&98!=a.submission.missionMedia[0].type||(e=a.parseTime(a.submission.missionMedia[0].obj.screen.obj.contentParts)),83==a.submission.missionMedia[0].type&&(e=a.parseTime(a.submission.missionMedia[0].obj.contentParts)),97==a.submission.missionMedia[0].type&&(e=a.parseTime(a.submission.missionMedia[0].obj.audio.obj.contentParts))),a.timerDisplayOption="Draft "+d.draftOrder+(e?" - "+e:"")},function(){a.changeState(a.states.ERROR_STATE_MISSION),a.error={label:"Error fetching submission, please check your connection and try again"},a.$evalAsync()}),a.changeState(a.states.DRAFT_STATE)},H=function(a,b){Utils.Func.dispatchEvent("uploader.success",{file:a,s3Key:b})};a.updateCurrentRouteUrl=function(a,b){var c=e;"undefined"==typeof b?delete c[a]:c[a]=b,d.go(d.current.name,c,{relative:d.$current,reload:!1,inherit:!1,notify:!1})},this.fetchPracticeData=function(){g.fetchEntity(e.entityId).then(function(b){t.fetchData=b,[9,10,11,12].indexOf(b.gameInfo.mtentityType)>-1&&(top.location.href="/#/"+e.entityId,setTimeout(function(){top.location.reload()},500)),window.courseInfo={fixed:b.gameInfo,settings:b.settings,user:b.GEState,lo:b.learningObject,series:b.seriesVo};var c=["LO_VOICEOVER_PPT_MISSION","LO_VIDEO_MISSION"],f=t.fetchData.learningObject.userData.type;isHTML5MissionRecordingSupported||"SCREEN_CAPTURE"!==t.fetchData.learningObject.staticData.missionLOType||Utils.Func.alertCustom("The Screen Capture Mission feature is not supported on this browser.<br/>Please switch to Chrome for a better experience.",function(){"undefined"!=typeof courseInfo&&courseInfo.series?d.go("root.courses",{series:courseInfo.series.id}):d.go("root.courses")},"Back"),"SCREEN_CAPTURE"!==t.fetchData.learningObject.staticData.missionLOType&&!isHTML5MissionRecordingSupported&&c.indexOf(f)!=-1&&swfobject.getFlashPlayerVersion().major<10.1&&(a.showErrorInRecording=!0,0===swfobject.getFlashPlayerVersion().major?a.recordingErrorMessage="You dont have flash installed, please install the latest version.":a.recordingErrorMessage="Your flash version is lower than 10.1, please upgrade it to latest to record.",a.changeState(a.states.ERROR_STATE),Utils.Func.confirmWithNoAction("This mission requires latest version of Adobe flash player.<br/> Please install/update it from Adobe flash center.",function(){window.open("https://get.adobe.com/flashplayer/","_blank")},function(){"undefined"!=typeof courseInfo&&courseInfo.series?d.go("root.courses",{series:courseInfo.series.id}):d.go("root.courses")},"Install flash player","Back to series"),Game.MixPanelTracking.track("Learning Site Errors",{location:d.current.name,contentName:a.practice.fetchData.gameInfo.name,contentID:a.practice.fetchData.gameInfo.id,contentType:a.practice.fetchData.entityLearner.entity_type,seriesName:courseInfo.series.name,seriesID:courseInfo.series.id,playableId:a.practice.fetchData.gData.playableId,playableType:a.practice.fetchData.gData.playableIdType,errorType:"Unsupported Flash"})),h.courseName=courseInfo.fixed.name,h.courseId=courseInfo.fixed.id,g.courseName=courseInfo.fixed.name,g.courseId=courseInfo.fixed.id,$(".tagClass").addClass("mBG_L").text("M"),mtBrodCastService.brodCast("COURSE_INFO",{courseInfo:courseInfo}),a.fetchData=this.fetchData,a.uiState.PPTUploader=i.getPPTUploadObject(t.fetchData.learningObject.staticData.id+"_media",t.fetchData.gameInfo.id);var j=i.getVideoUploadObject(t.fetchData.learningObject.staticData.id+"_media",{onUploadCompleted:H});j.entityId=t.fetchData.gameInfo.id,a.uiState.VideoUploader=j,a.uiState.supportingUploader=i.createDownloadUploader(t.fetchData.learningObject.staticData.id+"_support"),a.uiState.PPTUploader.successCallback(_.bind(t.mediaUpdated,t)),a.uiState.supportingUploader.successCallback(_.bind(t.factoUpdated,t)),t.fetchData.$resolved&&"SUBMITTED"===t.fetchData.learningObject.userData.progressState?(a.changeState(a.states.SUBMITTED_STATE),a.media=g.getLearnerSubmission(t.fetchData.gameInfo.id,t.fetchData.learningObject.userData.submissionId),a.submission=a.media,e.tab||(a.miC.tab="review")):t.fetchData.learningObject.userData.draftIdDraftMap&&(t.fetchData.learningObject.userData.draftsKeys=Object.keys(t.fetchData.learningObject.userData.draftIdDraftMap).sort()),"TASK_EVALUATION"!==t.fetchData.learningObject.staticData.missionLOType&&isHTML5MissionRecordingSupported&&"SUBMITTED"!==t.fetchData.learningObject.userData.progressState?(a.currentDraftOrder=1,a.changeState(a.states.READY)):a.checkMissionState(),a.practice.sortedReviewer=[],a.practice.fetchData.entityLearner.reviewers.length>0&&(a.practice.sortedReviewer=a.practice.fetchData.entityLearner.reviewers.sort(function(a,b){var c=a.role.split("_")[1],d=b.role.split("_")[1];return c>d?1:-1})),a.practice.playerFilters={authors:[]};var l=a.practice.sortedReviewer;if(l.forEach(function(b){"COMPLETED"===b.status&&a.practice.playerFilters.authors.push(b)}),a.gameId=a.practice.fetchData.learningObject.userData.gamificationEntityId,a.playableId=a.practice.fetchData.learningObject.userData.playableObjectId,a.userId=a.practice.fetchData.learningObject.userData.userId,a.submissionsList=a.practice.fetchData.learningObject.userData.oldSumissionIds,a.hasSubmissions=_.keys(a.submissionsList).length>0,t.intervalRefresh){var m=a.practice.reviewState(a.practice);2!=m&&3!=m&&(k.cancel(t.intervalRefresh),t.intervalRefresh=null),a.$emit("refreshReviewScope")}a.practice.olderSubmissions=[],t.changeVisibilityTopSubmission(),t.reviewState(t),a.$evalAsync()})},this.fetchPracticeData(),this.childScope=null,a.lookOutForChild=function(b){a.practice.childScope=b,a.$watch("currentDraftOrder",function(a){a&&a!=b.draftOrder&&(b.draftOrder=a)}),a.$watch("messageWait",function(a){a&&a!=b.messageWait&&(b.messageWait=a)})},a.viewSubmission=function(){a.changeState(a.states.SUBMITTED_STATE),Game.MixPanelTracking.track("_mission_view_submission",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id})},a.viewPresentation=function(){a.changeState(a.states.SUBMITTED_VIEW_PRESENTATION),Game.MixPanelTracking.track("_mission_view_presentation",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id})},a.renderHtml=function(a){return f.trustAsHtml(a)},a.getTrustedUrl=function(b){return[a.states.PREVIEW_DRAFT,a.states.DRAFT_STATE,a.states.SUBMITTED_STATE].indexOf(a.currentState)==-1?f.trustAsResourceUrl(b):f.trustAsResourceUrl(b+"&dontshowbignavigation="+a.timeParam)},a.UploadDocumentType={MEDIA:"MEDIA",TEXT:"TEXT",BOTH:"BOTH"},a.temUploaderObjects=a.temUploaderObjects||{},a.removeSubmissionMedia=function(a){var b=g.removeSubmissionMedia(t.fetchData.gameInfo.id,t.fetchData.learningObject.userData.submissionId,a);
b.$promise.then(function(b){g.submissionHash[t.fetchData.learningObject.userData.submissionId].missionMedia[a]=b.submission.missionMedia[a],J()},function(){})};var I=function(b,c,d,e){var f=a.temUploaderObjects[d].uploadObj,h=angular.element("[practice-tab]").scope();h.temUploaderObjects[d].mediaState="uploading","/"==c[0]&&(c=c.substr(1,c.length-1)),f.progressTimer&&(clearInterval(f.progressTimer),delete f.progressTimer),f.afterSuccess(f),a.changeState(a.states.TEM_UPLOAD_STATE),a.$evalAsync(),g.currentKey=c;var i=null;i=b.id?g.saveTemMediaVO(g.entityData.gameInfo.id,e,t.fetchData.learningObject.userData.submissionId,b.id,b.type):g.saveTemMedia(t.fetchData.gameInfo.id,e,g.entityData.learningObject.userData.submissionId,b.name||b.title),i.$promise.then(function(b){t.fetchData.learningObject.userData=b.missionUserLearningObject,a.checkMissionState(),h.temUploaderObjects[d].mediaState="uploaded"},function(){h.temUploaderObjects[d].mediaState="uploaded"})};a.documentState={},a.canSubmitTem=function(){for(var b=!0,c=a.documentList,d=0,e=0;e<c.length;e++){if(c[e]==a.UploadDocumentType.TEXT){g.submissionHash[t.fetchData.learningObject.userData.submissionId].missionMedia[e]||(b=!1);var f=a.temEmailsText[e].text;0==f.length?(b=!1,a.documentState.M_TXT_TYPE_IN_TEXTBOX=Game.Messages.M_TXT_TYPE_IN_TEXTBOX):delete a.documentState.M_TXT_TYPE_IN_TEXTBOX}if(c[e]==a.UploadDocumentType.MEDIA){d++;var h;null!=t.fetchData.learningObject.userData.submissionId&&(h=g.submissionHash[t.fetchData.learningObject.userData.submissionId].missionMedia[e]),!h||h.obj&&_.indexOf([0,5,22,3],h.obj.status)==-1?(b=!1,a.documentState["M_TXT_UPLOAD_TASK_"+d]=Game.Messages.M_TXT_UPLOAD_TASK+" "+d):delete a.documentState["M_TXT_UPLOAD_TASK_"+d]}}return b},a.isUploaded=function(b,c){var d="tem_uploader_"+t.fetchData.learningObject.staticData.id+"_media_"+b;return c==a.UploadDocumentType.MEDIA&&"uploaded"==a.temUploaderObjects[d].mediaState};var J=function(){"SUBMITTED"==t.fetchData.learningObject.userData.progressState?a.changeState(a.states.TEM_UPLOADED_STATE):a.changeState(a.states.TEM_UPLOAD_STATE),K();var b=a.documentList=t.fetchData.learningObject.staticData.documentList;t.fetchData.learningObject.userData.submissionId&&(a.submission=g.submissionHash[t.fetchData.learningObject.userData.submissionId]);for(var c=0;c<b.length;c++)if(b[c]==a.UploadDocumentType.MEDIA){var d="tem_uploader_"+t.fetchData.learningObject.staticData.id+"_media_"+c;if(a.temUploaderObjects[d]=a.temUploaderObjects[d]||{},a.temUploaderObjects[d].mediaIndex=c,t.fetchData.learningObject.userData.submissionId&&g.submissionHash[t.fetchData.learningObject.userData.submissionId].missionMedia[c])a.temUploaderObjects[d].mediaState="uploaded",a.temUploaderObjects[d].media=g.submissionHash[t.fetchData.learningObject.userData.submissionId].missionMedia[c];else{var e=function(a,b){return function(c,d){I(c,d,a,b,"upload")}};a.temUploaderObjects[d].uploadObj=i.createTemUploader(d,{onUploadCompleted:e(d,c)}),a.temUploaderObjects[d].mediaState="upload"}}else if(b[c]==a.UploadDocumentType.TEXT){var f=a.$new();t.fetchData.learningObject.userData.submissionId&&g.submissionHash[t.fetchData.learningObject.userData.submissionId].missionMedia[c]?f.text=g.submissionHash[t.fetchData.learningObject.userData.submissionId].missionMedia[c].object:f.text="";var h=function(a){return function(b){var c={text:b,mediaIndex:a},d=g.saveTemText(t.fetchData.gameInfo.id,c,t.fetchData.learningObject.userData.submissionId);d.$promise.then(function(b){t.fetchData.learningObject.userData=b.missionUserLearningObject,g.submissionHash[t.fetchData.learningObject.userData.submissionId]=b.submission,g.submissionHash[t.fetchData.learningObject.userData.submissionId].missionMedia[a]=b.submission.missionMedia[a]},function(){})}};a.currentState==a.states.TEM_UPLOAD_STATE&&f.$watch("text",_.debounce(h(c),u)),a.temEmailsText[c]=f}};a.checkMissionState=function(){a.pptMedia=null,a.loadingPptMedia=!1;var b=!1;if(a.currentDraftOrder=1,a.isOffline=!1,a.isTEM=!1,"SCREEN_CAPTURE"==t.fetchData.learningObject.staticData.missionLOType)return a.videoPitch=!0,a.screenCapture=!0,a.submission=a.submission||{$resolved:!0},void("SUBMITTED"!=t.fetchData.learningObject.userData.progressState?(K(),a.changeState(a.states.RECORD_READY_STATE),a.heightStyle={height:"421px"}):(a.changeState(a.states.SUBMITTED_STATE),a.heightStyle={height:"381px"}));if("TASK_EVALUATION"==t.fetchData.learningObject.staticData.missionLOType){if(a.changeState(a.states.TEM_START_STATE),t.fetchData.learningObject.userData.submissionId){var c=g.getLearnerSubmission(t.fetchData.gameInfo.id,t.fetchData.learningObject.userData.submissionId);c.$promise.then(function(){J()},function(){})}else J();return a.isTEM=!0,this.isTEM=!0,void(a.currentState!=a.states.TEM_UPLOADED_STATE&&(a.submission=a.submission||{$resolved:!0}))}if("OFFLINE"==t.fetchData.learningObject.staticData.missionLOType)a.isOffline=!0,this.isOffline=!0;else if("VIDEO_PITCH"==t.fetchData.learningObject.staticData.missionLOType){if(a.videoPitch=!0,a.heightStyle={height:"378px"},"SUBMITTED"!=t.fetchData.learningObject.userData.progressState){a.changeState(a.states.RECORD_READY_STATE),a.audioRecSwf=assetsBase+"/libs/AudioRec-Video.swf";var d=angular.element("#pitch-recording")[0];d&&(d.data=a.audioRecSwf),L(),K()}else a.changeState(a.states.SUBMITTED_STATE);return void(a.currentState!=a.states.SUBMITTED_STATE&&(a.submission=a.submission||{$resolved:!0}))}if(t.fetchData.settings.pptUploadByAdmin)a.pptMedia=t.fetchData.learningObject.staticData.media,K(),E(),"SUBMITTED"==t.fetchData.learningObject.userData.progressState?(a.changeState(a.states.SUBMITTED_STATE),a.heightStyle={height:"381px"}):(a.changeState(a.states.RECORD_READY_STATE),a.heightStyle={height:"421px"});else if("SUBMITTED"==t.fetchData.learningObject.userData.progressState){var e=t.fetchData.learningObject.userData.submissionId,f=t.fetchData.learningObject.userData.draftIdDraftMap[e].draftOrder;t.fetchPpt(f),a.changeState(a.states.SUBMITTED_STATE),a.heightStyle={height:"381px"}}else{a.heightStyle={height:"421px"};var h=!1;if(t.fetchData.learningObject.userData.pptIdPptMap){var i=Object.keys(t.fetchData.learningObject.userData.pptIdPptMap);i.sort(function(a,b){return 1*a>1*b?-1:1});var j=[];if(t.fetchData.learningObject.userData.draftIdDraftMap&&(j=Object.keys(t.fetchData.learningObject.userData.draftIdDraftMap)),i.length>j.length){j.sort().reverse();var k=0;j.length>0&&(k=t.fetchData.learningObject.userData.draftIdDraftMap[j[0]].draftOrder),a.currentDraftOrder=k+1,t.fetchData.learningObject.userData.pptIdPptMap[a.currentDraftOrder]?(a.changeState(a.states.LOADING_PPT_STATE),h=!0,b=!0,a.loadingPptMedia=!0):(a.changeState(a.states.UPLOAD_PPT),b=!1,a.loadingPptMedia=!1)}else a.changeState(a.states.LOADING_PPT_STATE),b=!0,a.loadingPptMedia=!0,a.currentDraftOrder=i[0]?1*i[0]+1:1}t.fetchData.learningObject.userData.pptIdPptMap=t.fetchData.learningObject.userData.pptIdPptMap||{},(1!=a.currentDraftOrder||h)&&b?(h||(t.fetchData.learningObject.userData.pptIdPptMap[a.currentDraftOrder]=t.fetchData.learningObject.userData.pptIdPptMap[a.currentDraftOrder-1]),t.fetchPpt(a.currentDraftOrder)):(t.fetchData.learningObject.userData.pptIdPptMap[a.currentDraftOrder]=null,a.changeState(a.states.UPLOAD_PPT)),g.saveLearningObject(t.fetchData.gameInfo.id,t.fetchData.learningObject.staticData.id,{pptIdPptMap:t.fetchData.learningObject.userData.pptIdPptMap},t.fetchData.learningObject.staticData.type,t.fetchData.GEState.reattemptVersion)}a.currentState!=a.states.SUBMITTED_STATE&&(a.submission=a.submission||{$resolved:!0})};var K=function(){if(t.fetchData.learningObject.userData.draftIdDraftMap){var b=Object.keys(t.fetchData.learningObject.userData.draftIdDraftMap),c=t.fetchData.learningObject.userData.draftIdDraftMap;b.sort(function(a,b){return c[a].draftOrder>c[b].draftOrder?-1:1}),b.length>0?a.currentDraftOrder=1*c[b[0]].draftOrder+1:a.currentDraftOrder=1}};this.getPptMedia=function(b){g.getPptMedia(t.fetchData.learningObject.userData.pptIdPptMap[b]).$promise.then(function(c){if(a.currentState!==a.states.DRAFT_STATE&&a.currentState!==a.states.SUBMITTED_VIEW_PRESENTATION&&a.currentState!==a.states.SUBMITTED_STATE&&a.changeState(a.states.RECORD_READY_STATE),c.status==Upload.states.PUBLISHABLE_FAIL||c.status==Upload.states.ERROR)t.removePptMedia(!0);else if(c.status==Upload.states.PROCESSING)return void j(function(){t.fetchPpt(b)},4e3);a.hasPptMedia=!0,a.pptMedia=c,a.currentState!==a.states.DRAFT_STATE&&a.currentState!==a.states.SUBMITTED_STATE&&a.currentState!==a.states.PREVIEW_DRAFT||(a.pptMedia.uuid+="&dontshowbignavigation="+Date.now()),a.loadingPptMedia=!1,Game.MixPanelTracking.track("_mission_ppt_media_fetch_success",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id})},function(a){console.log(a),Utils.Func.alert(Game.Messages.M_TXT_ERROR_FETCHING_MEDIA),Game.MixPanelTracking.track("_mission_ppt_media_fetch_failed",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id})})},this.fetchPpt=function(b){a.loadingPptMedia=!0,Game.MixPanelTracking.track("_mission_fetching_ppt",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id}),this.getPptMedia(b)},this.removePptMedia=function(b){displayMessage=Game.Messages.M_TXT_REPLACE_PPT;var c=Utils.Func.confirm,d=Game.Messages.BTN_YES;b&&(displayMessage="This ppt was not converted properly. This would be replaced.",c=Utils.Func.alertCustom,d=Game.Messages.OK),c(displayMessage,function(){t.fetchData.learningObject.userData.pptIdPptMap[a.currentDraftOrder]=null,t.savePptByDraft(),Game.MixPanelTracking.track("_mission_ppt_media_replace",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id})},d)},a.saveDraft=function(){G(a.selectedOption)},a.setSelectedOption=function(a){G(a)},a.setSubmitView=function(a){G(a)},a.saveDraftText=function(){return a.isSaving?Game.Messages.BTN_SAVING_TEXT:Game.Messages.M_TXT_SAVE_DRAFT+" "+a.currentDraftOrder},a.discardDraftText=function(a){return a?Game.Messages.M_TXT_DISCARD:Game.Messages.M_TXT_CREATING+".."},a.discardDraft=function(b){Game.MixPanelTracking.track("_mission_discard_draft",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id}),Utils.Func.confirm(Game.Messages.M_TXT_DISCARD_DRAFT,function(){if(!b)return void E();if(Game.MixPanelTracking.track("_mission_discarding_draft",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id}),t.fetchData.learningObject.userData.draftIdDraftMap){var c=t.fetchData.learningObject.userData.draftIdDraftMap[b];delete t.fetchData.learningObject.userData.draftIdDraftMap[b],b==a.selectedOption&&E(),g.discardSubmission(b,t.fetchData.gameInfo.id).$promise.then(function(b){Game.MixPanelTracking.track("_mission_discarding_media",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id}),a.checkMissionState(),L()},function(a){t.fetchData.learningObject.userData.draftIdDraftMap[b]=c}),a.$evalAsync(),setTimeout(function(){a.practice.childScope.$evalAsync()},100)}})};var L=function(){a.hasDrafts()?(a.selectedOption=a.selectedOption||r(t.fetchData.learningObject.userData.draftIdDraftMap),a.changeState(a.states.RECORD_READY_STATE)):a.videoPitch||a.practice.fetchData.settings.pptUploadByAdmin||a.isScreenCapture?a.changeState(a.states.RECORD_READY_STATE):a.changeState(a.states.UPLOAD_PPT)};a.submitDraft=function(){Game.MixPanelTracking.track("_mission_submit_draft",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,Draft:a.selectedOption,"Draft Order":a.currentDraftOrder?a.currentDraftOrder:1,"MISSION TYPE":a.practice.fetchData.learningObject.staticData.missionLOType});var b=Game.Messages.M_TXT_SUBMIT_DRAFT_QUESTION;if(a.currentState==a.states.TEM_UPLOAD_STATE){if(!a.canSubmitTem())return;b=Game.Messages.M_TXT_SUBMIT_MISSION_QUESTION}Utils.Func.confirm(b,function(){var b=a.selectedOption||t.fetchData.learningObject.userData.submissionId;t.fetchPracticeData(),a.practice.lastFetchCall=Date.now();var c={submissionId:b,series:a.practice.fetchData.seriesVo.id,draftState:"SUBMITTED"},d=g.saveLoOnSubmit(t.fetchData.gameInfo.id,t.fetchData.learningObject.staticData.id,c,t.fetchData.learningObject.staticData.type,t.fetchData.GEState.reattemptVersion);d.$promise.then(function(c){Game.MixPanelTracking.track("Complete content",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,"MISSION TYPE":a.practice.fetchData.learningObject.staticData.missionLOType}),t.fetchData.learningObject.userData.progressState="SUBMITTED",a.media=g.getLearnerSubmission(t.fetchData.gameInfo.id,b),a.submission=a.media,a.miC.tab="review",Utils.Func.isNextModulePopUpEnabled()&&1!=a.minimal&&a.openMissionCompletedPopUp(),1==a.minimal&&parent.$("body").trigger("mission_submitted")})})},a.openMissionCompletedPopUp=function(){var b=q.open({templateUrl:templateBaseUrl+"/missions/mission_result.html",controller:"MissonResultController",size:"sm",backdrop:"static",keyboard:!1,resolve:{thObj:function(){return t.fetchData}}});b.result.then(function(b){"TOP_SUBMISSIONS"==b.action?a.switchTab("submission"):"LB"==b.action?a.goBack():"NextModule"==b.action&&(t.fetchData.nextModuleInfo.lockState="UNLOCKED",Utils.Func.gotoNextModule(d,t.fetchData.seriesVo.id,t.fetchData.gameInfo,t.fetchData.nextModuleInfo))})},a.pptMedia=null,a.loadingPptMedia=!1,a.timerPaused=!1,this.savePptByDraft=function(){g.saveLearningObject(t.fetchData.gameInfo.id,t.fetchData.learningObject.staticData.id,{pptIdPptMap:t.fetchData.learningObject.userData.pptIdPptMap},t.fetchData.learningObject.staticData.type,t.fetchData.GEState.reattemptVersion).$promise.then(function(b){t.fetchData.learningObject.userData=b.userLearningObjectVo,a.checkMissionState()})},this.mediaUpdated=function(b){b&&a.currentState!=a.states.TEM_UPLOAD_STATE&&(a.loadingPptMedia=!0,a.changeState(a.states.LOADING_PPT_STATE),a.$evalAsync(),t.fetchData.learningObject.userData.pptIdPptMap[a.currentDraftOrder]=b.id,console.log("saved draft. Status: "+b.status),_.indexOf([Upload.states.UPLOADING,Upload.states.PROCESSING],b.status)>-1&&UploadeManager.trackMediaProcessing(b,function(c,d){if(c==Upload.states.COMPLETED)a.changeState(a.states.RECORD_READY_STATE),t.savePptByDraft(b),t.savePptByDraft(b),a.checkMissionState();else if(c==Upload.states.ERROR){var e=$("<div>We are unable to process your media, please retry. If the problem persists, please contact <a onclick='Utils.Func.showGetSupport()'>Support</a></div>");Utils.Func.alert(e),a.currentState!=a.states.TEM_UPLOAD_STATE&&a.changeState(a.states.UPLOAD_PPT)}else c!=Upload.states.PUBLISHABLE_FAIL&&c!=Upload.states.ERROR||t.removePptMedia(!0)}))},this.mediaVideoUpdated=function(b){b&&(a.loadingPptMedia=!1,F(b.key))},this.factoUpdated=function(b){this.fetchData.learningObject.facto=[{type:b.type,object:b.id,title:b.title,obj:b}],this.fetchData.learningObject.showFacto=!0,a.saveChanges(),null==a.$$phase&&a.$apply()},this.removeFacto=function(){this.missionEntity.learningObject.facto=[],this.missionEntity.learningObject.showFacto=!1,a.uiState.supportingUploader.setMediaInfo(null),a.saveChanges()},a.toggleRecordingChild=function(){},a.assignControls=function(b){a.toggleRecordingChild=b.toggleRecording},a.toggleRecording=function(){b.isRecording?a.toggleRecordingChild(b.isRecording):(a.changeState(a.states.PREPARING),setTimeout(function(){b.isRecording=a.toggleRecordingChild(b.isRecording)},200))};a.noSoundReceived=function(){console.log("in no sound received!"),errorTopBarDisplay(!0,Game.Messages.M_TXT_NO_SOUND_FROM_END)},a.errorSevere=function(){var a=Game.Messages.M_TXT_NO_VOICE_RECEIVED_ERROR_OTHER;isChrome&&(a=Game.Messages.M_TXT_NO_VOICE_RECEIVED_ERROR_CHROME),Utils.Func.alert(a,function(){Game.MixPanelTracking.track("_mission_no_voice_received_error",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,Message:"Error"}),window.location.reload()})},a.stopRecordFromSwf=function(){E()},a.setHeaders=function(b,c,d){h.totalParts=d+1,g.currentVoiceOverData=JSON.parse(c),h.currentBlobCounter=0,h.headerBlobCounter=44;var e={};a.videoPitch&&(e.type=".flv"),h.recordingCompleted(e).then(F,function(){Utils.Func.alert(Game.Messages.M_TXT_ERROR_IN_PROCESSING),E()})};var M=393216;a.setAudio=function(a){for(var b=0;b<a.length;b++)if(h.currentBlobCounter<M)h.currentBlobView.setInt16(h.currentBlobCounter,Number(a[b])*(32767*h.volumeRecording),!0),h.currentBlobCounter+=2;else{var c=new Blob([h.currentBlobView]);h.currentBlobCounter=0,h.currentBlobView.setInt16(h.currentBlobCounter,Number(a[b])*(32767*h.volumeRecording),!0),h.currentBlobCounter+=2,h.appendAudio(c)}},t.reviewState=function(b){return b.fetchData.$resolved?"SUBMITTED"!==b.fetchData.learningObject.userData.progressState?1:0==b.fetchData.entityLearner.reviewers.length?5:(a.practice.fetchData.learningObject.userData.reviewerIdReviewMap?(a.reviewsCompleteLength=Object.keys(a.practice.fetchData.learningObject.userData.reviewerIdReviewMap).length,t.reviewsCompleteLength=Object.keys(a.practice.fetchData.learningObject.userData.reviewerIdReviewMap).length):(a.reviewsCompleteLength=0,t.reviewsCompleteLength=0),(1==a.reviewsCompleteLength||0==a.reviewsCompleteLength)&&b.fetchData.entityLearner.reviewers.length-a.reviewsCompleteLength>=1?2:4):-1},a.sendToJS=function(a,b){console.log(a+":"+b),Game.MixPanelTracking.track("_mission_flash_events",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,"Key Flash":a,Message:b})},this.changeVisibilityTopSubmission=function(){if(this.fetchData.$resolved){var a=this.fetchData.gameInfo.displayTopMissions;if("ALWAYS"===a)return void(this.showTopSubmission=!0);if("NEVER"===a)return void(this.showTopSubmission=!1);"AFTER_SUBMISSION"===a&&("SUBMITTED"===this.fetchData.learningObject.userData.progressState||this.fetchData.GEState.reattemptVersion>1?this.showTopSubmission=!0:this.showTopSubmission=!1)}},this.showTopSubmission=!1,a.$on("$destroy",function(){t.intervalRefresh&&k.cancel(t.intervalRefresh),1==a.minimal&&parent.$("body").trigger("mission_destroyed"),document.removeEventListener("upload.progressbar.started",y),document.removeEventListener("uploader.network.success",A),document.removeEventListener("uploader.error",z),document.removeEventListener("uploader.network.error",B),document.removeEventListener("uploader.cancelled",C),document.removeEventListener("uploader.success",D)}),a.switchTab=function(b){try{if("practice"!=b){var c="review"==b?"Mission Reviews Tab":"Mission Top Submissions Tab";Game.MixPanelTracking.track(c,{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id})}}catch(d){console.log(d)}x()&&(a.practice&&a.practice.childScope&&a.practice.childScope.clearMediaPermissions&&a.practice.childScope.clearMediaPermissions(),a.miC.tab=b,a.updateCurrentRouteUrl("tab",a.miC.tab))}}]).controller("reviewTabController",["$scope","$translate","$state","missionsService","$interval",function(a,b,c,d,e){var f=12e4,g=1e4;a.companySettings=window.companySettings;var h=function(){a.practice.fetchData.$resolved=!1,a.practice.fetchPracticeData(),a.practice.lastFetchCall=Date.now(),console.log("autoRefresh")};a.showOlderReviews=!1,a.toggleOlderReviews=function(){a.showOlderReviews=!a.showOlderReviews,a.$evalAsync()},a.tabClicked=function(b){"comment"===b&&a.trackMPEvent("learner mission video comments tab",a.practice.fetchData.gameInfo)},a.hideRedo=function(){var b=companySettings&&companySettings.orgId;return!!(["1006260301411396905"].indexOf(b)>-1&&a.practice.fetchData.learningObject.fixed.hideCertificate)},a.trackMPEvent=function(a,b){var c={};c.ContentId=b.id,c.ContentName=b.name,c.SeriesID=b.parentList[0].series,c.MissionType=b.missionLoType,c["Learner Name"]=learnerJson.name,c["Learner Id"]=learnerJson.id,Game.MixPanelTracking.track(a,c)},a.downloadAttachment=function(a){var b=d.getMedia(a);try{Game.MixPanelTracking.track("_mission_attachfile_download",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,mediaId:a})}catch(c){console.log(c)}b.$promise.then(function(a){var b=a.original_path||a.processed_path;window.open(b,"_self")},function(){Utils.Func.alert("Unable to download media, try again later.")})},a.getReviewTime=function(b){return Utils.Func.getNiceDate(a.submission.reviewerIdReviewMap[b.id].timestamp)},a.reviewState=a.practice.reviewState,a.downloadCertificate=function(){Utils.Func.downloadCertificate(a.practice.fetchData.gameInfo.id,null,"MISSION",a.practice.fetchData.gameInfo.name)};var i=function(){a.reviewState(a.practice);a.practice.intervalRefresh=e(function(){jwplayer(0).getState&&"IDLE"==jwplayer(0).getState()&&h()},f)};if(i(),Date.now()-a.practice.lastFetchCall>g){a.reviewState(a.practice);h()}a.getNumReviewers=function(){return a.submission.reviewerIdReviewMap?Object.keys(a.submission.reviewerIdReviewMap).length:0},a.$on("refreshReviewScope",function(b,c){null==a.$$phase&&a.$apply()}),a.$on("$destroy",function(){a.practice.intervalRefresh&&(e.cancel(a.practice.intervalRefresh),a.practice.intervalRefresh=null)}),a.evalParams=function(b,c){if(void 0===c){var d=0,e=0;for(var f in a.practice.fetchData.learningObject.userData.reviewerIdReviewMap)"SUBMITTED"==a.practice.fetchData.learningObject.userData.reviewerIdReviewMap[f].reviewState&&(d+=a.practice.fetchData.learningObject.userData.reviewerIdReviewMap[f].evalParamIdxRatingMap[b],e++);return 0==e?0:d/e}if(a.practice.fetchData.learningObject.userData.reviewerIdReviewMap){var g=a.practice.fetchData.learningObject.userData.reviewerIdReviewMap[c];return g.evalParamIdxRatingMap[b]}return!1},a.reattemptCallStatus=0,a.reattempt=function(){a.reattemptCallStatus=d.reattempt(a.practice.fetchData.gameInfo.id),a.reattemptCallStatus.$promise.then(function(){learnerJson.company_score-=a.practice.fetchData.GEState.totalScore,mtBrodCastService.brodCast("UPDATED_PROFILE",{learnerJson:learnerJson}),localStorage&&!localStorage.getItem(kScoreUpdatedKey)&&localStorage.setItem("initial_comapny_score",learnerJson.company_score),$.modal.close(),a.switchTab("practice"),Game.MixPanelTracking.track("Restart Content",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id}),h()}),Utils.Func.alert(Game.Messages.M_TXT_RESETTING_PROGRESS)}}]).controller("submissionTabController",["$scope","$translate","$state","missionsService","$modal",function(a,b,c,d,e){a.uiState={start:0,count:10,sort_on:"score",sort_order:"desc",query:void 0};var f=this;a.isPartnerTraining=Utils.Func.isPartnerTraining(),a.numGroups=learnerJson.groups.length,this.fetchData=function(){a.isPartnerTraining&&(a.uiState.groups=learnerJson.groups.join(),0==a.numGroups&&(a.uiState.query=learnerJson.name)),f.currentCall=d.fetchTopSubmissions(c.params.entityId,a.uiState),f.currentCall.$promise.then(function(b){0==a.uiState.start&&(a.practice.submissionsData=[],a.totalUsers=b.total),a.practice.currentCallDataLength=b.submissions.length,a.practice.allVersionParams||(a.practice.allVersionParams={}),a.practice.allVersionParams=angular.extend(a.practice.allVersionParams,b.eval_params_info),a.practice.submissionsData=a.practice.submissionsData.concat(b.submissions)})},a.practice.currentCallDataLength<=a.uiState.count&&this.fetchData(),a.changeSortOnAndOrder=function(b){a.uiState.sort_on==b?"desc"==a.uiState.sort_order?a.uiState.sort_order="asc":a.uiState.sort_order="desc":(a.uiState.sort_on=b,a.uiState.sort_order="desc"),a.uiState.start=0,f.fetchData()},a.filterByQuery=function(){""==$.trim(a.uiState.tmpQuery)?a.clearQueryResults():a.uiState.tmpQuery!=a.uiState.query&&(a.uiState.query=a.uiState.tmpQuery,a.uiState.start=0,f.fetchData())},a.clearQueryResults=function(){"undefined"!=a.uiState.query&&(a.uiState.query=a.uiState.tmpQuery=void 0,a.uiState.start=0,f.fetchData())},a.canGotoNextPage=function(){return!(a.practice.submissionsData.length<1||!f.currentCall.$resolved||a.practice.submissionsData.length>=a.totalUsers||0==a.practice.currentCallDataLength)},a.loadNextPageSubmissions=function(){a.uiState.start=a.uiState.start+a.uiState.count,f.fetchData()},a.isVideoPitch=function(){return"LO_VIDEO_MISSION"==a.practice.fetchData.learningObject.staticData.type},a.isPptUploadByAdmin=function(){return a.practice.fetchData.settings.pptUploadByAdmin},a.thumbPath=function(a){if("TASK_EVALUATION_MISSION_LEARNER_SUBMSSION"==a.learnerSubmission.type)return this.practice.fetchData.gameInfo.defaultThumbObj.obj.processed_path;var b=a.learnerSubmission.missionMedia[0];return 83==b.type?b.obj.thumbPath:97==b.type?b.obj.ppt.obj.urls.thumb:98==b.type||100==b.type?b.obj.screen.obj.thumbPath:void 0},a.averageScore=d.getAverageScore(a.practice.fetchData.gameInfo.id),a.viewSubmission=function(b){e.open({templateUrl:templateBaseUrl+"/missions/submission-detail-thumbnail-popup.html",controller:"submissionPopupController",resolve:{submission:function(){return{submission:b,practice:a.practice}}}})}}]).controller("submissionPopupController",["$scope","$translate","$state","missionsService","submission","$sce",function(a,b,c,d,e,f){var g=Object.keys(e.submission.mission.reviewerIdReviewMap);a.assetsBase=assetsBase,a.getTrustedUrl=function(a){return f.trustAsResourceUrl(a)},a.mediaSubmission={media:e.submission.learnerSubmission.missionMedia[0],$resolved:!0},a.submission=e.submission.learnerSubmission,a.submission.$resolved=!0,a.learner=e.submission.learner,a.numberOfReviews=g.length,a.mission=e.submission.mission,a.practice=e.practice,a.userEvalParams=a.practice.fetchData.learningObject.staticData.evaluationParams,a.practice.allVersionParams[a.submission.version]&&(a.userEvalParams=a.practice.allVersionParams[a.submission.version].evaluationParams);for(var h={},i=0;i<a.userEvalParams.length;i++){for(var j=0;j<g.length;j++)h[i]=h[i]||0,h[i]+=e.submission.mission.reviewerIdReviewMap[g[j]].evalParamIdxRatingMap[i];h[i]=h[i]/g.length}a.isVideoPitch=function(){return"LO_VIDEO_MISSION"==a.practice.fetchData.learningObject.staticData.type},a.scoreByTopic=h,a.evalParamsSubmission=function(a,b){return b[a]}}]).controller("MissonResultController",["$scope","thObj",function(a,b){if(a.header=Game.Messages.LB_TXT_MISSION+" "+Game.Messages.TXT_SUBMITTED,a.numReviewers=0,a.numPending=0,b.entityLearner&&b.entityLearner.reviewers){a.numReviewers=b.entityLearner.reviewers.length;var c=b.entityLearner.reviewers.filter(function(a){return"PENDING"==a.statue});c&&(a.numPending=c.length)}0==a.numPending&&(a.numPending=a.numReviewers),a.topSubmissionsAvailable="NEVER"!=b.gameInfo.displayTopMissions,a.nextModuleInfo=b.nextModuleInfo,a.nextModuleInfoDetails={},a.nextModuleInfo&&(a.nextModuleInfoDetails=Utils.Func.getEntityTypeObjByName(a.nextModuleInfo.mtentityType)),a.goBackTo=function(b){a.$close({action:b})},String.prototype.initCap=function(){return this.toLowerCase().replace(/(?:^|\s)[a-z]/g,function(a){return a.toUpperCase()})},a.M_TXT_SUBMISSION=angular.copy(Game.Messages.M_TXT_SUBMISSION).initCap()}]),angular.module("missions").filter("numberFixedLen",function(){return function(a,b){return(1e4+a+"").slice(-b)}}).directive("practiceTab",function(){return{restrict:"A",templateUrl:templateBaseUrl+"/missions/practice-tab.html"}}).directive("reviewTab",function(){return{restrict:"A",templateUrl:templateBaseUrl+"/missions/review-tab.html",controller:"reviewTabController",controllerAs:"review"}}).directive("submissionTab",function(){return{restrict:"A",templateUrl:templateBaseUrl+"/missions/submission-tab.html",controller:"submissionTabController",controllerAs:"submissions"}}).directive("ngEnter",function(){return function(a,b,c){b.bind("keydown keypress",function(b){13===b.which&&(null==a.$$phase?a.$apply(function(){a.$eval(c.ngEnter)}):a.$eval(c.ngEnter),b.preventDefault())})}}).directive("emailEditor",function(){return{restrict:"A",template:"<textarea class='textarea' placeholder='Start typing here...' style='line-height:22px;height:100%;width:100%;color:#000;font-size:13px;padding:12px;border-radius: 0px; border: 1px solid #e0e0e0;font-family:'Open Sans';' ui-tinymce='uiState.tinyMCEOptions' ng-model='temEmailsText[index].text'></textarea>",link:function(a,b,c){var d=a.index=c.emailEditor;a.tinymceOptions={},angular.copy(a.uiState.tinyMCEOptions,a.tinymceOptions),a.tinymceOptions.init_instance_callback=function(b){a.editor=b,a.temEmailsText[d].text&&a.editor.setContent(a.temEmailsText[d].text)}}}}).directive("temUploadBox",function(){return{restrict:"A",templateUrl:templateBaseUrl+"/missions/tem-upload-box-partial.html",link:function(a,b,c){a.temUploadId=c.temUploadBox,a.getMediaTitle=function(a){var b="";return b+=a.obj.title,a.obj&&_.indexOf([0,5,22,3],a.obj.status)==-1&&(b+=" (Processing)"),b}}}}),angular.module("missions").factory("missionsService",["learningBoardServiceFactory","$log","$q","$resource","$timeout","$http",function(a,b,c,d,e,f){var g={entityData:null,currentKey:null,currentVoiceOverData:[]},h={SUCCESS:0,UPLOADING:1,PROCESSING:2,FAILED:3,COPYING:4,PUBLISHABLE_PROCESSED:5,PUBLISHABLE_PROCESSED_MP4ALL:6,COPYING_AND_PROCESSED:10,COPYIED_AND_PROCESSING:11,IN_MIGRATION:21,PUBLISHABLE_PROCESSED_BUT_FULLCONVERT_FAILED:22};g.fetchEntity=function(b,d){var e=c.defer(),f=d||null,h=function(){a.fetchEntity(b).then(function(a){return f=a,["SCREEN_CAPTURE_COACHING","TASK_EVALUATION_COACHING","VIDEO_PITCH_COACHING","VOICE_OVER_PPT_COACHING"].indexOf(a.type)>-1?void k():void i()})},i=function(){if(_.indexOf(["ACTIVE","SUBMITTED","COMPLETED"],f.state)>-1)return void k();var c={entity:b};f.series&&(c.series=f.series),a.addEntity(c).then(function(){f.state="ADDED",j()})},j=function(){return _.indexOf(["ACTIVE","SUBMITTED","COMPLETED"],f.state)>-1?void k():void a.startEntity(b).then(function(){k()})},k=function(){a.fetchEntityData(b).$promise.then(function(a){g.entityData=a,e.resolve(a)})};return f?j():h(b),e.promise};var i=d("/",{},{saveSubmission:{url:"/"+cname+"/:entityId/:userId/learnersubmission",method:"POST",cache:!1},removeSubmissionMedia:{url:"/"+cname+"/:entityId/:userId/deletelearnersubmission",method:"POST",cache:!1},getGlobalMedia:{url:"/"+cname+"/media/:mediaId",method:"GET",cache:!0},saveMission:{url:"/mission/:missionId/:loId",method:"POST"},getLearnerSubmission:{url:"/"+cname+"/:missionId/:userId/:submissionId/learnersubmission",method:"GET",cache:!1},getTopSubmissions:{url:"/"+cname+"/:missionId/submission",method:"GET",cache:!1},getAverageScore:{url:"/"+cname+"/:missionId/avgScore",method:"GET",cache:!1},reattempt:{url:"/entity/:missionId/reattempt",method:"POST"},getCertificateURL:{url:"/entity/:entityId/download",method:"GET"},getStreamAuthToken:{url:"/"+cname+"/:missionId/:draftName/fetchToken",method:"GET"},getMediaStatus:{url:"/"+cname+"/media/:mediaId/status",cache:!1}});g.getAverageScore=function(a){return i.getAverageScore({missionId:a,_:Date.now()})},g.reattempt=function(a){return i.reattempt({missionId:a},{a:1})},g.getRecordingType=function(a){return"SCREEN_CAPTURE"===a.missionLoType&&a.isScreenVideo?typeRecording="screen-video":"SCREEN_CAPTURE"!==a.missionLoType||a.isScreenVideo?"VIDEO_PITCH"===a.missionLoType?typeRecording="video":"VOICE_OVER_PPT"===a.missionLoType&&(typeRecording="audio"):typeRecording="screen-audio",typeRecording},g.fetchTopSubmissions=function(a,b){if(this.entityData.$resolved)return b=b||{},b.missionId=a,i.getTopSubmissions(b)},g.saveTemText=function(a,b,c){var d={draftState:"DRAFT",text:b.text,submissionId:c,mediaIndex:b.mediaIndex},e=JSON.stringify(d),f=i.saveSubmission({entityId:a,userId:learnerJson.id},{learningObjectType:courseInfo.lo.staticData.type,learningObjectId:courseInfo.lo.staticData.id,updatedFieldsAndValues:e});return f},g.saveTemMedia=function(a,b,c,d){if(null!=this.currentKey){var e={draftState:"DRAFT",submissionId:c,mediaIndex:b};console.log(e);var f=JSON.stringify(e),g=i.saveSubmission({
entityId:a,userId:learnerJson.id},{filePath:this.currentKey,name:d,learningObjectType:courseInfo.lo.staticData.type,learningObjectId:courseInfo.lo.staticData.id,updatedFieldsAndValues:f});return g}},g.saveTemMediaVO=function(a,b,c,d,e){if(null!=this.currentKey){var f={draftState:"DRAFT",submissionId:c,mediaIndex:b};console.log(f);var g=JSON.stringify(f),h=i.saveSubmission({entityId:a,userId:learnerJson.id},{mediaId:d,mediaType:e,learningObjectType:courseInfo.lo.staticData.type,learningObjectId:courseInfo.lo.staticData.id,updatedFieldsAndValues:g});return h}},g.submissionHash={},g.saveRecordedMedia=function(a,b,c){var d={voiceOverData:this.currentVoiceOverData,submissionId:c,draftOrder:b.draftOrder,duration:b.duration||0,draftState:b.draftState},e=JSON.stringify(d),f={filePath:this.currentKey,name:"My media",learningObjectType:courseInfo.lo.staticData.type,learningObjectId:courseInfo.lo.staticData.id,updatedFieldsAndValues:e};if(g.currentKey1&&(f.filePath2=g.currentKey1,f.name2="My media"),null!=this.currentKey){var h=i.saveSubmission({entityId:a,userId:learnerJson.id},f);return h.$promise.then(function(a){g.submissionHash[a.submission.submissionId]=a.submission,l(a.submission)}),h}return null},g.getMedia=function(a){return i.getGlobalMedia({mediaId:a,_:Date.now()})},g.getPptMedia=function(a){return i.getGlobalMedia({mediaId:a,_:Date.now()})},g.getCertificateURL=function(a){return i.getCertificateURL({entityId:a,_:Date.now()},{})},g.getStreamAuthToken=function(a,b){return i.getStreamAuthToken({missionId:a,draftName:b,_:Date.now()})},g.mediaHash={};var j=function(a){var b=a;97==g.mediaHash[a].media.type&&(b=g.mediaHash[a].media.obj.audio.object),f({method:"GET",url:"/"+cname+"/media/"+b+"/status?_="+Date.now()}).then(function(b){console.log(b),97==g.mediaHash[a].media.type?g.mediaHash[a].media.obj.audio.obj.status=h[b.data]:g.mediaHash[a].media.obj.status=h[b.data],k(a,!1)},function(a){})},k=function(a,b){var c=g.mediaHash[a],d=[0,5,22,3];if(70==c.media.type||_.indexOf(d,c.media.obj.status)>-1||97==c.media.type&&_.indexOf(d,c.media.obj.audio.obj.status)>-1||98==c.media.type&&_.indexOf(d,c.media.obj.screen.obj.status)>-1||100==c.media.type&&_.indexOf(d,c.media.obj.screen.obj.status)>-1&&_.indexOf(d,c.media.obj.video.obj.status)>-1)if(b)c.$resolved=!0;else{var f=g.getLearnerSubmission(c.missionId,c.submissionId);f.$promise.then(function(a){c.$resolved=!0;for(var b=0;b<a.missionMedia.length;b++)a.missionMedia[b]&&(g.mediaHash[a.missionMedia[b].object].media=a.missionMedia[b],g.mediaHash[a.missionMedia[b].object].$resolved=!0,g.mediaHash[a.missionMedia[b].object].defer.resolve());g.submissionHash[a.submissionId]=a})}else e(function(){j(a)},4e3)},l=function(a){for(var b=0;b<a.missionMedia.length;b++)a.missionMedia[b]&&(g.mediaHash[a.missionMedia[b].object]={media:a.missionMedia[b],missionId:a.gamificationEntityId,submissionId:a.submissionId,defer:c.defer(),$resolved:!1},g.mediaHash[a.missionMedia[b].object].$promise=g.mediaHash[a.missionMedia[b].object].defer.promise,k(a.missionMedia[b].object,!0))};g.removeSubmissionMedia=function(a,b,c){var d={mediaIndex:c,submissionId:b},e=JSON.stringify(d);return i.removeSubmissionMedia({entityId:a,userId:learnerJson.id},{learningObjectType:courseInfo.lo.staticData.type,learningObjectId:courseInfo.lo.staticData.id,updatedFieldsAndValues:e})},g.getLearnerSubmission=function(a,b){if(this.entityData.$resolved){Game.MixPanelTracking.track("_mission_fetching_submission",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,Id:b});var c=i.getLearnerSubmission({missionId:a,userId:learnerJson.id,submissionId:b,_:Date.now()},{});return c.$promise.then(function(a){g.submissionHash[a.submissionId]=a,l(a)},function(){console.log("media failed for status check")}),c}return null};return g.saveLearningObject=function(a,b,c,d,e){var f=JSON.stringify(c),g={learningObjectType:d,learningObjectId:b,updatedFieldsAndValues:f,reattemptVersion:e};return i.saveMission({missionId:a,loId:b},g)},g.saveLoOnSubmit=function(a,b,c,d,e){var f=JSON.stringify(c),h={learningObjectType:d,learningObjectId:b,updatedFieldsAndValues:f,reattemptVersion:e},j=i.saveMission({missionId:a,loId:b},h);return j.$promise.then(function(){var b=i.saveSubmission({entityId:a,userId:learnerJson.id},h);b.$promise.then(function(a){g.submissionHash[a.submission.submissionId]=a.submission,l(a.submission)})},function(){window.isErrorPopUpShow||Utils.Func.alert("Error in saving submission.")}),j},g.discardSubmission=function(a,b){var c={discardId:a},d=JSON.stringify(c);return i.removeSubmissionMedia({entityId:b,userId:learnerJson.id},{learningObjectType:courseInfo.lo.staticData.type,learningObjectId:courseInfo.lo.staticData.id,updatedFieldsAndValues:d})},g}]).factory("UploadService",["$log","$resource","$http","$q","$timeout",function(a,b,c,d,e){var f=1,g=2,h=3<<16,i=!1,j=[],k={$resolved:!0},l=0,m=0,n={},o=null,p=[],q={};q.totalParts=0;var r=b("/",{},{initMultipart:{url:"/"+cname+"/media/multipart",method:"POST",cache:!1},signPart:{url:"/"+cname+"/:entityId/:draftName/:partNum/signedUrl",method:"POST"},getConcatMediaStatus:{url:"/"+cname+"/concatmedia/:concatMediaId/status?_="+Date.now(),cache:!1,transformResponse:function(a){var b=0;return"SUCCESS"==a&&(b=1),{status:b}}}});q.uploadEntityId=null;var s=function(){i&&k.$resolved&&n.abortUrl&&n.abortUrl&&c.get(n.abortUrl),k={$resolved:!0},l=0,p=[],n={},j=[],i=!1,o=d.defer(),m=0,q.uploadEntityId=null,u()};q.startRecording=function(a,b){return s(),q.uploadEntityId=a,o.promise},q.voiceOverData=[];var t=function(){if(!k.$resolved)return void k.$promise.then(t);for(var a=-1,b=0,c=0;c<j.length;c++)if(_.indexOf(["added","failed"],j[c].state)>-1&&j[c].errorCount<3)a=c;else if("uploading"==j[c].state)b++;else if("failed"==j[c].state&&j[c].errorCount>=3)return o.reject(),void(i=!1);if(a==-1)return void(1==m&&w());if(!(b>g)){var d=j[0].isHeader?0:1,e=Math.floor((a+d)/f),h=a+d,l=j[a];return p[e]?void(1!=p[e]&&(l.state="uploading",$.ajax({url:n.parts[h].url,type:"PUT",data:l.data,processData:!1,contentType:!1,success:function(a,b,c){l.state="success",l.etag="ETAG",t()},error:function(a,b,c){l.state="failed",l.errorCount=l.errorCount?l.errorCount+1:1,t()}}))):(p[e]=1,void r.signPart({entityId:q.uploadEntityId,draftName:q.draftOrder,partNum:h+1},{cType:""}).$promise.then(function(a){n.parts||(n.parts=[]),n.parts[h]={url:a.success},p[e]=2,t()},function(){l.state="failed",p[e]=0,l.errorCount=l.errorCount?l.errorCount+1:1,t()}))}},u=function(){q.currentBlobCounter=0,q.headerBlobCounter=44,j=[]},v=function(){function a(a,b,c){for(var d=c.length,e=0;e<d;e++)a.setUint8(b+e,c.charCodeAt(e))}q.volumeRecording=1,q.currentBlobView=new DataView(new ArrayBuffer(2*h)),q.headerBlobView=new DataView(new ArrayBuffer(44)),u();var b=44100;a(q.headerBlobView,0,"RIFF"),a(q.headerBlobView,8,"WAVE"),a(q.headerBlobView,12,"fmt "),q.headerBlobView.setUint32(16,16,!0),q.headerBlobView.setUint16(20,1,!0),q.headerBlobView.setUint16(22,1,!0),q.headerBlobView.setUint32(24,b,!0),q.headerBlobView.setUint32(28,2*b,!0),q.headerBlobView.setUint16(32,2,!0),q.headerBlobView.setUint16(34,16,!0),a(q.headerBlobView,36,"data")};v(),q.setHeaderBlob=function(a){if(!i)throw"Recording not in progress";if(j.length>0&&j[0].isHeader)throw"Header blob already added";j.unshift({state:"added",data:a,isHeader:!0,errorCount:0}),t()},q.appendAudio=function(a){if(!i)throw"Recording not in progress";j.push({state:"added",data:a,isHeader:!1,errorCount:0}),t()},q.recordingFailed=function(b){i=!1,a.error("error in completing"),m=2,Game.MixPanelTracking.track(b,{"Content Type":"MISSION","Content Name":q.courseName,"Content ID":q.courseId,Message:"Error"}),o.reject()};var w=function(b){return o=o||d.defer(),m=2,c({url:"/"+cname+"/"+q.uploadEntityId+"/"+q.draftOrderTimeStamp+"/"+q.totalParts+"/finalUpdated",method:"POST",data:b}).success(function(b){Game.MixPanelTracking.track("_mission_file_sent_for_processing",{"Content Type":"MISSION","Content Name":q.courseName,"Content ID":q.courseId,"Media Id":b.mediaId,Message:"add learner media"}),function c(){r.getConcatMediaStatus({concatMediaId:b.mediaId,_:Date.now()}).$promise.then(function(a){a.status?(i=!1,m=3,k.key=b.success,u(),Game.MixPanelTracking.track("_mission_file_found",{"Content Type":"MISSION","Content Name":q.courseName,"Content ID":q.courseId,"Upload Key":k.key,Message:"add learner media"}),o.resolve(k.key)):e(c,1e3)},function(){i=!1,a.error("error in completing"),m=2,Game.MixPanelTracking.track("_mission_file_not_found",{"Content Type":"MISSION","Content Name":q.courseName,"Content ID":q.courseId,"Media Id":b.mediaId,Message:"Error"}),o.reject()})}()}).error(function(){q.recordingFailed("_mission_finalUpdated_failed")}),o.promise};return q.recordingCompleted=w,q}]).factory("UploaderFactory",["s3Api",function(a){var b={},c={},d=function(c,d){var e={uploadId:c};return e.uploadService=a,b[c]=b[c]||UploadeManager.createPresentationUploader(null,d,null,e),b[c]},e=function(b,d){return d.uploadId=b,d.uploadService=a,c[b]=c[b]||UploadeManager.createVideoUploader(null,null,d),c[b]},f=function(b,d){d.uploadId=b,d.uploadService=a,d.dontRenderZip=!0;var e=d.types||null;return c[b]=c[b]||UploadeManager.createAllMediaUploader(null,e,d),c[b]},g=function(c){var d={uploadId:c};return d.uploadService=a,b[c]=b[c]||UploadeManager.createDownloadUploader(null,null,d),b[c]},h=function(c){var d={uploadId:c};return d.uploadService=a,b[c]=b[c]||UploadeManager.createReviewDocdUploader(null,null,d),b[c]},i=function(c,d){return d.uploadObjTmpl="script#tmpl_uploadProgress_mini",d.uploadId=c,d.uploadService=a,b[c]=b[c]||UploadeManager.createTemUploader(null,null,d),b[c]},j=function(a,d){return"video"===d?c[a]:b[a]},k=function(c){var d={uploadId:c};return d.uploadService=a,b[c]=b[c]||UploadeManager.createReviewDocdUploaderNew(null,null,d),b[c]};return{getPPTUploadObject:d,getVideoUploadObject:e,createDownloadUploader:g,createTemUploader:i,createReviewDocdUploader:h,getUploaderById:j,createReviewDocdUploaderNew:k,getAllMediaUploader:f}}]),angular.module("reviews",["ui.bootstrap","mtTranslate","missions","monospaced.elastic"]),angular.module("reviews").controller("reviewsGlobalController",["$scope","$state","$stateParams","CoachingAppDataModel",function(a,b,c,d){if(a.dataModel=this.dataModel=d,a.uiState={currentTab:"MISSION_REVIEWS"},a.isCoachingEnabled=function(){return _.indexOf(companySettings.lsSettings.enabledModuleTypes,6)!=-1},a.isMissionEnabled=function(){return _.indexOf(companySettings.lsSettings.enabledModuleTypes,4)!=-1},a.isBetaCoachingEnabled=function(){return _.indexOf(companySettings.lsSettings.enabledModuleTypes,13)!=-1},a.isBetaMissionEnabled=function(){return _.indexOf(companySettings.lsSettings.enabledModuleTypes,9)!=-1||_.indexOf(companySettings.lsSettings.enabledModuleTypes,10)!=-1||_.indexOf(companySettings.lsSettings.enabledModuleTypes,11)!=-1||_.indexOf(companySettings.lsSettings.enabledModuleTypes,12)!=-1},"root.reviews.coaching"==b.current.name&&(!a.isCoachingEnabled()&&a.isBetaCoachingEnabled()&&(window.location.href="/ui/coaching/dashboard?tab_type=COACHING"),a.uiState.currentTab="COACHING_REVIEWS"),"root.reviews.missions"==b.current.name){_.indexOf(companySettings.lsSettings.enabledModuleTypes,4)!==-1||a.isBetaMissionEnabled()||(window.location.href="/");var e=companySettings.lsSettings.modulesUnderMaintenance&&_.indexOf(companySettings.lsSettings.modulesUnderMaintenance,4)>-1;_.indexOf(companySettings.lsSettings.modulesUnderMaintenance,4)>-1&&!a.isBetaMissionEnabled()&&e&&(window.location.href="/ui/coaching/10/maintainence"),_.indexOf(companySettings.lsSettings.modulesUnderMaintenance,4)>-1&&a.isBetaMissionEnabled()&&e&&(window.location.href="/ui/coaching/dashboard?tab_type=MISSION"),_.indexOf(companySettings.lsSettings.enabledModuleTypes,4)===-1&&a.isBetaMissionEnabled()&&(window.location.href="/ui/coaching/dashboard?tab_type=MISSION")}a.setState=function(b){a.uiState.currentTab=b,Game.MixPanelTracking.track(a.uiState.currentTab+" Tab",{})},a.redirectToNewCoaching=function(){window.location.href="/ui/coaching/dashboard?tab_type=COACHING"}}]).controller("reviewsMainController",["$scope","$translate","$state","$stateParams","reviewsStore","mtHistory","$interval","$modal","trackingEventService",function(a,b,c,d,e,f,g,h,i){if(companySettings.lsSettings.enabledModuleTypes.indexOf(4)===-1)return void(top.location.href="/ui/coaching/dashboard?state=ACTIVE&tab_type=MISSION");a.reviewsStore=e,a.reviewsStore.fetch(!1),a.Messages=Game.Messages,e.loadMissions(!1),a.practice=e.store.practice,window.courseInfo={fixed:{name:"reviewTab",id:"reviewTab"}},"undefined"!=typeof Appcues&&Appcues.page(),Game.MixPanelTracking.track("Reviewers Tab",{});var j=null,k=function(){j&&g.cancel(j),j=g(function(){e.refresh()},3e5)};a.$on("$destroy",function(){j&&g.cancel(j)}),a.uniqueMissionsList=[],a.canGoNextMissions=function(){return e.missionRequest.$resolved&&e.missionRequest.missions.length>=e.missionsQuery.count},a.loadNextMissions=function(){a.canGoNextMissions()&&e.loadMissions(!0)},a.isUniqueMissionsListHidden=!0,a.tmpQuery="",a.filterByQuery=function(){""==$.trim(a.tmpQuery)?a.clearQueryResults():a.tmpQuery!=e.currQuery&&(e.currQuery=a.tmpQuery,e.refresh(!0),k())},a.clearQueryResults=function(){void 0!=e.currQuery&&(e.currQuery=a.tmpQuery=void 0,e.refresh(!0),k())},a.setLatestSearchQuery=function(){var b=$.trim(a.tmpQuery);""==b?e.currQuery=a.tmpQuery=void 0:e.currQuery=b},a.changeMissionState=function(b){a.setLatestSearchQuery(),e.currType=b,e.refresh(!0),Game.MixPanelTracking.track("Reviews Status Filter",{Type:b}),k()},a.updateSelectedMissionObj=function(b){a.setLatestSearchQuery(),a.selectedMissionObject=b,e.selectMission(b.id),a.isUniqueMissionsListHidden=!0,Game.MixPanelTracking.track("Filter by Mission for Reviewer",{MissionName:b.name,MissionId:b.id}),a.$evalAsync(),k()},a.clearSelectedMission=function(){a.setLatestSearchQuery(),a.selectedMissionObject=void 0,e.clearSelectedMission(),a.$evalAsync(),k()},a.getNumReviewPending=function(a){for(var b=0,c=0;c<a.missionLearner.reviewers.length;c++)"PENDING"==a.missionLearner.reviewers[c].status&&b++;return b},a.canGoNextPage=function(){if(a.reviewsStore.store.pages.length<1||!a.reviewsStore.store.pages[a.reviewsStore.store.pages.length-1].$resolved)return!1;var b=a.reviewsStore.store.pages[a.reviewsStore.store.pages.length-1];return!(!b.missionLearners||b.missionLearners.length<a.reviewsStore.store.pageSize)},a.loadNextPage=function(){a.canGoNextPage()&&e.fetch(!0)},a.getMissionThumb=function(b){try{var c=a.reviewsStore.store.missionMap[b.missionLearner.id][b.missionLearner.version];return"TASK_EVALUATION"==c.learningObject.missionLOType?c["static"].defaultThumbObj.obj.processed_path:"OFFLINE"==c.learningObject.missionLOType?null:"VIDEO_PITCH"==c.learningObject.missionLOType?b.missionLearnerData.learnerSubmission.missionMedia[0].obj.thumbPath:"SCREEN_CAPTURE"==c.learningObject.missionLOType?b.missionLearnerData.learnerSubmission.missionMedia[0].obj.screen.obj.thumbPath:b.missionLearnerData.learnerSubmission.missionMedia[0].obj.ppt.obj.urls.thumb}catch(d){return console.log(d),"#"}},a.getProfilePic=function(a){return a.missionLearner.user.pic?a.missionLearner.user.pic:assetsBase+"/images/img_80_80.png"},a.getLeanerName=function(a){return a.missionLearner.user.name},a.getLearnerReviewerScore=function(b){if(!b.missionLearnerData.reviewerIdReviewMap)return 0;var c=b.missionLearnerData.reviewerIdReviewMap[learnerJson.id],d=c.evalParamIdxRatingMap,e=a.reviewsStore.store.missionMap[b.missionLearner.id][b.missionLearner.version],f=0,g=0;for(var h in d){var i=e.learningObject.evaluationParams[h].weight||1;f+=d[h]*i,g+=i}return g?Math.floor(f/g)/100:0},a.hasCertificate=function(b){return b.missionLearner.score>=a.reviewsStore.store.missionMap[b.missionLearner.id][b.missionLearner.version].settings.certificateScore},a.didIReviewed=Utils.Func.didIReviewed,a.canShowScore=function(b){return["NUMERIC","BINARY"].indexOf(a.reviewsStore.store.missionMap[b.missionLearner.id][b.missionLearner.version].learningObject.evalParamType)>-1&&!b.missionLearner.declined},a.getMissionName=function(b){return a.reviewsStore.store.missionMap[b.missionLearner.id][b.missionLearner.version]["static"].name},a.getRecordingTime=function(a){if("NOT_SUBMITTED"==a.missionLearnerData.progressState)return"Not submitted";var b=0;"LO_VOICEOVER_PPT_MISSION"==a.missionLearnerData.type?b=a.missionLearnerData.learnerSubmission.missionMedia[0].obj.audio.obj.contentParts:"LO_VIDEO_MISSION"==a.missionLearnerData.type?b=a.missionLearnerData.learnerSubmission.missionMedia[0].obj.contentParts:"LO_SCREEN_CAPTURE_MISSION"==a.missionLearnerData.type&&(b=a.missionLearnerData.learnerSubmission.missionMedia[0].obj.screen.obj.contentParts);var c=b%60;return c<10&&(c="0"+c),Math.floor(b/60)+":"+c+"m"},a.openReview=function(b,c,d){return b.missionLearnerData.submissionId||"OFFLINE"===c.learningObject.missionLOType?(Game.MixPanelTracking.track("Click Review Now",{LearnerName:b.missionLearner.user.name,LearnerId:b.missionLearner.user.id,MissionName:c["static"].name,MissionId:c["static"].id}),void h.open({templateUrl:assetsBase+"/angular/reviews/review_popup.html",controller:"reviewEntityController",resolve:{missionLearner:function(){return{miLearner:b,miObj:c}},didIReviewed:function(){return a.didIReviewed},indexes:function(){return d},singleView:function(){return!1}}}).result.then(function(){e.refresh(!1)})):void Utils.Func.alert(a.Messages.M_WRONG_WITH_SUBMISSION)},a.missionSearchText="",a.$watch("reviewsStore.store.uniqueMissionsList",function(){e.store.uniqueMissionsList&&(a.customMissionList=e.store.uniqueMissionsList.slice())},!0),a.$watch("missionSearchText",_.debounce(function(){if(e.store.uniqueMissionsList){a.customMissionList=[];var b=e.store.uniqueMissionsList.slice();if(a.missionSearchText&&""!=a.missionSearchText)for(var c=0;c<b.length;c++)b[c].name.toLowerCase().indexOf(a.missionSearchText.toLowerCase())!=-1&&a.customMissionList.push(b[c]);else a.customMissionList=b;a.$evalAsync()}},200),!0),a.clearSearchText=function(b){a[b]=""},a.isFocus=function(){setTimeout(function(){$(".focusMe").focus()},500)}}]).controller("reviewSingleEntityController",["$scope","$translate","$state","$stateParams","reviewsStore","mtHistory","$timeout","mtBrodCast","UploaderFactoryReviews","submissionsStore","$modal",function(a,b,c,d,e,f,g,h,i,j,k){e.getSingleReview({cname:cname,missionId:c.params.entityId,learnerId:c.params.userId}).$promise.then(function(a){var b=a.missionMap[c.params.entityId],d=Object.keys(a.missionMap)[0],f=Object.keys(a.missionMap[d])[0],b=a.missionMap[d][f],g=c.params.userId,h=b["static"].mtentityType;if([9,10,11,12].indexOf(h)>-1)return void(window.location.href="/ui/coaching/"+h+"/review/"+d+"/"+g+"/sessions");e.store.reviewsArray=e.store.reviewsArray||[];var i=e.store.reviewsArray.length;a.missionLearners[0].indexReviews=i,a.missionLearners[0].practice={},e.store.reviewsArray.push(a.missionLearners[0]),e.store.missionMap=e.store.missionMap||{},_.extend(e.store.missionMap,a.missionMap),k.open({templateUrl:assetsBase+"/angular/reviews/review_popup.html",controller:"reviewEntityController",resolve:{missionLearner:function(){var b=Object.keys(a.missionMap)[0],c=Object.keys(a.missionMap[b])[0];return{miLearner:a.missionLearners[0],miObj:a.missionMap[b][c]}},didIReviewed:function(){return Utils.Func.didIReviewed},indexes:function(){return i},singleView:function(){return!0}}}).result.then(function(){c.go("root.reviews.missions"),e.refresh(!1)})})["catch"](function(a){c.go("root.reviews.missions"),401==a.status?Utils.Func.alert(Game.Messages.SINGLE_REVIEW_401):404==a.status?Utils.Func.alert(Game.Messages.SINGLE_REVIEW_404):Utils.Func.alert(Game.Messages.SINGLE_REVIEW_5XX)})}]).controller("reviewEntityController",["$scope","$translate","$state","$stateParams","reviewsStore","mtHistory","missionLearner","didIReviewed","$sce","$timeout","indexes","mtBrodCast","UploaderFactoryReviews","submissionsStore","singleView","$modalInstance",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){window.mtBrodCastService=window.mtBrodCastService||angular.element(document.body).injector().get("mtBrodCast"),a.reviewsStore=e,a.Messages=Game.Messages,a.showOlderReviews=!1,a.loaderSmall=assetsBase+"/images/loader.gif",a.assetsBase=assetsBase,a.companySettings=window.companySettings,a.pitchChartContainerId="raPitchChart",a.toggleOlderReviews=function(){a.showOlderReviews=!a.showOlderReviews,a.$evalAsync()},a.totalReviews=e.store.reviewsArray.length,a.getSubmissionDateForReviewer=function(){var b=a.miLearner.miLearner.missionLearnerData.learnerSubmission.reviewerIdReviewMap[learnerJson.id].timestamp;return Utils.Func.getNiceDate(b)};var q=([].concat.apply([],e.store.pages),k),r=function(a){return{miLearner:a,miObj:e.store.missionMap[a.missionLearner.id][a.missionLearner.version]}},s=function(a){var b=e.store.reviewsArray[a];return q=b.indexReviews,r(b)};a.miLearner=s(k),a.populatePrevScore=function(){a.evalParamsScore=angular.copy(a.lastSubmission.submissionList[a.lastSubmissionId].reviewerIdReviewMap[learnerJson.id].evalParamIdxRatingMap),a.$evalAsync()};var t=function(){a.myreview=a.miLearner.miLearner.missionLearnerData.reviewerIdReviewMap[learnerJson.id],a.evalParamsScore=a.myreview.evalParamIdxRatingMap,a.myreview.positiveFeedback.length>0&&(a.feedbacks.positiveFeedback=a.myreview.positiveFeedback[0].text),a.myreview.constructiveFeedback.length>0&&(a.feedbacks.constructiveFeedback=a.myreview.constructiveFeedback[0].text)};a.feedbacks={constructiveFeedback:"",positiveFeedback:""},a.trackMPEvent=function(a,b,c,d){d||(d={}),d.ContentId=b.id,d.ContentName=b.name,d.SeriesID=b.parentList[0].series,d.MissionType=b.missionLoType,d["Learner Name"]=c.user.name,d["Learner Id"]=c.user.id,Game.MixPanelTracking.track(a,d)},a.tabClicked=function(b){"comment"===b&&a.trackMPEvent("manager video comments tab",a.miLearner.miObj["static"],a.miLearner.miLearner.missionLearner),"transcription"===b&&a.trackMPEvent("manager_transcription_tab",a.miLearner.miObj["static"],a.miLearner.miLearner.missionLearner,{app:"allaboard"})},a.getSmartTranscriptionStatus=function(){companySettings?(a.showTranscriptionAnalysis=companySettings.lsSettings.smartTranscriptionEnabled,a.showSubtitles=a.showTranscriptionAnalysis&&"SUCCESS"==a.transcribableMedia.transcriptionStatus):setTimeout(function(){a.getSmartTranscriptionStatus()},500)};var u=function(){"undefined"!=typeof Appcues&&Appcues.page(),a.hasSubmissions=!1,a.$evalAsync(),a.didIReviewed=h(a.miLearner.miLearner),a.practice=e.store.reviewsArray[q].practice,a.pptLoading=!1,a.pptMedia=null,a.videoPitch=!1,a.media=void 0,a.showReadMore=!0,a.inReviewEditMode=!1,a.uiState={missionSubTab:"review"},a.curReviewNum=q+1,a.controlApi={},a.trackMPEvent("manager review page",a.miLearner.miObj["static"],a.miLearner.miLearner.missionLearner,{visit_type:a.didIReviewed?"Review":"Start",ContentType:"Mission"});var b=a.miLearner.miLearner.missionLearnerData.learnerSubmission;a.isSubmissionDownloadable=!1,a.submissionDownloadbleLink="",a.submission=b,"VIDEO_PITCH"===a.miLearner.miObj.learningObject.missionLOType?(a.videoPitch=!0,a.isSubmissionDownloadable=!0,a.submissionDownloadbleLink=a.miLearner.miLearner.missionLearnerData.learnerSubmission.missionMedia[0].obj.original_path,a.miLearner.miLearner.missionLearnerData.learnerSubmission.missionMedia[0].obj.mp4Path&&(a.submissionDownloadbleLink=a.miLearner.miLearner.missionLearnerData.learnerSubmission.missionMedia[0].obj.mp4Path)):"VOICE_OVER_PPT"===a.miLearner.miObj.learningObject.missionLOType&&(a.pptMedia=a.miLearner.miLearner.missionLearnerData.learnerSubmission.missionMedia[0].obj.ppt.obj,a.videoPitch=!1,"MASHUP_SUCCESS"==a.miLearner.miLearner.missionLearnerData.learnerSubmission.missionMedia[0].obj.mashUpVideoStatus&&(a.isSubmissionDownloadable=!0,a.miLearner.miLearner.missionLearnerData.learnerSubmission.missionMedia[0].obj.mashUpObj?a.submissionDownloadbleLink=a.miLearner.miLearner.missionLearnerData.learnerSubmission.missionMedia[0].obj.mashUpObj.obj.mp4Path:a.submissionDownloadbleLink=a.miLearner.miLearner.missionLearnerData.learnerSubmission.missionMedia[0].obj.mashUpVideoLink)),b&&(b.$resolved=!0,a.submission.$resolved=!1,a.$evalAsync(),j(function(){"VIDEO_PITCH"!==a.miLearner.miObj.learningObject.missionLOType&&"VOICE_OVER_PPT"!==a.miLearner.miObj.learningObject.missionLOType||(a.media={media:b.missionMedia[0],$resolved:!0}),a.submission.$resolved=!0,a.$evalAsync()},1e3)),a.evalParamsScore={},a.myreview={},a.feedbacks=a.feedbacks||{},a.didIReviewed&&!a.miLearner.miLearner.missionLearner.declined?t():(a.feedbacks.positiveFeedback="",a.feedbacks.constructiveFeedback="");var c=function(b,c,d){a.miLearner.miLearner.missionLearnerData.learnerSubmission.reviewerIdReviewMap=a.miLearner.miLearner.missionLearnerData.learnerSubmission.reviewerIdReviewMap||{};var e=a.miLearner.miLearner.missionLearnerData.learnerSubmission.reviewerIdReviewMap;e[learnerJson.id]=e[learnerJson.id]||{},e[learnerJson.id].mediaId=e[learnerJson.id].mediaId||[],e[learnerJson.id].mediaId.push({type:b.type,object:b.id,title:b.title}),a.miLearner.miLearner.missionLearnerData.learnerSubmission.reviewerIdReviewMap=e,a.$evalAsync()},d="tem_uploader_"+a.miLearner.miLearner.missionLearnerData.learnerSubmission.gamificationEntityId+"_submission_"+a.miLearner.miLearner.missionLearnerData.learnerSubmission.userId;a.uploaderId=d;var f=function(a,b){return function(d){c(d,a,b,"upload")}};a.temUploaderObjects=a.temUploaderObjects||{},a.temUploaderObjects[d]=a.temUploaderObjects[d]||{},a.temUploaderObjects[d].uploadObj=m.createTemUploader(d,{zIndex:2050}),a.temUploaderObjects[d].uploadObj.successCallback(_.bind(f(d,0),a)),a.temUploaderObjects[d].mediaState="upload",a.gameId=a.miLearner.miLearner.missionLearnerData.gamificationEntityId,a.playableId=a.miLearner.miLearner.missionLearnerData.playableObjectId,a.userId=a.miLearner.miLearner.missionLearnerData.userId,a.submissionsList=a.miLearner.miLearner.missionLearnerData.oldSumissionIds,a.hasSubmissions=_.keys(a.submissionsList).length>0,a.$evalAsync(),a.largeContent=!0,j(function(){var b=$(".mdesHeight").height();a.largeContent=b>70,a.showReadMore=!1},100),a.showPopulatePrevScore=!1,a.lastSubmissionId=a.submissionsList[a.miLearner.miLearner.missionLearnerData.learnerSubmission.reattemptVersion-1],a.lastSubmission=void 0,a.lastSubmissionId?(a.lastSubmission=n.getSubmissionsData([a.lastSubmissionId],a.gameId,a.playableId,a.userId),a.lastSubmission.$promise.then(function(b){_.keys(b.submissionList[a.lastSubmissionId].reviewerIdReviewMap).indexOf(learnerJson.id)!=-1&&(a.showPopulatePrevScore=!0)})):a.showPopulatePrevScore=!0;var g=!1;a.showTranscriptionAnalysis=!1,a.showSubtitles=!1,a.transcribableMedia=null,"VIDEO_PITCH"==a.miLearner.miObj.learningObject.missionLOType?a.transcribableMedia=a.submission.missionMedia[0].obj:"VOICE_OVER_PPT"==a.miLearner.miObj.learningObject.missionLOType?a.transcribableMedia=a.submission.missionMedia[0].obj.audio.obj:"SCREEN_CAPTURE"==a.miLearner.miObj.learningObject.missionLOType&&(a.transcribableMedia=a.submission.missionMedia[0].obj.screen.obj),null!=a.transcribableMedia&&(g="NOT_ENABLED"!=a.transcribableMedia.transcriptionStatus&&a.miLearner.miObj["static"].isTranscriptionEnabled),g&&null!=a.transcribableMedia?("SUCCESS"==a.transcribableMedia.transcriptionStatus?(void 0===a.submission.keywordsData&&(a.submission.keywordsData=n.getKeywordsDataForSubmission(a.submission.submissionId,a.gameId,a.userId)),a.submission.keywordsData.status="SUCCESS"):a.submission.keywordsData={status:a.transcribableMedia.transcriptionStatus,$resolved:!0},a.getSmartTranscriptionStatus()):a.submission.keywordsData={status:"NOT_ENABLED",$resolved:!0},a.activeReviewGuidanceParamId="",a.playerFilters={authors:[learnerJson]}};u(),a.shouldShowReviewGuidanceIcon=function(b){return null!=b.description&&b.description.length>0||a.showTranscriptionAnalysis&&b.keywords.length>0},a.getKeywordsMatchLevelClass=function(b){var c="",d=a.submission.keywordsData;return a.showTranscriptionAnalysis&&void 0!==d&&d.$resolved&&"SUCCESS"==d.status&&b.keywords.length>0&&null!=d[b.evalParamId]?d[b.evalParamId].used.length>=b.minKeywordsExpected?c+"goodMatch":c+"unsatisfactoryMatch":c},a.toggleReviewGuidance=function(b){a.activeReviewGuidanceParamId==b.evalParamId?a.closeReviewGuidance(b):(a.trackMPEvent("review_guidance_open",a.miLearner.miObj["static"],a.miLearner.miLearner.missionLearner,{evaluation_parameter_name:b.evalParam.name}),a.activeReviewGuidanceParamId=b.evalParamId)},a.closeReviewGuidance=function(b){a.trackMPEvent("review_guidance_close",a.miLearner.miObj["static"],a.miLearner.miLearner.missionLearner,{evaluation_parameter_name:b.evalParam.name}),a.activeReviewGuidanceParamId=""},a.hasReviewDocument=function(){return a.miLearner.miLearner.missionLearnerData.learnerSubmission&&a.miLearner.miLearner.missionLearnerData.learnerSubmission.reviewerIdReviewMap&&a.miLearner.miLearner.missionLearnerData.learnerSubmission.reviewerIdReviewMap[learnerJson.id]&&a.miLearner.miLearner.missionLearnerData.learnerSubmission.reviewerIdReviewMap[learnerJson.id].mediaId&&a.miLearner.miLearner.missionLearnerData.learnerSubmission.reviewerIdReviewMap[learnerJson.id].mediaId.length>0},a.getReviewerDocumentName=function(){return a.miLearner.miLearner.missionLearnerData.learnerSubmission.reviewerIdReviewMap[learnerJson.id].mediaId[0].title},a.downloadAttachment=function(){var b=a.miLearner.miLearner.missionLearnerData.learnerSubmission.reviewerIdReviewMap[learnerJson.id].mediaId[0].object,c=e.getMedia(b);c.$promise.then(function(a){var b=a.original_path||a.processed_path;window.open(b,"_self")},function(){Utils.Func.alert("Unable to download media, try again later.")})},a.downloadLogMixPanel=function(){Game.MixPanelTracking.track("Download Review",{MissionName:a.miLearner.miObj["static"].name,MissionId:a.miLearner.miObj["static"].id})},a.removeReviewerDocument=function(){var b=a.miLearner.miLearner.missionLearnerData.learnerSubmission.reviewerIdReviewMap;b[learnerJson.id].mediaId=[],a.temUploaderObjects[a.uploaderId].uploadObj.setState(0),a.$evalAsync()},a.canUploadReviewDocument=function(){return!0},a.canGoPreviousReview=function(){return!o&&0!=q},a.canGoNextReview=function(){return!o&&q+1<e.store.reviewsArray.length},a.getTrustedUrl=function(b){return i.trustAsResourceUrl(b+"&dontshowbignavigation="+a.timeParam)},a.calculateDivHeight=function(){return a.largeContent&&a.showReadMore?"mDesHeightLarge":"mDesHeightSmall"},a.gotoPrevious=function(){if(!o&&0!=q){r(e.store.reviewsArray[q--]);var b=e.store.reviewsArray[q];a.miLearner=s(q),q=b.indexReviews,Game.MixPanelTracking.track("Previous Review",{Location:e.currType,MissionName:a.miLearner.miObj["static"].name,MissionId:a.miLearner.miObj["static"].id}),u(),a.$evalAsync()}},a.gotoNext=function(){if(!(o||q+1>=e.store.reviewsArray.length)){r(e.store.reviewsArray[q++]);var b=e.store.reviewsArray[q];a.miLearner=s(q),q=b.indexReviews,u(),Game.MixPanelTracking.track("Next Review",{MissionName:a.miLearner.miObj["static"].name,MissionId:a.miLearner.miObj["static"].id,LearnerName:a.miLearner.miLearner.missionLearner.user.name,LearnerID:a.miLearner.miLearner.missionLearner.user.id}),a.$evalAsync()}},a.viewMoreLink=function(a){return angular.element("#mDescriptionDIv").height()>=60},a.getHRMINSS=function(a){var b=Math.floor(a/60);b<10&&(b="0"+b);var c=Math.floor(a%60);return c<10&&(c="0"+c),b+":"+c},a.renderHtml=function(a){return i.trustAsHtml(a)},a.renderUrl=function(a){return i.trustAsUrl(location.protocol+a)},a.cancel=function(){p.close("cancel")},a.evalParams=function(b,c){return a.evalParamsScore[b]},a.getAverageRating=function(){var b=0,c=0;for(var d in a.evalParamsScore)if(d&&"undefined"!=d){var e=a.miLearner.miObj.learningObject.evaluationParams[d].weight||1;b+=a.evalParamsScore[d]*e,c+=e}return c?Math.floor(b/c)/100:0},a.changeEvalParam=function(b,c){a.didIReviewed||(a.evalParamsScore[b]=c,null==a.$$phase&&a.$apply())};var v=function(){
return!(a.didIReviewed&&!a.inReviewEditMode)&&(!a.isSubmitting&&(a.isSubmitting=!0,!0))},w=function(b){j(function(){mtBrodCastService.brodCast("update.reviews.count"),a.isSubmitting=!1,a.didIReviewed=!0,a.declined=!0;for(var b=0;b<a.miLearner.miLearner.missionLearner.reviewers.length;b++)a.miLearner.miLearner.missionLearner.reviewers[b].id==learnerJson.id&&(a.miLearner.miLearner.missionLearner.reviewers[b].status="DECLINED");a.miLearner.miLearner.missionLearner.declined=!0},1e3)},x=function(b){j(function(){mtBrodCastService.brodCast("update.reviews.count"),a.isSubmitting=!1,a.didIReviewed=!0,a.inReviewEditMode=!1,a.controlApi.pause&&a.controlApi.pause(),a.miLearner.miLearner.missionLearner.state.current="COMPLETED";for(var c=0;c<a.miLearner.miLearner.missionLearner.reviewers.length;c++)a.miLearner.miLearner.missionLearner.reviewers[c].id==learnerJson.id&&(a.miLearner.miLearner.missionLearner.reviewers[c].status="COMPLETED");a.miLearner.miLearner.missionLearnerData=b.missionUserLearningObject,a.miLearner.miLearner.missionLearnerData.learnerSubmission=b.submission,a.myreview=a.miLearner.miLearner.missionLearnerData.reviewerIdReviewMap[learnerJson.id]},1e3)},y=function(b){a.isSubmitting=!1;var c=a.Messages.M_ERROR_SUBMITTING;b.data&&b.data.message&&b.data.message.length>0&&(c=b.data.message),Game.MixPanelTracking.track("mission submit fail",{"request-id":b.headers("request-id"),errorCode:b.status,LearnerName:learner.miLearner.missionLearner.user.name,LearnerID:learner.miLearner.missionLearner.user.id,MissionName:learner.miObj["static"].name,MissionID:learner.miObj["static"].id,ErrorMessage:c}),Utils.Func.alert(c,null,!1,null,{zIndex:1060})};a.declineReview=function(b){Utils.Func.confirm(a.Messages.M_DECLINE_REVIEW_CONFIRM,function(){v()&&(Game.MixPanelTracking.track("Decline Review",{LearnerName:b.miLearner.missionLearner.user.name,LearnerID:b.miLearner.missionLearner.user.id,MissionName:b.miObj["static"].name,MissionID:b.miObj["static"].id}),e.declineReview({learnerId:b.miLearner.missionLearner.user.id,missionId:b.miLearner.missionLearnerData.gamificationEntityId},{}).$promise.then(w,y))})},a.showErrors=!1,a.errors={},a.submitReview=function(b){for(var c=!0,d=0;d<a.miLearner.miObj.learningObject.evaluationParams.length;d++)if(void 0===a.evalParamsScore[d]||null===a.evalParamsScore[d]){c=!1;break}if(c||(a.showErrors=!0,a.errors.ratingsNotProvided=a.Messages.M_PROVIDE_SCORE),a.showErrors)return j(function(){a.showErrors=!1,a.errors={},a.$evalAsync()},6e3),void a.$evalAsync();if(v()){var f="SUBMIT";a.inReviewEditMode&&(f="edit"),Game.MixPanelTracking.track("Submit Review",{LearnerName:b.miLearner.missionLearner.user.name,LearnerID:b.miLearner.missionLearner.user.id,MissionName:b.miObj["static"].name,MissionID:b.miObj["static"].id,"CutOff Score":b.miObj.settings.certificateScore,"Review Score":a.getAverageRating(),ReviewType:f});var g=a.miLearner.miLearner.missionLearnerData.learnerSubmission.reviewerIdReviewMap||{};g[learnerJson.id]=g[learnerJson.id]||{},g[learnerJson.id]=_.extend({},g[learnerJson.id],{evalParamIdxRatingMap:a.evalParamsScore,positiveFeedback:[{text:a.feedbacks.positiveFeedback,type:"TEXT"}],constructiveFeedback:[{text:a.feedbacks.constructiveFeedback,type:"TEXT"}],reviewState:"SUBMITTED"});var h=JSON.stringify({reviewerIdReviewMap:g,reviewerId:learnerJson.id,submissionId:b.miLearner.missionLearnerData.submissionId});e.updateMissionObject({learnerId:b.miLearner.missionLearner.user.id,missionId:b.miLearner.missionLearnerData.gamificationEntityId,submissionId:b.miLearner.missionLearnerData.submissionId,action:f,reattemptVersion:b.miLearner.missionLearnerData.learnerSubmission.reattemptVersion},{reviewer:learnerJson.id,updatedFieldsAndValues:h,learningObjectType:b.miLearner.missionLearnerData.type,learningObjectId:b.miObj.learningObject.id}).$promise.then(x,y)}},a.editReview=function(b){Game.MixPanelTracking.track("mission edit review",{LearnerName:b.miLearner.missionLearner.user.name,LearnerID:b.miLearner.missionLearner.user.id,MissionName:b.miObj["static"].name,MissionID:b.miObj["static"].id,"CutOff Score":b.miObj.settings.certificateScore,"Review Score":a.getAverageRating()}),a.oldReview=angular.copy(b.miLearner.missionLearnerData.reviewerIdReviewMap[learnerJson.id]),a.inReviewEditMode=!0},a.discardEdit=function(b){Game.MixPanelTracking.track("mission discard changes",{LearnerName:b.miLearner.missionLearner.user.name,LearnerID:b.miLearner.missionLearner.user.id,MissionName:b.miObj["static"].name,MissionID:b.miObj["static"].id,"CutOff Score":b.miObj.settings.certificateScore,"Review Score":a.getAverageRating()}),a.miLearner.miLearner.missionLearnerData.reviewerIdReviewMap[learnerJson.id]=angular.copy(a.oldReview),t(),a.inReviewEditMode=!1}}]),angular.module("reviews").directive("reviewEntity",function(){var a=templateBaseUrl+"/reviews/review_entity.html";return"DASHBOARD"==companySettings.lsSettings.lsView&&(a=templateBaseUrl+"/dashboard/reviews/review_entity.html"),{restrict:"A",templateUrl:a}}).directive("mtFullHeight",function(){var a=$(window),b=$(document);return function(c,d,e){var f=function(){var c=d.offset(),e=Math.max(b.height(),a.height()),f=e-c.top;d.height(f)};f(),a.resize(f)}}).directive("normalFullHeight",function(){var a=$(window),b=$(document);return function(c,d,e){var f=function(){var c=(d.offset(),Math.max(b.height(),a.height())),e=c-48;d.height(e)},g=function(){var c=(d.offset(),Math.min(b.height(),a.height())),e=c-48;d.height(e)};setTimeout(f,300),a.resize(g)}}),angular.module("reviews").factory("reviewsStore",["learningBoardServiceFactory","$log","$q","$resource","$timeout","$queueFactory",function(a,b,c,d,e,f){var g=d("/:cname/reviews",{cname:cname,entityId:"@entityId",userId:"@userId",closed:"@closed"},{saveSubmission:{url:"/"+cname+"/:entityId/:userId/learnersubmission",method:"POST",cache:!1},fetchCall:{url:"/:cname/reviews",method:"POST",cache:!1},updateMissionObject:{url:"/:cname/reviews/:missionId/:learnerId/:submissionId",method:"POST"},getSingleReview:{url:"/:cname/reviews/entity/:missionId/user/:learnerId",method:"GET"},declineReview:{url:"/:cname/reviews/:missionId/:learnerId/decline",method:"POST"},getByIdCall:{url:"/reviews/:reviewEntityId",method:"GET",cache:!1},updateCall:{url:"/:cname/learners/exists",method:"GET",cache:!1},getAllCall:{url:"/:cname/learners/exists",method:"GET",cache:!1},getGlobalMedia:{url:"/:cname/media/:mediaId",method:"GET",cache:!0},getUniqueMissions:{url:"/:cname/missions/data",method:"POST",cache:!0},getAllLearnerFieldReviews:{method:"POST",url:"/:cname/coaching_review",cache:!1},getLearnerReviewFormHistory:{method:"GET",url:"/:cname/coaching/:entityId/:userId/:lastAttemptedVersion"},getModuleStaticDataForVersion:{method:"GET",url:"/:cname/:entityId/:version/data"},scheduleAppointment:{method:"POST",url:"TODO"},updateReviewForm:{method:"POST",url:"/:cname/coaching_evaluation_update"},submitReview:{method:"POST",url:"/:cname/coaching/:entityId/:userId/submit_review"}}),h=function(){g.store.start=0,g.store.pageSize=9,g.store.pages=[],g.store.keys={},g.store.reviewsArray=[],g.store.practice=[]};return g.coachingUpdateQueue=f(1,!0),g.store={},g.store.missionMap={},g.missionRequest=null,g.missionsQuery={start:0,count:10},g.currType="ALL",g.currQuery=void 0,g.store.uniqueMissionsList=[],g.store.filterObj={filter:{reviewer:learnerJson.id,entity_learner_state:["SUBMITTED","COMPLETED"]}},g.errorFunc=function(a){console.log("error loading documents.")},h(),g.saveReviewerMedia=function(a,b,c,d,e,f,h){h[learnerJson.id]=h[learnerJson.id]||{},h[learnerJson.id].mediaId=h[learnerJson.id].mediaId||[],h[learnerJson.id].mediaId.push({type:f.type,object:f.id,title:f.title});var i={submissionId:b,reviewerIdReviewMap:h},j=Utils.Func.qeEncode(JSON.stringify(i));g.saveSubmission({entityId:a,userId:c},{learningObjectType:d,learningObjectId:e,updatedFieldsAndValues:j});return h},g.fetch=function(a,b,c,d,e,f){a?g.store.start=g.store.reviewsArray&&g.store.reviewsArray.length?g.store.reviewsArray.length:g.store.start+g.store.pageSize:g.store.start=0;var h=d||g.store.filterObj;_.indexOf(["PENDING","COMPLETED","DECLINED"],f)>-1?h.filter.reviewer_state_allowed=[f]:a?h.filter.reviewer_state_allowed=h.filter.reviewer_state_allowed||["PENDING","COMPLETED"]:h.filter.reviewer_state_allowed=["PENDING","COMPLETED"];var i="undefined"==typeof b?g.store.pageSize:b;0==g.store.start&&(g.store.pages=[],g.store.keys={},g.store.reviewsArray=[],g.store.practice=[]);var j={start:g.store.start,count:i,query:e,sort_on:"companies.entities.state.timestamp"},k=g.fetchCall(j,h);g.store.filterObj=h;k.$promise.then(function(){for(var a=0;a<k.missionLearners.length;a++){var b=k.missionLearners[a];g.store.keys[b.missionLearner.id+"|"+b.missionLearnerData.userId]=[g.store.pages.length,a],b.practice={},g.store.reviewsArray.push(b),g.store.reviewsArray[g.store.reviewsArray.length-1].indexReviews=g.store.reviewsArray.length-1,k.missionLearners[a].reviewsArray=g.store.reviewsArray.length-1}for(var c in k.missionMap)g.store.missionMap[c]=g.store.missionMap[c]||{},g.store.missionMap[c]=_.extend({},g.store.missionMap[c],k.missionMap[c])},c),g.store.pages.push(k)},g.loadMissions=function(a){a||(g.missionsQuery.start=0),g.missionRequest=g.getUniqueMissions(g.missionsQuery,{}),g.missionRequest.$promise.then(function(a){0==g.missionsQuery.start&&(g.store.uniqueMissionsList=[]),g.store.uniqueMissionsList=g.store.uniqueMissionsList.concat(a.missions),g.store.uniqueMissionsList.sort(function(a,b){var c=a.name.toLowerCase(),d=b.name.toLowerCase();return c<d?-1:c>d?1:0}),g.missionsQuery.start+=g.missionsQuery.count})},g.refresh=function(a){var b;a||(b=g.store.pageSize+g.store.start),h(),g.fetch(!1,b,g.errorFunc,g.store.filterObj,g.currQuery,g.currType)},g.clearQuery=function(){g.currQuery=void 0,g.refresh(!0)},g.clearSelectedMission=function(){g.store.filterObj={filter:{reviewer:learnerJson.id,entity_learner_state:["COMPLETED","SUBMITTED"]}},g.refresh(!0)},g.selectMission=function(a){g.store.filterObj.filter.entity=a,g.refresh(!0)},g.getById=function(a,b){if(g.store.keys[b+"|"+a])return g.store.pages[g.store.keys[b+"|"+a]]},g.getMedia=function(a){return g.getGlobalMedia({mediaId:a,_:Date.now()})},g.update=function(){},g.getAll=function(){},g}]).factory("UploaderFactoryReviews",["s3Api",function(a){var b={},c=function(c,d){return d=d||{},d.uploadObjTmpl="script#tmpl_uploadProgress_mini",d.uploadId=c,d.uploadService=a,d.dontRenderZip=!0,b[c]=b[c]||UploadeManager.createTemUploader(null,null,d),b[c]};return{createTemUploader:c}}]),angular.module("assessment",["ui.bootstrap","mtTranslate","swfobject","timer","ui.bootstrap","infinite-scroll","ngCookies"]),angular.module("assessment").controller("AssessmentController",["$scope","$translate","$state","$stateParams","AssessmentService","mtHistory",function(a,b,c,d,e,f){window.loadedFromParent=d.series,$.ajaxSettings&&$.ajaxSettings.data&&delete $.ajaxSettings.data.loadedEntityVersion,this.tab="attempt";var g=this;a.Game=Game;var h=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i);a.isIPad=function(){return h},a.loaderImg=assetsBase+"/images/ajax-loader.gif",this.showGetSupport=function(){this.getSupport||(this.getSupport=new Game.GetSupport(learnerJson)),this.getSupport.render()},g.scope=a,Game.FullScreenPopupManager.closeAll()}]).controller("AssessmentAttemptController",["$scope","$rootScope","$translate","$state","$stateParams","$sce","AssessmentService","$timeout","$rootScope","$interval","$cookies","$modal",function(a,b,c,d,e,f,g,h,b,j,k,l){window.mtBrodCastService=angular.element(document.body).injector().get("mtBrodCast");var m=this,n=this;Utils.Func.pingAA(b,j,h),a.audioRecSwf="/assets/libs/AudioRec.swf",this.fetchData={$resolved:!1},m.hasPermissions=!1,a.fetchData=this.fetchData,this.lastFetchCall=Date.now(),this.tutorialOpen=!1,a.goBack=function(){var b;b=a.assessment.fetchData.seriesVo?a.assessment.fetchData.seriesVo.id:a.assessment.fetchData.entityLearner.invited_from[a.assessment.fetchData.entityLearner.invited_from.length-1],"undefined"!=typeof loadedFromParent&&_.indexOf(a.assessment.fetchData.entityLearner.invited_from,loadedFromParent)!=-1&&(b=loadedFromParent),d.go("root.courses",{series:b})},a.openADDetails=function(){a.assessment.fetchData.entityLearner.invited_from[a.assessment.fetchData.entityLearner.invited_from.length-1];location.hash="#/"+a.assessment.fetchData.entityLearner.entity},a.getDueDateText=Utils.Func.getDueDateText,a.isDueToday=Utils.Func.isDueTodayOrTomorrow,a.isNewDashboard=!1,a.getBackButtonName=function(){return"undefined"!=typeof appSettings&&appSettings.isPreview?"Exit Preview":this.fetchData&&this.fetchData.$resolved&&a.assessment.fetchData.seriesVo&&"_default"!=a.assessment.fetchData.entityLearner.invited_from[a.assessment.fetchData.entityLearner.invited_from.length-1]?("DASHBOARD"==companySettings.lsSettings.lsView&&(a.isNewDashboard=!0),a.assessment.fetchData.seriesVo.name):(a.isNewDashboard=!1,Game.Messages.MY_BOARD)},a.parseTime=function(a){var b=Math.floor(a/60),c=Math.floor(a%60),d=(b>9?b:"0"+b)+":"+(c>9?""+c:"0"+c)+"m";return d},this.isAssessmentFrozen=function(){return!!(n.fetchData.$resolved&&n.fetchData.gameInfo.dueDate&&"FREEZE"==n.fetchData.gameInfo.dueDate.dueDateExpiryAction&&n.fetchData.entityLearner.due_on&&n.fetchData.entityLearner.due_on<Date.now()/1e3)},a.myQuestionsIds=[],this.unSubmitQuestion=function(){this.fetchData.GEState.status="IN_PROGRESS",this.fetchData.entityLearner.state.current="ACTIVE"},this.canSubmitQuestion=function(){return!(!this.fetchData.$resolved||"IN_PROGRESS"!=this.fetchData.GEState.status||"ACTIVE"!=this.fetchData.entityLearner.state.current)},n.assessmentStats={total:[],attempted:[],visitLater:[]},this.fetchEntity=function(){g.fetchEntity(e.entityId).then(function(b){if(m.fetchData=b,"undefined"!=typeof appSettings&&appSettings.isPreview&&(m.fetchData.$resolved=!0),window.courseInfo={fixed:b.gameInfo,settings:b.settings,user:b.GEState},g.courseName=courseInfo.fixed.name,g.courseId=courseInfo.fixed.id,"NEVER"==b.gameInfo.revealAnswerLevel&&"ACTIVE"!=b.entityLearner.state.current||n.isAssessmentFrozen()&&"IN_PROGRESS"==b.GEState.status)return void a.goBack();$(".tagClass").addClass("aBG_L").text("A"),mtBrodCastService.brodCast("COURSE_INFO",{courseInfo:courseInfo}),a.fetchData=this.fetchData,null==Utils.Func.isiPad&&(n.showReviews=!0);for(var c in b.topicStates)b.topicStates[c].orderedChildIds&&b.topicStates[c].orderedChildIds.length>0?a.myQuestionsIds=a.myQuestionsIds.concat(b.topicStates[c].orderedChildIds):(a.myQuestionsIds=a.myQuestionsIds.concat(b.topicStates[c].lockedChildIds),a.myQuestionsIds=a.myQuestionsIds.concat(b.topicStates[c].activeChildIds),a.myQuestionsIds=a.myQuestionsIds.concat(b.topicStates[c].completedChildIds));"undefined"!=typeof appSettings&&appSettings.isPreview&&(n.assessmentStats.total=a.myQuestionsIds),"undefined"==typeof appSettings||appSettings.isPreview||g.getAssessmentStats(e.entityId).then(function(a){n.assessmentStats=a});var d=Utils.Func.isMobileBrowser();n.assesmentAttemptMode="IN_PROGRESS"==b.GEState.status,n.assesmentAttemptMode&&(n.pendingCallIntervalFuntion=setInterval(n.makePendingSaveCalls,d?3e3:1e3));var f=a.myQuestionsIds[0];if(a.myQuestionsIds.forEach(function(a){n.saveAnswerJobs[a]={isOngoing:!1,hasFailed:!1,retriesLeft:1,quesObjInUpdation:void 0,quesObjInQueue:void 0,latestServerCopy:void 0}}),e.loid&&(f=e.loid),m.fetchQuestion(f),b.settings.timeLimit>0)if(b.GEState.timeoutTime>0&&"IN_PROGRESS"==b.GEState.status){var h=0;a.endTimeStamp=b.GEState.timeoutTime,a.timeRemaining=0!=b.GEState.timeoutTime?b.GEState.timeoutTime-NTP.fixTime()/1e3:b.settings.timeLimit,a.clock=Utils.Func.getClock(a.timeRemaining),a.stop=j(function(){a.timeRemaining-=1,h+=1,2===h&&(a.timeRemaining=a.endTimeStamp-NTP.fixTime()/1e3,h=0),a.timeRemaining>0?a.clock=Utils.Func.getClock(a.timeRemaining):(a.clock={mmss:Game.Messages.LB_TXT_TIMEUP,mmss2:Game.Messages.LB_TXT_TIMEUP,isRed:!0},j.cancel(a.stop),a.openAssessmentSummary(!0))},1e3)}else b.GEState.completedOn>0&&(a.clock=Utils.Func.getClock(b.GEState.completedOn-b.GEState.startedOn),a.clock.isRed=!1)})},this.saveAnswerJobs={},this.fetchesInProgress=[],a.failedUpdateIds=[],this.saveQuestionFromQueue=function(a){var b=angular.copy(n.saveAnswerJobs[a]);n.saveAnswerJobs[a]={isOngoing:!0,hasFailed:!1,quesObjInUpdation:b.quesObjInQueue,retriesLeft:b.retriesLeft-1,quesObjInQueue:void 0,latestServerCopy:angular.copy(n.userQuestionsServer[a])},g.saveTickle(e.entityId,b.quesObjInQueue).then(function(c){n.saveQuestionToServerSuccess(a,b.quesObjInQueue)},function(){n.saveAnswerJobs[a].isOngoing=!1,n.saveAnswerJobs[a].hasFailed=!0,n.saveAnswerJobs[a].quesObjInQueue||(n.saveAnswerJobs[a].quesObjInQueue=n.saveAnswerJobs[a].quesObjInUpdation)})},this.makePendingSaveCalls=function(){Object.keys(n.saveAnswerJobs).forEach(function(a){var b=n.saveAnswerJobs[a];b.isOngoing||b.hasFailed||!b.quesObjInQueue?b.hasFailed&&(b.retriesLeft>0?n.saveQuestionFromQueue(a):n.saveQuestionToServerFailure(a,b.latestServerCopy)):n.saveQuestionFromQueue(a)})},this.fetchEntity(),a.$on("$destroy",function(){a.stop&&j.cancel(a.stop)}),this.userQuestions={},this.userQuestionsServer={},this.loadedUserQuestion=!1,this.fetchQuestion=function(b){var c=a.failedUpdateIds.indexOf(b);c!=-1&&(a.failedUpdateIds.splice(c,1),n.saveAnswerJobs[b].hasFailed=!1),j.cancel(n.qstSavetimer),n.loadedUserQuestion=!1,n.currentQuestion?n.saveQuestion(void 0,b):n.openQuestion(b)},a.fetchQuestionById=this.fetchQuestion,this.fetchNearbyQuestions=function(b){var c=1,d=a.myQuestionsIds.indexOf(b),f=a.myQuestionsIds.length;if(1!=f){var h=[];for(i=d+1;i<f&&(n.userQuestions[a.myQuestionsIds[i]]||n.fetchesInProgress.indexOf(a.myQuestionsIds[i])>-1||(h.push(a.myQuestionsIds[i]),h.length!=c));i++);for(i=d-1;i>-1&&(n.userQuestions[a.myQuestionsIds[i]]||n.fetchesInProgress.indexOf(a.myQuestionsIds[i])>-1||(h.push(a.myQuestionsIds[i]),h.length!=2*c));i--);h.forEach(function(a){n.fetchesInProgress.push(a),g.loadTickle(e.entityId,a).then(function(b){n.userQuestions[a]=angular.copy(b),n.userQuestionsServer[a]=angular.copy(b);var c=n.fetchesInProgress.indexOf(a);c>-1&&n.fetchesInProgress.splice(c,1)})})}},this.openQuestion=function(b){n.loadedUserQuestion=!1,n.learnerCurrentAnswer="",n.uOpened=!1,this.userQuestions[b]?(n.currentQuestion=n.userQuestions[b],n.canSubmitQuestion()&&(n.qstSavetimer=j(n.saveQuestion,1e3)),a.drawQuestionMedia(1),n.setQModeForTextAnswer(),n.loadedUserQuestion=!0,n.assesmentAttemptMode&&n.fetchNearbyQuestions(b)):(n.assesmentAttemptMode&&n.fetchesInProgress.push(b),g.loadTickle(e.entityId,b).then(function(c){if(n.userQuestions[b]=c,n.currentQuestion=c,n.userQuestionsServer[b]=angular.copy(c),n.canSubmitQuestion()&&(n.qstSavetimer=j(n.saveQuestion,1e3)),n.loadedUserQuestion=!0,a.drawQuestionMedia(),n.setQModeForTextAnswer(),n.assesmentAttemptMode){var d=n.fetchesInProgress.indexOf(b);d>-1&&n.fetchesInProgress.splice(d,1),n.fetchNearbyQuestions(b)}}))},this.setQModeForTextAnswer=function(){n.currentQuestion&&"LO_TEXT"==n.currentQuestion.staticData.type&&(n.currentQuestion.userData.lastAttempt||!n.canSubmitQuestion()?n.qMode="VIEW":n.qMode="EDIT")},this.showTextAnswerEdit=function(){n.learnerCurrentAnswer=n.currentQuestion.userData.lastAttempt,n.qMode="EDIT"},this.saveTextAnswer=function(){return n.currentQuestion.userData.lastAttempt&&""==$.trim(n.learnerCurrentAnswer)?(n.currentQuestion.userData.lastAttempt="",n.qMode="EDIT",void(n.uOpened=!1)):(""!=$.trim(n.learnerCurrentAnswer)&&(n.currentQuestion.userData.lastAttempt=$.trim(n.learnerCurrentAnswer)),void n.cancelTextAnswerEdit())},this.cancelTextAnswerEdit=function(){n.qMode="VIEW"},a.zoomContent=function(){n.currentQuestion.staticData.media&&"IMAGE"==n.currentQuestion.staticData.media.type&&n.isLargeImage&&(this.zoomContentView=new Game.ZoomContentViewer(n.currentQuestion.staticData.media),this.zoomContentView.render())},a.setDraggerCss=function(a,b,c){"LO_MIXMATCH"==n.currentQuestion.staticData.type?c>b?a.css({left:"-182px",top:-(85*(c-b))+"px"}):c==b?a.css({left:"-182px",top:"0px"}):c<b&&a.css({left:"-182px",top:85*(b-c)+"px"}):"LO_IMGMIXMATCH"==n.currentQuestion.staticData.type&&(c>b?a.css({top:"-112px",left:-(140*(c-b))+"px"}):c==b?a.css({top:"-112px",left:"0px"}):c<b&&a.css({top:"-112px",left:140*(b-c)+"px"}))},a.drawDragOptions=function(){if(n.currentQuestion.staticData&&("LO_MIXMATCH"==n.currentQuestion.staticData.type||"LO_IMGMIXMATCH"==n.currentQuestion.staticData.type)){n.droppedOptions={};var b=null;if("LO_MIXMATCH"==n.currentQuestion.staticData.type?b=n.currentQuestion.staticData.options:"LO_IMGMIXMATCH"==n.currentQuestion.staticData.type&&(b=n.currentQuestion.staticData.images),b)for(var c=0;c<b.length;c++){var d=$("#dclass-"+n.currentQuestion.staticData.id+" div.dragger[matchIndex="+c+"]");d.css({top:"",left:""})}if(n.currentQuestion.userData.allAttempts&&n.currentQuestion.userData.allAttempts.length>0)for(var e=0;e<n.currentQuestion.userData.allAttempts.length;e++){var f=n.currentQuestion.userData.allAttempts[e];n.droppedOptions[f.optionId]=f.matchId;var d=$("#dclass-"+n.currentQuestion.staticData.id+" div.dragger[matchId="+f.matchId+"]");a.setDraggerCss(d,f.optionId,d.attr("matchIndex"))}if(n.canSubmitQuestion()){var g=$(".dragger").css({"z-index":1}).addClass("canDrag"),h=$(".dropper");g.draggable({revert:"invalid",zIndex:2,start:function(a,b){b.helper.parent().addClass("dragging"),b.originalPosition.top=0,b.originalPosition.left=0;var c=parseInt(b.helper.attr("matchId"),10);for(var d in n.droppedOptions)n.droppedOptions[d]==c&&delete n.droppedOptions[d];n.currentQuestion.userData.allAttempts=[];for(var d in n.droppedOptions)n.currentQuestion.userData.allAttempts.push({optionId:parseInt(d,10),matchId:parseInt(n.droppedOptions[d],10)})},stop:function(a,b){b.helper.parent().removeClass("dragging")}}),h.droppable({tolerance:"intersect",hoverClass:"hover",drop:function(b,c){var d=parseInt($(this).attr("optionIndex"),10),e=parseInt(c.helper.attr("matchId"),10),f=parseInt(c.helper.attr("matchIndex"),10);if(n.droppedOptions.hasOwnProperty(d)||n.droppedOptions.hasOwnProperty(d+""))return c.helper.animate({top:0,left:0}),!0;for(var g in n.droppedOptions)n.droppedOptions[g]==e&&delete n.droppedOptions[g];n.droppedOptions[d]=e,a.setDraggerCss(c.helper,d,f),n.currentQuestion.userData.allAttempts=[];for(var g in n.droppedOptions)n.currentQuestion.userData.allAttempts.push({optionId:parseInt(g,10),matchId:parseInt(n.droppedOptions[g],10)});return!0}})}}return!0},a.drawQuestionMedia=function(){if(setTimeout(function(){a.drawDragOptions()},300),n.currentQuestion.staticData.media&&n.currentQuestion.staticData.media.id?($(".mediaDiv").css({visibility:"visible",height:"200px"}),this.contentView=new Game.MediaRenderView($(".mediaDiv"),n.currentQuestion.staticData.media,{autoPlay:!1,isSmallMp3:!0}),"VIDEO"==n.currentQuestion.staticData.media.type&&this.contentView.player.setMediaHeight(220),this.contentView.render()):($(".mediaDiv").css({visibility:"hidden"}),$(".mediaDiv .learningContent").empty()),n.currentQuestion.staticData.media&&"IMAGE"==n.currentQuestion.staticData.media.type){$(".mediaDiv img").css({cursor:"pointer"});var b=new Image;b.onload=function(){if(b.height<280&&b.height>0&&$(".mediaDiv").css({height:b.height}),b.width>350||b.height>280){var a=$('<div class="pos_abs cursor" style="left: 109px;top: 50px;"></div>');a.css({left:"45%",top:"50%",background:"url('//s3-ap-southeast-1.amazonaws.com/mtapps-cdn.mindtickle.com/new-zoom-icon.png')",width:"26px",height:"26px"}),$(".mediaDiv img").parent().prepend(a),n.isLargeImage=!0}else n.isLargeImage=!1;b.onload=function(){}},b.src=n.currentQuestion.staticData.media.processed_path}},this.triggerServerSave=function(a){var b=a.staticData.id;n.saveAnswerJobs[b].quesObjInQueue=angular.copy(a),n.userQuestions[b]=a,n.updateAssesmentAttemptStats(b)},this.saveQuestionToServerSuccess=function(a,b){n.saveAnswerJobs[a].isOngoing=!1,n.saveAnswerJobs[a].hasFailed=!1,n.saveAnswerJobs[a].quesObjInUpdation=void 0,n.saveAnswerJobs[a].retriesLeft=1,n.userQuestionsServer[a]=angular.copy(b)},this.saveQuestionToServerFailure=function(b,c){a.failedUpdateIds.indexOf(b)==-1&&a.failedUpdateIds.push(b),n.userQuestions[b]=angular.copy(c),b==n.currentQuestion.staticData.id&&(n.currentQuestion=c),n.saveAnswerJobs[b]={isOngoing:!1,hasFailed:!1,retriesLeft:1,quesObjInUpdation:void 0,quesObjInQueue:void 0},n.updateAssesmentAttemptStats(b)},this.updateAssesmentAttemptStats=function(a){var b=n.userQuestions[a],c=_.indexOf(n.assessmentStats.attempted,a);["LO_MCQ_TXT","LO_MCQ_IMG","LO_MIXMATCH","LO_IMGMIXMATCH"].indexOf(b.staticData.type)>-1?null==b.userData.allAttempts||0==b.userData.allAttempts.length?c!=-1&&(n.assessmentStats.attempted=n.assessmentStats.attempted.filter(function(b){return b!=a})):c==-1&&n.assessmentStats.attempted.push(a):"LO_TEXT"==b.staticData.type&&(b.userData.lastAttempt?c==-1&&n.assessmentStats.attempted.push(a):c!=-1&&(n.assessmentStats.attempted=n.assessmentStats.attempted.filter(function(b){return b!=a})))},this.saveQuestion=function(b,c){var d=n.currentQuestion.staticData.id,e=!1;if(n.saveAnswerJobs&&n.saveAnswerJobs[d]){var f=n.saveAnswerJobs[d].quesObjInUpdation,g=n.saveAnswerJobs[d].quesObjInQueue,h=n.saveAnswerJobs[d].isOngoing,i=a.failedUpdateIds.indexOf(d)>-1||n.saveAnswerJobs[d].hasFailed;g&&!angular.equals(g,n.currentQuestion)&&(e=!0),f&&!angular.equals(f,n.currentQuestion)&&(e=!0),h||angular.equals(n.userQuestionsServer[d],n.currentQuestion)||(e=!0),i&&(e=!1)}e&&n.canSubmitQuestion()&&n.triggerServerSave(n.currentQuestion),c&&n.openQuestion(c)},a.getCurrentQuestionIndex=function(){return n.currentQuestion?_.indexOf(a.myQuestionsIds,n.currentQuestion.staticData.id):0},a.getNumCorrect=function(){var a=0;if(n.currentQuestion)if("LO_MCQ_TXT"==n.currentQuestion.staticData.type)for(var b=0;b<n.currentQuestion.staticData.options.length;b++)n.currentQuestion.staticData.options[b].isCorrect&&(a+=1);else if("LO_MCQ_IMG"==n.currentQuestion.staticData.type)for(var b=0;b<n.currentQuestion.staticData.options.length;b++)n.currentQuestion.staticData.options[b].isSelected&&(a+=1);return a},a.showCorrectAnswers=function(){if(n.currentQuestion&&!n.canSubmitQuestion()&&n.fetchData&&n.fetchData.entityLearner){if("NEVER"==n.fetchData.gameInfo.revealAnswerLevel)return!1;if("ALWAYS"==n.fetchData.gameInfo.revealAnswerLevel)return!0;if("PASS"==n.fetchData.GEState.completionStatus)return!0;if(!n.fetchData.gameInfo.canReattempt)return!0;if(9999==n.fetchData.gameInfo.numberOfAllowedReattempts)return!1;var a=n.fetchData.GEState.reattemptVersion;null!=n.fetchData.GEState.lastCertficationReattemptNumber&&n.fetchData.GEState.lastCertficationReattemptNumber>0&&(a=n.fetchData.GEState.reattemptVersion-n.fetchData.GEState.lastCertficationReattemptNumber);var b=Utils.Func.getRemainingReAttempsForLearner(n.fetchData.gameInfo.numberOfAllowedReattempts,a);if(9999!=n.fetchData.gameInfo.numberOfAllowedReattempts&&0==b)return!0}return!1},a.showDragger=function(b){if(n.canSubmitQuestion()||!a.showCorrectAnswers())return!0;for(var c=0;c<n.currentQuestion.userData.allAttempts.length;c++){var d=n.currentQuestion.userData.allAttempts[c];if(b==d.matchId)return!0}return!1},a.getDraggerClass=function(a){var b="";if(n.currentQuestion&&!n.canSubmitQuestion()&&n.droppedOptions)for(var c=0;c<n.currentQuestion.userData.allAttempts.length;c++){var d=n.currentQuestion.userData.allAttempts[c];d.matchId==a&&(b=d.matchId==a&&d.optionId==a?"correct":"wrong")}return b},a.getRowClass=function(b){var c="";return n.currentQuestion&&(n.canSubmitQuestion()?n.currentQuestion.userData.allAttempts&&_.indexOf(n.currentQuestion.userData.allAttempts,b)!=-1&&(c="submitted"):(a.showCorrectAnswers()||"CORRECT"==n.currentQuestion.userData.completionState)&&(_.indexOf(n.currentQuestion.userData.correctAttempts,b)!=-1?c="correct":_.indexOf(n.currentQuestion.userData.wrongAttempts,b)!=-1?c="wrong":(n.currentQuestion.staticData.options[b].isCorrect||n.currentQuestion.staticData.options[b].isSelected)&&(c="correct not_answered"))),c},a.selectOption=function(b,c){if(n.currentQuestion&&n.canSubmitQuestion()){var d=a.getNumCorrect();null==n.currentQuestion.userData.allAttempts&&(n.currentQuestion.userData.allAttempts=[]);var e=_.indexOf(n.currentQuestion.userData.allAttempts,c);e==-1?1==d?n.currentQuestion.userData.allAttempts=[c]:n.currentQuestion.userData.allAttempts.push(c):n.currentQuestion.userData.allAttempts.splice(e,1)}},a.toggleVisitLater=function(){if(n.currentQuestion&&n.canSubmitQuestion()&&!n.tutorialOpen){n.currentQuestion.userData.visitLater=!n.currentQuestion.userData.visitLater;var a=_.indexOf(n.assessmentStats.visitLater,n.currentQuestion.staticData.id);n.currentQuestion.userData.visitLater?a==-1&&n.assessmentStats.visitLater.push(n.currentQuestion.staticData.id):a!=-1&&n.assessmentStats.visitLater.splice(a,1)}},a.canGotoNext=function(){var b=a.getCurrentQuestionIndex();return b+1!=a.myQuestionsIds.length},a.canGotoPrev=function(){var b=a.getCurrentQuestionIndex();return 0!=b},a.gotoNext=function(){var b=a.getCurrentQuestionIndex();a.canGotoNext()&&n.fetchQuestion(a.myQuestionsIds[b+1])},a.gotoPrev=function(){var b=a.getCurrentQuestionIndex();a.canGotoPrev()&&n.fetchQuestion(a.myQuestionsIds[b-1])},this.openReview=function(){n.showReviews?($(".shakeOpenPanel").css({width:150}),setTimeout(function(){$(".shakeOpenPanel").css({width:232})},300)):n.showReviews=!0},a.getCss=function(a){if(n.tutorialOpen){var b={"z-index":"1100",background:"#fff","border-top":"1px solid transparent","border-bottom":"1px solid transparent",cursor:"default",position:"relative"};return a?(delete b["border-top"],delete b["border-bottom"],1==n.currentStep&&delete b["z-index"]):2==n.currentStep&&delete b["z-index"],b}return""},n.currentStep=1,a.openAssessmentTutorial=function(){n.tutorialOpen=!0;var a=l.open({templateUrl:templateBaseUrl+"/assessment/assessment_tutorial.html",controller:"AssessmentTutorialController",backdrop:"static",keyboard:!1,size:"sm",resolve:{thObj:function(){return n}}});a.result.then(function(a){n.tutorialOpen=!1,n.currentStep=1})},a.openAssessmentSummary=function(b){b||(b=!1),a.existingSummary&&a.existingSummary.dismiss();var c=l.open({templateUrl:templateBaseUrl+"/assessment/assessment_summary.html",controller:"AssessmentSummaryController",backdrop:"static",keyboard:!1,size:"sm",resolve:{thObj:function(){return n},timeUp:function(){return b}}});a.existingSummary=c,c.result.then(function(b){if(n.pendingCallIntervalFuntion&&clearInterval(n.pendingCallIntervalFuntion),"SUBMIT"==b.action){var c,d=new Promise(function(a,b){c=setInterval(function(){Object.keys(n.saveAnswerJobs).forEach(function(a){n.saveAnswerJobs[a].isOngoing||n.saveAnswerJobs[a].quesObjInQueue||delete n.saveAnswerJobs[a]}),Object.keys(n.saveAnswerJobs).length>0?n.makePendingSaveCalls():a()},200)});d.then(function(){clearInterval(c),a.evaluateAssessment()})}else"DNS"==b.action?a.openFirstDNS():"VL"==b.action?a.openFirstVL():"VIEW_RESULT"==b.action&&a.openAssessmentResult();a.existingSummary=void 0}),n.summartModalInstance=c},a.openFirstDNS=function(){n.fetchQuestion(_.difference(a.myQuestionsIds,n.assessmentStats.attempted)[0])},a.openFirstVL=function(){n.fetchQuestion(n.assessmentStats.visitLater[0])},a.openAssessmentResult=function(b){n.summartModalInstance&&n.summartModalInstance.dismiss();var c=l.open({templateUrl:templateBaseUrl+"/assessment/assessment_result.html",controller:"AssessmentResultController",size:"sm",backdrop:"static",keyboard:!1,resolve:{thObj:function(){return n},showCloseButton:function(){return!!b&&b}}});c.result.then(function(b){"LB"==b.action?a.goBack():"AD"==b.action?a.openADDetails():"NextModule"==b.action&&(n.fetchData.nextModuleInfo.lockState="UNLOCKED",Utils.Func.gotoNextModule(d,n.fetchData.seriesVo.id,n.fetchData.gameInfo,n.fetchData.nextModuleInfo))})},a.evaluateAssessment=function(b){if(b||(b="SUBMITTED"),a.stop&&j.cancel(a.stop),"undefined"!=typeof appSettings&&appSettings.isPreview){var c=0;for(var d in n.userQuestions){
var f=n.userQuestions[d];if("LO_MCQ_TXT"==f.staticData.type||"LO_MCQ_IMG"==f.staticData.type)if(null==f.userData.allAttempts)f.userData.completionState="NOT_ANSWERED";else{for(var h=[],i=0;i<f.staticData.options.length;i++)(f.staticData.options[i].isCorrect||f.staticData.options[i].isSelected)&&h.push(i);f.userData.correctAttempts=[],f.userData.wrongAttempts=[];for(var i=0;i<f.userData.allAttempts.length;i++)_.indexOf(h,f.userData.allAttempts[i])!=-1?f.userData.correctAttempts.push(f.userData.allAttempts[i]):f.userData.wrongAttempts.push(f.userData.allAttempts[i]);f.userData.correctAttempts.length==h.length?(f.userData.completionState="CORRECT",f.userData.score+=f.staticData.maxScore,c+=f.staticData.maxScore):f.userData.allAttempts.length>0&&(f.userData.completionState="WRONG",c-=Math.round(n.fetchData.settings.wrongAttempPanelty*f.staticData.maxScore/100))}else if("LO_MIXMATCH"==f.staticData.type||"LO_IMGMIXMATCH"==f.staticData.type)if(null==f.userData.allAttempts)f.userData.completionState="NOT_ANSWERED";else{f.userData.correctAttempts=[],f.userData.wrongAttempts=[];for(var i=0;i<f.userData.allAttempts.length;i++)f.userData.allAttempts[i].optionId==f.userData.allAttempts[i].matchId?f.userData.correctAttempts.push(f.userData.allAttempts[i]):f.userData.wrongAttempts.push(f.userData.allAttempts[i]);var k=null;"LO_MIXMATCH"==f.staticData.type?k=f.staticData.options:"LO_IMGMIXMATCH"==f.staticData.type&&(k=f.staticData.images),f.userData.correctAttempts.length==k.length?(f.userData.completionState="CORRECT",f.userData.score+=f.staticData.maxScore,c+=f.staticData.maxScore):f.userData.allAttempts.length>0&&(f.userData.completionState="WRONG",c-=Math.round(n.fetchData.settings.wrongAttempPanelty*f.staticData.maxScore/100))}else"LO_TEXT"==f.staticData.type&&(f.userData.completionState="NOT_ANSWERED",f.staticData.exactAnswer.toLowerCase()==f.userData.lastAttempt.toLowerCase()||_.indexOf(f.staticData.variantAnswers,f.userData.lastAttempt)>-1?(f.userData.correctAttempt=f.userData.lastAttempt,f.userData.completionState="CORRECT",f.userData.score+=f.staticData.maxScore,c+=f.staticData.maxScore):f.userData.lastAttempt&&(f.userData.wrongAttempts=[f.userData.lastAttempt],f.userData.completionState="WRONG",c-=Math.round(n.fetchData.settings.wrongAttempPanelty*f.staticData.maxScore/100)));f.userData.state="COMPLETED"}n.fetchData.GEState.status="COMPLETED",n.fetchData.entityLearner.state.current="COMPLETED",n.fetchData.entityLearner.score.value=c;var l=0;n.fetchData.settings.passingScore&&n.fetchData.settings.passingScore.value>0&&(l=Math.round(n.fetchData.settings.passingScore.value*n.fetchData.gData.maxScore/100)),n.fetchData.entityLearner.completion_status="FAIL",n.fetchData.entityLearner.score.value>=l&&(n.fetchData.entityLearner.completion_status="PASS"),a.openAssessmentResult()}else"ACTIVE"==n.fetchData.entityLearner.state.current?g.submitAssessment(e.entityId,b).then(function(){a.openAssessmentResult(),Game.MixPanelTracking.track("Complete content",{"Content ID":e.entityId,"Content Name":n.fetchData.gameInfo.name,"Content Type":"ASSESSMENT",submissionType:b})},function(){Utils.Func.alert("Error submitting Assessment")}):a.openAssessmentResult()},a.renderHtml=function(a){return f.trustAsHtml(a)},a.getTrustedUrl=function(b){return[a.states.PREVIEW_DRAFT,a.states.DRAFT_STATE,a.states.SUBMITTED_STATE].indexOf(a.currentState)==-1?f.trustAsResourceUrl(b):f.trustAsResourceUrl(b+"&dontshowbignavigation="+a.timeParam)},a.$on("$destroy",function(){m.intervalRefresh&&j.cancel(m.intervalRefresh),a.stop&&j.cancel(a.stop),a.qstSavetimer&&j.cancel(n.qstSavetimer)})}]).controller("AssessmentSummaryController",["$scope","thObj","timeUp",function(a,b,c){a.timeUp=c,a.totalQuestions=b.assessmentStats.total.length,a.numUnAnswered=b.assessmentStats.total.length-b.assessmentStats.attempted.length,a.numMarkedVisitLater=b.assessmentStats.visitLater.length,a.timeLimit=Utils.Func.getClock(b.fetchData.settings.timeLimit).mmss.replace("m",""),a.confirmSubmission=function(b){"VL"==b&&0==a.numMarkedVisitLater||"DNS"==b&&0==a.numUnAnswered||a.timeUp&&"VIEW_RESULT"!=b||a.$close({action:b})}}]).controller("AssessmentResultController",["$scope","thObj","showCloseButton","$interval","AssessmentService",function(a,b,c,d,e){a.score=0,a.totalScore=b.fetchData.gData.maxScore,a.passingScore=a.totalScore*b.fetchData.settings.passingScore.value/100,a.isCertificate=!1,a.isLoading=!0,a.isEvaluating=!1,a.loaderImg=assetsBase+"/images/ajax-loader.gif",a.numTries=0,a.isPreview=!1,a.nextModuleInfo=b.fetchData.nextModuleInfo,a.nextModuleInfoDetails={},a.nextModuleInfo&&(a.nextModuleInfoDetails=Utils.Func.getEntityTypeObjByName(a.nextModuleInfo.mtentityType)),"undefined"!=typeof appSettings&&appSettings.isPreview&&(a.isPreview=!0),a.showCloseButton=c,a.setScopeVariables=function(){a.isLoading=!1,a.isEvaluating=!1,"COMPLETED"!=b.fetchData.entityLearner.state.current&&"TIMEDOUT"!=b.fetchData.entityLearner.state.current||(a.isEvaluating=!1,a.score=b.fetchData.entityLearner.score.value,a.myResult=b.fetchData.entityLearner.completion_status,null==a.myResult&&(a.score>=a.passingScore?a.myResult="PASS":a.myResult="FAIL"),a.isCertificate=b.fetchData.GEState.certificateRecieved)},b.fetchData.gameInfo.hideScoreAndCertificate?(a.isLoading=!1,a.isEvaluating=!1,a.hideScoreAndCertificate=!0):"COMPLETED"==b.fetchData.entityLearner.state.current||"TIMEDOUT"==b.fetchData.entityLearner.state.current?a.setScopeVariables():a.stop=d(function(){e.getAssessmentResult(courseInfo.fixed.id).then(function(c){a.numTries++,a.numTries>=10&&d.cancel(a.stop),a.isLoading=!1,a.isEvaluating=!0,"COMPLETED"!=c.entity_learner.state.current&&"TIMEDOUT"!=c.entity_learner.state.current||(b.fetchData.GEState=c.GEState,b.fetchData.entityLearner=c.entity_learner,d.cancel(a.stop),a.setScopeVariables())},function(a){console.log("err",a)})},3e3),a.goBackTo=function(b){a.$close({action:b})},a.downloadCertificate=function(){a.isCertificate&&Utils.Func.downloadCertificate(courseInfo.fixed.id,null,courseInfo.fixed.name,"ASSESSMENT")},a.$on("$destroy",function(){a.stop&&d.cancel(a.stop)})}]).controller("AssessmentTutorialController",["$scope","thObj",function(a,b){a.numSteps=2,a.currentStep=1,a.cssLeft=300,a.endTutorial=function(){a.$close({})},a.gotoNext=function(c){a.currentStep+=1,a.cssLeft=$(".forCssLeft").offset().left+80,b.currentStep=a.currentStep},a.gotoPrev=function(c){a.currentStep-=1,b.currentStep=a.currentStep}}]),angular.module("assessment").filter("numberFixedLen",function(){return function(a,b){return(1e4+a+"").slice(-b)}}).directive("assessmentAttemptTab",function(){return{restrict:"A",templateUrl:templateBaseUrl+"/assessment/assessment-attempt-tab.html"}}).directive("assessmentHeader",function(){return{restrict:"A",templateUrl:templateBaseUrl+"/assessment/assessment-header.html"}}).directive("assessmentMcqQuestionArea",function(){return{replace:!0,restrict:"E",templateUrl:templateBaseUrl+"/assessment/assessment_mcq_question.html"}}).directive("assessmentMcqImageQuestionArea",function(){return{replace:!0,restrict:"E",templateUrl:templateBaseUrl+"/assessment/assessment_mcq_image_question.html"}}).directive("assessmentMatchTextLabelsQuestionArea",function(){return{replace:!0,restrict:"E",templateUrl:templateBaseUrl+"/assessment/assessment_match_text_labels_question.html"}}).directive("assessmentMatchImageLabelsQuestionArea",function(){return{replace:!0,restrict:"E",templateUrl:templateBaseUrl+"/assessment/assessment_match_image_labels_question.html"}}).directive("assessmentTextQuestionArea",function(){return{replace:!0,restrict:"E",templateUrl:templateBaseUrl+"/assessment/assessment_text_question.html"}}).directive("assessmentDummyQuestionArea",function(){return{replace:!0,restrict:"E",templateUrl:templateBaseUrl+"/assessment/assessment_dummy_question.html"}}).directive("ngEnter",function(){return function(a,b,c){b.bind("keydown keypress",function(b){13===b.which&&(null==a.$$phase?a.$apply(function(){a.$eval(c.ngEnter)}):a.$eval(c.ngEnter),b.preventDefault())})}}).directive("fullHeight",function(){var a=$(window),b=$(document);return function(c,d,e){var f=function(){var c=(d.offset(),Math.max(b.height(),a.height())),e=c-48;d.height(e)},g=function(){var c=(d.offset(),Math.min(b.height(),a.height())),e=c-48;d.height(e)};setTimeout(f,300),a.resize(g)}}),angular.module("assessment").factory("AssessmentService",["learningBoardServiceFactory","$log","$q","$resource","$timeout",function(a,b,c,d,e){var f={entityData:null,currentKey:null,currentVoiceOverData:[],qData:{}};f.fetchEntity=function(b,d){var e=c.defer(),g=d||null,h=function(){a.fetchEntity(b).then(function(a){g=a,i()})},i=function(){if("ADDED"!=g.state)return void k();var c={entity:b};g.series&&(c.series=g.series),a.addEntity(c).then(function(){g.state="ADDED",j()})},j=function(){return"ADDED"!=g.state?void k():void a.startEntity(b).then(function(){k()})},k=function(){a.fetchEntityData(b).$promise.then(function(a){f.entityData=a,e.resolve(a)})};if("undefined"!=typeof appSettings&&appSettings.isPreview){for(var l=assessmentEntityPreviewObj.assessmentEntity,m=0,n=0;n<assessmentEntityPreviewObj.qstList.length;n++)m+=assessmentEntityPreviewObj.qstList[n].maxScore;var o={seriesVo:l.seriesVo,gameInfo:l.fixed,game_version:1,settings:l.settings,topic:l.topic,topicStates:{},entityLearner:{},GEState:{},loTypes:{},gData:{maxScore:m}};o.entityLearner={entity:l.fixed.id,version:l.fixed.lastPublishedVersion,state:{current:"ACTIVE",prev:null},invited_from:[0],completion_status:"",score:{value:0}};var p=0;l.settings.timeLimit>0&&(p=Math.round((new Date).getTime()/1e3)+l.settings.timeLimit),o.GEState={type:"GAMIFICATION_ENTITY",userId:"123",companyId:"company",groupId:"0",gamificationEntityId:l.fixed.id,version:1,reattemptVersion:1,playableObjectId:l.topic.id,playableObjectType:"TOPIC",status:"IN_PROGRESS",totalAttempts:0,totalCorrect:0,totalPartialCorrect:0,totalSkipped:0,totalWrong:0,totalScore:0,currentBadgeIdx:-1,certificateRecieved:!1,certificateUrl:"",totalLifelines:3,totalUsedLifelines:0,active:!0,startedOn:Math.round((new Date).getTime()/1e3),completedOn:0,lastActivityOn:Math.round((new Date).getTime()/1e3),percentageCompletion:0,timeoutTime:p,totalLearningObjects:l.topic.children.length,hangoutIds:[],maxScore:m,invitedOn:Math.round((new Date).getTime()/1e3)};for(var q=[],n=0;n<assessmentEntityPreviewObj.qstList.length;n++)103==assessmentEntityPreviewObj.qstList[n].type?o.loTypes[assessmentEntityPreviewObj.qstList[n].id]={type:"LO_MCQ_TXT"}:105==assessmentEntityPreviewObj.qstList[n].type?o.loTypes[assessmentEntityPreviewObj.qstList[n].id]={type:"LO_MCQ_IMG"}:106==assessmentEntityPreviewObj.qstList[n].type?o.loTypes[assessmentEntityPreviewObj.qstList[n].id]={type:"LO_MIXMATCH"}:107==assessmentEntityPreviewObj.qstList[n].type?o.loTypes[assessmentEntityPreviewObj.qstList[n].id]={type:"LO_IMGMIXMATCH"}:109==assessmentEntityPreviewObj.qstList[n].type&&(o.loTypes[assessmentEntityPreviewObj.qstList[n].id]={type:"LO_TEXT"}),q.push(assessmentEntityPreviewObj.qstList[n].id);o.topicStates[l.topic.id]={type:"TOPIC",userId:"378b4d6743a621d4",companyId:"rachit",groupId:"0",gamificationEntityId:l.topic.id,state:"IN_PROGRESS",playableObjectId:l.topic.id,childrenType:"LEARNING_OBJECT",completedChildIds:[],activeChildIds:q,lockedChildIds:[],starttime:Math.round((new Date).getTime()/1e3),completiontime:0},f.entityData=o,setTimeout(function(){e.resolve(o)},100)}else g?j():h(b);return e.promise};var g=d("/",{},{reattempt:{url:"/entity/:missionId/reattempt",method:"POST"},getCertificateURL:{url:"/entity/:entityId/download",method:"GET"}});return f.loadTickle=function(b,d){if("undefined"!=typeof appSettings&&appSettings.isPreview){var e=c.defer();return setTimeout(function(){for(var a={staticData:{},userData:{playableObjectId:d,state:"IN_PROGRESS",score:0,lifelinesUsed:0,hintUsed:!1,likeDislikeState:"NEUTRAL",completionState:null}},b=0;b<assessmentEntityPreviewObj.qstList.length;b++)if(assessmentEntityPreviewObj.qstList[b].id==d){if(a.staticData=assessmentEntityPreviewObj.qstList[b],a.userData.lifelineAnswers=[],a.userData.lifelineEliminations=[],a.userData.correctAttempts=[],a.userData.wrongAttempts=[],a.userData.correctAnswers=[],a.userData.wrongAnswers=[],103==assessmentEntityPreviewObj.qstList[b].type)a.userData.allAttempts=[],a.staticData.type="LO_MCQ_TXT";else if(105==assessmentEntityPreviewObj.qstList[b].type)a.userData.allAttempts=[],a.staticData.type="LO_MCQ_IMG";else if(106==assessmentEntityPreviewObj.qstList[b].type){a.userData.allAttempts=[],a.staticData.type="LO_MIXMATCH";for(var c=[],f=0;f<a.staticData.options.length;f++)c.push(f);a.staticData.shuffleList=Utils.Func.shuffleIntArray(c)}else if(107==assessmentEntityPreviewObj.qstList[b].type){a.userData.allAttempts=[],a.staticData.type="LO_IMGMIXMATCH";for(var c=[],f=0;f<a.staticData.images.length;f++)c.push(f);a.staticData.shuffleList=Utils.Func.shuffleIntArray(c)}else 109==assessmentEntityPreviewObj.qstList[b].type&&(a.userData.lastAttempt=null,a.staticData.type="LO_TEXT");a.staticData.media&&a.staticData.media.object&&(81==a.staticData.media.type&&(a.staticData.media.type="IMAGE"),83==a.staticData.media.type&&(a.staticData.media.type="VIDEO"),90==a.staticData.media.type&&(a.staticData.media.type="AUDIO"),a.staticData.media.obj.type=a.staticData.media.type,a.staticData.media=a.staticData.media.obj);break}e.resolve(a)},100),e.promise}return a.loadTickle(b,d)},f.submitAssessment=function(b,d){if("undefined"!=typeof appSettings&&appSettings.isPreview){var e=c.defer();return e.promise}return a.submitAssessment(b,d)},f.getAssessmentResult=function(b){if("undefined"!=typeof appSettings&&appSettings.isPreview){var d=c.defer();return d.promise}return a.getAssessmentResult(b)},f.getAssessmentStats=function(b){if("undefined"!=typeof appSettings&&appSettings.isPreview){var d=c.defer();return d.promise}return a.getAssessmentStats(b)},f.saveTickle=function(b,d){if("undefined"!=typeof appSettings&&appSettings.isPreview){var e=c.defer();return setTimeout(function(){e.resolve({})},100),e.promise}var f={learningObjectType:d.userData.type,learningObjectId:d.staticData.id,updatedFieldsAndValues:{}};return"LO_MCQ_TXT"==d.staticData.type||"LO_MCQ_IMG"==d.staticData.type||"LO_MIXMATCH"==d.staticData.type||"LO_IMGMIXMATCH"==d.staticData.type?f.updatedFieldsAndValues.allAttempts=d.userData.allAttempts:"LO_TEXT"==d.staticData.type&&(f.updatedFieldsAndValues.lastAttempt=d.userData.lastAttempt),f.updatedFieldsAndValues.visitLater=d.userData.visitLater,a.saveTickle(b,d.staticData.id,f)},f.reattempt=function(a){return g.reattempt({missionId:a},{a:1})},f.getCertificateURL=function(a){return g.getCertificateURL({entityId:a,_:Date.now()},{})},f}]),angular.module("learnginBoardApp").controller("ViewCoachingCtrl",["$scope","entityInfo","$timeout","$sce","CoachingAppDataModel","$modal",function(a,b,c,d,e,f){var g=this;if(a.entityInfo=b,b.isMigrated){var h="ui/coaching/13/learner/"+b.id+"/sessions?forSeries="+b.seriesID;window.location.href=h}var i=function(b){a.formData=void 0,a.sessionsHistory=e.getCoachingSessionsHistory(a.entityInfo.id),a.sessionsHistory.$promise.then(function(c){if(b||(b=c.history[0].reattemptVersion),a.currentReAttemptVersion=b,c.history&&c.history.length>0)if(a.loadingVersionData=!0,a.isReattemptVersionFormViewable(b)){a.formData=e.getEntityDataDetailsForLearner(a.entityInfo.id,b),a.formData.$promise.then(function(b){a.loadingVersionData=!1,a.calculateHeight()});var d=a.sessionsHistory.historyMap[a.currentReAttemptVersion],f=d.reviewDocId;f&&"null"!=f&&"__EMPTY"!=f&&"0"!=f&&(d.reviewDocInfo=e.getMediaInfo(f))}else a.loadingVersionData=!1,a.calculateHeight()})};a.canApproveOrDisapprove=function(){var b=a.sessionsHistory.historyMap[a.currentReAttemptVersion].states[0].state;return"SUBMITTED"==b&&0==Object.keys(a.sessionsHistory.historyMap[a.currentReAttemptVersion].learnerApprovals).length},a.renderHtml=function(a,b){a=a||"";var c=a.replace(/\r\n/g,"<br/>").replace(/[\r\n]/g,"<br/>");return!c&&b&&(c="no comments"),d.trustAsHtml(c)},a.contentClicked=function(b){var c={ReviewCycle:a.currentReAttemptVersion,CoachingName:a.entityInfo.name,CoachingId:a.entityInfo.id,ReviewDocName:b.title};Dashboard.MixPanelTracking.track("Open Review Document",c)},this.approveCoachingReviewFunc=function(b,c){if(!a.isApproving&&a.canApproveOrDisapprove()){a.isApproving=!0;var d={approved:b,timestamp:Math.round((new Date).getTime()/1e3),comment:c};a.approveCoachingReview=e.approveOrDisapproveCoachingReview(a.entityInfo.id,a.currentReAttemptVersion,d),a.approveCoachingReview.$promise.then(function(e){a.isApproving=!1;var f=a.sessionsHistory.historyMap[a.currentReAttemptVersion];b?f.uistatus="approved":f.uistatus="disapproved";var g={ReviewCycle:a.currentReAttemptVersion,CoachingName:a.entityInfo.name,CoachingId:a.entityInfo.id};b?Dashboard.MixPanelTracking.track("Approve Review",g):Dashboard.MixPanelTracking.track("Disapprove Review",g),f.uiComment=c,f.approvals={1:b},f.learnerApprovals={1:d}},function(){a.isApproving=!1,window.isErrorPopUpShow||Utils.Func.alert("Unable to approve/disapprove Coaching feedback!")})}},a.approveCoachingReviewConfirm=function(a){var b=f.open({templateUrl:templateBaseUrl+"/coaching/approve_disapprove_coaching.html",controller:"learnerApprovalController",size:"sm",resolve:{approve:function(){return a}}});b.result.then(function(b){g.approveCoachingReviewFunc(a,b.comment)})},a.isReattemptVersionFormViewable=function(){return a.sessionsHistory.historyMap[a.currentReAttemptVersion].reviewedOn>0},a.getScheduledOn=function(){return Game.Messages.COACHING_TXT_SCHEDULED_ON+" "+Utils.Func.getNiceDate2(a.sessionsHistory.historyMap[a.currentReAttemptVersion].scheduledOn)},a.getReviewedDateText=function(a){return 0==a?"--":Utils.Func.getNiceDate(a)},a.getScheduledDateText=function(a){return 0==a?Game.Messages.COACHING_TXT_NOT_SCHEDULED:Utils.Func.getNiceDate(a)},a.getScheduledOnText=function(a){return a.reviewedOn>0?Utils.Func.getNiceDate(a.reviewedOn):a.scheduledOn>0?Game.Messages.COACHING_TXT_SCHEDULED:Game.Messages.COACHING_TXT_NOT_SCHEDULED},a.getReviewerName=function(){return a.sessionsHistory.reviewer.name||a.sessionsHistory.reviewer.email},a.isLatestSessionStillUnScheduled=function(){if(a.sessionsHistory.history.length>0){var b=a.sessionsHistory.history[0];if(0==b.scheduledOn)return!0}return!1},a.loadSessionCycleData=function(a){i(a.reattemptVersion)},a.showReadMore=!1,a.largeContent=!1,a.calculateHeight=function(){a.largeContent=!1,c(function(){var b=$(".mdesHeight").height();a.largeContent=b>70,a.largeContent&&(a.showReadMore=!1)},100)},a.calculateHeight(),a.getTotalTopics=function(){return a.formData&&a.formData.$resolved&&a.formData.levels&&a.formData.levels.length>0?a.formData.levels[0].topics.length:0},a.getTotalEvalParams=function(){var b=0;if(a.formData&&a.formData.$resolved&&a.formData.levels&&a.formData.levels.length>0)for(var c=0;c<a.formData.levels.length;c++)for(var d=a.formData.levels[c],e=0;e<d.topics.length;e++){var f=d.topics[e];b+=f.los.length}return b},a.getRatingScore=function(b){return a.formData&&a.formData.$resolved?a.formData.userGeLOData&&a.formData.userGeLOData[b]?a.formData.userGeLOData[b].evaluation.score:-1:0},a.closeMe=function(){a.$close()},a.isLoNotEvaluated=function(b){if(!a.formData.userGeLOData||!a.formData.userGeLOData[b.id])return!0;var c=a.formData.userGeLOData[b.id].evaluation;return!(c.comment||"undefined"!==c.score&&null!==c.score&&c.score!==-1||c.isNA)},i(void 0)}]).controller("learnerApprovalController",["$scope","approve",function(a,b){a.approve=b,a.comment=void 0,a.btnText=a.approve?Game.Messages.COACHING_TXT_APPROVE:Game.Messages.COACHING_TXT_DISAPPROVE,a.confirmAction=function(){a.$close({comment:a.comment})}}]),angular.module("learnginBoardApp").factory("CoachingAppDataModel",["CoachingAppService",function(a){return this.entityDataDetails={},this.entitySessionHistory={},this.getEntityDataDetailsForLearner=function(b,c){return a.getEntityDataDetailsForLearner(b,c)},this.uiStates={isAnyLoUpdatePending:!1},this.getCoachingSessionsHistory=function(b){var c=b;return this.entitySessionHistory[c]=a.getCoachingSessionsHistory(b),this.entitySessionHistory[c].$promise.then(function(a){if(a.reviewer||(a.reviewer={name:"NA"}),a.history&&a.history.length>0){var b=[];if(a.history.length>1){for(var c=0;c<a.history.length;c++)(a.history[c].scheduledOn>0||a.history[c].reviewedOn>0)&&b.push(a.history[c]);a.history=b}a.history.sort(function(a,b){return a.reviewCycle<b.reviewCycle?1:a.reviewCycle>b.reviewCycle?-1:0}),a.historyMap={};for(var c=0;c<a.history.length;c++){var d=a.history[c];if(d.reviewerInfo=a.reviewer,a.reviewerMap[d.revewerId]&&(d.reviewerInfo=a.reviewerMap[d.revewerId]),d.learnerApprovals&&Object.keys(d.learnerApprovals).length>0){var e=Object.keys(d.learnerApprovals)[0];d.uiComment=d.learnerApprovals[e].comment,d.learnerApprovals[e].approved?d.uistatus="approved":d.totalReviews>e?(d.uistatus="updated_after_disapprove",d.uistatus2=d.learnerApprovals[e].approved?"approved":"disapproved"):d.uistatus="disapproved"}else d.uistatus="not_approved_disapproved";a.historyMap[d.reattemptVersion]=d}}}),this.entitySessionHistory[c]},this.approveOrDisapproveCoachingReview=function(b,c,d){return a.approveOrDisapproveCoachingReview(b,c,d)},this.scheduleAppointment=function(b,c,d,e,f){return a.scheduleAppointment(b,c,d,e,f)},this.userGamificationData={},this.entityDataDetails={},this.getEntityDataDetails=function(b,c){var d=b+"|"+c;return this.entityDataDetails[d]||(this.entityDataDetails[d]=a.getEntityDataDetails(b,c)),this.entityDataDetails[d]},this.getUserGamificationData=function(b,c,d,e){return a.getUserGamificationData(c,b,d,e)},this.getMediaInfo=function(b){return a.getMediaInfo(b)},this}]),angular.module("learnginBoardApp").factory("CoachingAppService",["$resource",function(a){var b=a("/entity/:entityId/data",{entityId:"@entityId"},{get:{method:"GET",cache:!0}});this.getEntityDataDetailsForLearner=function(a,c){return b.get({cname:cname,entityId:a,reAttemptVersion:c})};var c=a("/entity/:entityId/history",{entityId:"@entityId"},{get:{method:"GET",cache:!0}});this.getCoachingSessionsHistory=function(a){return c.get({cname:cname,entityId:a})};var d=a("/entity/:entityId/approve",{entityId:"@entityId"},{update:{method:"POST",cache:!0}});this.approveOrDisapproveCoachingReview=function(a,b,c){return d.update({cname:cname,entityId:a},{approve:c,reAttemptVersion:b})};var e=a("/:cname/coaching/:entityId/:reviewerId/:learnerId/scheduleAppointment",{cname:"@cname",entityId:"@entityId",learnerId:"@learnerId"},{scheduleAppointment:{method:"POST",cache:!1}});this.scheduleAppointment=function(a,b,c,d,f){var g={scheduledOn:d};return f.error||(f.startTime&&(g.startTime=f.startTime),f.endTime&&(g.endTime=f.endTime)),e.scheduleAppointment({cname:cname,entityId:a,reviewerId:b,learnerId:c},g)};var f=a("/:cname/:entityId/:version/data",{cname:"@cname",entityId:"@entityId",version:"@version"},{get:{method:"GET",cache:!0}});this.getEntityDataDetails=function(a,b){return f.get({cname:cname,entityId:a,version:b})};var g=a("/:cname/coaching/:entityId/:userId/:reattemptVersion/data",{cname:"@cname",entityId:"@entityId",reattemptVersion:"@reattemptVersion",userId:"@userId"},{get:{method:"POST",cache:!1}});this.getUserGamificationData=function(a,b,c,d){return g.get({cname:cname,userId:a,entityId:b,reattemptVersion:c,los:d})};var h=a("/:cname/media/:mediaId",{cname:"@cname",entityId:"@mediaId"},{get:{method:"GET",cache:!0}});return this.getMediaInfo=function(a){return h.get({cname:cname,mediaId:a})},this}]),angular.module("commonModule").controller("CoachingReviewFormController",["$scope","$rootScope","arrType","arrIndex","reviewerId","fieldReviews","reviewsStore","CoachingAppDataModel","$timeout","$sce","UploaderFactory",function(a,b,c,d,e,f,g,h,i,j,k){function l(){a.coachingSections=[],a.coachingSectionsUiStates={currentSelectedCoachingSection:"",$resolved:!1,topics:{}}}function m(a){return!!((2===a.subType||3===a.subType)&&a.evaluation&&a.evaluation.score>=0&&a.evaluation.isEvaluated)||!!(1===a.subType&&a.evaluation&&a.evaluation.comment&&a.evaluation.isEvaluated)}a.saveobj={},a.coachingSectionTypeaheadTemplate=templateBaseUrl+"/common/coaching-section-typeahead.html",a.saveobj.text=Game.Messages.CS_REVIEWER_REVIEW_TXT_SAVED,a.reviewSumbitState={text:Game.Messages.M_SUBMIT_REVIEW,state:!1},a.populatePrevScoreEnable=!1,a.arrType=c,a.arrIndex=d,a.CoachingAppDataModel=h,a.fieldReviews=f,a.reviewerId=e,a.reviewerId||"undefined"==typeof userJson?a.reviewerId||"undefined"==typeof learnerJson||(a.reviewerId=learnerJson.id,window.userJson=learnerJson):(a.reviewerId=userJson.id,window.learnerJson=userJson),a.getLearnerReviewFormHistory=g.getLearnerReviewFormHistory,a.reviewCycles={},a.reviewCyclesMap={},a.currentCycle=null,a.button={allowEdit:!1},a.showEditButton=!1,b.loUpdateMap={},a.serverLo=null;var n=this,o=function(){var b={ReviewCycle:a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle].reattemptVersion,LearnerId:a.entityLearner.userId,LearnerName:a.entityLearner.user.name,CaochingName:a.entityInfo.name,CaochingId:a.entityInfo.id};return b},p=function(b,c,d){a.arrIndex=b,a.arrType=c,a.entityLearner=a.fieldReviews[c][b],a.entityInfo=a.fieldReviews.entities[a.entityLearner.entityId],a.hourSlots=[],a.minuteSlots=[];for(var e=0;e<=23;e++)a.hourSlots.push(e);for(var e=0;e<=59;e++)a.minuteSlots.push(e);void 0==a.reviewCycles[a.entityLearner.entityId]&&(a.reviewCycles[a.entityLearner.entityId]={},a.reviewCyclesMap[a.entityLearner.entityId]={}),a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId]=a.getLearnerReviewFormHistory({cname:cname,userId:a.entityLearner.userId,entityId:a.entityLearner.entityId,lastAttemptedVersion:a.entityLearner.reattemptVersion}),a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId].$promise.then(function(b){if(b.allAttempts){console.log(a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId].allAttempts),a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId].allAttempts.sort(function(a,b){return b.reviewCycle-a.reviewCycle}),void 0==a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId]&&(a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId]={});for(var c=0;c<b.allAttempts.length;c++){var e=b.allAttempts[c];if(e.cycleIndex=c,0==e.reviewedOn)e.uistatus="not_reviewed";else if(e.learnerApprovals&&Object.keys(e.learnerApprovals).length>0){var f=Object.keys(e.learnerApprovals)[0];e.uiComment=e.learnerApprovals[f].comment,e.learnerApprovals[f].approved?e.uistatus="approved":e.totalReviews>f?e.uistatus="updated_after_disapprove":e.uistatus="disapproved"}else e.uistatus="reviewed";if(c+1<b.allAttempts.length){var g=b.allAttempts[c+1];e.version==g.version?(e.canPopulateFromPrev=!0,e.showFormVersionWarning=!1):(e.canPopulateFromPrev=!1,e.showFormVersionWarning=!0)}else e.canPopulateFromPrev=!1,e.showFormVersionWarning=!1;e.reviewCycle!=a.currentCycle&&(a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][e.reviewCycle]=e)}a.entityLearner.reattemptVersion=b.allAttempts[0].reattemptVersion,a.latestCycle=b.allAttempts[0].reviewCycle,"closed"==a.arrType&&a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId].allAttempts.length>1&&a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId].allAttempts.shift(),void 0==d?a.entityLearner.currentCycle=b.allAttempts[0].reviewCycle:a.entityLearner.currentCycle=d,a.updateData(a.entityLearner.currentCycle)}b.nextModule&&Object.keys(b.nextModule).length>0&&(a.ruleNext=b.nextModule)}),a.uploaderInfo={},a.uploaderInfo.reviewDocUploader=k.createReviewDocdUploader(a.entityLearner.userId+"_"+Math.round((new Date).getTime())+"_reviewDoc"),a.uploaderInfo.reviewDocUploader.config.deductTop=100,a.uploaderInfo.reviewDocUploader.successCallback(_.bind(n.reviewDocUpdated,n))};a.clearFilter=function(){a.coachingSectionsUiStates.currentSelectedCoachingSection={}},a.filterByQuery=function(b){if(b=b||a.coachingSectionsUiStates.currentSelectedCoachingSection,b&&b.id){a.coachingSectionsUiStates.currentSelectedCoachingSection=b;var c="js-coaching-section-"+b.id;q(c);var d="#"+c+" .coachingSection";angular.element(d).addClass("border-shadow"),setTimeout(function(){angular.element(d).removeClass("border-shadow")},5e3)}},a.coachingSections=[],a.coachingSectionsUiStates={currentSelectedCoachingSection:"",$resolved:!1,topics:{}},l(),a.removeReviewDoc=function(){Utils.Func.confirm(Game.Messages.CS_REVIEWER_REVIEW_REMOVE_REVIEW_DOC_CONFIRM,function(){a.uploaderInfo.reviewDocUploader.setMediaInfo(null),a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle].reviewDocId=void 0,a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle].reviewDocInfo=void 0,g.coachingUpdateQueue.enqueue(function(){return g.updateReviewForm({entityId:a.entityLearner.entityId,userId:a.entityLearner.userId,param:"reviewDocId",value:"__EMPTY",reattemptVersion:a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.latestCycle].reattemptVersion,updateType:"Entity"})})})},a.trackUploadedReviewDocStatus=function(){var b=a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle],c=b.reviewDocId;0!=b.reviewDocInfo.status&&c&&"null"!=c&&"__EMPTY"!=c&&"0"!=c&&(b.reviewDocInfo=h.getMediaInfo(c))},this.reviewDocUpdated=function(b){a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle].reviewDocId=b.id,a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle].reviewDocInfo=b,a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle].reviewDocInfo.$resolved=!0,0!=b.status&&a.trackUploadedReviewDocStatus(),g.coachingUpdateQueue.enqueue(function(){return g.updateReviewForm({entityId:a.entityLearner.entityId,userId:a.entityLearner.userId,param:"reviewDocId",value:b.id,reattemptVersion:a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.latestCycle].reattemptVersion,updateType:"Entity"})})},a.getScheduledOnText=function(a){return a.reviewedOn>0?Dashboard.EventManager.getNiceDate(a.reviewedOn):a.scheduledOn>0?Game.Messages.COACHING_TXT_SCHEDULED:Game.Messages.COACHING_TXT_NOT_SCHEDULED},a.getReviewedDateText=function(b){return 0==b?"--":a.getNiceDate(b)},a.getScheduledDateText=function(b){return 0==b?Game.Messages.COACHING_TXT_NOT_SCHEDULED:a.getNiceDate(b)},a.getNiceDate=Dashboard.EventManager.getNiceDate,a.fetchLearnerData=function(c,d,e,f,g){a.formData=h.getEntityDataDetails(d,e),a.formData.$promise.then(function(e){for(var i=[],j=0;j<e.levels.length;j++)for(var k=e.levels[j],n=0;n<k.topics.length;n++)for(var o=k.topics[n],p=0;p<o.los.length;p++)i.push(o.los[p].id);void 0==a.reviewCycles[d][c][g]&&(a.reviewCycles[d][c][g]={}),a.reviewCycles[d][c][g].loList=i,a.reviewCycles[d][c][g].userGeData=h.getUserGamificationData(d,c,f,i),a.reviewCycles[d][c][g].userGeData.$promise.then(function(){for(var e=0;e<a.formData.levels.length;e++)for(var f=a.formData.levels[e],h=0;h<f.topics.length;h++)for(var i=f.topics[h],j=0;j<i.los.length;j++)a.reviewCycles[d][c][g]&&a.reviewCycles[d][c][g].userGeData.userGeData[i.los[j].id]&&(i.los[j].evaluation=a.reviewCycles[d][c][g].userGeData.userGeData[i.los[j].id].evaluation);var k=a.formData.levels[0]&&a.formData.levels[0].topics&&a.formData.levels[0].topics.length;for(l(),e=0;e<k;e++){var n=a.formData.levels[0].topics[e];n.name&&"_"!==n.name&&a.coachingSections.push({name:n.name,id:n.id});var o=0;a.coachingSectionsUiStates.topics[n.id]=a.coachingSectionsUiStates.topics[n.id]||{};for(var h=0;h<n.los.length;h++)a.coachingSectionsUiStates.topics[n.id].los=a.coachingSectionsUiStates.topics[n.id].los||{},a.coachingSectionsUiStates.topics[n.id].los[n.los[h].id]={mandatory:n.los[h].mandatory},(m(n.los[h])||n.los[h].isNA)&&(a.coachingSectionsUiStates.topics[n.id].los[n.los[h].id].attempted=!0),
n.los[h].mandatory&&o++;a.coachingSectionsUiStates.topics[n.id].mandatoryLosCount=o,a.coachingSectionsUiStates.topics[n.id].totalLos=n.los.length}a.coachingSectionsUiStates.$resolved=!0,b.$broadcast("userGeData.loaded"),a.displaySubmitState()})})},a.getSectionClass=function(b){var c="";if(!a.coachingSectionsUiStates.$resolved)return c;for(var d=a.coachingSectionsUiStates.topics[b].los,e=Object.keys(d),f=e.length,g=0,h=0;h<f;h++)d[e[h]].attempted&&g++;return a.getTotalTopics()>1&&f===g&&(c="border-green"),c},a.updateData=function(b){a.currentCycle=b;var c=a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][b],d=c.version,e=c.reattemptVersion,f=c.reviewDocId;f&&"null"!=f&&"__EMPTY"!=f&&"0"!=f?c.reviewDocInfo=h.getMediaInfo(f):c.reviewDocId=null,a.entityLearner.currentCycle=b,0==c.reviewedOn&&(a.button.allowEdit=!0),a.fetchLearnerData(a.entityLearner.userId,a.entityLearner.entityId,d,e,a.entityLearner.currentCycle),a.reviewDuration=a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][b].reviewDuration,null==a.reviewDuration&&(a.reviewDuration={hour:0,minute:0})},a.canSubmitLo=function(a){return!(!a.evaluation||void 0==a.evaluation)&&(1==a.subType?void 0!=a.evaluation.comment&&0!=a.evaluation.comment.length:(2==a.subType||3==a.subType)&&!(void 0==a.evaluation.score&&!a.evaluation.isNA))},a.canSubmitAllLos=function(){var b=!0,c=0;if(a.formData&&a.formData.$resolved&&a.formData.levels&&a.formData.levels.length>0)for(var d=0;d<a.formData.levels.length;d++)for(var e=a.formData.levels[d],f=0;f<e.topics.length;f++)for(var g=e.topics[f],h=0;h<g.los.length;h++){if(!a.canSubmitLo(g.los[h])){b=!1;break}c+=1}return b?c==a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle].loList.length:b},a.isDraftUpdated=function(){var b=a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle].userGeData.userGeData;for(var c in b){var d=b[c].oldEvaluations;if(d.length>0){var e=angular.copy(b[c].evaluation);if(e.percentScore=d[d.length-1].percentScore,!angular.equals(e,d[d.length-1]))return!0}}return!1},a.discardChanges=function(){a.activityButton=a.BUTTONS.AFTER_SUBMIT.COMPLETED,a.setEditState(!0);var c=a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle].userGeData.userGeData,d=[];for(var e in c){var f=c[e].oldEvaluations;if(f.length>0&&!angular.equals(c[e].evaluation,f[f.length-1])){c[e].evaluation=f[f.length-1];var h=angular.copy(c[e].evaluation);h.loId=e,d.push(h)}}var i=a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle],j=i.version,k=i.reattemptVersion;d.length>0&&g.coachingUpdateQueue.enqueue(function(){return g.updateReviewForm({entityId:a.entityLearner.entityId,userId:a.entityLearner.userId,reviewerId:learnerJson.id,version:j,reattemptVersion:k,loList:d,updateType:"LO"}).$promise.then(function(a){})}),b.$broadcast("populated.lo")},a.setEditState=function(b,c){void 0==c?a.button.allowEdit=!b:a.button.allowEdit=c,a.showEditButton=b},a.displayEditState=function(){if(a.button.allowEdit=!1,"closed"==a.arrType)return void("disapproved"==a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.currentCycle].uistatus?a.isDraftUpdated()?a.setEditState(!1):a.setEditState(!0):"SINGLE"===a.entityInfo.coachingSessionsType?a.isDraftUpdated()?a.setEditState(!1):a.setEditState(!0):a.setEditState(!1,!1));var b=a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.currentCycle].states[0].state;switch(b){case"UNSCHEDULED":case"SCHEDULED":a.setEditState(!1);break;case"SUBMITTED":a.isDraftUpdated()?a.setEditState(!1):a.setEditState(!0);break;case"ENDED":a.setEditState(!1,!1);break;case"DRAFT":case"DELETED":}},a.BUTTONS={EDIT_MODE:{SAVE_CHANGES:{TEXT:Game.Messages.SAVE_CHANGES,STATE:!0},DISCARD_CHANGES:{TEXT:Game.Messages.CS_REVIEWER_REVIEW_TXT_DISCARD_CHANGES,STATE:!0}},DEFAULT_SUBMIT:{ALLOWED:{TEXT:Game.Messages.M_SUBMIT_REVIEW,STATE:!0},NOT_ALLOWED:{TEXT:Game.Messages.M_SUBMIT_REVIEW,STATE:!1}},AFTER_SUBMIT:{COMPLETED:{TEXT:Game.Messages.M_TXT_COMPLETED,STATE:!1},PROMOTE:{TEXT:Game.Messages.CS_REVIEWER_REVIEW_TXT_PROMOTE_LEARNER,STATE:!0},CLOSE:{TEXT:Game.Messages.CS_REVIEWER_REVIEW_COMPLETE_CLOSE_SESSION,STATE:!0}}},a.handleEditForm=function(){Game.MixPanelTracking.track("Edit Review",o()),a.activityButton=a.BUTTONS.EDIT_MODE.SAVE_CHANGES,a.setEditState(!1)};var q=function(a){var b=document.getElementById(a).offsetTop;$(".FOReviewPopup_rightHeight")[0].scrollTop=b-10};a.canSubmitReview=function(){a.coachingSectionsUiStates.enableRequiredFlag=!1;for(var b=Object.keys(a.coachingSectionsUiStates.topics),c=b.length,d=[],e=0,f=0;f<c;f++){for(var g=a.coachingSectionsUiStates.topics[b[f]].los,h=Object.keys(g),i=h.length,j=0,k=0;k<i;k++)for(var k=0;k<i;k++)g[h[k]].attempted&&(e++,g[h[k]].mandatory&&j++);a.coachingSectionsUiStates.topics[b[f]].mandatoryLosCount>0&&j<a.coachingSectionsUiStates.topics[b[f]].mandatoryLosCount&&(a.coachingSectionsUiStates.enableRequiredFlag=!0,d.push(b[f]))}for(f=0;f<d.length;f++)a.coachingSectionsUiStates.topics[d[f]].open=!0;if(d.length){var l="js-coaching-section-"+d[0];return q(l),!1}return 0!==e||(Dashboard.NotifBox.alert("At least one parameter needs to be filled!"),!1)},a.toggleSection=function(b){a.coachingSectionsUiStates.topics[b].open=!a.coachingSectionsUiStates.topics[b].open},a.performActivity=function(){i(function(){if(a.activityButton==a.BUTTONS.DEFAULT_SUBMIT.ALLOWED||a.activityButton==a.BUTTONS.EDIT_MODE.SAVE_CHANGES)if(a.CoachingAppDataModel.uiStates.isAnyLoUpdatePending)var b=setInterval(function(){a.CoachingAppDataModel.uiStates.isAnyLoUpdatePending||(a.canSubmitReview()&&a.submitReview(),clearInterval(b))},1e3);else a.canSubmitReview()&&a.submitReview();else a.activityButton!=a.BUTTONS.AFTER_SUBMIT.PROMOTE&&a.activityButton!=a.BUTTONS.AFTER_SUBMIT.CLOSE||a.promoteLearner()},800)},a.showSubmitButton=function(){if("closed"==a.arrType)return void(a.isDraftUpdated()?a.activityButton=a.BUTTONS.EDIT_MODE.SAVE_CHANGES:a.activityButton=a.BUTTONS.AFTER_SUBMIT.COMPLETED);var b=a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.currentCycle].states[0].state;switch(b){case"UNSCHEDULED":case"SCHEDULED":a.activityButton=a.BUTTONS.DEFAULT_SUBMIT.ALLOWED;break;case"SUBMITTED":a.isDraftUpdated()?a.activityButton=a.BUTTONS.EDIT_MODE.SAVE_CHANGES:a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.currentCycle].percentageScore>=a.entityInfo.completionCriteria.value?(a.activityButton=a.BUTTONS.AFTER_SUBMIT.CLOSE,a.ruleNext&&(a.activityButton=a.BUTTONS.AFTER_SUBMIT.PROMOTE)):a.activityButton=a.BUTTONS.AFTER_SUBMIT.COMPLETED;break;case"ENDED":a.activityButton=a.BUTTONS.AFTER_SUBMIT.COMPLETED;break;case"DRAFT":case"DELETED":}},a.submitReview=function(){var c=0==a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle].reviewedOn;Dashboard.NotifBox.confirm(Game.Messages.CS_REVIEWER_REVIEW_SUBMIT_CONFIRM,function(){a.saveobj.text=Game.Messages.M_SUBMITTING;var d=o();d.Action=a.activityButton.TEXT,g.coachingUpdateQueue.enqueue(function(){var e=g.submitReview({cname:cname,entityId:a.entityLearner.entityId,userId:a.entityLearner.userId,reattemptVersion:a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle].reattemptVersion}).$promise.then(function(e){a.saveobj.text=Game.Messages.CS_REVIEWER_REVIEW_TXT_SAVED,b.$broadcast("submited.reviewform");var f=a.entityLearner.user.name||a.entityLearner.user.email;if("MULTIPLE"==a.entityInfo.coachingSessionsType)if(e.percentageScore>=a.entityInfo.completionCriteria.value){var g=Game.Messages.CS_REVIEWER_REVIEW_COMPLETE_CLOSE_CONFIRM,h=Game.Messages.CS_REVIEWER_REVIEW_COMPLETE_CLOSE_SESSION,i=Game.Messages.CS_REVIEWER_REVIEW_COMPLETE_CLOSE_SESSION_LATER;a.ruleNext&&(g=Game.Messages.CS_REVIEWER_REVIEW_COMPLETE_PROMOTE_NEXT_CONFIRM,h=Game.Messages.CS_REVIEWER_REVIEW_COMPLETE_PROMOTE_NEXT,i=Game.Messages.CS_REVIEWER_REVIEW_COMPLETE_PROMOTE_NEXT_LATER),g=_.template(g)({a:f,b:e.percentageScore}),"closed"==a.arrType?Dashboard.NotifBox.alert("Since the coaching session has been closed, this is the last time you can edit this review, Are you sure you want to save changes?"):Dashboard.NotifBox.confirm(g,function(){a.promoteLearner()},h,i,function(){a.refreshPage(),c?a.$close():a.refreshPage()})}else{var j=a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle+1];if(j&&0!=j.currentSheduledOn)c?a.$close():a.refreshPage();else{var g=_.template(Game.Messages.CS_REVIEWER_REVIEW_COMPLETE_SCHEDULE_NEXT)({a:f});c?a.$close():a.refreshPage()}}else a.$close();e.uistatus="reviewed",a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle]=e,a.updateData(a.entityLearner.currentCycle),d.serverReponse="Success",Game.MixPanelTracking.track("Submit Review",d)},function(b){Dashboard.NotifBox.alert("Failed To Submit review Form. Try again"),a.saveobj.text="failed to submit",d.serverReponse="Fail",Game.MixPanelTracking.track("Submit Review",d)});return e})})},a.refreshPage=function(){p(a.arrIndex,a.arrType)},a.promoteLearner=function(){g.submitReview({cname:cname,entityId:a.entityLearner.entityId,userId:a.entityLearner.userId,close:!0}).$promise.then(function(){a.$close()})},a.updateDurationTime=function(b,c){a.reviewDuration[b]=c,a.updateEntity("reviewDuration",a.reviewDuration)},a.updateEntity=function(b,c){g.coachingUpdateQueue.enqueue(function(){return g.updateReviewForm({entityId:a.entityLearner.entityId,userId:a.entityLearner.userId,param:b,value:c,reattemptVersion:a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.currentCycle].reattemptVersion,updateType:"Entity"})})},a.populatePreLatestCycle=function(){var c=a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.currentCycle].cycleIndex;if(c!=a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId].allAttempts.length-1){var d=a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId].allAttempts[c+1];a.fetchLearnerData(a.entityLearner.userId,a.entityLearner.entityId,d.version,d.reattemptVersion,d.reviewCycle,a.entityLearner.seriesId),a.populatePrevScoreEnable=!0,b.$on("userGeData.loaded",function(){if(a.populatePrevScoreEnable){a.populatePrevScoreEnable=!1;var b=a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId][a.currentCycle].loList;if(a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId][d.reviewCycle]){for(var c=a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId][d.reviewCycle].userGeData,e=[],f=0;f<b.length;f++){var h=b[f];if(c.userGeData[h]&&c.userGeData[h].evaluation){a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId][a.currentCycle].userGeData.userGeData[h].evaluation=c.userGeData[h].evaluation;var i=angular.copy(c.userGeData[h].evaluation);i.loId=h,e.push(i)}}e.length>0?g.coachingUpdateQueue.enqueue(function(){var b=g.updateReviewForm({entityId:a.entityLearner.entityId,userId:a.entityLearner.userId,reviewerId:learnerJson.id,version:a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.currentCycle].version,reattemptVersion:a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][a.currentCycle].reattemptVersion,loList:e,updateType:"LO"}).$promise.then(function(b){p(a.arrIndex,a.arrType,a.currentCycle)});return b}):p(a.arrIndex,a.arrType,a.currentCycle)}}})}},a.displaySubmitState=function(){a.showSubmitButton(),a.displayEditState()},a.getTotalTopics=function(){return a.formData&&a.formData.$resolved&&a.formData.levels&&a.formData.levels.length>0?a.formData.levels[0].topics.length:0},a.getTotalEvalParams=function(){var b=0;if(a.formData&&a.formData.$resolved&&a.formData.levels&&a.formData.levels.length>0)for(var c=0;c<a.formData.levels.length;c++)for(var d=a.formData.levels[c],e=0;e<d.topics.length;e++){var f=d.topics[e];b+=f.los.length}return b},a.showReadMore=!0,a.largeContent=!0,i(function(){var b=$(".mdesHeight").height();a.largeContent=b>70,a.showReadMore=!1},100),a.renderHtml=function(a){var b=a?a.replace(/\r\n/g,"<br/>").replace(/[\r\n]/g,"<br/>"):a;return j.trustAsHtml(b)},a.calculateDivHeight=function(){return a.largeContent&&a.showReadMore?"mDesHeightLarge":"mDesHeightSmall"},a.canGoPrevious=function(){return 0!=a.arrIndex},a.gotoPrevious=function(){a.canGoPrevious()&&p(a.arrIndex-1,a.arrType)},a.canGoNext=function(){return!(a.arrIndex+1>=a.fieldReviews[a.arrType].length)},a.gotoNext=function(){a.canGoNext()&&p(a.arrIndex+1,a.arrType)},b.$on("updated.lo",function(b,c){var d=a.reviewCycles[a.entityLearner.entityId][a.entityLearner.userId][a.entityLearner.currentCycle].userGeData.userGeData;d[c.playableObjectId]=c,a.displaySubmitState()}),p(a.arrIndex,a.arrType),a.isRemidiationSentInPrevCycles=function(b){if(!b||0==b.length)return!1;remidiationObj=b[0];var c=-1;for(var d in a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId])parseInt(d,10)>c&&(c=parseInt(d,10));var e=a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][c];0==e.reviewedOn&&(e=a.reviewCyclesMap[a.entityLearner.entityId][a.entityLearner.userId][c-1]);var f=!1;if(e&&e.oldRemidiations&&e.oldRemidiations.length>0)for(var g=0;g<e.oldRemidiations.length;g++)if(e.oldRemidiations[g].entityId==remidiationObj.entityId){f=!0;break}if(!f&&e&&e.remidiations&&e.remidiations.length>0)for(var g=0;g<e.remidiations.length;g++)if(e.remidiations[g].entityId==remidiationObj.entityId){f=!0;break}return f}}]).controller("EvalUpdateController",["$scope","$rootScope","CoachingAppDataModel","reviewsStore","$modal","$interval","$sce",function(a,b,c,d,e,f,g){function h(a){return!!((2===a.subType||3===a.subType)&&a.evaluation&&a.evaluation.score>=0&&a.evaluation.isEvaluated)||!!(1===a.subType&&a.evaluation&&a.evaluation.comment&&a.evaluation.isEvaluated)}function i(b){for(var c=b.id,d=h(b),e=Object.keys(a.coachingSectionsUiStates.topics),f=e.length,g=0;g<f;g++)for(var i=a.coachingSectionsUiStates.topics[e[g]].los,j=Object.keys(i),k=j.length,l=0;l<k;l++)j[l]===c&&(a.coachingSectionsUiStates.topics[e[g]].los[c].attempted=d)}var j=this;void 0==a.gelodata&&(a.gelodata={}),a.CoachingAppDataModel=c,a.lodata.evaluation&&(a.lodata.evaluation.score=a.lodata.evaluation.isEvaluated?a.lodata.evaluation.score:-1),a.renderHtml=function(b,c){b=b||"";var d=b.replace(/\r\n/g,"<br/>").replace(/[\r\n]/g,"<br/>");return b||a.allowEdit||!c||(d="no comments"),g.trustAsHtml(d)},b.$on("populated.lo",function(){angular.equals(a.lodata.evaluation,a.gelodata.evaluation)||(a.lodata.evaluation=angular.copy(a.gelodata.evaluation),a.lodata.oldEvaluations=angular.copy(a.gelodata.oldEvaluations))}),a.lodata.evaluation=a.gelodata.evaluation,void 0==a.lodata.evaluation?(a.lodata.evaluation={},a.lodata.evaluation.sendRemediation=!1):void 0==a.lodata.evaluation.sendRemediation&&(a.lodata.evaluation.sendRemediation=!1),j.loDataServer=angular.copy(a.lodata),a.changeLOScore=function(b,c){a.allowEdit&&(b.evaluation.score=c,b.evaluation.isNA=!1,a.save("score",c),a.save("isNA",b.evaluation.isNA))},a.changeNA=function(b){a.allowEdit&&(b.evaluation.isNA=!b.evaluation.isNA,b.evaluation.isNA?b.evaluation.score=0:b.evaluation.score=-1,a.save("isNA",b.evaluation.isNA))},a.saveLOComment=function(b){a.CoachingAppDataModel.uiStates.isAnyLoUpdatePending=!0,a.save("comment",b)},a.save=function(b,c){console.log(b+":"+c),a.allowEdit&&(data={},"comment"==b&&(void 0!=c&&0!=c.length||(c="__EMPTY")),data[b]=c,a.updateReviewForm(data))},a.updateReviewForm=function(e){e&&(e.loId=a.lodata.id),c.uiStates.isAnyLoUpdatePending=!0,d.coachingUpdateQueue.enqueue(function(){a.isAnyLoUpdatePending=!0,a.savetext=Game.Messages.BTN_SAVING_TEXT;var f=d.updateReviewForm({entityId:a.entityid,userId:a.userid,reviewerId:learnerJson.id,version:a.version,reattemptVersion:a.reattemptVersion,loList:[e],updateType:"LO"}).$promise.then(function(d){if(c.uiStates.isAnyLoUpdatePending=!1,d.res.success&&d.res.success.length>0){a.gelodata.evaluation=d.res.success[0].requestObject.updatedFieldsAndValues.evaluation,a.gelodata.evaluation.isEvaluated=!0,a.savetext=Game.Messages.CS_REVIEWER_REVIEW_TXT_SAVED,b.$broadcast("updated.lo",a.gelodata),a.lodata.evaluation.isEvaluated=!0;var e=$.extend(!0,a.gelodata,a.lodata);i(e),b.loUpdateMap[a.lodata.id]=!0}else Utils.Func.alert(Game.Messages.COACHING_ERROR)},function(a){c.uiStates.isAnyLoUpdatePending=!1,Utils.Func.alert(Game.Messages.COACHING_ERROR)});return f})}}]);var Dashboard=Dashboard||{};Dashboard.NotifBox=Utils.Func,Dashboard.EventManager=Game.EventManager;var ssAssets=assetsBase;angular.module("commonModule").controller("CoachingReviewListing",["$scope","$rootScope","$state","$stateParams","reviewsStore","$interval","$modal","CoachingAppService","CoachingAppDataModel","$filter","$timeout",function(a,b,c,d,e,f,g,h,i,j,k){a.defaultLearnerPic=ssAssets+"/images/img_80_80.png";var l={from:0,size:1e3,sortOrder:"ASC",sortOn:"names",reviewerId:null,parentSeries:null,entityId:null};a.sortOrder=!0,a.sortOn="names",a.allLearnerReview={},a.dataModel=i,a.states={active:0,closed:0},a.numUnscheduledSessions=0,a.filterObject={};for(var m in a.states)a.filterObject[m]={searchText:"",entityId:null,sort:{fieldName:"name",value:!0}},"active"==m&&(a.filterObject[m].sort.fieldName="currentSheduledOn"),"closed"==m&&(a.filterObject[m].sort.fieldName="displayLastSession");var n=function(b){return{LearnerId:b.userId,LearnerName:b.user.name,CaochingName:a.fieldReviews.entities[b.entityId].name,CaochingId:b.entityId,ReviewCycle:b.displayReviewCycle}};a.getDayOfYear=function(a){var b=a,c=new Date(a.getFullYear(),0,0),d=b-c,e=864e5,f=Math.floor(d/e);return f},a.isOverDue=function(a){var b=new Date,c=Math.round(b.getTime()/1e3);return a.overdueOn>0&&c>=a.overdueOn},a.scheduleAppointment=function(b,c){var d=g.open({templateUrl:ssAssets+"/angular/common/schedule_coaching_session.html",controller:"ScheduleCoachingController",resolve:{arrIndex:function(){return b},arrType:function(){return c},fieldReviews:function(){return a.fieldReviews}}});d.result.then(function(){a.fetchReviews()})},a.deleteAppointment=function(b,c){var d=a.fieldReviews[c][b];Game.MixPanelTracking.track("Delete Session",n(d)),d.reviewers&&0!=d.reviewers.length&&Dashboard.NotifBox.confirm(Game.Messages.CS_DELETE_APPOINTMENT_CONFIRM,function(){a.dataModel.scheduleAppointment(d.entityId,d.reviewers[0].id,d.userId,0,{startTime:0,endTime:0}).$promise.then(function(){a.fetchReviews()},function(){})})},a.getNiceDate=Utils.Func.getNiceDate,a.reOpenClosedSession=function(b,c,d){var f=a.fieldReviews[c][d],g=a.fieldReviews.entities[f.entityId],h=g.name,i=f.user.name||f.user.email;return"SINGLE"==g.coachingSessionsType?void Dashboard.NotifBox.alert(_.template(Game.Messages.CS_REOPEN_INVALID)({cs_name:h,user:i})):void Dashboard.NotifBox.confirm(_.template(Game.Messages.CS_REOPEN_SESSION_CONFIRM)({cs_name:h,user:i}),function(){var b=n(f);Game.MixPanelTracking.track("Re-Open Session",b),eventManager.trigger("feedback.status",1,_.template(Game.Messages.CS_REOPEN_SESSION_INPROGRESS)({cs_name:h,user:i})),e.submitReview({cname:cname,entityId:f.entityId,userId:f.user.id,close:!1}).$promise.then(function(){a.fetchReviews(),eventManager.trigger("feedback.status",2,_.template(Game.Messages.CS_REOPEN_SESSION_SUCCESS)({cs_name:h,user:i}))},function(){eventManager.trigger("feedback.status",3,_.template(Game.Messages.CS_REOPEN_SESSION_FAILED)({cs_name:h,user:i}))})})},a.viewReviewForms=function(b,c,d){$("#allUploaders").css({"z-index":"1051"}),window.isAssessment=!0,window.deductTopForUploadMenu=100;var e=a.fieldReviews[c][d],f=n(e);f.type=c,Game.MixPanelTracking.track("View Reviews",f),g.open({templateUrl:ssAssets+"/angular/common/review_coaching.html",controller:"CoachingReviewFormController",resolve:{fieldReviews:function(){return a.fieldReviews},arrIndex:function(){return d},arrType:function(){return c},reviewerId:function(){return b}}}).result.then(function(){a.fetchReviews(),$("#allUploaders").css({"z-index":"100"}),window.isAssessment=void 0,window.deductTopForUploadMenu=void 0})},a.fetchReviews=function(){l.sortOrder=a.sortOrder,l.sortOn=a.sortOn,l.reviewerId=learnerJson.id,k(function(){a.serverRes=e.getAllLearnerFieldReviews(l),a.fieldReviews={},a.serverRes.$promise.then(function(b){a.fieldReviews=angular.copy(a.serverRes),a.fieldReviews.stateEntities={},a.numUnscheduledSessions=0;for(var c in a.states){a.fieldReviews.stateEntities[c]={};for(var d=0;d<(a.fieldReviews[c]&&a.fieldReviews[c].length);d++){var e=a.fieldReviews[c][d].entityId;a.fieldReviews.stateEntities[c][e]=a.fieldReviews.entities[e],"closed"==c?a.fieldReviews[c][d].displayLastSession=0==a.fieldReviews[c][d].lastReviewOn?a.fieldReviews[c][d].reviewedOn:a.fieldReviews[c][d].lastReviewOn:0==a.fieldReviews[c][d].currentSheduledOn&&a.numUnscheduledSessions++}a.applyFilter(c)}eventManager.trigger("update.reviews.count")})},1500)},a.currentEntityFilter={},a.updateEntityFilter=function(b,c,d){a.currentEntityFilter[b]||(a.currentEntityFilter[b]={}),a.currentEntityFilter[b]={eid:c,name:d},"All"==c&&delete a.currentEntityFilter[b],void 0!=c&&0!=c.length&&"All"!=c||(c=null);var e={FilterType:"Coaching",FilterValue:{name:a.fieldReviews.stateEntities[b].name,id:c}};Game.MixPanelTracking.track("Coaching Sessions Filter",e),a.setFilter(b,"entityId",c)},a.toggleSortOrder=function(b,c){a.filterObject[b].sort.fieldName==c?a.filterObject[b].sort.value=!a.filterObject[b].sort.value:(a.filterObject[b].sort.fieldName=c,a.filterObject[b].sort.value=!0),a.applyFilter(b)},a.setFilter=function(b,c,d){a.filterObject[b][c]=d,a.applyFilter(b),"searchText"==c&&Game.MixPanelTracking.track("search",{text:d})},a.sortArray=function(a,b,c){return c?a.sort(function(a,c){if("name"==b){var d=a.user[b]||a.user.email,e=c.user[b]||c.user.email;return e.toLowerCase()<d.toLowerCase()?-1:e.toLowerCase()>d.toLowerCase()?1:0}return c[b]-a[b]}):a.sort(function(a,c){if("name"==b){var d=a.user[b]||a.user.email,e=c.user[b]||c.user.email;return e.toLowerCase()<d.toLowerCase()?1:e.toLowerCase()>d.toLowerCase()?-1:0}return a[b]-c[b]}),a},a.applyFilter=function(b){a.filterObject[b].entityId?a.fieldReviews[b]=j("filter")(a.serverRes[b],{entityId:a.filterObject[b].entityId}):a.fieldReviews[b]=a.serverRes[b],a.fieldReviews[b]=j("filter")(a.fieldReviews[b],function(c,d,e){return c.user.name.toLowerCase().indexOf(a.filterObject[b].searchText.toLowerCase())>-1||c.user.email.toLowerCase().indexOf(a.filterObject[b].searchText.toLowerCase())>-1}),a.fieldReviews[b]=a.sortArray(a.fieldReviews[b],a.filterObject[b].sort.fieldName,a.filterObject[b].sort.value),null==a.$$phase&&a.$apply(),console.log("state",b,a.fieldReviews[b])},b.$on("submited.reviewform",function(){a.fetchReviews()}),a.fetchReviews()}]),angular.module("reviews").controller("ScheduleCoachingController",["$scope","arrIndex","arrType","fieldReviews","reviewsStore","CoachingAppDataModel",function(a,b,c,d,e,f){a.fieldReviews=d;var g=function(b,c){a.arrIndex=b,a.arrType=c,a.entityLearner=a.fieldReviews[c][b],a.entityInfo=a.fieldReviews.entities[a.entityLearner.entityId],a.nextSessionDateText=null,a.isScheduling=!1,a.firstTime=!0,a.minDate=(new Date).getTime(),a.timeSlots=[];for(var d=0;d<48;d++)a.timeSlots.push(d);if(a.ui={dt:null,showWarningMsg:null,showCalendarPopUp:!0,googleLink:null,msLink:null,valid:null,selectedStartSlot:0,start:{},end:{},selectedEndSlot:0,stHR:1,stMM:0,etHR:null,etMM:null,stAMPM:"AM",etAMPM:"AM",anythingChanged:!1,eventType:"ALL_DAY",btnText:Game.Messages.CS_REVIEWER_TXT_SCHEDULE},a.entityLearner.currentSheduledOn>0){var e=new Date(1e3*a.entityLearner.currentSheduledOn);a.ui.dt=e,a.forReschedule=!0,a.ui.btnText=Game.Messages.CS_REVIEWER_TXT_RESCHEDULE,a.checkForWarning(e)}if(a.entityLearner.scheduledFromTime>0){a.ui.eventType="SPECIFIC";var f=new Date(1e3*a.entityLearner.scheduledFromTime);a.setStartTime({hour:f.getHours(),min:f.getMinutes()})}else a.ui.eventType="SPECIFIC",a.setSelectedTime(16,!0);if(a.entityLearner.scheduledToTime>0){var f=new Date(1e3*a.entityLearner.scheduledToTime);a.setEndTime({hour:f.getHours(),min:f.getMinutes()})}};a.changeEventType=function(){"ALL_DAY"!=a.ui.eventType?(a.ui.eventType="ALL_DAY",a.ui.stHR=1,a.ui.stMM=0,a.ui.etHR=null,a.ui.etMM=null):(a.ui.eventType="SPECIFIC",a.setSelectedTime(16,!0)),a.ui.anythingChanged=!0,a.generateAddToCalenderLinks()},a.isAnyDateSelected=function(){return a.ui.selectedFromCalender&&a.ui.dt||a.entityLearner.currentSheduledOn>0},a.$watch("ui.dt",function(b,c){console.log("newValue="+b,"oldValue="+c),b&&(a.nextSessionDateText=Dashboard.EventManager.getNiceDate(b.getTime())),a.updateNextSessionDate(),a.closeCalendar()}),a.canGoPrevious=function(){return 0!=a.arrIndex},a.gotoPrevious=function(){a.canGoPrevious()&&g(a.arrIndex-1,a.arrType)},a.canGoNext=function(){return!(a.arrIndex+1>=a.fieldReviews[a.arrType].length)},a.gotoNext=function(){a.canGoNext()&&g(a.arrIndex+1,a.arrType)},a.updateNextSessionDate=function(){if(null!=a.ui.dt&&""!=a.ui.dt){a.ui.dt.getTime()/1e3;a.showCalendarPopUp=!1,a.ui.anythingChanged=!0,a.ui.selectedFromCalender=!0,a.checkForWarning(a.ui.dt)}},a.createDurationObjectAndUpdateLink=function(b,c){var d={error:!1,startTime:null,endTime:null},e=null;a.ui.dt?e=angular.copy(a.ui.dt):a.entityLearner.currentSheduledOn>0&&(e=new Date(1e3*a.entityLearner.currentSheduledOn)),!e||null==a.ui.stHR&&null==a.ui.stMM||(null==a.ui.stHR&&(a.ui.stHR=1),null==a.ui.stMM&&(a.ui.stMM=0),e&&(e.setHours(a.ui.stHR),e.setMinutes(a.ui.stMM),d.startTime=Math.round(e.getTime()/1e3))),!e||null==a.ui.etHR&&null==a.ui.etMM||(null==a.ui.etHR&&(a.ui.etHR=1),null==a.ui.etMM&&(a.ui.etMM=0),e&&(e.setHours(a.ui.etHR),e.setMinutes(a.ui.etMM),d.endTime=Math.round(e.getTime()/1e3))),d.startTime&&d.endTime&&(d.startTime>Math.round(e.getTime()/1e3)?d.error=!0:d.startTime>d.endTime&&(d.error=!0)),null==e||b||a.generateAddToCalenderLinks();var f=Math.round((new Date).getTime()/1e3);return d.startTime&&d.startTime<f?d.error=!0:d.endTime&&d.endTime<f&&(d.error=!0),c&&(a.ui.anythingChanged=!0),d},a.getClockTime=function(b,c){if(null==b)return c;var d=Math.floor(b/2),e=b%2*30;return a.formatedDisplayTime({hour:d,min:e})},a.formatedDisplayTime=function(a){return("0"+a.hour).slice(-2)+":"+("0"+a.min).slice(-2)},a.getHoursAndMinutes=function(a){var b=Math.floor(a/2),c=a%2*30;return{hour:b,min:c}},a.validateTime=function(b,c){var d=!1;b.indexOf(":")<0&&(d=!0);var e=b.split(":"),f=parseInt(e[0]),g=parseInt(e[1]);if(f||(f=0),(f<0||f>23)&&(f=10),g||(g=0),(g<0||g>59)&&(g=0),d)return void(a.ui[c].error=!0);if(a.ui[c].error=!1,"start"==c){var h={hour:f,min:g};a.setStartTime(h);var i=angular.copy(h);i.hour=i.hour+1,i.hour>23&&(i.hour=23),a.setEndTime(i)}else if("end"==c){var h={hour:f,min:g};a.setEndTime(h)}a.generateAddToCalenderLinks()},a.setStartTime=function(b){a.ui.stHR=b.hour,a.ui.stMM=b.min,a.ui.startDisplayTime=a.formatedDisplayTime(b)},a.setEndTime=function(b){a.ui.etHR=b.hour,a.ui.etMM=b.min,a.ui.endDisplayTime=a.formatedDisplayTime(b)},a.setSelectedTime=function(b,c){if(c){a.ui.selectedStartSlot=b;var d=a.getHoursAndMinutes(a.ui.selectedStartSlot);a.ui.startDisplayTime=a.getClockTime(a.ui.selectedStartSlot),a.setStartTime(d),a.ui.selectedEndSlot=(b+2)%48,a.ui.selectedEndSlot<a.ui.selectedStartSlot&&(a.ui.selectedEndSlot=a.ui.selectedStartSlot);var e=a.getHoursAndMinutes(a.ui.selectedEndSlot);a.setEndTime(e)}else{a.ui.selectedEndSlot=b;var e=a.getHoursAndMinutes(a.ui.selectedEndSlot);a.setEndTime(e)}a.generateAddToCalenderLinks()},a.getHourIn24HrTime=function(a,b){return"PM"==b&&a<12&&(a+=12),"AM"==b&&12==a&&(a-=12),a},a.getHourIn12HrTime=function(a){return a%12||12},a.getDaySuffix=Dashboard.EventManager.getDayOfMonthSuffix,a.checkForWarning=function(b){if(a.ui.showWarningMsg=null,null!=b&&"ADHOC_PER_MONTH"!=a.entityInfo.coachingFrequency.unitType){a.nextSessionDateText=Dashboard.EventManager.getNiceDate(b.getTime());var c=(b.getTime()/1e3,new Date);if(c.setHours(0),c.setMinutes(0),c.setSeconds(0),a.entityInfo&&"MULTIPLE"==a.entityInfo.coachingSessionsType){if(a.entityInfo.coachingFrequency&&a.entityInfo.coachingFrequency.unitType)if("DAY_OF_MONTH"==a.entityInfo.coachingFrequency.unitType){var d=b.getYear()>c.getYear()&&b.getDate()>=a.entityInfo.coachingFrequency.value,e=b.getMonth()>c.getMonth()&&b.getDate()>=a.entityInfo.coachingFrequency.value,f=Math.abs(b.getTime()-c.getTime()),g=Math.ceil(f/864e5),h=Dashboard.EventManager.getDayOfMonthSuffix(a.entityInfo.coachingFrequency.value);(d||e||g>30)&&(a.ui.showWarningMsg=_.template(Game.Messages.CS_SCHEDULE_SESSION_WARNING_MONTH)({a:a.entityInfo.coachingFrequency.value+h}))}else if("WEEK"==a.entityInfo.coachingFrequency.unitType){var f=Math.abs(b.getTime()-c.getTime()),g=Math.ceil(f/864e5);g>=7*a.entityInfo.coachingFrequency.value&&(a.ui.showWarningMsg=_.template(Game.Messages.CS_SCHEDULE_SESSION_WARNING_WEEK)({a:a.entityInfo.coachingFrequency.value}))}}a.generateAddToCalenderLinks()}},a.closeCalendar=function(){a.ui.showCalendarPopUp=!1},a.openCalendar=function(){a.ui.showCalendarPopUp=!0},a.generateAddToCalenderLinks=function(){var b=encodeURI("Review: "+a.entityInfo.name+", "+(a.entityLearner.user.name||a.entityLearner.user.email)),c=encodeURI(""),d=null,e=null;if(a.ui.dt?(d=angular.copy(a.ui.dt),e=angular.copy(a.ui.dt)):a.entityLearner.currentSheduledOn>0&&(d=new Date(1e3*a.entityLearner.currentSheduledOn),e=new Date(1e3*a.entityLearner.currentSheduledOn)),d){var f=Utils.Func.generateAddToCalenderLinks(b,c,a.entityLearner.user.email,d,e,a.ui.eventType,a.ui.stHR,a.ui.stMM,a.ui.etHR,a.ui.etMM);a.ui.googleLink=f.googleLink,a.ui.msLink=f.msLink}},a.schduleAppointment=function(){var b=null;if(a.entityLearner.reviewers&&a.entityLearner.reviewers.length>0&&(b=a.entityLearner.reviewers[0].id),a.ui.anythingChanged)if(a.generateAddToCalenderLinks(),null!=b){if(a.isScheduling)return;var c={};if("ALL_DAY"!=a.ui.eventType)c=a.createDurationObjectAndUpdateLink(!0);else{var d=new Date;a.ui.dt.getTime()-d.getTime()<-864e5&&(c.error=!0)}if(c.error)return void Dashboard.NotifBox.alert(Game.Messages.CS_REVIEWER_TXT_INVALID_DATE);a.isScheduling=!0,a.ui.btnText=Game.Messages.CS_REVIEWER_TXT_SCHEDULING;var e=Math.round(a.ui.dt.getTime()/1e3),g=new Date(1e3*e);"ALL_DAY"==a.ui.eventType&&(g.setHours(12),g.setMinutes(0)),e=Math.round(g.getTime()/1e3),f.scheduleAppointment(a.entityInfo.id,b,a.entityLearner.userId,e,c).$promise.then(function(){Dashboard.NotifBox.showAddToCalendar({gCalUrl:a.ui.googleLink,msCalUrl:a.ui.msLink},function(){a.$close()}),Game.MixPanelTracking.track("Schedule Review",{date:a.ui.dt.getTime()/1e3,eventType:a.ui.eventType,CoachingId:a.entityInfo.id,CoachingName:a.entityInfo.name,LearnerId:a.entityLearner.userId,LearnerName:a.entityLearner.user.name}),a.$close(),a.isScheduling=!1,a.forReschedule?a.ui.btnText=Game.Messages.CS_REVIEWER_TXT_RESCHEDULE:a.ui.btnText=Game.Messages.CS_REVIEWER_TXT_SCHEDULE},function(){Dashboard.NotifBox.alert("Unable to schedule appointment!"),a.isScheduling=!1,a.forReschedule?a.ui.btnText=Game.Messages.CS_REVIEWER_TXT_RESCHEDULE:a.ui.btnText=Game.Messages.CS_REVIEWER_TXT_SCHEDULE})}else Dashboard.NotifBox.alert("No reviwer assigned!!!")},g(b,c),a.openCalendar()}]);var ErrorCode={DISK_FULL:"Disk full",DB_NO_SUCH_KEY:"No such key found",DB_ERROR_WHILE_GETTING_KEY:"Error while getting key",DB_ERROR_WHILE_DELETING_KEY:"Error while deleting key",DB_ERROR_WHILE_PUTTING_KEY:"Error while putting key",DB_NOT_YET_OPEN:"IndexDB is not opened yet!",RECORDING_DISMISSED:"Recording dismissed due to some reason",AWS_LAMBDA_OBJECT_NOT_YET_INITIALIZED:"lambda Object not yet initialized",AWS_S3_OBJECT_NOT_YET_INITIALIZED:"S3 Object not yet initialized",AWS_NO_CREDENTIALS:"No Credentials",BROWSER_STALE:"Browser has gone stale",MEDIA_CLOSE_UNEXPECTEDLY:"Media closed unexpectedly",UPLOAD_FAILED:"Upload Failed",SOMETHING_WENT_WRONG:"Something went wrong",UPLOAD_ABORTED_DUE_TO_ERROR:"Upload aborted due to error",UPLOAD_FAILED_DUE_TO_NETWORK_ERROR:"Upload failed due to network error"
},MTError=function(a){var b=this;if(this.error=new Error,this.error.code=a,this.error.message=ErrorCode[a],"string"==typeof arguments[1])this.error.subMessage=arguments[1],"object"==typeof arguments[2]&&Object.keys(arguments[2]).forEach(function(a){b.error[a]=arguments[2][a]});else if("object"==typeof arguments[1]){var c=arguments;Object.keys(arguments[1]).forEach(function(a){b.error[a]=c[1][a]})}return this.error},logger=function(){var a=null,b={};return b.enableLogger=function(){null!==a&&(window.console.log=a)},b.disableLogger=function(){a=console.log,window.console.log=function(){}},b.disableLogger(),b}(),app=angular.module("commonModule");app.factory("mediaRecorder",["syncer","$q","db",function(a,b,c){var d={},e=null,f="__ck",g={afterStartErrorHandler:null,afterStartSuccessHandler:null,beforeStartErrorHandler:null},h=!1,i=function(a){var c=b.defer(),d={};return"both"==a?(d.audio=!0,d.video=!0):d[a]=!0,navigator.mediaDevices.getUserMedia(d).then(function(a){a.getAudioTracks().forEach(function(a){a.stop()}),a.getVideoTracks().forEach(function(a){a.stop()}),c.resolve()},function(a){c.reject(a)}),c.promise},j=function(a){return c.deleteKey("default_"+a+"input")},k=function(){var a=j("audio"),c=j("video");return b.all([a,c])},l=function(a){return c.putValue(f,a)},m=function(){var a=b.defer();return c.getKey(f).then(function(b){a.resolve(b)})["catch"](function(){a.resolve(null)}),a.promise},n=function(a,b){return c.putValue("default_"+a+"input",b)},o=function(a){var d=b.defer();return c.getKey("default_"+a+"input").then(function(a){d.resolve(a)})["catch"](function(){d.resolve(null)}),d.promise},p=function(){var a=b.defer(),c={audio:void 0,video:void 0};return o("audio").then(function(b){c.audio=b,o("video").then(function(b){c.video=b,a.resolve(c)})}),a.promise},q=function(a){for(var b={},c=0,d=0,e=0,f=0;f!==a.length;++f){var g=a[f],h={};h.kind=g.kind,h.deviceId=g.deviceId,"audioinput"===g.kind?(h.label=g.label||"microphone "+(d+1),d++):"audiooutput"===g.kind?(h.label=g.label||"speaker "+(c+1),c++):"videoinput"===g.kind?(h.label=g.label||"camera "+(e+1),e++):console.log("Some other kind of source/device: ",g),b[g.kind]||(b[g.kind]=[]),b[g.kind].push(h)}return b},r=function(a){var c=b.defer();return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&navigator.mediaDevices.enumerateDevices().then(function(a){c.resolve(q(a))})["catch"](function(a){c.reject(a)}),c.promise},s=function(a){function c(){if(g){if(!navigator.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(navigator.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!navigator.enumerateDevices&&navigator.enumerateDevices&&(navigator.enumerateDevices=navigator.enumerateDevices.bind(navigator)),!navigator.enumerateDevices)return void d.reject({code:"NOT_SUP",message:"Unsupported"});e=[],navigator.enumerateDevices(function(b){b.forEach(function(a){var b={};for(var c in a)b[c]=a[c];"audio"===b.kind&&(b.kind="audioinput"),"video"===b.kind&&(b.kind="videoinput");var d;e.forEach(function(a){a.id===b.id&&a.kind===b.kind&&(d=!0)}),d||(b.deviceId||(b.deviceId=b.id),b.id||(b.id=b.deviceId),!b.label&&isChrome?(b.label="Please invoke getUserMedia once.",f||(b.label="HTTPs is required to get label of this "+b.kind+" device.")):("videoinput"!==b.kind||l||(l=!0),"audioinput"!==b.kind||k||(k=!0)),"audioinput"===b.kind&&(h=!0),"audiooutput"===b.kind&&(i=!0),"videoinput"===b.kind&&(j=!0),e.push(b))}),h?!j&&a.match(/video/)?d.reject({code:"NO_CAM",message:"No webcam found"}):k||l?!l&&a.match(/video/)?d.reject({code:"GET_PERMISSION_CAM",message:"Get permission for webcam"}):k?d.resolve():d.reject({code:"GET_PERMISSION_MIC",message:"Get permission for mic"}):d.reject({code:"GET_PERMISSION_BOTH",message:"Get permission for both webcam and mic"}):d.reject({code:"NO_MIC",message:"No microphone found"})})}}var d=b.defer();navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=function(a){navigator.mediaDevices.enumerateDevices().then(a)});var e=[],f="https:"===location.protocol,g=!1;"undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack?g=!0:navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(g=!0);var h=!1,i=!1,j=!1,k=!1,l=!1;return c(),d.promise},t=function(a,c){var d=b.defer();if(isFirefox)d.reject("not-chrome");else if(2!=arguments.length&&d.reject("invalid-args"),a.match(/screen/)){var e=document.createElement("img"),f=!1;e.src="chrome-extension://"+c+"/icons/icon.png",e.onload=function(){var a=function(a){console.log(a),"mindtickle"==a.detail.source&&(f=!0)};window.addEventListener("yesIAmHere",a),window.postMessage({source:"mindtickle",type:"areYouThere",extensionId:chromePluginId},"*"),setTimeout(function(){f?d.resolve("installed-enabled"):d.reject("installed-disabled"),window.removeEventListener("yesIAmHere",a)},2e3)},e.onerror=function(){d.reject("not-installed")}}else d.resolve("not-required");return d.promise},u=function(){d.audio&&d.audio.getLastMediaTrickle(),d.screen&&d.screen.getLastMediaTrickle(),d.video&&d.video.getLastMediaTrickle()},v=function(){var a={};return d.screen&&(a.screen=d.screen.stream),d.audio&&(a.audio=d.audio.stream),d.video&&(a.video=d.video.stream),a},w=function(b,c,f,i,j){try{switch(Game.MixPanelTracking.track("StartRecordingEntry",{entityId:b,cname:cname,userId:learnerJson.id,type:f,draftId:c}),a.recordingStatus=a.RecordingStatus.ACTIVE,g.afterStartErrorHandler=j,g.afterStartSuccessHandler=i,h=!1,e=Date.now(),f){case"screen-video":d.screen.startRecording(c),d.video.startRecording(c);break;case"screen-audio":d.screen.startRecording(c),d.audio.startRecording(c);break;case"audio":d.audio.startRecording(c);break;case"video":d.video.startRecording(c)}}catch(k){j&&"function"==typeof j&&j(k)}},x=function(){d.audio&&(d.audio.stopped=!0),d.video&&(d.video.stopped=!0),d.screen&&(d.screen.stopped=!0)},y=function(b){d.audio&&d.audio.stopAndCleanup(b),d.video&&d.video.stopAndCleanup(b),d.screen&&d.screen.stopAndCleanup(b),a.recordingStatus=a.RecordingStatus.INACTIVE,a.uploadStatus=a.UploadStatus.INACTIVE,d={}},z=function(a,b,c){var d=parseInt((Date.now()-e)/1e3);u(),x(),y(),Game.MixPanelTracking.track("StopRecording",{entityId:a,cname:cname,userId:learnerJson.id,type:c,draftId:b,recordingTime:d})},A=function(a,b,c,e,f,g){console.log("Initializing Recordings for type: video"),d.video=new MTRecorder("video",a,b,c,e),d.video.prepareRecording(f,g)},B=function(a,b,c,e,f,g){console.log("Initializing Recordings for type: audio"),d.audio=new MTRecorder("audio",a,b,c,e),d.audio.prepareRecording(f,g)},C=function(a,b,c,e,f){console.log("Initializing Recordings for type: screen"),d.screen=new MTRecorder("screen",a,b,c);var g=c.split("-")[1];d.screen.prepareRecording(function(a){if(a)e(a);else if(g){var b=d[g].stream.getAudioTracks()[0];d.screen.addExtraTrack(b),e()}},f)},D=function(a,b,c,e,f,g){var h=function(a){a?(d.screen.stopAndCleanup(),f(a)):f()};console.log("Initializing Recordings for type: screen"),C(a,b,c,function(d){d?f(d):"screen-audio"==c?B(a,b,c,e,h,g):"screen-video"==c&&A(a,b,c,e,h,g)},g)},E=function(a){return!!(isChrome&&browserVersion>49)||"SCREEN_CAPTURE"!=a&&!!(isFirefox&&browserVersion>25)},F=function(){var a=b.defer();return navigator.storage?navigator.storage.estimate().then(function(b){a.resolve(b.quota/1048576)}):a.resolve(null),a.promise},G=function(b,c,e,f,i){a.recordingStatus==a.RecordingStatus.INACTIVE&&g.beforeStartErrorHandler&&g.beforeStartErrorHandler(new MTError(ErrorCode.MEDIA_CLOSE_UNEXPECTEDLY)),h||a.recordingStatus!=a.RecordingStatus.ACTIVE||(h=!0,Game.MixPanelTracking.track("DismissRecording",{cname:cname,entityId:b,type:e,extraType:f,draftId:c,reason:i,userId:learnerJson.id}),d.audio&&d.audio.dismissRecording(),d.video&&d.video.dismissRecording(),d.screen&&d.screen.dismissRecording(),g.afterStartErrorHandler&&(i==ErrorCode.BROWSER_STALE?g.afterStartErrorHandler(new MTError(ErrorCode.BROWSER_STALE)):i==ErrorCode.MEDIA_CLOSE_UNEXPECTEDLY?g.afterStartErrorHandler(new MTError(ErrorCode.MEDIA_CLOSE_UNEXPECTEDLY)):g.afterStartErrorHandler(new MTError(ErrorCode.RECORDING_DISMISSED))))},H=function(){var a=!0;return d.audio&&(a=a&&d.audio.stopped),d.video&&(a=a&&d.video.stopped),d.screen&&(a=a&&d.screen.stopped),!a},I=function(c,d,e,f,h,i){var j=b.defer();if(g.afterStartErrorHandler=null,g.afterStartSuccessHandler=null,g.beforeStartErrorHandler=i,!E)return void b.reject(new Error("Browser or Version not supported"));if(a.recordingStatus==a.RecordingStatus.INACTIVE){var k=function(b){b?(Game.MixPanelTracking.track("InitializationError",{entityId:e,cname:cname,userId:learnerJson.id,draftId:f,type:c,extraType:d,error:JSON.stringify(b)}),j.reject(b),a.recordingStatus=a.RecordingStatus.INACTIVE):j.resolve()};switch(c){case"screen-audio":case"screen-video":D(e,f,d,h,k,i);break;case"audio":B(e,f,d,h,k,i);break;case"video":A(e,f,d,h,k,i);break;case"screen":C(e,f,d,k,i);break;default:console.log("Invalid type mentioned"),k(new Error("Invalid type mentioned"))}}else j.reject(new Error("Recording already in progress"));return j.promise};return{initialize:I,cleanUpBeforeStart:y,getFreeSpace:F,getAllStreams:v,getPermissions:i,enumerateDevices:r,checkPermissions:s,startRecording:w,stopRecording:z,dismissRecording:G,getExtensionStatus:t,ifDismissRecording:H,isSupported:E,callBacks:g,rememberDevice:n,getRememberedDevice:o,getRememberedDevices:p,deleteRememberedDevices:k,getCountDownTimer:m,rememberCountDownTimer:l}}]),app.run(["mediaRecorder",function(a){MTRecorder.initializeGetUserMedia(),MTRecorder.mediaRecorderObject=a,Queue.mediaRecorderObject=a}]),MTRecorder.prototype.startRecording=function(a){this.draftId!==a&&Game.MixPanelTracking.track("DraftIdChanged",{entityId:this.entityId,cname:cname,userId:learnerJson.id,type:this.type,oldDraftId:this.draftId,newDraftId:a,extraType:this.extraType}),this.draftId=a||this.draftId,this.queue=new Queue(this.type,this.entityId,this.draftId,this.extraType),this.queue.setStartTime(),this.queue.startLock(),this.queue.setStatusAndPush(Queue.status.PENDING),this.mediaRecorder.start(this.maxInterval),this.queue.attachToSyncer(),Game.MixPanelTracking.track("StartRecording",{entityId:this.entityId,cname:cname,userId:learnerJson.id,type:this.type,extraType:this.extraType,draftId:this.draftId})},MTRecorder.prototype.getLastMediaTrickle=function(){"inactive"!=this.mediaRecorder.state&&(console.log("Getting last media trickle"),this.mediaRecorder.requestData(),this.recordingState="last-trickle",this.queue.setEndTime())},MTRecorder.prototype.dismissRecording=function(){Game.MixPanelTracking.track("DismissRecordingType",{entityId:this.entityId,cname:cname,userId:learnerJson.id,type:this.type,draftId:this.draftId,extraType:this.extraType}),this.recordIntervalId&&(clearInterval(this.recordIntervalId),this.recordIntervalId=null),"inactive"!=this.mediaRecorder.state&&this.mediaRecorder.stop(),this.stream.getAudioTracks()[0]&&(this.stream.getAudioTracks()[0].enabled=!1,this.stream.getAudioTracks()[0].stop()),this.stream.getVideoTracks()[0]&&(this.stream.getVideoTracks()[0].enabled=!1,this.stream.getVideoTracks()[0].stop()),this.queue&&(this.queue.liveQueue=!1,this.queue.stopProcessor(),this.queue.pushQueue(),setTimeout(this.queue.flushEverything.bind(this.queue),2e3))},MTRecorder.prototype.stopAndCleanup=function(a){console.log("Stopping/Cleaning up for type",this.type,this.extraType),Game.MixPanelTracking.track("StopAndCleanup",{entityId:this.entityId,cname:cname,userId:learnerJson.id,type:this.type,draftId:this.draftId,extraType:this.extraType}),a&&this.removeOnEnded(),this.recordIntervalId&&(clearInterval(this.recordIntervalId),this.recordIntervalId=null),this.mediaRecorder&&"inactive"!=this.mediaRecorder.state&&this.mediaRecorder.stop(),this.stream&&this.stream.getAudioTracks()[0]&&(this.stream.getAudioTracks()[0].enabled=!1,this.stream.getAudioTracks()[0].stop()),this.stream&&this.stream.getVideoTracks()[0]&&(this.stream.getVideoTracks()[0].enabled=!1,this.stream.getVideoTracks()[0].stop()),this.queue&&(this.queue.liveQueue=!1,this.queue.wasStopped=!0,this.queue.pushQueue())},MTRecorder.prototype.getMediaStream=function(a){var b=navigator.mediaDevices.getUserMedia(a);return b},MTRecorder.prototype.addExtraTrack=function(a){this.stream.addTrack(a)};var stackTrace=function(){var a=new Error;console.log(a.stack)};MTRecorder.prototype.removeOnEnded=function(){var a=this.stream.getVideoTracks();a.forEach(function(a){a.onended=function(){}});var b=this.stream.getAudioTracks();b.forEach(function(a){a.onended=function(){}})},MTRecorder.prototype.prepareRecording=function(a,b){console.log("Preparing to Record, hold tight!!!");var c=this;this.getMediaConstraints(this.type).then(function(b){console.log("Got Media Constraints",b,"for type",c.type),Game.MixPanelTracking.track("MediaConstraints",{entityId:c.entityId,cname:cname,userId:learnerJson.id,type:c.type,draftId:c.draftId,extraType:c.extraType,constraints:JSON.stringify(b)}),c.getMediaStream(b).then(function(b){c.stream=b,"screen"==c.type&&(b.getVideoTracks()[0].onended=function(){b.getVideoTracks()[0].enabled&&(MTRecorder.mediaRecorderObject.stopRecording(c.entityId,c.draftId,c.extraType),MTRecorder.mediaRecorderObject.callBacks.afterStartSuccessHandler&&MTRecorder.mediaRecorderObject.callBacks.afterStartSuccessHandler({message:"StopSharingButton"}),Game.MixPanelTracking.track("StopSharingClicked",{entityId:c.entityId,cname:cname,userId:learnerJson.id,type:c.type,draftId:c.draftId,extraType:c.extraType}))}),"audio"==c.type&&(b.getAudioTracks()[0].onended=function(){MTRecorder.mediaRecorderObject.ifDismissRecording()&&MTRecorder.mediaRecorderObject.dismissRecording(c.entityId,c.draftId,c.type,c.extraType,ErrorCode.MEDIA_CLOSE_UNEXPECTEDLY)}),"video"==c.type&&(b.getAudioTracks()[0].onended=function(){MTRecorder.mediaRecorderObject.ifDismissRecording()&&MTRecorder.mediaRecorderObject.dismissRecording(c.entityId,c.draftId,c.type,c.extraType,ErrorCode.MEDIA_CLOSE_UNEXPECTEDLY)},b.getVideoTracks()[0].onended=function(){MTRecorder.mediaRecorderObject.ifDismissRecording()&&MTRecorder.mediaRecorderObject.dismissRecording(c.entityId,c.draftId,c.type,c.extraType,ErrorCode.MEDIA_CLOSE_UNEXPECTEDLY)});var d={mimeType:"video/webm"};"audio"==c.type&&(d={mimeType:"audio/webm"}),c.mediaRecorder=new MediaRecorder(b),c.mediaRecorder.ondataavailable=function(a){"stop"!=c.recordingState&&("last-trickle"==c.recordingState&&(c.recordingState="stop"),console.info("blob recieved === ",a),("undefined"==typeof isFirefox||!isFirefox||a.data&&a.data.size)&&c.queue.handleBlob(a,function(a){a&&MTRecorder.mediaRecorderObject.dismissRecording(c.entityId,c.draftId,c.type,c.extraType)}))},c.recordIntervalId=setInterval(function(){"recording"==c.mediaRecorder.state&&c.mediaRecorder.requestData()},c.recordInterval),a()},function(b){var d=Object.keys(b).concat(Object.keys(Object.getPrototypeOf(b)));Game.MixPanelTracking.track("ErrorGettingMediaStreams",{entityId:c.entityId,cname:cname,userId:learnerJson.id,draftId:c.draftId,type:c.type,extraType:c.extraType,error:JSON.stringify(b,d)}),a(b)})})["catch"](function(b){var d=Object.keys(b).concat(Object.keys(Object.getPrototypeOf(b)));Game.MixPanelTracking.track("ErrorGettingMediaConstraints",{entityId:c.entityId,cname:cname,userId:learnerJson.id,type:c.type,extraType:c.extraType,draftId:c.draftId,error:JSON.stringify(b,d)}),a(b)})},MTRecorder.prototype.getMediaConstraints=function(a){var b=this;return console.log("Getting media Constraints",a,this.extraType),new Promise(function(c,d){switch(a){case"audio":var e=b.devices&&b.devices.audio&&b.devices.audio.deviceId?b.devices.audio.deviceId:void 0;c({audio:{deviceId:e?{exact:e}:void 0}});break;case"video":var e=b.devices&&b.devices.audio&&b.devices.audio.deviceId?b.devices.audio.deviceId:void 0,f=b.devices&&b.devices.video&&b.devices.video.deviceId?b.devices.video.deviceId:void 0;c("screen-video"==b.extraType?{audio:{deviceId:e?{exact:e}:void 0},video:{deviceId:f?{exact:f}:void 0,width:{ideal:140,min:352},height:{ideal:96,min:240}}}:{audio:{deviceId:e?{exact:e}:void 0},video:{deviceId:f?{exact:f}:void 0,width:{ideal:672,min:352},height:{ideal:378,min:240}}});break;case"screen":getScreenId(function(a,b){a?d(a):c(b)})}})},MTRecorder.initializeGetUserMedia=function(){navigator.mediaDevices||(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(a){var b=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return b?new Promise(function(c,d){b.call(navigator,a,c,d)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))})},function(){window.getScreenId=function(a){if(isFirefox)return void a(null,{video:{mozMediaSource:"window",mediaSource:"window"}});var b=function(a){"mindtickle"==a.detail.source&&window.postMessage({source:"mindtickle",type:"getSourceId",extensionId:chromePluginId,screenOptions:["screen"],tabUrl:location.origin},"*"),window.removeEventListener("yesIAmHere",b),clearTimeout(d)},c=function(b){b.detail||a(null),b.detail.sourceId&&("PermissionDeniedError"===b.detail.err?a("PermissionDeniedError"):a(null,getScreenConstraints(null,b.detail.sourceId))),window.removeEventListener("getscreenid",c)},d=(window.addEventListener("getscreenid",c),window.addEventListener("yesIAmHere",b),setTimeout(function(){window.removeEventListener("yesIAmHere",b),a("PermissionDeniedError")},1e3));window.postMessage({source:"mindtickle",type:"areYouThere",extensionId:chromePluginId},"*")},window.getScreenConstraints=function(a,b){var c={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:1280,maxHeight:720}}};return b&&(c.video.mandatory.chromeMediaSourceId=b),c}}();var app=angular.module("commonModule");app.factory("syncer",["db","$q",function(a,b){var c=[],d={ACTIVE:"Active",INACTIVE:"Inactive"},e={ACTIVE:"Active",INACTIVE:"Inactive"},f=d.INACTIVE,g=e.INACTIVE,h=function(a){var b=new Queue;return Object.keys(a).forEach(function(c){b[c]=a[c]}),b.liveQueue=!1,b},i=function(){c.forEach(function(a){a.stopProcessor()})},j=function(a){Game.MixPanelTracking.track("QueueAttaching",{key:a.queueKey,entityId:a.entityId,cname:cname,userId:learnerJson.id,type:a.type,extraType:a.extraType,draftId:a.draftId}),c.push(a)},k=function(){var c=b.defer(),d=IDBKeyRange.only("queue"),e=a.getTypeIndex().openCursor(d);e.onsuccess=function(a){var b=a.target.result;if(b){var d=h(b.value);d.status==Queue.status.DONE&&d.status==Queue.status.ERROR||!d.wasStopped?b.value.wasStopped||d.flushEverything():(d.startLock(),j(d)),b["continue"]()}else c.resolve();e.onerror=function(a){console.log("ERROR in cursorRequest",a),Game.MixPanelTracking.track("ErrorGettingCursorRequest",{cname:cname,userId:learnerJson.id,error:JSON.stringify(a)}),c.reject("Cannot fetch values"+a)}}};return{attachQueue:j,stopSyncer:i,initializeSyncer:k,uploadStatus:f,UploadStatus:d,recordingStatus:g,RecordingStatus:e}}]),app.factory("lambdaApi",["AwsServices","$q",function(a,b){var c=(b.defer(),{});return c.invokeLambdaForConcat=function(c,d,e){b.defer();if(d.length>0){console.log("Invoke Lambda for concat",d,c);var f=JSON.stringify({mediaKeys:d,aggregateMediaS3Key:c,bucket:a.getBucket(),contentType:e}),g={FunctionName:"ConcatMediaMission",InvocationType:"RequestResponse",Payload:f};return a.invokeLambda(g)}b.reject(new Error("No media keys to concat"))},c}]),app.factory("s3Api",["AwsServices","$q",function(a,b){var c={};return c.getSignedUrl=function(b){return a.s3SignedUrl(b)},c.uploadToS3=function(b,c){console.log("Uploading to S3",b);var d={Bucket:a.getBucket(),Key:b,Body:c};return a.uploadToS3(d)},c.multipartUploadToS3=function(b,c,d){d?contentType="application/x-www-form-urlencoded":contentType=c.type,console.log("Uploading to S3 (multipart) - ",b);var e={Bucket:a.getBucket(),Key:b,Body:c,ContentType:contentType,leavePartsOnError:!0},f=a.multipartUploadToS3(e);return f},c}]),app.factory("db",["$window","$q","commonService",function(a,b,c){var d=a.indexedDB||a.webkitIndexedDB||a.mozIndexedDB||a.msIndexedDB,e=null,f=4,g="mtMission_"+learnerJson.id,h=learnerJson.id,i=function(){k("readwrite").clear()},j=function(){var a=b.defer(),c=k("readonly").getAll();return c.onsuccess=function(b){var c=b.target.result;a.resolve(c)},c.onerror=function(b){Game.MixPanelTracking.track("ErrorDB",{event:"getAll",cname:cname,userId:learnerJson.id,err:b.target.error.name}),a.reject(new Error("Error while getting all keys"))},a.promise},k=function(a){return e.transaction(h,a||"readonly").objectStore(h)},l=function(){var a=b.defer(),c=d.open(g,f);return c.onupgradeneeded=function(a){e=a.target.result,a.target.transaction.onerror=d.onerror,console.log("Creating DB with store",h,b);var b=e.createObjectStore(h);b.createIndex("objectType","objectType",{unique:!1}),Game.MixPanelTracking.track("CreatingDB",{event:"create",cname:cname,userId:learnerJson.id})},c.onsuccess=function(b){console.log("Success on creating db store",h),e=b.target.result,a.resolve(e)},c.onerror=function(b){Game.MixPanelTracking.track("ErrorDB",{event:"open",cname:cname,userId:learnerJson.id,err:b.target.error.name}),a.reject(b)},a.promise},m=function(){return k("readonly").index("objectType")},n=function(a){var d=b.defer();if(null===e)return b.reject(new MTError(ErrorCode.DB_NOT_YET_OPEN));var f=k("readonly").get(a);return f.onsuccess=function(b){var e=b.target.result;return a.startsWith("Blob")&&"string"==typeof e?void c.dataUriToBlob(e).then(function(a){d.resolve(a)},function(a){d.reject(new MTError(ErrorCode.DB_NO_SUCH_KEY)),Game.MixPanelTracking.track("ErrorDB",{event:"convertDataUriToBlob",cname:cname,userId:learnerJson.id,err:JSON.stringify(a)})}):void(e?d.resolve(e):d.reject(new MTError(ErrorCode.DB_NO_SUCH_KEY)))},f.onerror=function(a){Game.MixPanelTracking.track("ErrorDB",{event:"getKey",cname:cname,userId:learnerJson.id,err:a.target.error.name}),d.reject(new MTError(ErrorCode.DB_ERROR_WHILE_GETTING_KEY))},d.promise},o=function(a){if(null===e)return b.reject("IndexDB is not opened yet!");console.log("delete",a);var c=b.defer(),d=k("readwrite")["delete"](a);return d.onsuccess=function(a){console.log("Successfully deleted the key",a),c.resolve(!0)},d.onerror=function(b){console.error("Error while deleting key",a),Game.MixPanelTracking.track("ErrorDB",{event:"deleteKey",cname:cname,userId:learnerJson.id,err:b.target.error.name}),c.reject(new MTError(ErrorCode.DB_ERROR_WHILE_DELETING_KEY))},c.promise},p=function(a,d){var e=b.defer();return a.startsWith("Blob")?c.blobToDataUri(d).then(function(a){e.resolve(a)},function(a){Game.MixPanelTracking.track("ErrorDB",{event:"convertBlobToUri",cname:cname,userId:learnerJson.id,err:"message: "+a.message+" stack: "+a.stack}),e.reject(a)}):e.resolve(d),e.promise},q=function(a,b,c,d){p(a,b).then(function(e){var f=k("readwrite").put(e,a);f.onsuccess=function(e){n(a).then(function(){c.resolve(!0)},function(e){d>10?c.reject(new MTError(ErrorCode.DB_ERROR_WHILE_PUTTING_KEY)):(console.log("Don't know why it didn't push, will push it again",d,a,e),q(a,b,c,++d))})},f.onerror=function(a){Game.MixPanelTracking.track("ErrorDB",{event:"putValue",cname:cname,userId:learnerJson.id,err:a.target.error.name}),c.reject(new MTError(ErrorCode.DB_ERROR_WHILE_PUTTING_KEY))}},function(a){Game.MixPanelTracking.track("ErrorDB",{event:"errorParseDbValue",cname:cname,userId:learnerJson.id,err:JSON.stringify(a)})})},r=function(a,c){var d=b.defer();return null===e?b.reject(new MTError(ErrorCode.DB_NOT_YET_OPEN)):(q(a,c,d,0),d.promise)};return{open:l,getAll:j,getKey:n,putValue:r,deleteKey:o,getTypeIndex:m,getObjectStore:k,clearObjectStore:i}}]),app.factory("recordStatus",["db","$q","$interval",function(a,b,c){var d=function(b){return new Promise(function(c,d){var e=setInterval(function(){a.getKey(b[0]).then(function(d){b[1]?a.getKey(b[1]).then(function(f){d.seen&&f.seen&&(a.deleteKey(b[0]),a.deleteKey(b[1]),clearInterval(e),c())}):d.seen&&(clearInterval(e),a.deleteKey(b[0]),c())})},1e3);setTimeout(function(){a.deleteKey(b[0]),b[1]&&a.deleteKey(b[1]),clearInterval(e),c()},2*Queue.PROCESS_INTERVAL)})},e=function(b,c,e){var f=e?e.split("-"):[],g=[];return Game.MixPanelTracking.track("FlushQueues",{entityId:b,cname:cname,userId:learnerJson.id,type:e,draftId:c}),f.forEach(function(a){g.push("Flush_"+b+"_"+c+"_"+a)}),g.forEach(function(b){console.log("Adding key",b),a.putValue(b,{seen:!1})}),d(g)},f=function(c,d,e){var f=b.defer();if(["screen","audio","video"].indexOf(e)==-1)return b.reject(new Error("Invalid Types"));var g="Queue_"+c+"_"+d+"_"+e;return a.getKey(g).then(function(a){a.extraInfo.concatUrl?f.resolve(a.extraInfo.concatUrl):f.reject(new Error("No Url"))})["catch"](function(a){f.reject(new Error("Error Getting Url"))}),f.promise},g=function(a,c,d){var e=b.defer(),g={},h=d.split("-");return f(a,c,h[0]).then(function(b){g[h[0]]=b,"video"==h[1]?f(a,c,h[1]).then(function(b){g[h[1]]=b,Game.MixPanelTracking.track("ConcatUrls",{entityId:a,cname:cname,userId:learnerJson.id,type:d,draftId:c,urls:JSON.stringify(g)}),e.resolve(g)})["catch"](function(b){Game.MixPanelTracking.track("ErrorConcatUrls",{entityId:a,cname:cname,userId:learnerJson.id,type:d,draftId:c,err:JSON.stringify(b)}),e.reject(b)}):(Game.MixPanelTracking.track("ConcatUrls",{entityId:a,cname:cname,userId:learnerJson.id,type:d,draftId:c,urls:JSON.stringify(g)}),e.resolve(g))})["catch"](function(b){Game.MixPanelTracking.track("ErrorConcatUrls",{entityId:a,cname:cname,userId:learnerJson.id,type:d,draftId:c,err:JSON.stringify(b)}),e.reject(b)}),e.promise},h=function(c,d,e){var f=b.defer();if(["screen","audio","video"].indexOf(e)==-1)return b.reject(new Error("Invalid Types"));var g="Queue_"+c+"_"+d+"_"+e;return a.getKey(g).then(function(a){f.resolve({state:a.status,uploadedSize:a.uploadedSize,totalSize:a.totalSize,networkDown:a.networkDown,startTime:a.startTime,endTime:a.endTime})})["catch"](function(a){f.reject(new Error("Error Getting Queue Status"))}),f.promise},i=function(a,c,d){var e=b.defer();return j(a,c,d).then(function(a){if(a[1])if(a[0].networkDown||a[1].networkDown)e.resolve({networkDown:!0});else if(a[0].state===Queue.status.DONE&&a[1].state===Queue.status.DONE)e.resolve({status:Queue.status.DONE,duration:a[0].endTime-a[0].startTime});else if(a[0].state===Queue.status.ERROR||a[1].state===Queue.status.ERROR)e.resolve({status:Queue.status.ERROR});else if(a[0].state===Queue.status.NO_DATA||a[1].state===Queue.status.NO_DATA)e.resolve({status:Queue.status.NO_DATA});else if(a[0].state===Queue.status.PENDING||a[1].state===Queue.status.PENDING){console.log(a[0].totalSize,a[1].totalSize,a[0].uploadedSize,a[1].uploadedSize);var b=a[0].totalSize+a[1].totalSize,c=a[0].uploadedSize+a[1].uploadedSize,d=b?parseInt(100*c/b):0;e.resolve({status:Queue.status.UPLOADING,percentage:d})}else e.resolve({status:Queue.status.PROCESSING});else if(a[0].networkDown)e.resolve({status:a[0].state,networkDown:!0});else if(a[0].state===Queue.status.DONE||a[0].state===Queue.status.ERROR||a[0].state===Queue.status.NO_DATA)e.resolve({status:a[0].state,duration:a[0].endTime-a[0].startTime});else if(a[0].state===Queue.status.PENDING){var f=a[0].totalSize?parseInt(100*a[0].uploadedSize/a[0].totalSize):0;e.resolve({status:Queue.status.UPLOADING,percentage:f})}else e.resolve({status:Queue.status.PROCESSING})})["catch"](function(a){e.reject(a)}),e.promise},j=function(a,c,d){var e=b.defer(),f=d.split("-"),g=[];return f&&f.length>0&&h(a,c,f[0]).then(function(b){g.push(b),f[1]?h(a,c,f[1]).then(function(a){g.push(a),e.resolve(g)})["catch"](function(a){e.reject(a)}):e.resolve(g)})["catch"](function(a){e.reject(a)}),e.promise};return{getUrlPaths:g,flushQueues:e,getRecordingStatus:i}}]),app.run(["db","syncer","AwsServices","s3Api","lambdaApi",function(a,b,c,d,e){a.open().then(function(){return Queue.dbObject=a,Queue.s3ApiObject=d,Queue.syncerObject=b,Queue.lambdaApiObject=e,c.initialize()},function(a){console.log("Error while opening DB",a)}).then(function(){b.initializeSyncer()},function(a){console.log("Error while initializing Syncer",a)})}]);var AwsConfig=function(a,b,c,d){this.accessKeyId=a,this.secretAccessKey=b,this.sessionToken=c,this.region=d,this.correctClockSkew=!0};angular.module("commonModule").factory("AwsServices",["$q","$resource","$timeout",function(a,b,c){var d=!1,e=108e6,f=null,g=null,h=null,i=null,j=null,k=b("/:cname/:userId/getExtensionBasicFederatedCreds",{cname:cname,userId:learnerJson.id}),l=function(a){var b=n(),c=new AwsConfig(a.accessKeyId,a.secretAccessKey,a.sessionToken,b);AWS.config.update({correctClockSkew:!0,httpOptions:{timeout:0}}),i=m(b),g=new AWS.S3(c),h=new AWS.Lambda(c)},m=function(a){switch(a){case"us-east-1":return"mtgame-us.mindtickle.com";case"eu-west-1":return"mtgame-eu.mindtickle.com";case"ap-southeast-1":return"mtgame-cdn.mindtickle.com";default:return null}},n=function(){switch(companySettings.cdnId){case 3:return"eu-west-1";case 2:return"us-east-1";case 1:return"ap-southeast-1";default:return null}},o=function(){k.get().$promise.then(function(a){d=!0,l(a),clearInterval(f)},function(a){403!=a.status?Game.MixPanelTracking.track("GetFederatedError",{cname:cname,userId:learnerJson.id,error:JSON.stringify(a)}):(clearInterval(f),Utils.Func.alertCustom(Game.Messages.SESSION_OUT,function(){location.reload()},Game.Messages.BTN_RELOAD)),console.log("Error while getting federated creds",a)})},p=function(){d=!1,o(),clearInterval(f),f=setInterval(function(){o()},2e4)},q=function(){var b=a.defer(),c=setInterval(function(){cname&&learnerJson.id&&companySettings.cdnId&&(clearInterval(c),p(),clearInterval(j),j=setInterval(p,e),b.resolve())},1e3);return b.promise},r=function(b){var c=a.defer();return h?d?(h.invoke(b,function(a,b){var d=this.request.response.requestId;if(a)a.requestId=d,"NetworkingError"==a.code?a.retry=!0:"ExpiredToken"==a.code&&(console.log("Expired Token reinitializing"),q()),console.log(a),c.reject(a);else if(b&&b.FunctionError){var e=new Error(JSON.parse(b.Payload).errorMessage);e.requestId=d,c.reject(e)}else c.resolve({requestId:d})}),c.promise):a.reject(new MTError(ErrorCode.AWS_NO_CREDENTIALS,{retry:!0})):a.reject(new MTError(ErrorCode.AWS_LAMBDA_OBJECT_NOT_YET_INITIALIZED,{retry:!0}))},s=function(b){var c=a.defer(),e={Bucket:x(),Key:b};return g?d?(g.getSignedUrl("getObject",e,function(a,b){a?"NetworkingError"==a.code?a.retry=!0:"ExpiredToken"==a.code?(console.log("Expired Token reinitializing"),q()):c.reject(a):c.resolve(b)}),c.promise):a.reject(new MTError(ErrorCode.AWS_NO_CREDENTIALS,{retry:!0})):a.reject(new MTError(ErrorCode.AWS_S3_OBJECT_NOT_YET_INITIALIZED,{retry:!0}))},t=function(b){var c=a.defer();return g?d?(g.upload(b,function(a,d){a?(console.log("S3 error",a.code,d),"NetworkingError"==a.code?a.retry=!0:"ExpiredToken"==a.code?(console.log("Expired Token reinitializing"),q()):console.log("Error in get s3",a,d,x()),c.reject(a)):c.resolve(b.Key)}),c.promise):void a.defer().reject(new MTError(ErrorCode.AWS_NO_CREDENTIALS,{retry:!0})):void a.defer().reject(new MTError(ErrorCode.AWS_S3_OBJECT_NOT_YET_INITIALIZED,{retry:!0}))},u=function(a,b,c,d){if(d.retryable)if("ExpiredToken"==d.code)console.log("MultipartS3Upload - Expired Token reinitializing"),q().then(function(){a.numberOfRetries++,b.send(c)});else{if(b&&b.multipartReq&&"createMultipartUpload"==b.multipartReq.operation)return void a.onServerError(new MTError(ErrorCode.UPLOAD_FAILED_DUE_TO_NETWORK_ERROR,{subMessage:ErrorCode.UPLOAD_FAILED_DUE_TO_NETWORK_ERROR}));if(console.log("MultipartS3Upload - Error in s3 upload - ",JSON.stringify(d),x()),a.numberOfRetries<=20){"function"==typeof a.onServerError&&a.onServerError(d);var e=Math.min(4,a.numberOfRetries+2);setTimeout(function(){console.log("MultipartS3Upload - Retrying. Retries till now =",a.numberOfRetries),a.numberOfRetries++,b.send(c)},1e3*Math.pow(2,e))}else"function"==typeof a.onServerError&&a.onServerError(new MTError(ErrorCode.UPLOAD_ABORTED_DUE_TO_ERROR,d.code))}else"function"==typeof a.onServerError&&a.onServerError(new MTError(ErrorCode.UPLOAD_ABORTED_DUE_TO_ERROR,d.code));
},v=function(a){var b={};if(b.numberOfRetries=0,b.uploadedBytes=0,b.params=a,!g)return b.error=new MTError(ErrorCode.AWS_S3_OBJECT_NOT_YET_INITIALIZED),b;if(!d)return b.error=new MTError(ErrorCode.AWS_NO_CREDENTIALS),b;var c=g.upload(a);c.on("httpUploadProgress",function(a){return b.numberOfRetries>=100?void c.abort():void 0===a.total?void("function"==typeof b.onProgressChanged&&b.onProgressChanged(0,1)):(b.uploadedBytes>=a.loaded||(b.numberOfRetries=0,b.uploadedBytes=a.loaded,b.uploadedBytes>a.total&&(b.uploadedBytes=a.total)),void("function"==typeof b.onProgressChanged&&b.onProgressChanged(this.doneParts,Math.ceil(this.totalBytes/this.partSize))))});var e=function(a,d){a?(console.log("S3 error",a.code,d),u(b,c,e,a)):"function"==typeof b.onUploadComplete&&b.onUploadComplete()};return b.cancelUpload=function(){b.numberOfRetries=100,c.abort()},setTimeout(function(){c.send(e)},1e3),b},w=function(){return g},x=function(){return i},y=function(){j&&(cancelInterval(j),j=null)},z=function(){return d};return{initialize:q,getS3:w,getBucket:x,ifCredentials:z,invokeLambda:r,uploadToS3:t,multipartUploadToS3:v,s3SignedUrl:s,clearFedInterval:y}}]),Queue.prototype.setEndTime=function(){this.endTime=Date.now()},Queue.prototype.setStartTime=function(){this.startTime=Date.now()},Queue.prototype.attachToSyncer=function(){Queue.syncerObject.attachQueue(this)},Queue.prototype.setStatus=function(a){this.status=a},Queue.prototype.setStatusAndPush=function(a){a!==Queue.status.PENDING&&Game.MixPanelTracking.track("QueueState"+a,{entityId:this.entityId,cname:cname,userId:learnerJson.id,type:this.type,draftId:this.draftId,extraType:this.extraType}),this.setStatus(a),this.pushQueue()},Queue.prototype.deleteElement=function(a){var b=this.recordQueue.shift();Queue.dbObject.deleteKey(b),this.pushQueue()},Queue.prototype.pushElement=function(a){this.recordQueue.push(a),this.pushQueue()},Queue.prototype.getElement=function(){var a=this;return new Promise(function(b,c){var d=a.recordQueue[0];return"undefined"==typeof d?(b(null),void(a.liveQueue||a.setStatusAndPush(Queue.status.STITCHING))):void Queue.dbObject.getKey(d).then(function(a){console.log(a),b(a)})["catch"](function(a){console.log("error",a),c(a)})})},Queue.prototype.getQueue=function(){return Queue.dbObject.getKey(this.queueKey)},Queue.prototype.pushQueue=function(a){Queue.dbObject.putValue(this.queueKey,this).then(function(){"function"==typeof a&&a()})["catch"](function(a){console.error("Error pushing the queue to db",this)})},Queue.prototype.deleteQueue=function(){Queue.dbObject.deleteKey(this.queueKey)},Queue.prototype.cleanUp=function(){this.stopProcessor(),this.deleteQueue()},Queue.prototype.handlePendingState=function(){var a=this;Queue.syncerObject.uploadStatus===Queue.syncerObject.UploadStatus.INACTIVE&&(Queue.syncerObject.recordingStatus===Queue.syncerObject.RecordingStatus.ACTIVE&&this.liveQueue||Queue.syncerObject.recordingStatus===Queue.syncerObject.RecordingStatus.INACTIVE)&&(Queue.syncerObject.uploadStatus=Queue.syncerObject.UploadStatus.ACTIVE,a.getElement().then(function(b){if(b){var c=cname+"/user/"+learnerJson.id+"/"+a.entityId+"/"+a.draftId+"/"+a.type+"/"+Date.now()+".webm";Queue.syncerObject.uploadStatus===Queue.syncerObject.UploadStatus.ACTIVE&&Queue.s3ApiObject.uploadToS3(c,b).then(function(){a.networkDown=!1,a.uploadedSize+=a.chunkSize[a.chunksUploaded]?a.chunkSize[a.chunksUploaded]:0,a.chunksUploaded+=1,a.mediaKeys.push(c),a.deleteElement(),Queue.syncerObject.uploadStatus=Queue.syncerObject.UploadStatus.INACTIVE})["catch"](function(b){"NetworkingError"===b.code?(a.networkDown=!0,a.pushQueue()):Game.MixPanelTracking.track("S3ErrorUploading",{entityId:a.entityId,cname:cname,userId:learnerJson.id,type:a.type,draftId:a.draftId,extraType:a.extraType,chunkNumber:a.chunksUploaded+1,error:JSON.stringify(b)}),console.log("Error while uploading",b),Queue.syncerObject.uploadStatus=Queue.syncerObject.UploadStatus.INACTIVE})}else Queue.syncerObject.uploadStatus=Queue.syncerObject.UploadStatus.INACTIVE})["catch"](function(b){console.log("error in getting element from db",b,a.recordQueue[0]),a.errorGettingElement+=1,a.errorGettingElement>10&&(a.liveQueue&&Queue.mediaRecorderObject.dismissRecording(a.entityId,a.draftId,a.type,a.extraType,ErrorCode.DB_NO_SUCH_KEY),a.setStatusAndPush(Queue.status.ERROR),Game.MixPanelTracking.track("ErrorGettingBlobFromDB",{entityId:a.entityId,cname:cname,userId:learnerJson.id,type:a.type,extraType:a.extraType,draftId:a.draftId,chunkNumber:a.chunksUploaded+1,error:JSON.stringify(b)})),Queue.syncerObject.uploadStatus=Queue.syncerObject.UploadStatus.INACTIVE}))},Queue.prototype.handleStitchingState=function(){this.stitchingInProgress=!0;var a=this,b=cname+"/user/"+learnerJson.id+"/"+a.entityId+"/"+a.draftId+"/"+a.type+"_"+Date.now()+".webm",c=Date.now();return 0===this.mediaKeys.length?(a.setStatusAndPush(Queue.status.NO_DATA),void Game.MixPanelTracking.track("NoDataToConcat",{entityId:a.entityId,cname:a.cname,userId:a.userId,type:a.type,draftId:a.draftId,concatChunks:a.mediaKeys.length,chunkSizeInKB:JSON.stringify(a.chunkSize)})):(Game.MixPanelTracking.track("InvokeLambdaConcat",{entityId:a.entityId,cname:a.cname,userId:a.userId,type:a.type,draftId:a.draftId,concatChunks:a.mediaKeys.length,chunkSizeInKB:JSON.stringify(a.chunkSize)}),void Queue.lambdaApiObject.invokeLambdaForConcat(b,a.mediaKeys,a.contentType).then(function(d){var e=(Date.now()-c)/1e3;console.log("RequestId",d.requestId),a.networkDown=!1,a.extraInfo.concatUrl=b,Game.MixPanelTracking.track("DoneInvokeLambdaConcat",{awsRequestId:d.requestId,entityId:a.entityId,cname:a.cname,userId:a.userId,type:a.type,draftId:a.draftId,invocationTimeInSecs:e}),Queue.s3ApiObject.getSignedUrl(b).then(function(b){console.log("SIGNED URL CONCAT",a.type,b)},function(a){console.log(a)}),a.setStatusAndPush(Queue.status.DONE)})["catch"](function(b){a.stitchingInProgress=!1,"NetworkingError"==b.code&&(a.networkDown=!0,a.pushQueue()),b.retry||(a.errorInvokingConcatLambda+=1,a.errorInvokingConcatLambda>10&&(Game.MixPanelTracking.track("ErrorInvokeLambdaConcat",{awsRequestId:b.requestId,entityId:a.entityId,draftId:a.draftId,cname:a.cname,userId:a.userId,type:a.type,err:JSON.stringify(b)}),a.setStatusAndPush(Queue.status.ERROR)))}))},Queue.prototype.handleStates=function(a){var b=this;switch(a){case Queue.status.PENDING:this.handlePendingState();break;case Queue.status.STITCHING:this.stitchingInProgress||this.handleStitchingState();break;case Queue.status.ERROR:case Queue.status.NO_DATA:this.deleteLock();break;case Queue.status.DELETE:this.stopProcessor(function(){b.deleteLock(),b.flushEverything()})}},Queue.prototype.getFlushStatus=function(){var a=this;return new Promise(function(b,c){Queue.dbObject.getKey(a.flushKey).then(function(c){b(c.seen?null:Queue.status.DELETE);Queue.dbObject.putValue(a.flushKey,{seen:!0})})["catch"](function(){b(null)})})},Queue.prototype.processor=function(){var a=this;this.getFlushStatus().then(function(b){var c=b||a.status;console.log("Performing Action on type",a.type,"for status",c,Queue.syncerObject.uploadStatus,Queue.syncerObject.recordingStatus),a.handleStates(c)})},Queue.prototype.stillExists=function(){return this.getQueue()},Queue.prototype.stopProcessor=function(a){clearInterval(this.queueIntervalId),clearInterval(this.lockIntervalId),this.queueIntervalId=null,this.liveQueue=!1,this.pushQueue(a)},Queue.prototype.updateFields=function(a){var b=this;Object.keys(a).forEach(function(c){"lockIntervalId"!=c&&"queueIntervalId"!=c&&(b[c]=a[c])})},Queue.prototype.startProcessor=function(){var a=this;this.stillExists().then(function(b){a.updateFields(b),a.queueIntervalId=setInterval(a.processor.bind(a),Math.floor(1e3*Math.random()+Queue.PROCESS_INTERVAL)),a.startUpdateInterval(),Game.MixPanelTracking.track("StartProcessor",{entityId:a.entityId,cname:cname,userId:learnerJson.id,type:a.type,draftId:a.draftId,extraType:a.extraType})},function(b){a.status=Queue.status.DELETE,a.queueIntervalId=setInterval(a.processor.bind(a),Math.floor(1e3*Math.random()+Queue.PROCESS_INTERVAL))})},Queue.prototype.handleBlob=function(a,b){var c=this,d="Blob_"+this.entityId+"_"+this.draftId+"_"+this.type+"_"+Date.now();a&&a.data.size>0?Queue.dbObject.putValue(d,a.data).then(function(){c.pushElement(d);var b=Math.round(a.data.size/1024);c.totalSize+=b,c.chunkSize.push(b),"stop"==c.recordingState&&Game.MixPanelTracking.track("StopRecordingType",{entityId:c.entityId,cname:cname,userId:learnerJson.id,type:c.type,extraType:c.extraType,draftId:c.draftId,concatChunks:c.mediaKeys.length,chunkSizeInKB:JSON.stringify(c.chunkSize)})})["catch"](function(a){b(a),Game.MixPanelTracking.track("ErrorHandlingBlob",{entityId:c.entityId,cname:cname,userId:learnerJson.id,type:c.type,draftId:c.draftId,extraType:c.extraType,chunkNumber:c.chunkSize.length+1,error:JSON.stringify(a)})}):Queue.mediaRecorderObject.dismissRecording(c.entityId,c.draftId,c.type,c.extraType,ErrorCode.BROWSER_STALE)},Queue.prototype.flushEverything=function(){var a=this;this.getQueue().then(function(b){a.updateFields(b),b&&(b.recordQueue&&b.recordQueue.forEach(function(a){Queue.dbObject.deleteKey(a)}),b.lockKey&&Queue.dbObject.deleteKey(b.lockKey),Queue.dbObject.deleteKey(b.queueKey),Game.MixPanelTracking.track("FlushEverything"+status,{entityId:a.entityId,cname:cname,draftId:a.draftId,userId:learnerJson.id,type:a.type,extraType:a.extraType}))})},Queue.status={DONE:"Done",LOADING:"Loading",PENDING:"Pending",STITCHING:"Stitching",ERROR:"Error",DELETE:"Delete",PROCESSING:"Processing",UPLOADING:"Uploading",NO_DATA:"NoData"},Queue.prototype.deleteLock=function(){clearInterval(this.lockIntervalId),Queue.dbObject.deleteKey(this.lockKey)},Queue.prototype.checkLock=function(){var a=this;Queue.dbObject.getKey(a.lockKey).then(function(b){Date.now()-b>Queue.LOCK_TIME&&a.startProcessor()})["catch"](function(){console.log("No such key exists adding lock key",a.lockKey),Queue.dbObject.putValue(a.lockKey,Date.now()).then(function(){a.startProcessor()})})},Queue.prototype.updateLock=function(){Queue.dbObject.putValue(this.lockKey,Date.now())},Queue.prototype.startUpdateInterval=function(){clearInterval(this.lockIntervalId),this.lockIntervalId=setInterval(this.updateLock.bind(this),Queue.LOCK_UPDATE_INTERVAL)},Queue.prototype.startLock=function(){this.lockIntervalId=setInterval(this.checkLock.bind(this),Queue.LOCK_CHECK_INTERVAL),this.checkLock()},Queue.LOCK_UPDATE_INTERVAL=5e3,Queue.LOCK_TIME=15e3,Queue.LOCK_CHECK_INTERVAL=5e3,Queue.PROCESS_INTERVAL=3e3,angular.module("commonModule").controller("recordingPartialController",["$scope","$translate","$state","$stateParams","mtHistory","$sce","mediaRecorder","$rootScope",function(a,b,c,d,e,f,g,h){a.isHTML5MissionRecordingSupported=function(){return isHTML5MissionRecordingSupported};var i={};console.log("EntityId:"+a.entityId),a.registerController=function(a){i.toggleRecording=a.toggleRecording},a.$watch("currentState",function(){a.$evalAsync()}),a.saveDraftText=function(){return a.isSaving?Game.Messages.BTN_SAVING_TEXT:Game.Messages.M_TXT_SAVE_DRAFT+" "+a.currentDraftOrder},a.discardDraftText=function(a){return a?Game.Messages.M_TXT_DISCARD:Game.Messages.M_TXT_CREATING+".."}}]).controller("htmlRecordingPartialController",["$scope","$translate","$state","$stateParams","mtHistory","$sce","mediaRecorder","$rootScope","recordStatus","$interval","$element","$q","missionsService","UploaderFactory",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){var a=window.name.indexOf("vfFrame")>-1;if(isChrome&&browserVersion>63&&top!==window&&!a&&document.referrer.indexOf("mindtickle.com")<0){var b=courseInfo.fixed.name,c="Your current browser and MindTickle set up inside of Salesforce is not allowing MindTickle to access your camera and microphone. To attempt this mission, open <a target='_blank' href=' "+window.location.href+"'> "+b+" <a/>in a new tab in your browser.For more information, click <a target='_blank' href='https://help.mindtickle.com/support/solutions/articles/3000075260-unable-to-record-missions-in-mindtickle-in-salesforce-classic'>here</a>.";Dashboard.NotifBox.alertCustom(c)}}function p(b){for(var c,d=Object.keys(b),e=-1,f=0;f<d.length;f++)b[d[f]].timestamp>e&&(e=b[d[f]].timestamp,c=d[f]);a.setSubmitView(c)}h.isScreenCapture="SCREEN_CAPTURE"===a.missionLoType,h.missionType=a.missionLoType,"undefined"!=typeof Appcues&&Appcues.page();var q={entityId:a.entityId,draftOrder:a.draftOrder,missionLoType:a.missionLoType};a.parentScopeWatch(a),a.loaderImg=a.assetsBase+"/images/ajax-loader.gif",a.loadingImg=a.assetsBase+"/images/loading_light.gif",a.recordingImg=a.assetsBase+"/images/recording.gif",a.nointernetImg=a.assetsBase+"/images/no-internet.gif",a.rememberMediaSettings=!1,"VIDEO_PITCH"==a.missionLoType?a.videoPitch=!0:a.videoPitch=!1,console.log("EntityId:"+a.entityId);var r=null;if(a.isVideoNeeded=function(){return"screen-video"===r||"video"===r},h.isScreenCapture){var s="https://chrome.google.com/webstore/detail/"+chromePluginId;r="screen-video",a.currentState=a.states.CHECKING_PLUGIN_STATE,a.changeState(a.currentState)}var t=function(a,b,c){return{message:a,subMessage:b,error:c}},u=function(b,c,d){if(b){var e=g.initialize(b,c,a.entityId,a.draftOrder,d,function(b){if(b.code==ErrorCode.MEDIA_CLOSE_UNEXPECTEDLY&&a.currentState===a.states.RECORD_READY_STATE){g.cleanUpBeforeStart();var c="";isChrome&&(c=" open a new tab and type chrome://restart to"),L(t("Your Mic or Camera may have an issue. Please check the device connection","Else please"+c+" restart your browser and fix this problem.",b))}});a.streams={};window.URL||window.webkitURL;e.then(function(){a.streams=g.getAllStreams(),a.videoUrl=a.streams.video,setTimeout(function(){var b=angular.element("#html-video-stream"),c=angular.element("#inset-video"),d=a.streams.video;if(d){if(b[0]){b[0].muted=!0;try{b[0].srcObject=d}catch(e){b[0].src=window.URL.createObjectURL(d)}}if(c[0]){try{c[0].srcObject=d}catch(e){c[0].src=window.URL.createObjectURL(d)}c[0].muted=!0}}},0),a.$evalAsync()})["catch"](function(b){"ConstraintNotSatisfiedError"==b.name?L(t("We are unable to capture the video from your webcam for either of the following reasons:","<div><ul><li>Your webcam is in use by some other application. Close the applications/ browser tabs which might be using the webcam and try again.</li><li>Your webcam does not support the recording in the current format.</li></ul></div>")):"DevicesNotFoundError"==b.name?a.showSelectedDevices():L("NotAllowedError"==b.name?t("Failed to get Microphone and Camera access",'<div>Not sure how to do it? <a href="https://help.mindtickle.com/en/support/solutions/articles/3000091931-how-to-grant-microphone-and-camera-access-in-the-operating-system-mac-and-windows-for-missions-" target="_blank" class="a_tag_overBlack txtDecoration_N display_IB cursor">Click here.</a> </div>'):t("The recording did not start due to an error.","Please <a onClick='reloadWindow()' class='txtDecoration_N a_tag_overBlack display_IB cursor'>try again</a>.",b)),console.error(b)})}};a.videoPreviewStreamsReference=[],a.audioPreviewStreamsReference=[],a.showAudioBox=!0,a.audioStream={},a.rememberDevices=function(){g.rememberDevice("audio",a.selectedDevices.audio),g.rememberDevice("video",a.selectedDevices.video)},a.deleteRememberedDevice=function(){g.deleteRememberedDevices()},a.selectDevice=function(b,c){if(a.selectedDevices[b]=c,"video"==b){x();var d=angular.element("#videoPreview");v(c,d[0])}else"audio"==b&&(y(),w(c))};var v=function(b,c){if(a.selectedDevices.video=b,b&&c){var d={video:{deviceId:{exact:b.deviceId}}};navigator.mediaDevices.getUserMedia(d).then(function(b){try{c.srcObject=b}catch(d){c.src=window.URL.createObjectURL(b)}c.muted=!0,c.play(),a.videoPreviewStreamsReference.push(b.getVideoTracks()[0])})}},w=function(b){if(a.selectedDevices.audio=b,b.deviceId){var c={audio:{deviceId:{exact:b.deviceId}}};a.showAudioBox=!1,navigator.mediaDevices.getUserMedia(c).then(function(b){a.audioStream=b,a.audioPreviewStreamsReference.push(b.getAudioTracks()[0]),setTimeout(function(){a.showAudioBox=!0},100)},function(a){console.error(a)})}},x=function(){for(var b=0;b<a.videoPreviewStreamsReference.length;b++)a.videoPreviewStreamsReference[b].stop()},y=function(){for(var b=0;b<a.audioPreviewStreamsReference.length;b++)a.audioPreviewStreamsReference[b].stop()};a.loadDefaultVideoAudio=function(){var b=angular.element("#videoPreview");v(a.selectedDevices.video,b[0]),w(a.selectedDevices.audio)};var z=function(a,b,c){var d=!1;return c[a+"input"].forEach(function(c){c.deviceId===b[a].deviceId&&(d=!0)}),d},A=function(a,b){return a.audio&&!z("audio",a,b)&&(a.audio=void 0),a.video&&!z("video",a,b)&&(a.video=void 0),a},B=function(){var a=l.defer();return g.enumerateDevices().then(function(b){g.getRememberedDevices().then(function(c){a.resolve(A(c,b))})})["catch"](function(b){a.resolve({audio:void 0,video:void 0})}),a.promise},C=function(){clearInterval(a.statusInterval);var b=a.isVideoNeeded()?"video":"audio";a.selectedDevices=a.selectedDevices||{audio:void 0,video:void 0},B().then(function(c){a.selectedDevices.audio=a.selectedDevices.audio||c.audio,a.selectedDevices.video=a.selectedDevices.video||c.video,!a.selectedDevices.audio||"video"===b&&!a.selectedDevices.video?a.showSelectedDevices():u(b,r,a.selectedDevices)})};a.showSelectedDevices=function(){g.enumerateDevices().then(function(b){a.allDevices=b,a.enumeratedDevices=!0,a.selectedDevices={audio:a.allDevices.audioinput[0],video:a.isVideoNeeded()?a.allDevices.videoinput[0]:void 0},a.changeState(a.states.SELECT_DEVICES)})},a.getAudioTracks=function(){return a.streams?a.streams.video?a.streams.video:a.streams.audio?a.streams.audio:null:null},r=m.getRecordingType(a),a.$on("$destroy",function(){for(var b=0;b<a.videoPreviewStreamsReference.length;b++)a.videoPreviewStreamsReference[b].stop();a.videoPreviewStreamsReference=[];for(var b=0;b<a.audioPreviewStreamsReference.length;b++)a.audioPreviewStreamsReference[b].stop();a.audioPreviewStreamsReference=[]}),h.$on("$stateChangeStart",function(b,c,d,e,f){"mission"===e.name&&a.currentState!=a.states.RECORDING&&g.cleanUpBeforeStart(!0)}),h.$on("$stateChangeSuccess",function(b,c,d,e,f){"mission"===e.name&&a.currentState==a.states.RECORDING&&Q()}),a.getPermissionType="both";var D=function(){return Game.MixPanelTracking.track("Extension Present",q),g.checkPermissions(r).then(function(){return i.getRecordingStatus(a.entityId,a.draftOrder,r).then(function(b){"Error"===b.status?(Game.MixPanelTracking.track("Ready to Record",q),a.checkMissionState()):(Game.MixPanelTracking.track("Checking Recording Status",q),a.currentState=a.states.SAVING,a.changeState(a.currentState),P())})["catch"](function(b){a.checkMissionState()})},function(b){"NO_MIC"==b.code||"NO_CAM"==b.code||"NOT_SUP"==b.code?("NO_CAM"==b.code&&L(t("Webcam and Microphone are not available.","",b)),"NO_MIC"==b.code&&L(t("Microphone is not available.","",b)),"NOT_SUP"==b.code&&L(t("Webcam or Microphone not available.","",b))):"GET_PERMISSION_MIC"==b.code?(a.getPermissionType="audio",Game.MixPanelTracking.track("Mic Access Denied",q),a.currentState=a.states.GET_CAM_MIC_ACCESS):"GET_PERMISSION_CAM"==b.code?(a.getPermissionType="video",Game.MixPanelTracking.track("Cam Access Denied",q),a.currentState=a.states.GET_CAM_MIC_ACCESS):"GET_PERMISSION_BOTH"==b.code&&(Game.MixPanelTracking.track("Cam and Mic Access Denied",q),a.currentState=a.states.GET_CAM_MIC_ACCESS),a.changeState(a.currentState),["GET_PERMISSION_MIC","GET_PERMISSION_CAM","GET_PERMISSION_BOTH"].indexOf(b.code)>-1&&o()})},E=function(){var a=l.defer();return a.resolve(null),a.promise},F=function(){return g.isSupported(a.missionLoType)?h.isScreenCapture?(a.currentState=a.states.CHECKING_PLUGIN_STATE,a.changeState(a.currentState),g.getExtensionStatus(r,chromePluginId).then(function(a){D()},function(b){"not-installed"==b?a.currentState=a.states.INSTALL_PLUGIN_STATE:"installed-disabled"==b&&(a.currentState=a.states.INSTALL_PLUGIN_STATE_DISABLED,window.addEventListener("yesIAmHere",function(){D()})),a.changeState(a.currentState)})):D():(L(isChrome?t("Unsupported Chrome Version.","Please <a href='https://www.google.com/chrome/browser/desktop/index.html' target='_blank' class='txtDecoration_N a_tag_overBlack display_IB cursor'>upgrade</a> Chrome to version 50 or above to use this mission."):t("Unsupported Browser.","Please <a href='https://www.google.com/chrome/browser/desktop/index.html' target='_blank' class='txtDecoration_N a_tag_overBlack display_IB cursor'>install</a> latest Chrome to use this mission.")),E())},G=0;a.getCamMicAccess=function(){a.currentState=a.states.BROWSER_PERMISSION,a.changeState(a.currentState),g.getPermissions(a.getPermissionType).then(function(){D()},function(b){G>0?(a.currentState=a.states.GET_CAM_MIC_ERROR,a.changeState(a.currentState)):(G+=1,D())})},a.clearMediaPermissions=function(){g.cleanUpBeforeStart(!0)};var H=["Uploading..."],I=["Processing files.","Processing files..","Processing files..."],J=[Game.Messages.M_TXT_SAVING_SUBMISSION],K=0;a.timerEnds=function(){O()};var L=function(b){a.currentState=a.states.ERROR_STATE,a.errorMessage=b.message||"Something went wrong.",console.error(a.errorMessage),a.errorSubMessage=b.subMessage||null,a.changeState(a.currentState);var c=_.extend({},q);c.recordingType="html5",b.error&&(c.error=JSON.stringify(b.error)),b.subMessage&&(c.subMessage=b.subMessage),b.message&&(c.message=b.message),Game.MixPanelTracking.track("GlobalError",c)},M=function(){clearInterval(a.statusInterval),i.flushQueues(a.entityId,a.draftOrder,r).then(function(){h.isRecording=!1,a.checkMissionState()})};a.enumeratedDevices=!1,a.$watch("currentState",function(b,c){if(b!==c&&(b===a.states.RECORD_READY_STATE?C():b===a.states.PURIFY_STATE?M():b===a.states.SUBMITTED_STATE||b===a.states.DRAFT_STATE||b===a.states.SUBMITTED_VIEW_PRESENTATION?g.cleanUpBeforeStart():b===a.states.UPLOADING_VIDEO&&(x(),y(),g.cleanUpBeforeStart()),c===a.states.SELECT_DEVICES&&(clearInterval(a.enumerateTimeout),a.enumeratedDevices=!1),b===a.states.SELECT_DEVICES)){g.cleanUpBeforeStart();var d=function(){g.enumerateDevices().then(function(b){a.allDevices=b,a.allDevices.audioinput.forEach(function(b){a.selectedDevices.audio&&b.deviceId===a.selectedDevices.audio.deviceId&&(a.selectedDevices.audio.label=b.label)}),a.allDevices.videoinput.forEach(function(b){a.selectedDevices.video&&b.deviceId===a.selectedDevices.video.deviceId&&(a.selectedDevices.video.label=b.label)}),a.enumeratedDevices=!0})};d(),a.enumerateTimeout=setInterval(d,1e3)}}),a.setPreferences=function(){a.rememberMediaSettings&&(g.rememberCountDownTimer(a.countDownNumber),g.rememberDevice("audio",a.selectedDevices.audio),a.isVideoNeeded()&&g.rememberDevice("video",a.selectedDevices.video)),a.checkMissionState()},a.toggleRememberMedia=function(){a.rememberMediaSettings=!a.rememberMediaSettings},window.reloadWindow=function(){window.location.reload()};var N=function(a){return K+=1,K>=a.length&&(K=0),a[K]},O=function(){a.currentState=a.states.RECORDING,a.changeState(a.currentState),setTimeout(function(){a.startTime=Date.now(),Game.MixPanelTracking.track("Start Recording",q),k.find(".recording-timer")[0].start()},300),g.startRecording(a.entityId,a.draftOrder,r,function(a){"StopSharingButton"==a.message&&Q()},function(a){if(a.code==ErrorCode.BROWSER_STALE){var b="";isChrome&&(b=" open a new tab and type chrome://restart to"),L(t("There seems to be an issue with your browser.","Please"+b+" restart your browser and fix this problem.",a)),alert("There seems to be an issue with your browser, Please restart your browser "+(isChrome?"by typing chrome://restart in the address bar and hit Enter.":""))}else L(a.code==ErrorCode.MEDIA_CLOSE_UNEXPECTEDLY?t("Your Microphone or Camera got disconnected","Please check the device and <a onClick='reloadWindow()' class='txtDecoration_N a_tag_overBlack display_IB cursor'>try again</a>.",a):t("There was an error in recording.","Please <a onClick='reloadWindow()' class='txtDecoration_N a_tag_overBlack display_IB cursor'>try again</a>.",a))});window.URL||window.webkitURL;h.isRecording=!0,"VOICE_OVER_PPT"==a.missionLoType&&a.recordPageChange(a.currpage,!0),h.errorStatement="You are offline, this won't affect your current recording."};a.statusInterval=null,a.networkDown=!1;var P=function(){a.statusInterval=setInterval(function(){i.getRecordingStatus(a.entityId,a.draftOrder,r).then(function(b){console.log(b),a.networkDown=!!b.networkDown,a.$evalAsync(),"Done"==b.status?(clearInterval(a.statusInterval),Game.MixPanelTracking.track("RecordingStatusDone",q),a.messageWait=N(I),a.networkDown=!1,a.$evalAsync(),i.getUrlPaths(a.entityId,a.draftOrder,r).then(function(c){a.messageWait=N(J),a.$evalAsync();var d=Math.ceil(b.duration/1e3),e=c.screen;"audio"==r?e=c.audio:"video"==r&&(e=c.video),Game.MixPanelTracking.track("AddingMissionDraft",q),a.nextFunc(e,c.video,null,d).then(function(){Game.MixPanelTracking.track("DraftAddedSuccessfully",q),i.flushQueues(a.entityId,a.draftOrder,r).then(function(){a.currentState=a.states.PREVIEW_DRAFT,a.networkDown=!1,a.$evalAsync()})})["catch"](function(a){L(t("There was an error in Processing","Please <a onClick='reloadWindow()' class='txtDecoration_N a_tag_overBlack display_IB cursor'>reload</a>.",a)),console.error(a)})})["catch"](function(a){L(t("There was an error in processing","Please <a onClick='reloadWindow()' class='txtDecoration_N a_tag_overBlack display_IB cursor'>reload</a>.",a)),console.error(a)})):"Uploading"==b.status?(a.messageWait=N(H),a.messageWait="("+b.percentage+"%) "+a.messageWait):"Processing"==b.status?a.messageWait=N(I):"Error"==b.status?(clearInterval(a.statusInterval),setTimeout(function(){i.flushQueues(a.entityId,a.draftOrder,r).then(function(){L(t("There was an error in uploading","Please <a onClick='reloadWindow()' class='txtDecoration_N a_tag_overBlack display_IB cursor'>try recording again</a>."))})},100)):"NoData"==b.status&&(clearInterval(a.statusInterval),setTimeout(function(){i.flushQueues(a.entityId,a.draftOrder,r).then(function(){L(t("Not enough data to process","Please <a ng-click='changeState(states.RECORD_READY_STATE)' class='txtDecoration_N a_tag_overBlack display_IB cursor'>try recording again</a>."))})},100)),a.$evalAsync()})["catch"](function(b){clearInterval(a.statusInterval),L(t("There was an error while getting record status","Please <a onClick='reloadWindow()' class='txtDecoration_N a_tag_overBlack display_IB cursor'>try recording again</a>.",b))})},1e3)};$(window).on("beforeunload",function(){if(a.currentState==a.states.RECORD_READY_STATE&&g.cleanUpBeforeStart(!0),a.currentState==a.states.RECORDING)return"Reloading will result in the loss of recording.<br/>Are you sure you want to reload?"}),$(window).on("unload",function(){Q()});var Q=function(){k.find(".recording-timer")[0]&&(k.find(".recording-timer")[0].pause(),a.currentState=a.states.SAVING,a.changeState(a.currentState),h.isRecording=!1,g.stopRecording(a.entityId,a.draftOrder,r),a.messageWait="(0%)"+N(H),Game.MixPanelTracking.track("Stop Recording",q),a.$evalAsync(),P())};a.toggleRecording=function(b){if(b)Q();else if(r.match(/screen/)){var c=g.initialize("screen",r,a.entityId,a.draftOrder);c.then(function(){Game.MixPanelTracking.track("Countdown Begins",q),a.currentState=a.states.COUNTDOWN_RUNNING,a.playCount=!0,a.changeState(a.currentState)})["catch"](function(b){console.log("Error in initializing stream: ",b),g.cleanUpBeforeStart(),"PermissionDeniedError"==b?F():"ConstraintNotSatisfiedError"==b.name?L(t("We are unable to capture the video from your webcam for either of the following reasons:","<div><ul><li>Your webcam is in use by some other application. Close the applications/ browser tabs which might be using the webcam and try again.</li><li>Your webcam does not support the recording in the current format.</li></ul></div>")):"NotAllowedError"==b.name?L(t("Failed to get Microphone and Camera access",'<div>Not sure how to do it? <a href="https://help.mindtickle.com/en/support/solutions/articles/3000091931-how-to-grant-microphone-and-camera-access-in-the-operating-system-mac-and-windows-for-missions-" target="_blank" class="a_tag_overBlack txtDecoration_N display_IB cursor">Click here.</a> </div>')):a.checkMissionState()})}else a.currentState=a.states.COUNTDOWN_RUNNING,a.changeState(a.currentState)},a.assignControls(a);var R=function(){var a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!a&&parseInt(a[2],10)}(),S=function(){var a=null;return window.addEventListener("yesIAmHere",function(){a.close(),Game.MixPanelTracking.track("Installed Mission Plug-in",q),window.removeEventListener("yesIAmHere",function(){}),D()}),a=window.open(s,"Plugin Install","location=1,status=1,scrollbars=1,  width=1200,height=600")};a.installPlugin=function(){Game.MixPanelTracking.track("Install Mission Plug-in",q);try{R&&R>=71?S():chrome.webstore.install(s,function(a){console.log(a),Game.MixPanelTracking.track("Installed Mission Plug-in",q),window.addEventListener("yesIAmHere",function(){window.removeEventListener("yesIAmHere",function(){}),D()})},function(a){var b=null;window.addEventListener("yesIAmHere",function(){b.close(),Game.MixPanelTracking.track("Installed Mission Plug-in",q),window.removeEventListener("yesIAmHere",function(){}),D()}),b=window.open(s,"Plugin Install","location=1,status=1,scrollbars=1,  width=1200,height=600"),b.moveTo(100,100)})}catch(a){if("Chrome Web Store installations can only be started by the top frame."==a)var b=window.open("/installExtension","Install Extension",""),c=window.setInterval(function(){b.closed!==!1&&(window.clearInterval(c),location.reload())},200)}},a.practiceTabObject.permissionStatesCheck=F,a.countDownNumber=5,g.getCountDownTimer().then(function(b){a.countDownNumber=parseInt(b,10)||a.countDownNumber}),a.setCountDownNumber=function(b){a.countDownNumber=b,a.$evalAsync()},a.$on("permissionStatesCheck",function(){F()});var T=function(){var b=a.fetchData.learningObject.userData.draftIdDraftMap;return!(!b||!Object.keys(b).length)&&b},U=function(){function b(){var b,c,d;if(b=a.fetchData.learningObject.staticData.id+"_media",d=n.getUploaderById(b,"video"),d&&(c=d.getCurrentState(),c>0))return d.showCurrState(),a.states.UPLOADING_VIDEO}var c=a.states.SELECT_UPLOAD_METHOD_STATE;return isHTML5MissionRecordingSupported?void i.getRecordingStatus(a.entityId,a.draftOrder,r).then(function(){F()})["catch"](function(){if(c=b())return void a.changeState(c);var d=T();return d?void p(d):void a.changeState(a.states.SELECT_UPLOAD_METHOD_STATE)}):(c=b()||c,void a.changeState(c))};if(a.videoPitch)U();else{var V=T();if(V)return void p(V);F()}}]).controller("flashRecordingPartialController",["$scope","$translate","$state","$stateParams","mtHistory","$sce","mediaRecorder","$rootScope","UploadServiceRecording","$cookies","UploaderFactory",function(a,b,c,d,e,f,g,h,i,j,k){function l(b){for(var c,d=Object.keys(b),e=-1,f=0;f<d.length;f++)b[d[f]].timestamp>e&&(e=b[d[f]].timestamp,c=d[f]);a.setSubmitView(c)}h.isScreenCapture=!1,a.parentScopeWatch(a),a.listenerCurrentState=null,a.countDownNumber=5,a.parseTime=function(a){var b=Math.floor(a/60),c=Math.floor(a%60),d=(b>9?b:"0"+b)+":"+(c>9?""+c:"0"+c)+"m";return d},a.currentDraftOrder=a.draftOrder,a.onSwfLoadHandler=function(b){return a.elemPitchRecording=angular.element("#pitch-recording")[0],a.lastState&&(a.changeState(a.lastState),a.lastState=null),!0},"VIDEO_PITCH"==a.missionLoType?a.videoPitch=!0:a.videoPitch=!1,a.audioRecSwf="/assets/libs/AudioRec-Video.swf?v=12",a.timerEnds=function(){h.isRecording=!0,a.startTime=Date.now(),a.timerPaused?(angular.element("#countdown-timer")[0].resume(),a.timerPaused=!1):angular.element("#countdown-timer")[0].start(),setTimeout(function(){a.elemPitchRecording.startRecord(),a.changeState(a.states.RECORDING),setTimeout(function(){a.recordPageChange(a.currpage)},100)},100),setTimeout(function(){a.$evalAsync()},100)},a.startTimer=function(){},a.noMediaFound=function(){o(n("WebCam or Microphone not available."))},a.clearMediaPermissions=function(){},a.prepared=function(b){console.log(b),
b?(a.currentState=a.states.COUNTDOWN_RUNNING,a.changeState(a.currentState)):(a.currentState=a.states.FLASH_PERMISSION_DENIED_STATE,a.changeState(a.currentState),h.isRecording=!1,Utils.Func.alertCustom(Game.Messages.M_TXT_MIC_ACCESS_DENIED,function(){location.reload()},Game.Messages.RELOAD))};var m={entityId:a.entityId,draftOrder:a.draftOrder,missionLoType:a.missionLoType},n=function(a,b,c){return{message:a,subMessage:b,error:c}},o=function(b){a.currentState=a.states.ERROR_STATE,a.errorMessage=b.message||"Something went wrong.",console.error(a.errorMessage),a.errorSubMessage=b.subMessage||null,a.changeState(a.currentState);var c=_.extend({},m);c.recordingType="flash",c.error=b.message,b.error&&(c.error=JSON.stringify(b)),b.subMessage&&(c.subMessage=b.subMessage),Game.MixPanelTracking.track("GlobalError",c)};a.setHeaders=function(b,c,d){i.totalParts=d+1,a.currentVoiceOverData=JSON.parse(c),i.currentBlobCounter=0,i.headerBlobCounter=44;var e={};a.videoPitch&&(e.type=".flv"),i.recordingCompleted(e).then(function(b){var c=angular.element(".recording-timer span")[0]?Math.ceil(angular.element(".recording-timer span").scope().millis/1e3):0;a.nextFunc(b,null,a.currentVoiceOverData,c)},function(){Utils.Func.alert(Game.Messages.M_TXT_ERROR_IN_PROCESSING),p()})};var p=function(){Game.MixPanelTracking.track("_mission_start_recording_state",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id}),h.isRecording=!1,missionService.currentKey=null,a.currentState=a.states.RECORD_READY_STATE,a.timerDisplayOption=Game.Messages.M_TXT_TARGET_LENGTH+" - "+a.getTargetLengthString(a.fetchData.gameInfo.specialStaticSettings.targetLength);var b=angular.element("#pdfplayerForMissionRecording").get(0);b&&b.contentWindow&&b.contentWindow.postMessage("page.1","*"),setRecordingControls(),null==a.$$phase&&a.$apply()};a.getTargetLengthString=function(b){b||(b=a.fetchData.gameInfo.specialStaticSettings.targetLength);var c=Math.floor(b/60);c<10&&(c="0"+c);var d=Math.floor(b%60);return d<10&&(d="0"+d),c+"m : "+d+"s"},a.setAudio=function(a){for(var b=0;b<a.length;b++)if(i.currentBlobCounter<BUFFER_SIZE)i.currentBlobView.setInt16(i.currentBlobCounter,Number(a[b])*(32767*i.volumeRecording),!0),i.currentBlobCounter+=2;else{var c=new Blob([i.currentBlobView]);i.currentBlobCounter=0,i.currentBlobView.setInt16(i.currentBlobCounter,Number(a[b])*(32767*i.volumeRecording),!0),i.currentBlobCounter+=2,i.appendAudio(c)}},a.sendToJS=function(a,b){console.log(a+":"+b),Game.MixPanelTracking.track("_mission_flash_events_"+a,{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,"Key Flash":a,Message:b})};var q=function(b){var c=window.location.origin+"/cname/"+cname+"/missionId/"+a.entityId+"/userid/"+b.userId+"/token/"+b.token+"/checktoken";"VIDEO_PITCH"==a.missionLoType?a.elemPitchRecording.prepareRecord(b.key.split(i.draftOrder).join(i.draftOrderTimeStamp),b.key,b.bucket,c,b.streamServer,i.draftOrder,b.x_amz_algorithm,b.x_amz_credentials,b.x_amz_date,b.signature,b.policy,"video"):a.elemPitchRecording.prepareRecord(b.key.split(i.draftOrder).join(i.draftOrderTimeStamp),b.key,b.bucket,c,b.streamServer,i.draftOrder,b.x_amz_algorithm,b.x_amz_credentials,b.x_amz_date,b.signature,b.policy,"audio")},r=function(b){if(isSafari||!isEdge&&isSupportedIE)a.showClickBrowserPopup=!1,a.currentState=a.states.PREPARING,a.changeState(a.currentState),setTimeout(function(){q(b)},750);else if(j.hasGivenBrowserPermission)a.showClickBrowserPopup=!1,a.currentState=a.states.PREPARING,a.changeState(a.currentState),setTimeout(function(){q(b)},750);else{a.currentState=a.states.BROWSER_PERMISSION,a.showClickBrowserPopup=!0,a.changeState(a.currentState);var c={audio:!0,video:!0};navigator.getUserMedia(c,function(c){try{c.stop()}catch(d){try{c.active=!1}catch(e){console.log("Error while stream.stop: "+e.message),Game.MixPanelTracking.track("_mission_user_media_error",{Method:"checkBrowserPermission","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,Error:e.message,"Content Type":"MISSION"})}}a.currentState=a.states.PREPARING,a.showClickBrowserPopup=!1,j.hasGivenBrowserPermission=!0,a.changeState(a.currentState),setTimeout(function(){q(b)},750),a.$evalAsync()},function(a){o(n("Web-cam or Microphone not available.")),console.log(a)})}a.$evalAsync()};a.toggleRecording=function(b){if(!b&&a.elemPitchRecording.prepareRecord){i.draftOrder="Draft_"+cname+"_"+a.entityId+"_"+learnerJson.id+"_"+a.draftOrder,i.draftOrderTimeStamp="Draft_"+cname+"_"+a.entityId+"_"+learnerJson.id+"_"+c+"_"+Date.now(),i.getStreamAuthToken(a.entityId,i.draftOrder).$promise.then(function(a){r(a)},function(){Utils.Func.alert(Game.Messages.ERROR_MISSION_OFFLINE)});var c=a.currentDraftOrder;return i.startRecording(d.entityId,c).then(null,function(){h.isRecording&&a.toggleRecording(),s()}),!0}angular.element("#countdown-timer")[0].stop(),a.endTime=a.startTime+angular.element("#countdown-timer span").scope().millis,a.currentState=a.states.SAVING,a.timerPaused=!1,h.isRecording=!1;var c=a.currentDraftOrder;return a.timerDisplayOption="Draft "+c+" - "+a.parseTime((a.endTime-a.startTime)/1e3),a.draftOrder=c,a.changeState(a.currentState),a.elemPitchRecording.stopRecord(),!1};var s=function(){Utils.Func.alert("Upload Failed, Please check your connection and record again.",function(){p()})};a.errorInRecording=function(){Game.MixPanelTracking.track("_mission_error_in_recording",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id}),console.log("error!! error!! error!!"),s()},a.errorSevere=function(){var a=Game.Messages.M_TXT_NO_VOICE_RECEIVED_ERROR_OTHER;isChrome&&(a=Game.Messages.M_TXT_NO_VOICE_RECEIVED_ERROR_CHROME),Utils.Func.alert(a,function(){Game.MixPanelTracking.track("_mission_no_voice_received_error",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id,Message:"Error"}),window.location.reload()})},a.alertOffline=function(){a.changeState(a.states.PAUSED_OFFLINE),a.timerPaused=!0,$(".recording-timer")[0].stop(),a.$evalAsync(),Utils.Func.alertCustom(Game.Messages.ERROR_MISSION_OFFLINE,function(){},"OK")},a.alertOnline=function(){a.changeState(a.states.PAUSED_OFFLINE),a.$evalAsync(),Game.MixPanelTracking.track("_mission_online",{"Content Type":"MISSION","Content Name":courseInfo.fixed.name,"Content ID":courseInfo.fixed.id})},a.connected=function(){console.log("in connected!"),errorTopBarDisplay(!1,Game.Messages.M_TXT_CONNECTED)},a.noSoundReceived=function(){console.log("in no sound received!"),a.errorTopBarDisplay(!0,Game.Messages.M_TXT_NO_SOUND_FROM_END)},a.errorTopBarDisplay=function(b,c){b?h.showTopBarError=!0:h.showTopBarSuccess=!0,h.errorStatement=c,null==a.$$phase&&a.$apply(),$timeout(function(){h.showTopBarError=void 0,h.showTopBarSuccess=void 0,h.errorStatement=void 0},4e3)},a.errorAlert=function(){Utils.Func.alertCustom(Game.Messages.ERROR_NO_MIC_PERMISSION,function(){console.log("error")},"OK")},a.assignControls(a);var t=function(){function b(){var b,c,d;if(b=a.fetchData.learningObject.staticData.id+"_media",d=k.getUploaderById(b,"video"),d&&(c=d.getCurrentState(),c>0))return d.showCurrState(),a.states.UPLOADING_VIDEO}var c=a.states.SELECT_UPLOAD_METHOD_STATE;if(c=b())return void a.changeState(c);var d=u();return d?void l(d):void a.changeState(a.states.SELECT_UPLOAD_METHOD_STATE)},u=function(){var b=a.fetchData.learningObject.userData.draftIdDraftMap;return!(!b||!Object.keys(b).length)&&b};if(a.videoPitch)t();else{var v=u();if(v)return void l(v)}}]),angular.module("commonModule").directive("recordingPartial",function(){return{restrict:"A",templateUrl:templateBaseUrl+"/common/recording-partial.html",scope:{currentState:"=currentState",fetchData:"=fetchData",parentScopeWatch:"=parentScopeWatch",heightStyle:"=heightStyle",states:"=states",draftOrder:"=draftOrder",entityId:"=entityId",missionLoType:"=missionLoType",hasPermissions:"=hasPermissions",recordPageChange:"=recordPageChange",setSubmitView:"=setSubmitView",messageWait:"=messageWait",practiceTabObject:"=practiceTabObject",currpage:"=currpage",nextFunc:"=nextFunc",currentVoiceOverData:"=currentVoiceOverData",assignControls:"=assignControls",checkMissionState:"=checkMissionState",changeState:"=changeState",targetLength:"=targetLength",assetsBase:"=assetsBase",isScreenVideo:"=isScreenVideo",countDownNumber:"=countDownNumber",isHTML5MissionRecordingSupported:"=?isHTML5MissionRecordingSupported",checkIfShowPresentation:"=checkIfShowPresentation",pptMedia:"=pptMedia"},controller:"recordingPartialController",link:function(a,b,c){}}}).directive("htmlRecordingPartial",function(){return{restrict:"A",templateUrl:templateBaseUrl+"/common/html-recording-partial.html",scope:{currentState:"=currentState",fetchData:"=fetchData",parentScopeWatch:"=parentScopeWatch",states:"=states",entityId:"=entityId",draftOrder:"=draftOrder",practiceTabObject:"=practiceTabObject",registerCtrl:"=registerCtrl",setSubmitView:"=setSubmitView",missionLoType:"=missionLoType",hasPermissions:"=hasPermissions",recordPageChange:"=recordPageChange",nextFunc:"=nextFunc",assignControls:"=assignControls",changeState:"=changeState",checkMissionState:"=checkMissionState",assetsBase:"=assetsBase",messageWait:"=messageWait",targetLength:"=targetLength",isScreenVideo:"=isScreenVideo",countDownNumber:"=countDownNumber",isHTML5MissionRecordingSupported:"=?isHTML5MissionRecordingSupported",checkIfShowPresentation:"=checkIfShowPresentation",pptMedia:"=pptMedia"},controller:"htmlRecordingPartialController",link:function(a,b,c){a.registerCtrl(a)}}}).directive("flashRecordingPartial",function(){return{restrict:"A",templateUrl:templateBaseUrl+"/common/flash-recording-partial.html",scope:{currentState:"=currentState",parentScopeWatch:"=parentScopeWatch",states:"=states",fetchData:"=fetchData",heightStyle:"=heightStyle",entityId:"=entityId",draftOrder:"=draftOrder",registerCtrl:"=registerCtrl",setSubmitView:"=setSubmitView",missionLoType:"=missionLoType",hasPermissions:"=hasPermissions",recordPageChange:"=recordPageChange",currpage:"=currpage",nextFunc:"=nextFunc",assetsBase:"=assetsBase",currentVoiceOverData:"=currentVoiceOverData",assignControls:"=assignControls",changeState:"=changeState",countDownNumber:"=countDownNumber",isHTML5MissionRecordingSupported:"=?isHTML5MissionRecordingSupported"},controller:"flashRecordingPartialController",link:function(a,b,c){a.registerCtrl(a)}}}),angular.module("commonModule").factory("UploadServiceRecording",["$log","$resource","$http","$q","$timeout",function(a,b,c,d,e){var f=1,g=2,h=3<<16,i=!1,j=[],k={$resolved:!0},l=0,m=0,n={},o=null,p=[],q={};q.totalParts=0;var r=b("/",{},{initMultipart:{url:"/"+cname+"/media/multipart",method:"POST",cache:!1},signPart:{url:"/"+cname+"/:entityId/:draftName/:partNum/signedUrl",method:"POST"},getStreamAuthToken:{url:"/"+cname+"/:missionId/:draftName/fetchToken",method:"GET"},getConcatMediaStatus:{url:"/"+cname+"/concatmedia/:concatMediaId/status",cache:!1,transformResponse:function(a){var b=0;return"SUCCESS"==a&&(b=1),{status:b}}}});q.getStreamAuthToken=function(a,b){return r.getStreamAuthToken({missionId:a,draftName:b,_:Date.now()})},q.uploadEntityId=null;var s=function(){i&&k.$resolved&&n.abortUrl&&n.abortUrl&&c.get(n.abortUrl),k={$resolved:!0},l=0,p=[],n={},j=[],i=!1,o=d.defer(),m=0,q.uploadEntityId=null,u()};q.startRecording=function(a,b){return s(),q.uploadEntityId=a,o.promise},q.voiceOverData=[];var t=function(){if(!k.$resolved)return void k.$promise.then(t);for(var a=-1,b=0,c=0;c<j.length;c++)if(_.indexOf(["added","failed"],j[c].state)>-1&&j[c].errorCount<3)a=c;else if("uploading"==j[c].state)b++;else if("failed"==j[c].state&&j[c].errorCount>=3)return o.reject(),void(i=!1);if(a==-1)return void(1==m&&w());if(!(b>g)){var d=j[0].isHeader?0:1,e=Math.floor((a+d)/f),h=a+d,l=j[a];return p[e]?void(1!=p[e]&&(l.state="uploading",$.ajax({url:n.parts[h].url,type:"PUT",data:l.data,processData:!1,contentType:!1,success:function(a,b,c){l.state="success",l.etag="ETAG",t()},error:function(a,b,c){l.state="failed",l.errorCount=l.errorCount?l.errorCount+1:1,t()}}))):(p[e]=1,void r.signPart({entityId:q.uploadEntityId,draftName:q.draftOrder,partNum:h+1},{cType:""}).$promise.then(function(a){n.parts||(n.parts=[]),n.parts[h]={url:a.success},p[e]=2,t()},function(){l.state="failed",p[e]=0,l.errorCount=l.errorCount?l.errorCount+1:1,t()}))}},u=function(){q.currentBlobCounter=0,q.headerBlobCounter=44,j=[]},v=function(){function a(a,b,c){for(var d=c.length,e=0;e<d;e++)a.setUint8(b+e,c.charCodeAt(e))}q.volumeRecording=1,q.currentBlobView=new DataView(new ArrayBuffer(2*h)),q.headerBlobView=new DataView(new ArrayBuffer(44)),u();var b=44100;a(q.headerBlobView,0,"RIFF"),a(q.headerBlobView,8,"WAVE"),a(q.headerBlobView,12,"fmt "),q.headerBlobView.setUint32(16,16,!0),q.headerBlobView.setUint16(20,1,!0),q.headerBlobView.setUint16(22,1,!0),q.headerBlobView.setUint32(24,b,!0),q.headerBlobView.setUint32(28,2*b,!0),q.headerBlobView.setUint16(32,2,!0),q.headerBlobView.setUint16(34,16,!0),a(q.headerBlobView,36,"data")};v(),q.setHeaderBlob=function(a){if(!i)throw"Recording not in progress";if(j.length>0&&j[0].isHeader)throw"Header blob already added";j.unshift({state:"added",data:a,isHeader:!0,errorCount:0}),t()},q.appendAudio=function(a){if(!i)throw"Recording not in progress";j.push({state:"added",data:a,isHeader:!1,errorCount:0}),t()},q.recordingFailed=function(b){i=!1,a.error("error in completing"),m=2,Game.MixPanelTracking.track(b,{"Content Type":"MISSION","Content Name":q.courseName,"Content ID":q.courseId,Message:"Error"}),o.reject()};var w=function(b){return o=o||d.defer(),m=2,Game.MixPanelTracking.track("recordingComplete",{"Content Type":"MISSION","Content Name":q.courseName,"Content ID":q.courseId,Message:"sending recording complete"}),c({url:"/"+cname+"/"+q.uploadEntityId+"/"+q.draftOrderTimeStamp+"/"+q.totalParts+"/finalUpdated",method:"POST",data:b}).success(function(b){Game.MixPanelTracking.track("_mission_file_sent_for_processing",{"Content Type":"MISSION","Content Name":q.courseName,"Content ID":q.courseId,"Media Id":b.mediaId,Message:"add learner media"}),function c(){r.getConcatMediaStatus({concatMediaId:b.mediaId,_:Date.now()}).$promise.then(function(a){a.status?(i=!1,m=3,k.key=b.success,u(),Game.MixPanelTracking.track("_mission_file_found",{"Content Type":"MISSION","Content Name":q.courseName,"Content ID":q.courseId,"Upload Key":k.key,Message:"add learner media"}),o.resolve(k.key)):e(c,1e3)},function(){i=!1,a.error("error in completing"),m=2,Game.MixPanelTracking.track("_mission_file_not_found",{"Content Type":"MISSION","Content Name":q.courseName,"Content ID":q.courseId,"Media Id":b.mediaId,Message:"Error"}),o.reject()})}()}).error(function(){q.recordingFailed("_mission_finalUpdated_failed")}),o.promise};return q.recordingCompleted=w,q}]),angular.module("learnginBoardApp").controller("missionReportCardController",["$scope","$location","$sce","$http","DataModel","CommonService","$state","AnalyticsService",function(a,b,c,d,e,f,g,h){a.showOlderReviews=!1,a.showBackButton=!0;var j=b.search();j&&j.hideBack&&(a.showBackButton=!1),a.toggleShowOlderScores=function(){a.showOlderReviews=!a.showOlderReviews,a.$evalAsync()};var k=function(){if(a.learner.score!=-1&&a.learner.reviewScoreList&&(a.learner.score=a.learner.score/100),a.learner.reviewerDetail)for(var b=0;b<a.learner.reviewerDetail.length;b++){var c=a.learner.reviewerDetail[b].id;if(a.learner.reviewerDetail[b].reviewState="",a.learner.reviewScoreList)for(var d=0;d<a.learner.reviewScoreList.length;d++)a.learner.reviewScoreList[d].reviwerId==c&&(a.learner.reviewerDetail[b].score=a.learner.reviewScoreList[d].score,a.learner.reviewerDetail[b].constructiveFeedback=a.learner.reviewScoreList[d].constructiveFeedback,a.learner.reviewerDetail[b].positiveFeedback=a.learner.reviewScoreList[d].positiveFeedback,a.learner.reviewerDetail[b].reviewState=a.learner.reviewScoreList[d].reviewState)}""==a.learner.pic&&(a.learner.pic=e.learnerDefaultPic)};if(a.back=function(){history.length<=2&&g.go("root"),history.back()},a.id=g.params.id,a.enid=g.params.enId,a.assets=ssAssets,a.enid in e.entityMap?(a.entity=e.entityMap[a.enid],a.entity.$resolved=!0):(a.entity=h.getEntityDetail(cname,a.enid),a.entity.$promise.then(function(a){f.addEntityAttributes(a)})),a.user={},null!=e.learnerDetailMap[a.enid]&&null!=e.learnerDetailMap[a.enid][a.id]&&null!=e.missionLearnerMediaMap[a.enid]&&null!=e.missionLearnerMediaMap[a.enid][a.id])a.user.$resolved=!0,a.feedbackParams=e.learnerDataMap[a.enid].feedbackParams,a.learner=e.learnerDetailMap[a.enid][a.id],a.learner.score=100*a.learner.score,a.learnerMedia=e.learnerMediaMap[a.enid][a.id],k();else{e.missionReportState.userId=a.id;var l=e.getMissionReportCardData(a.enid);l.$promise.then(function(b){b.learners[0].completedOnValue!=-1&&0!=b.learners[0].completedOnValue&&(b.learners[0].completedOn=f.getNiceDate(b.learners[0].completedOnValue)),b.learners[0].startedOnValue!=-1&&0!=b.learners[0].startedOnValue&&(b.learners[0].startedOn=f.getNiceDate(b.learners[0].startedOnValue)),b.learners[0].lastActivityOnValue!=-1&&0!=b.learners[0].lastActivityOnValue&&(b.learners[0].lastActivityOn=f.getNiceDate(b.learners[0].lastActivityOnValue)),b.learners[0].invitedOnValue!=-1&&0!=b.learners[0].invitedOnValue&&(b.learners[0].invitedOn=f.getNiceDate(b.learners[0].invitedOnValue)),a.practice={},a.practice.olderSubmissions=[];var c=b.learnerMedia.missionLearner.missionLearnerData;if(a.learner=b.learners[0],a.feedbackParams=b.feedbackParams,a.missionLearner=b.learnerMedia.missionLearner,null!=a.missionLearner){if(a.missionLearner.missionLearnerObj)for(var d in a.missionLearner.missionLearnerObj)a.mission=a.missionLearner.missionLearnerObj[d];a.miLearner=a.missionLearner.missionLearnerData}if(a.mission&&a.miLearner&&a.miLearner.learnerSubmission){a.videoPitch=!1;var e=a.miLearner.learnerSubmission;a.submission=e,a.submission.$resolved=!0,"VIDEO_PITCH"===a.mission.learningObject.missionLOType?a.videoPitch=!0:"VOICE_OVER_PPT"===a.mission.learningObject.missionLOType&&(a.pptMedia=e.missionMedia[0].obj.ppt.obj),a.media={media:e.missionMedia[0],$resolved:!0}}a.playerFilters={authors:[]};a.miLearner&&a.miLearner.reviewerIdReviewMap;a.submission=a.submission||{};for(var g in a.submission.reviewerIdReviewMap)"SUBMITTED"==a.submission.reviewerIdReviewMap[g].reviewState&&a.playerFilters.authors.push({id:a.submission.reviewerIdReviewMap[g].reviwerId});var c=a.miLearner;a.gameId=c.gamificationEntityId,a.playableId=c.playableObjectId,a.userId=c.userId,a.submissionsList=c.oldSumissionIds,a.hasSubmissions=_.keys(a.submissionsList).length>0,k(),a.user.$resolved=!0},function(a){})}a.evalParams=function(b,c,d){if(!a.learner.reviewScoreList)return!1;var e=0,f=0;for(i=0;i<a.learner.reviewScoreList.length;i++){var g=a.learner.reviewScoreList[i];void 0!=d&&g.reviwerId!=d||"SUBMITTED"==g.reviewState&&(b+1>g.evalParamIdxRatingMap.length||(e+=g.evalParamIdxRatingMap[b].evalParam,f++))}return 0!=f&&e/f>=c},a.getTrustedUrl=function(a){return c.trustAsResourceUrl(a)}}]).controller("reportCardController",["$scope","$location","$http","DataModel","CommonService","$state","$modal","AnalyticsService","$modal",function(a,b,c,d,e,f,g,h,i){a.back=function(){history.length<=2&&f.go("root"),history.back()},a.showBackButton=!0;var j=b.search();j&&j.hideBack&&(a.showBackButton=!1),a.id=f.params.id,a.enid=f.params.enId,a.assets=ssAssets,a.user={},a.reportCardError=!1,a.userDetail={startedOn:"NA",completedOn:"NA",totalCorrect:"NA",totalSkipped:"NA",totalWrong:"NA"},a.learnerEntityTopicList=[],a.learnerEntityTopicListMap=[],a.enid in d.entityMap?(a.entity=d.entityMap[a.enid],a.entity.$resolved=!0):(a.entity=h.getEntityDetail(cname,a.enid),a.entity.$promise.then(function(a){e.addEntityAttributes(a)})),null!=d.learnerDetailMap[a.enid]&&null!=d.learnerDetailMap[a.enid][a.id]&&(a.user.$resolved=!0,a.user.name=d.learnerDetailMap[a.enid][a.id].name,a.user.pic?a.user.pic=d.learnerDetailMap[a.enid][a.id].pic:a.user.pic=d.learnerDefaultPic,a.user.email=d.learnerDetailMap[a.enid][a.id].email_id,a.user.completion=d.learnerDetailMap[a.enid][a.id].completion);var k=function(b){b.startedOn&&(a.userDetail.startedOn=e.getNiceDate(b.startedOn)),b.completedOn&&(a.userDetail.completedOn=e.getNiceDate(b.completedOn)),b.medalName?(a.userDetail.medalName=b.medalName,a.userDetail.medalUrl=b.medalUrl):a.userDetail.medalName=null,a.userDetail.totalCorrect=b.totalCorrect,a.userDetail.totalSkipped=b.totalSkipped,a.userDetail.totalLearningObjects=b.totalLearningObjects,a.userDetail.totalWrong=b.totalWrong,a.userDetail.completionStatus=b.completionStatus,a.userDetail.score=b.score,a.userDetail.maxScore=b.maxScore},l=function(b,c,d){d.$promise.then(function(d){var f=1;d.randomizedQuizCount!=-1&&d.randomizeIndex!=-1&&(a.randomizedTopics||(a.randomizedTopics={}),a.randomizedTopics[b.id]=d.randomizedQuizCount);for(var g=0;g<d.reportLearningObjects.length;g++){var h={};h.topicName=b.name,h.topicId=b.id,h.id=d.reportLearningObjects[g].id,h.index=c,"NOT_STARTED"==d.reportLearningObjects[g].state||"IN_PROGRESS"==d.reportLearningObjects[g].state?null!=d.reportLearningObjects[g].completionText?h.completionText=d.reportLearningObjects[g].completionText:(h.completionText="Yet to attempt",h.id=""):h.completionText=d.reportLearningObjects[g].completionText,h.title=d.reportLearningObjects[g].title,h.titleClass=e.getIconClass(d.reportLearningObjects[g].type),h.score=d.reportLearningObjects[g].score,h.maxScore=d.reportLearningObjects[g].maxScore,h.lifelinesUsed=d.reportLearningObjects[g].lifelinesUsed,d.reportLearningObjects[g].likeDislikeState?"NEUTRAL"==d.reportLearningObjects[g].likeDislikeState?h.likeDislikeState="----":h.likeDislikeState=d.reportLearningObjects[g].likeDislikeState:h.likeDislikeState="NA",e.isQuiz(d.reportLearningObjects[g].type)&&(h.isQuiz=!0,h.quizText="Q"+f,f++),a.learnerEntityTopicList.push(h),a.learnerEntityTopicListMap[h.id]=h}})};a.getHeaderExportArray=function(){var b=[];return"Q"!=a.entity.type&&"A"!=a.entity.type&&b.push("Topic"),"A"==a.entity.type?b.push("Question"):b.push("Content"),b.push("Learner's Responses"),b.push("Score"),"A"!=a.entity.type&&(b.push("LifeLine Used"),b.push("Like/Dislike")),b},a.getArray=function(){var b=[];if(null!=a.learnerEntityTopicList){for(var c=0;c<a.learnerEntityTopicList.length;c++){var d={};"Q"!=a.entity.type&&"A"!=a.entity.type&&(d.topic=a.learnerEntityTopicList[c].topicName),d.content=m(a.learnerEntityTopicList[c].title),d.learnerResponse=a.learnerEntityTopicList[c].completionText,d.score=""+a.learnerEntityTopicList[c].score+"/"+a.learnerEntityTopicList[c].maxScore,"A"!=a.entity.type&&(d.lifeLineUsed=a.learnerEntityTopicList[c].lifelinesUsed,d.likeDislike=a.learnerEntityTopicList[c].likeDislikeState),b.push(d)}return b}};var m=function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.textContent||b.innerText||""};a.loadReportCardData=function(){a.reportCard=d.getLearnerReportCard(a.enid,a.id),a.reportCard.$promise.then(function(b){a.reportCardError=!1,b.topicDetails={},a.user=b.reportSummary.user,a.user.$resolved=!0,a.user.completion=b.reportSummary.geSummary.percentageCompletion,a.user.pic||(a.user.pic=d.learnerDefaultPic),a.filename=(a.user.name||a.user.email)+"_"+a.user.id+".csv",a.contentScoring=b.reportSummary.contentScoring,k(b.reportSummary.geSummary);var c=function(e,f){if(!(e<0||e>=b.reportSummary.levels.length)){var g=b.reportSummary.levels[e];if(f<0||f>=g.topics.length)return void c(++e,0);var h=g.topics[f],i=h.id;b.topicDetails[i]=d.getLearnerEntityTopicDetail(a.enid,a.id,i),b.topicDetails[i].$promise.then(function(a){l(h,f,b.topicDetails[i]),c(e,++f)})}};c(0,0)},function(b){a.reportCardError=!0})},a.checkAllTopicLoaded=function(){for(var b=a.reportCard,c=0;c<b.reportSummary.levels.length;c++)for(var d=0;d<b.reportSummary.levels[c].topics.length;d++){var e=b.reportSummary.levels[c].topics[d].id;if(!b.topicDetails[e]||!b.topicDetails[e].$resolved)return!0}return!1},a.loadTickleData=function(b,c,d){var e=this;if(""!=b&&"Yet to attempt"!=c){var f=function(b,c){i.open({templateUrl:ssAssets+"/templates/analytics/assessment/assessment_question.html",controller:"PreviewQuestionsController",resolve:{qData:function(){return b},qIndex:function(){return c},qMaxIndex:function(){return a.learnerEntityTopicList.length}}})};if(this.tickleObj={},!this.loadingTickleStaticData)if(this.staticData){if("A"==a.entity.type)return void f(e.staticData,d);new Game.PreviewContentPopUp(null,this.staticData,{isFacto:!1,viewOnly:!0,factoEnabled:!1}).render()}else{var e=this;this.loadingTickleStaticData=!0;var g=new Game.ReportRequestManager(a.enid);g.loadTickle(function(b){return delete e.loadingTickleStaticData,e.staticData=b,"A"==a.entity.type?void f(e.staticData,d):void new Game.PreviewContentPopUp(null,e.staticData,{isFacto:!1,viewOnly:!0,factoEnabled:!1}).render()},a.id,b)}}},a.loadReportCardData()}]).controller("PreviewQuestionsController",["$scope","qData","qIndex","qMaxIndex",function(a,b,c,d){a.currentQuestion=b,a.qIndex=c,a.qMaxIndex=d,a.getNumCorrect=function(){var b=0;if(a.currentQuestion)for(var c=0;c<a.currentQuestion.staticData.options.length;c++)a.currentQuestion.staticData.options[c].isCorrect&&(b+=1);return b},a.getRowClass=function(b){var c="";return _.indexOf(a.currentQuestion.userData.correctAttempts,b)!=-1?c="correct":_.indexOf(a.currentQuestion.userData.wrongAttempts,b)!=-1?c="wrong":a.currentQuestion.staticData.options[b].isCorrect&&(c="correct not_answered"),c}}]),angular.module("learnginBoardApp").factory("CommonService",["$resource","$q",function(a,b){return this.isValidEmail=function(a){var b=/^[A-Z0-9._%+-]+@(?:[A-Z0-9-]+\.)+[A-Z]{2,4}$/i;return b.test(a)},this.calculatePercentage=function(a){var b=parseInt(a);return b==a?a=b:(a=parseInt(10*a),a/=10),a},this.getNiceDate=function(a){if(null==a||void 0==a||""==a||a<0)return"NA";a<1e11&&(a=1e3*a);var b=new Date(a),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],d=b.getDate()+" "+c[b.getMonth()]+", "+b.getFullYear();return d},this.getNiceDate2=function(a){if(null==a||void 0==a||""==a||a<0)return"NA";a<1e11&&(a=1e3*a);var b=new Date(a),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],d=b.getDate()+" "+c[b.getMonth()]+b.getFullYear()+", ";return d+=b.getHours()<10?"0"+b.getHours():b.getHours(),d+=b.getMinutes()<10?":0"+b.getMinutes():":"+b.getMinutes()},this.isQuiz=function(a){var b=["LO_HANGMAN","LO_MCQ_TXT","LO_MIXMATCH","LO_MCQ_IMG","LO_IMGMIXMATCH","LO_MAP","LO_TEXT","LO_TRUEFALSE"];return _.indexOf(b,a.toUpperCase())>-1},this.getQuizText=function(a){return"LO_TRUEFALSE"==a?"True False":"LO_MCQ_TXT"==a||"'LQ_MCQ_IMG"==a?"MCQ":""},this.isPoll=function(a){var b=["LO_MCQPOLL","LO_MCQTEXTPOLL"];return _.indexOf(b,a.toUpperCase())>-1},this.getIconClass=function(a){return"LO_MCQPOLL"==a?"pollIcon":"LO_MCQTEXTPOLL"==a?"textPollIcon":"LO_TRUEFALSE"==a||"LO_MCQ_TXT"==a||"LQ_MCQ_IMG"==a?"quizIcon":"IMAGE"==a||"ALBUM"==a?"imageIcon":"VIDEO"==a?"videoIcon":"DOCUMENT_PDF"==a?"pdfIcon":"DOCUMENT_WORD"==a?"docIcon":"DOCUMENT_PPT"==a?"pptIcon":"DOCUMENT_XLS"==a?"xlsIcon":"AUDIO"==a?"audioIcon":"IMG_MASH_UP"==a?"mashupIcon":"NOTE"==a?"noteeditorIcon":"embedIcon"},this.getIconName=function(a){return"LO_MCQPOLL"==a||"LO_MCQTEXTPOLL"==a?"poll":"IMAGE"==a||"ALBUM"==a?"image":"VIDEO"==a?"video":"DOCUMENT_PDF"==a?"pdf":"DOCUMENT_WORD"==a?"doc":"DOCUMENT_PPT"==a?"ppt":"DOCUMENT_XLS"==a?"xls":"AUDIO"==a?"audio":"embed"},this.getLearningObjectText=function(a){return"IMAGE"==a||"ALBUM"==a?"image":"VIDEO"==a?"video":"DOCUMENT_PDF"==a?"pdf":"DOCUMENT_WORD"==a?"doc":"DOCUMENT_PPT"==a?"ppt":"DOCUMENT_XLS"==a?"xls":"AUDIO"==a?"audio":""},this.getLearningObjectEngagementText=function(a){return"IMAGE"==a||"ALBUM"==a?"viewed the entire image":"VIDEO"==a?"watched the entire video":"DOCUMENT_PDF"==a?"viewed the entire pdf":"DOCUMENT_WORD"==a?"viewed the entire doc":"DOCUMENT_PPT"==a?"viewed  the entire ppt":"DOCUMENT_XLS"==a?"viewed the entire xls":"AUDIO"==a?"viewed the entire audio":"not available text"},this.getTickleImage=function(a){var b={},c={};return b.LO_HANGMAN=Dashboard.Messages.CreateTickle.hangM_tickleName,b.LO_MCQ_TXT=Dashboard.Messages.CreateTickle.mcq_tickleName,b.LO_MCQPOLL=Dashboard.Messages.CreateTickle.poll_tickleName,b.LO_MCQ_IMG=Dashboard.Messages.CreateTickle.mcqgrid_tickleName,b.LO_MIXMATCH=Dashboard.Messages.CreateTickle.mix_tickleName,b.LO_IMGMIXMATCH=Dashboard.Messages.CreateTickle.imgMix_tickleName,b.LO_MAP=Dashboard.Messages.CreateTickle.map_tickleName,b.LO_TEXT=Dashboard.Messages.CreateTickle.txt_tickleName,b.LO_TRUEFALSE=Dashboard.Messages.CreateTickle.tf_tickleName,b.IMAGE="Image",b.ALBUM="Album",b.VIDEO="Video",b.EMBED="Embed Content",b.SLIDESHARE="Slideshare",b.BRAINSHARK="Brainshark",b.SWF="Flash Content",b.YOUTUBE="Youtube Link",b.ARCHIVE="Archived Content",b.AUDIO="Audio",b.IFRAME="Iframe",b.LOEMBEDURL="Embeded Module",b.PREZI="Prezi",b.DOCUMENT_PDF="PDF Document",b.DOCUMENT_PPT="PPT Document",b.DOCUMENT_WORD="Word Document",b.DOCUMENT_XLS="Excel Document",c.DOCUMENT_PDF="pdfIcon",c.DOCUMENT_PPT="pptIcon",c.EMBED="embedIcon",c.VIDEO="videoIcon",c.DOCUMENT_XLS="xlsIcon",c.AUDIO="audioIcon",c[a]?c[a]:""},this.addEntityAttributes=function(a,b){2==a.mtentityType||"COURSE"==a.mtentityType?(a.type="C",a.tagClass="cBG_L"):3==a.mtentityType||"UPDATE"==a.mtentityType?(a.type="Q",a.tagClass="qBG_L"):4==a.mtentityType||"MISSION"==a.mtentityType?(a.type="M",a.tagClass="mBG_L"):5==a.mtentityType||"ASSESSMENT"==a.mtentityType?(a.type="A",a.tagClass="aBG_L"):6!=a.mtentityType&&"COACHING"!=a.mtentityType||(a.type="S",a.tagClass="csBG_L"),a.startTime&&(a.stDate=this.getNiceDate(a.startTime)),a.endTime&&(a.etDate=this.getNiceDate(a.endTime));var c=Math.round((new Date).getTime()/1e3);if(a.startTime&&c<a.startTime?(a.startText="Starts On :",a.status="Not Started"):a.endTime&&c>a.endTime&&(a.status="Completed",a.startText="Started On :"),a.endTime&&2144209566==a.endTime?a.endText="Never Expires":a.endText="Ends On :",a.firstPublishTime&&(a.publishDate=this.getNiceDate(a.firstPublishTime)),b&&a.parentsInfo){for(var d=0;d<a.parentsInfo.length;d++)if(a.parentsInfo[d].id==b){a.parentSeriesId=a.parentsInfo[d].id,a.parentName=a.parentsInfo[d].name;break}}else a.parentsInfo&&1==a.parentsInfo.length?(a.parentSeriesId=null,a.parentName=a.parentsInfo[0].name):(a.parentSeriesId=null,a.parentName="Multiple Series")},this.getContentDetail=function(a){if(a.uiData.content={},null==a.content||0!=a.content.correct||0!=a.content.skipped||0!=a.content.wrong||0!=a.content.partial||0!=a.content.not_answered){a.uiData.content.isDataAvailable=!0;var b=[["Task","per attempt"],["Fully Correct/Viewed",a.content.correct],["Partially Correct/Viewed",a.content.partial],["Wrong",a.content.wrong],["Skipped",a.content.skipped]],c=[{color:"#58b75b"},{color:"#aed581"},{color:"#e57373"},{color:"#cccccc"}];"ASSESSMENT"==a.entityType&&(b=[["Task","per attempt"],["Fully Correct",a.content.correct],["Wrong",a.content.wrong],["Not Answered",a.content.not_answered]],c=[{color:"#58b75b"},{color:"#e57373"},{color:"#cccccc"}]);var d=google.visualization.arrayToDataTable(b),e={title:"",pieHole:.5,backgroundColor:"#fff",fontSize:14,chartArea:{left:0,top:12,width:330,height:150},legend:{textStyle:{fontSize:12,color:"#999"}},fontName:"Open sans",slices:c,pieSliceBorderColor:"transparent",pieSliceTextStyle:{color:"#363636",fontSize:11},tooltip:{text:"percentage"},sliceVisibilityThreshold:0},f=a.content.correct+a.content.partial+a.content.skipped+a.content.wrong+a.content.not_answered;a.content.correct==f&&(e.pieSliceText="none"),a.content.skipped==f&&(e.pieSliceText="none"),a.content.correct==f&&(e.pieSliceText="none"),a.content.partial==f&&(e.pieSliceText="none"),a.content.wrong==f&&(e.pieSliceText="none"),a.content.not_answered==f&&(e.pieSliceText="none");var g={};return g.data=d,g.options=e,g.type="PieChart",a.uiData.content.chart=g,a.uiData.content}a.uiData.content.isDataAvailable=!1},
this.getParticipationDetail=function(a,b){a.uiData.participation={};var c=165,d=2,e=Math.max(a.participation.invited,a.participation.started,a.participation.completed,1);return a.uiData.participation.inviteHeight=Math.max(a.participation.invited*c/e,d),a.uiData.participation.startHeight=Math.max(a.participation.started*c/e,d),a.uiData.participation.completeHeight=Math.max(a.participation.completed*c/e,d),a.uiData.participation},this.getBadgesDetail=function(a,b){a.uiData.performance={},a.uiData.performance.isDataAvailable=!1,a.uiData.performance.noDataMessage="There are no learners",a.entityType&&("COURSE"==a.entityType?a.uiData.performance.noDataMessage+=" in this course":a.uiData.performance.noDataMessage+=" in this quick-update");var c=0;a.participation&&(c=a.participation.invited);var d=[["Task","per attempt"]];a.performance.stats&&0!=c&&(a.uiData.performance.isDataAvailable=!0),a.performance.stats&&(d.push(["75-100%",a.performance.stats["75-100%"]]),d.push(["50-75%",a.performance.stats["50-75%"]]),d.push(["25-50%",a.performance.stats["25-50%"]]),d.push(["0-25%",a.performance.stats["0-25%"]]));for(var e in a.performance.stats)a.participation&&(c-=a.performance.stats[e]);"Scores"!=a.performance.statsType?d.push(["No Badge",c]):d.push(["Did Not Start",c]);for(var f=[{color:"#ea8212"},{color:"#f7a63e"},{color:"#fdc965"},{color:"#fddb91"},{color:"#f6ecbd"}],g=[],h=1;h<d.length;h++)h==d.length-1?g.push({color:"#dddddd"}):g.push(f[h-1]);if(a.uiData.performance.isDataAvailable){for(var i=google.visualization.arrayToDataTable(d),j={title:"",pieHole:.5,backgroundColor:"#fff",fontSize:12,chartArea:{left:0,top:12,width:330,height:150},legend:{textStyle:{fontSize:12,color:"#999"}},fontName:"Open sans",slices:g,pieSliceBorderColor:"transparent",tooltip:{},pieSliceTextStyle:{color:"#333333",fontSize:11},pieSliceText:"value",sliceVisibilityThreshold:0},k=0,h=1;h<d.length;h++)d[h][1]>0&&k++;k<2&&(j.pieSliceText="none");var l={};l.data=i,l.options=j,l.type="PieChart",a.uiData.performance.chart=l}return a.uiData.performance},this.makeMissionParticipationChart=function(a,b){a.uiData.participation={};var c=165,d=2,e=Math.max(a.invited,a.submitted,a.completed,1);return"OPEN"==b&&(e=a.missionStats.invited),a.uiData.participation.inviteHeight=Math.max(a.invited*c/e,d),a.uiData.participation.submitHeight=Math.max(a.submitted*c/e,d),a.uiData.participation.reviewedHeight=Math.max(a.completed*c/e,d),a.uiData.participation},this.makeMissionContentChart=function(a){a.uiData.content={};var b=0;0!=a.invited?(b=a.certified/a.invited*100,a.uiData.content.isDataAvailable=!0):a.uiData.content.isDataAvailable=!1,a.certified>a.reviewed&&(a.certified=a.reviewed);var c=google.visualization.arrayToDataTable([["Certification","per attempt"],["Certificate Earned",a.certified],["Failed to Earn Certificate",a.reviewed-a.certified],["Not Reviewed",a.invited-a.reviewed]]),d={title:"",pieHole:.5,backgroundColor:"#fff",fontSize:14,chartArea:{left:0,top:12,width:330,height:150},legend:{textStyle:{fontSize:12,color:"#999"}},fontName:"Open sans",slices:[{color:"#a9e276"},{color:"#e48585"},{color:"#dddddd"}],pieSliceBorderColor:"transparent",pieSliceTextStyle:{color:"#363636",fontSize:11},pieSliceText:"value",sliceVisibilityThreshold:0},e=a.certified,f=a.completed-a.certified,g=a.invited-a.reviewed;0==f&&0==g&&(d.pieSliceText="none"),0==g&&0==e&&(d.pieSliceText="none"),0==e&&0==f&&(d.pieSliceText="none");var h={};h.data=c,h.options=d,h.type="PieChart",a.uiData.content.chart=h},this.makeMissionCertificationChart=function(a){var b=[];if(null!=a.averagePerformance){for(var c in a.averagePerformance){var d={};d.name=c,d.score=""+a.averagePerformance[c]/100+"/5",d.perc=a.averagePerformance[c]/500*100,b.push(d)}a.uiData.performances=b}},this}]).factory("AnalyticsService",["$resource",function(a){this.entityData={},this.seriesData={},this.seriesEntities=[],this.learnerData={},this.missionLearnerData={},this.missionLearnerMediaData={},this.insightMap={},this.learnerEntity={},this.profileFields={},this.managerFields={};var b=a("/:cname/analytics/entities",{start:"@start",count:5,state:"published",query:"@query",seriesId:"@seriesId",contentType:"@contentType"},{get:{method:"GET",cache:!0}}),c=a("/:cname/analytics/:entityId/surveys",{},{get:{method:"GET",cache:!0}}),d=a("/:cname/series",{start:"@start",count:50,fieldToSort:"name",sortOrder:"ASC",state:"published",query:"@query"},{get:{method:"GET",cache:!0}}),e=a("/:cname/analytics/:id/learners",{cname:"@cname",id:"@id"},{get:{method:"POST",cache:!0}}),f=a("/:cname/analytics/:id/pollLearners",{cname:"@cname",id:"@id",tickleId:"@tickleId",version:"@version",option:"@option"},{get:{method:"POST",cache:!0}}),g=a("/:cname/analytics/:id/pollLearners",{cname:"@cname",id:"@id",tickleId:"@tickleId",version:"@version",option:"@option",completionState:"@completionState"},{get:{method:"POST",cache:!0}}),h=a("/:cname/analytics/:id/exportPollLearner",{type:"pollLearner",cname:"@cname",id:"@id",tickleId:"@tickleId",option:"@option",version:"@version",email:"@email",exportName:"@exportName",completionState:"@completionState"},{get:{method:"POST",cache:!0}}),i=a("/:cname/analytics/:id/exportPollLearner",{type:"quizLearner",cname:"@cname",id:"@id",tickleId:"@tickleId",option:"@option",version:"@version",email:"@email",exportName:"@exportName",completionState:"@completionState"},{get:{method:"POST",cache:!0}}),j=a("/:cname/analytics/:id/missionReportCard",{cname:"@cname",id:"@id",userId:"@userId"},{get:{method:"POST",cache:!0}}),k=a("/:cname/:mediaId/:learnerId/learnermedia",{cname:"@cname",mediaId:"@mediaId",learnerId:"@learnerId"},{get:{method:"GET",cache:!0}}),l=(a("/:cname/analytics/:entityId/missionLearners",{cname:"@cname",entityId:"@entityId"},{get:{method:"POST",cache:!0}}),a("/:cname/analytics/:entityId/missionLearners",{cname:"@cname",entityId:"@entityId"},{get:{method:"POST",cache:!0}}),a("/:cname/analytics/:id/insights",{cname:"@cname",id:"@id"},{get:{method:"POST",cache:!0}})),m=a("/:cname/analytics/:id/contentDetails",{cname:"@cname",id:"@id"},{get:{method:"POST",cache:!0}}),n=a("/company/:cname/entity/:entityId",{},{get:{method:"GET",cache:!0}}),o=a("/:cname/analytics/:id/missionInsights",{cname:"@cname",id:"@id"},{get:{method:"POST",cache:!0}}),p=a("/:cname/analytics/:userId/entities",{},{get:{method:"POST",cache:!0}}),q=a("/:cname/learner/:learnerId",{},{get:{method:"GET",cache:!0}}),r=a("/reportcard/:entityId/:learnerId",{},{get:{method:"GET",cache:!0}}),s=a("/reportcard/:entityId/:learnerId/:topicId",{},{get:{method:"GET",cache:!0}}),t=a("/:cname/analytics/:entityId/getProfileKeyData",{profileField:"@profileField"},{get:{method:"GET",cache:!0}}),u=a("/:cname/profile_fields",{exclude_disabled:!1},{get:{method:"GET",cache:!0}}),v=a("/:cname/manager_fields",{exclude_disabled:!1},{get:{method:"GET",cache:!0}}),w=a("/:cname/managers",{exclude_disabled:!1,start:0,count:1200},{get:{method:"GET",cache:!0}}),x=a("/:cname/learners/groups",{start:0,count:500},{get:{method:"GET",cache:!0}}),y=a("/:cname/analytics/:enid/exportLearner",{start:0,count:10,email:"@email",exportName:"@exportName"},{get:{method:"POST",cache:!1}}),z=a("/:cname/analytics/:enid/exportContent",{start:0,count:10,email:"@email",exportName:"@exportName"},{get:{method:"POST",cache:!1}}),A=a("/:cname/analytics/:userId/exportUserEntities",{start:0,count:10,email:"@email",username:"@username",exportName:"@exportName"},{get:{method:"POST",cache:!1}}),B=a("/:cname/admins/fetch",{cname:"@cname"},{get:{method:"POST",cache:!0}});return this.getEntitySurvey=function(a,b){var d=c.get({cname:a,entityId:b});return d},this.getCompanyLearnerGroups=function(a){var b=x.get({cname:a});return b},this.exportData=function(a,b,c,d,e,f){var g=y.get({cname:a,enid:b,email:c,entityType:d,exportName:e},{sortField:f.sorton,sortOrder:f.ascending,count:f.count,start:f.start,state:f.state,queryString:f.searchTerm,completionStatus:f.completionStatus,invitedFrom:f.invitedFrom,invitedTo:f.invitedTo,groupIds:f.groupIds,profileFilter:f.profileFilter,NotDeactive:f.NotDeactive,parentSeriesId:f.parentSeriesId,enUserId:f.userIds});return g},this.exportContentData=function(a,b,c,d,e,f,g,h){var i=z.get({cname:a,enid:b,email:c,entityType:d,exportName:e},{sortField:g,sortOrder:h,count:f.count,start:f.start,invitedFrom:f.invitedFrom,invitedTo:f.invitedTo,groupIds:f.groupIds,profileFilter:f.profileFilter,NotDeactive:f.NotDeactive,parentSeriesId:f.parentSeriesId});return i},this.exportUserEntities=function(a,b,c,d,e,f){var g=A.get({cname:a,userId:b,email:c,username:d,exportName:e},{sortField:f.sorton,sortOrder:f.ascending,count:f.count,start:f.start,type:f.type,completionStatus:f.completionStatus});return g},this.fetchAdminEmails=function(a,b,c){return B.get({cname:cname,start:a,count:b,forExport:c},{})},this.getLearnerDetail=function(a,b){var c=q.get({cname:a,learnerId:b});return c},this.getLearnerEntityReportCardDetail=function(a,b,c){var d=r.get({cname:a,entityId:b,learnerId:c});return d},this.getLearnerEntityTopicDetail=function(a,b,c,d){var e=s.get({cname:a,entityId:b,learnerId:c,topicId:d});return e},this.getProfileFields=function(a){return this.profileFields[a]=u.get({cname:a}),this.profileFields[a]},this.getManagerFields=function(a){return this.managerFields[a]=v.get({cname:a}),this.managerFields[a]},this.getManagers=function(a,b,c){return this.managers=w.get({cname:a,start:b,count:c}),this.managers},this.getProfileFieldKeyData=function(a,b,c){var c=t.get({cname:a,entityId:b,profileField:c});return c},this.getLearnerEntity=function(a,b,c){return this.learnerEntity[b]=p.get({cname:a,userId:b},{start:c.start,count:c.count,type:c.type,completionStatus:c.completionStatus,sortField:c.sorton,sortOrder:c.ascending,includeDeleted:!1}),this.learnerEntity[b]},this.getSeriesList=function(a,b,c){return this.seriesData=d.get({cname:a,start:b,query:c}),this.seriesData},this.getMissionLearnerData=function(a,b,c){return this.missionLearnerData[b]=j.get({cname:a,id:b,userId:c.userId},{sortField:c.sorton,sortOrder:c.ascending,count:c.count,start:c.start}),this.missionLearnerData[b]},this.getLearnerMedia=function(a,b,c){return this.missionLearnerMediaData[b]=k.get({cname:a,mediaId:b,learnerId:c},{}),this.missionLearnerMediaData[b]},this.exportPollLearnerData=function(a,b,c,d,e,f){var g=h.get({cname:a,id:b,tickleId:f.tickleId,option:f.option,version:c,email:d,exportName:e},{sortField:f.sorton,sortOrder:f.ascending,count:f.count,start:f.start,state:f.state,queryString:f.searchTerm,completionStatus:f.completionStatus,invitedFrom:f.invitedFrom,invitedTo:f.invitedTo,groupIds:f.groupIds,profileFilter:f.profileFilter,NotDeactive:f.NotDeactive,parentSeriesId:f.parentSeriesId});return g},this.exportQuizLearnerData=function(a,b,c,d,e,f){var g=i.get({cname:a,id:b,tickleId:f.tickleId,option:f.option,version:c,email:d,completionState:f.outCome,exportName:e},{sortField:f.sorton,sortOrder:f.ascending,count:f.count,start:f.start,state:f.state,queryString:f.searchTerm,completionStatus:f.completionStatus,invitedFrom:f.invitedFrom,invitedTo:f.invitedTo,groupIds:f.groupIds,profileFilter:f.profileFilter,NotDeactive:f.NotDeactive,parentSeriesId:f.parentSeriesId});return g},this.getPollLearnerData=function(a,b,c,d){return this.pollLearnerData=f.get({cname:a,id:b,version:c,tickleId:d.tickleId,option:d.option},{sortField:d.sorton,sortOrder:d.ascending,count:d.count,start:d.start,state:d.state,queryString:d.searchTerm,completionStatus:d.completionStatus,invitedFrom:d.invitedFrom,invitedTo:d.invitedTo,groupIds:d.groupIds,profileFilter:d.profileFilter,NotDeactive:d.NotDeactive,parentSeriesId:d.parentSeriesId}),this.pollLearnerData},this.getQuizLearnerData=function(a,b,c,d){return this.quizLearnerData=g.get({cname:a,id:b,version:c,tickleId:d.tickleId,option:d.option,completionState:d.outCome},{sortField:d.sorton,sortOrder:d.ascending,count:d.count,start:d.start,state:d.state,queryString:d.searchTerm,completionStatus:d.completionStatus,invitedFrom:d.invitedFrom,invitedTo:d.invitedTo,groupIds:d.groupIds,profileFilter:d.profileFilter,NotDeactive:d.NotDeactive,parentSeriesId:d.parentSeriesId}),this.quizLearnerData},this.getLearnerData=function(a,b,c){return this.learnerData[b]=e.get({cname:a,id:b},{sortField:c.sorton,sortOrder:c.ascending,count:c.count,start:c.start,state:c.state,queryString:c.searchTerm,completionStatus:c.completionStatus,invitedFrom:c.invitedFrom,invitedTo:c.invitedTo,groupIds:c.groupIds,profileFilter:c.profileFilter,NotDeactive:c.NotDeactive,parentSeriesId:c.parentSeriesId}),this.learnerData[b]},this.getContentDetail=function(a,b,c){var d=m.get({cname:a,id:b},{count:c.count,start:c.start,invitedFrom:c.invitedFrom,invitedTo:c.invitedTo,groupIds:c.groupIds,profileFilter:c.profileFilter,NotDeactive:c.NotDeactive,parentSeriesId:c.parentSeriesId});return d},this.getEntityDetail=function(a,b){var c=n.get({cname:a,entityId:b});return c},this.getEntityData=function(a,c){return this.entityData=b.get({cname:a,start:c.start,query:c.query,contentType:c.contentType,seriesId:c.seriesId}),this.entityData},this.getInsightData=function(a,b,c){return this.insightMap[b]=l.get({cname:a,id:b},{invitedFrom:c.invitedFrom,invitedTo:c.invitedTo,groupIds:c.groupIds,profileFilter:c.profileFilter,NotDeactive:c.NotDeactive,parentSeriesId:c.parentSeriesId}),this.insightMap[b]},this.getMissionInsightData=function(a,b,c){var d=o.get({cname:a,id:b},{invitedFrom:c.invitedFrom,invitedTo:c.invitedTo,groupIds:c.groupIds,profileFilter:c.profileFilter,NotDeactive:c.NotDeactive,parentSeriesId:c.parentSeriesId});return d},this}]).factory("DataModel",["AnalyticsService","CommonService",function(a,b){var c=this;this.learnerDefaultPic="/assets/images/img_80_80.png",this.learnersToAdd=[],this.learnerDataMap={},this.learnerDetailMap={},this.missionLearnerMediaMap={},this.missionLearnerDataMap={},this.learnerEntity={},this.learnerEntityStatesMap={},this.profileFields={},this.profileKeyData={},this.contentDetail={},this.tickleList=[],this.Insights={},this.missionInsights={},this.learnerEntityReportCard={},this.learnerEntityTopic={},this.pollLearners={},this.quizLearners={},this.learnerGroup={},this.contentDetailState={},this.contentDetail.maxRow=50,this.analyticsHomeState={start:0,seriesId:null,query:"",seriesQuery:"",contentType:null},this.InsightParamState={invitedFrom:-1,invitedTo:-1,groupIds:null,profileFilter:null,queryString:"",NotDeactive:!0,parentSeriesId:null};var d={Key:"rg",Name:"None",Value:"None",searchTerm:""},e=[];e.push(d),this.analyticsDetailState={profileObject:e,completionStatusName:"Completion Status - All",groupName:"None",groupQuery:""},this.resetAnalyticsDetailState=function(){var a={Key:"rg",Name:"None",Value:"None",searchTerm:""},b=[];b.push(a),c.analyticsDetailState.profileObject=b,c.analyticsDetailState.completionStatusName="CompletionStatus - All",c.analyticsDetailState.groupName="None",c.analyticsDetailState.groupQuery="",c.resetInsightParamState(),c.resetLearnerState(),c.resetcontentState()},this.resetInsightParamState=function(){c.InsightParamState.invitedFrom=-1,c.InsightParamState.invitedTo=-1,c.InsightParamState.groupIds=null,c.InsightParamState.profileFilter=null,c.InsightParamState.queryString=null,c.InsightParamState.parentSeriesId=null,c.InsightParamState.NotDeactive=!0},this.analyticsHome={},this.analyticsHome.contentName="Content Type - All",this.analyticsHome.seriesName="Series - All",this.analyticsHome.pageNumber=0,this.entityMap={},this.getEntityData=function(){var b=a.getEntityData(cname,this.analyticsHomeState);return b},this.loadInsights=function(d,e){return null!=c.InsightParamState.parentSeriesId&&(seriesId=c.InsightParamState.parentSeriesId),this.Insights[d]=a.getInsightData(cname,d,this.InsightParamState),this.Insights[d].$promise.then(function(a){c.Insights[d].error=!1,a.uiData={},b.getContentDetail(a),b.getParticipationDetail(a,e),b.getBadgesDetail(a,e)},function(a){console.log(a),c.Insights[d].error=!0}),this.Insights[d]},this.loadMissionInsights=function(d,e){this.missionInsights[d]=a.getMissionInsightData(cname,d,this.InsightParamState),this.missionInsights[d].$promise.then(function(a){if(a.uiData={},a.error=!1,b.makeMissionParticipationChart(a,e),b.makeMissionContentChart(a),b.makeMissionCertificationChart(a),"NA"==a.averagePerformanceString){var c=0;for(var d in a.averagePerformance)c+=a.averagePerformance[d]/100;Object.keys(a.averagePerformance).length>0&&(a.averagePerformanceString=c/Object.keys(a.averagePerformance).length)}},function(a){console.log(a),c.missionInsights[d].error=!0})},this.missionLearnerState={start:0,count:50,sorton:"completion",ascending:!0,queryString:"",groupIds:null,invitedFrom:-1,invitedTo:-1,NotDeactive:!0,parentSeriesId:null},this.pollLearnerState={start:0,count:10,state:null,sorton:null,ascending:null,completionStatus:null,searchTerm:null,invitedFrom:-1,invitedTo:-1,groupIds:null,profileFilter:null,tickleId:null,option:null,NotDeactive:!0,parentSeriesId:null},this.quizLearnerState={start:0,count:10,state:null,sorton:null,ascending:null,completionStatus:null,searchTerm:null,invitedFrom:-1,invitedTo:-1,groupIds:null,profileFilter:null,tickleId:null,option:null,NotDeactive:!0,parentSeriesId:null},this.resetPollLearnerState=function(){c.pollLearnerState.start=0,c.pollLearnerState.count=10,c.pollLearnerState.state=null,c.pollLearnerState.sorton=null,c.pollLearnerState.ascending=null,c.pollLearnerState.completionStatus=null,c.pollLearnerState.searchTerm=null,c.pollLearnerState.invitedFrom=-1,c.pollLearnerState.invitedTo=-1,c.pollLearnerState.groupIds=null,c.pollLearnerState.profileFilter=null,c.pollLearnerState.type=null,c.pollLearnerState.tickleId=null,c.pollLearnerState.option=null,c.pollLearnerState.NotDeactive=!0,c.pollLearnerState.parentSeriesId=null},this.resetQuizLearnerState=function(){c.quizLearnerState.start=0,c.quizLearnerState.count=10,c.quizLearnerState.state=null,c.quizLearnerState.sorton=null,c.quizLearnerState.ascending=null,c.quizLearnerState.completionStatus=null,c.quizLearnerState.outCome=null,c.quizLearnerState.searchTerm=null,c.quizLearnerState.invitedFrom=-1,c.quizLearnerState.invitedTo=-1,c.quizLearnerState.groupIds=null,c.quizLearnerState.profileFilter=null,c.quizLearnerState.type=null,c.quizLearnerState.tickleId=null,c.quizLearnerState.option=null,c.quizLearnerState.NotDeactive=!0,c.quizLearnerState.parentSeriesId=null},this.learnerState={start:0,count:50,state:null,sorton:"doc.percentageCompletion",ascending:!0,completionStatus:null,searchTerm:null,invitedFrom:-1,invitedTo:-1,groupIds:null,profileFilter:null,NotDeactive:!0,parentSeriesId:null},this.resetLearnerState=function(){c.learnerState.start=0,c.learnerState.count=50,c.learnerState.state=null,c.learnerState.sorton="doc.percentageCompletion",c.learnerState.ascending=!0,c.learnerState.completionStatus=null,c.learnerState.searchTerm=null,c.learnerState.invitedFrom=-1,c.learnerState.invitedTo=-1,c.learnerState.groupIds=null,c.learnerState.profileFilter=null,c.learnerState.type=null,c.learnerState.NotDeactive=!0,c.learnerState.parentSeriesId=null},this.getMissionLearnerData=function(b){this.missionLearnerDataMap[b]=a.getMissionLearnerData(cname,b,this.missionLearnerState),this.missionLearnerDataMap[b].$promise.then(function(a){for(var b=0;b<a.missionLearners.length;b++)c.getMissionCompletionStatus(a.missionLearners[b].missionLearner)},function(a){})},this.missionReportState={start:0,count:1,userId:null,sorton:"added_on",ascending:!0},this.getMissionReportCardData=function(b){var c=a.getMissionLearnerData(cname,b,this.missionReportState);return c},this.getLearnerData=function(d){return this.learnerDataMap[d]=a.getLearnerData(cname,d,this.learnerState),this.learnerDataMap[d].$promise.then(function(a){c.learnerDataMap[d].error=!1,c.learnerDetailMap[d]={},c.missionLearnerMediaMap[d]={};for(var e=0;e<a.learners.length;e++)a.learners[e].completedOnValue!=-1&&0!=a.learners[e].completedOnValue&&(a.learners[e].completedOn=b.getNiceDate2(a.learners[e].completedOnValue)),a.learners[e].startedOnValue!=-1&&0!=a.learners[e].startedOnValue&&(a.learners[e].startedOn=b.getNiceDate2(a.learners[e].startedOnValue)),a.learners[e].lastActivityOnValue!=-1&&0!=a.learners[e].lastActivityOnValue&&(a.learners[e].lastActivityOn=b.getNiceDate2(a.learners[e].lastActivityOnValue)),a.learners[e].invitedOnValue!=-1&&0!=a.learners[e].invitedOnValue&&(a.learners[e].invitedOn=b.getNiceDate2(a.learners[e].invitedOnValue))},function(a){console.log("Error "+a),c.learnerDataMap[d].error=!0,c.learnerDataMap[d].errorMessage="Error loading Learners"}),this.learnerDataMap[d]},this.analyticsUser={},this.analyticsUser.contentName="All Content",this.analyticsUser.completionStatusName="Completion Status - All",this.learnerEntityState={start:0,count:50,sorton:"added_on",ascending:!0,type:null,completionStatus:null},this.resetLearnerEntityState=function(){c.learnerEntityState.start=0,c.learnerEntityState.count=50,c.learnerEntityState.sorton="added_on",c.learnerEntityState.ascending=!0,c.learnerEntityState.type=null,c.learnerEntityState.completionStatus=null},this.getLearnerEntities=function(d){return this.learnerEntity[d]=a.getLearnerEntity(cname,d,this.learnerEntityState),this.learnerEntity[d].$promise.then(function(a){c.learnerEntity[d].error=!1;for(var e=0;e<a.entities.length;e++)b.addEntityAttributes(a.entities[e]),a.entities[e].completedOnValue!=-1&&0!=a.entities[e].completedOnValue&&(a.entities[e].completedOn=b.getNiceDate2(a.entities[e].completedOnValue)),a.entities[e].startedOnValue!=-1&&0!=a.entities[e].startedOnValue&&(a.entities[e].startedOn=b.getNiceDate2(a.entities[e].startedOnValue)),a.entities[e].lastActivityOnValue!=-1&&0!=a.entities[e].lastActivityOnValue&&(a.entities[e].lastActivityOn=b.getNiceDate2(a.entities[e].lastActivityOnValue)),a.entities[e].invitedOnValue!=-1&&0!=a.entities[e].invitedOnValue&&(a.entities[e].invitedOn=b.getNiceDate2(a.entities[e].invitedOnValue))},function(a){c.learnerEntity[d].error=!0,c.learnerEntity[d].errorMessage="Error loading learner Entities"}),this.learnerEntity[d]},this.getLearnerReportCard=function(b,c){return this.learnerEntityReportCard[c]||(this.learnerEntityReportCard[c]={}),this.learnerEntityReportCard[c][b]=a.getLearnerEntityReportCardDetail(cname,b,c),this.learnerEntityReportCard[c][b]},this.getLearnerEntityTopicDetail=function(b,c,d){var e=a.getLearnerEntityTopicDetail(cname,b,c,d);return e},this.getProfileFields=function(){return this.profileFields=a.getProfileFields(cname),this.profileFields},this.getManagerFields=function(){return this.managerFields=a.getManagerFields(cname),this.managerFields},this.getManagers=function(){return this.managers=a.getManagers(cname,0,1200),this.managers},this.getProfileFieldKeyData=function(b,d){return this.profileKeyData[d]=a.getProfileFieldKeyData(cname,b,d),this.profileKeyData[d].$promise.then(function(a){c.profileKeyData[d].error=!1},function(a){c.profileKeyData[d].error=!0,c.profileKeyData[d].errorMessage="error loading profile Data"}),this.profileKeyData[d]},this.getLearnerGroups=function(){return this.learnerGroup[cname]=a.getCompanyLearnerGroups(cname),this.learnerGroup[cname].$promise.then(function(a){a.error=!1},function(a){c.learnerGroup[cname].error=!0,c.learnerGroup[cname].errorMessage="Error loading group detail"}),this.learnerGroup[cname]},this.getLearnerDetail=function(b){var c=a.getLearnerDetail(cname,b);return c},this.contentState={start:0,count:500,invitedFrom:-1,invitedTo:-1,groupIds:null,profileFilter:null,NotDeactive:!0,parentSeriesId:null},this.resetcontentState=function(){c.contentState.start=0,c.contentState.count=500,c.contentState.invitedFrom=-1,c.contentState.invitedTo=-1,c.contentState.groupIds=null,c.contentState.profileFilter=null,c.contentState.NotDeactive=!0,c.contentState.parentSeriesId=null},c.contentDetail.maxRow=50,c.contentDetail.currPage=1;var f=function(a){var b=parseInt(a);return b==a?a=b:(a=parseInt(10*a),a/=10),a};c.contentSort="topicOrder",c.contentSortOrder=!0,this.getContentDetail=function(d){return this.contentDetail[d]=a.getContentDetail(cname,d,this.contentState),this.contentDetail[d].$promise.then(function(a){c.contentDetail[d].contentList=a.contents_array,c.contentDetail.currPage=1;for(var e=0;e<c.contentDetail[d].contentList.length;e++){var g=c.contentDetail[d].contentList[e].learningObjectType,h=c.contentDetail[d].contentList[e];if(c.contentDetail[d].contentList[e].contentImage=b.getIconClass(c.contentDetail[d].contentList[e].learningObjectType),c.contentDetail[d].contentList[e].engagementPercent=f(h.engagementPercent),"Question"==c.contentDetail[d].contentList[e].learnType&&(c.contentDetail[d].contentList[e].wrongPercentage=h.wrongs/h.totalResponses*100,c.contentDetail[d].contentList[e].wrongPercentage=f(c.contentDetail[d].contentList[e].wrongPercentage),c.contentDetail[d].contentList[e].skipPercentage=h.skips/h.totalResponses*100,c.contentDetail[d].contentList[e].skipPercentage=f(c.contentDetail[d].contentList[e].skipPercentage),c.contentDetail[d].contentList[e].notAnsweredPercentage=h.notAnswered/h.totalResponses*100,c.contentDetail[d].contentList[e].notAnsweredPercentage=f(c.contentDetail[d].contentList[e].notAnsweredPercentage),c.contentDetail[d].contentList[e].partialCorrectPercentage=h.partialCorrects/h.totalResponses*100,c.contentDetail[d].contentList[e].partialCorrectPercentage=f(c.contentDetail[d].contentList[e].partialCorrectPercentage),"LO_TEXT"==g&&h.details)){h.details.userAnswersList=[];for(var i in h.details.lastAttempt){var j=i==h.details.exactAnswer.toLowerCase();if(!j&&h.details.variantAnswers)for(var k=0;k<h.details.variantAnswers.length;k++)if(i==h.details.variantAnswers[k].toLowerCase()){j=!0;break}h.details.userAnswersList.push({answer:i,count:h.details.lastAttempt[i],isCorrect:j})}if(h.details.userAnswersList=h.details.userAnswersList.sort(function(a,b){return a.a<b.a?1:a.a>b.a?-1:0}),h.details.userAnswersList.length>10){for(var l=0,m=10;m<h.details.userAnswersList.length;m++)l+=h.details.userAnswersList[m].count;h.details.userAnswersList.slice(0,10),l>0&&h.details.userAnswersList.push({answer:"Other",count:l,isCorrect:!1})}h.details.userAnswersList.length>0?h.detailedText=Math.round(100*h.details.userAnswersList[0].count/h.totalResponses)+"% wrote '"+h.details.userAnswersList[0].answer+"'":h.detailedText="---"}}c.sortContentTopic(d),c.contentDetail[d].uiContentList=c.contentDetail[d].contentList.slice(0,c.contentDetail.maxRow)},function(a){console.log("Error "+a),c.contentDetail[d].error=!0,c.contentDetail[d].errorMessage="Error loading content"}),this.contentDetail[d]};var g=function(a){return function(b,c){return b[a]<c[a]?-1:b[a]>c[a]?1:0}},h=function(a){return function(b,c){return b[a]>c[a]?-1:b[a]<c[a]?1:0}},i=function(a,b,c){return function(d,e){if(d[c]<e[c])return-1;if(d[c]>e[c])return 1;if(d[c]==e[c]){if(d[a]<e[a])return-1;if(d[a]>e[a])return 1;if(d[a]==e[a]){if(d[b]<e[b])return-1;if(d[b]>e[b])return 1;if(d[b]==e[b])return 0}}}},j=function(a,b,c){return function(d,e){if(d[c]>e[c])return-1;if(d[c]<e[c])return 1;if(d[c]==e[c]){if(d[a]>e[a])return-1;if(d[a]<e[a])return 1;if(d[a]==e[a]){if(d[b]<e[b])return-1;if(d[b]>e[b])return 1;if(d[b]==e[b])return 0}}}},k=function(a,b,c){return function(d,e){if(d[c]<e[c])return-1;if(d[c]>e[c])return 1;if(d[c]==e[c]){if(d[a]<e[a])return-1;if(d[a]>e[a])return 1;if(d[a]==e[a]){if(d[b]<e[b])return-1;if(d[b]>e[b])return 1;if(d[b]==e[b])return 0}}}},l=function(a,b,c){return function(d,e){if(d[c]>e[c])return-1;if(d[c]<e[c])return 1;if(d[c]==e[c]){if(d[a]>e[a])return-1;if(d[a]<e[a])return 1;if(d[a]==e[a]){if(d[b]>e[b])return-1;if(d[b]<e[b])return 1;if(d[b]==e[b])return 0}}}};return this.sortContentTopic=function(a){c.contentSortOrder?c.contentDetail[a].contentList.sort(j("topicOrder","learningObjectOrder","levelOrder")):c.contentDetail[a].contentList.sort(i("topicOrder","learningObjectOrder","levelOrder"))},this.sortContentLearningObjects=function(a){c.contentSortOrder?c.contentDetail[a].contentList.sort(l("topicOrder","learningObjectOrder","levelOrder")):c.contentDetail[a].contentList.sort(k("topicOrder","learningObjectOrder","levelOrder"))},this.sortContentData=function(a){c.contentSortOrder?c.contentDetail[a].contentList.sort(h(c.contentSort)):c.contentDetail[a].contentList.sort(g(c.contentSort))},this.getPollLearners=function(b,c){return this.pollLearners[b]=a.getPollLearnerData(cname,b,c,this.pollLearnerState),this.pollLearners[b]},this.getQuizLearners=function(b,c){return this.quizLearners[b]=a.getQuizLearnerData(cname,b,c,this.quizLearnerState),this.quizLearners[b]},this.exportPollLearnerData=function(b,c,d,e){var f=a.exportPollLearnerData(cname,b,c,d,e,this.pollLearnerState);return f},this.exportQuizLearnerData=function(b,c,d,e){var f=a.exportQuizLearnerData(cname,b,c,d,e,this.quizLearnerState);return f},this.exportData=function(b,c,d,e){var f=a.exportData(cname,b,c,d,e,this.learnerState);return f},this.exportContentData=function(b,d,e,f){var g=a.exportContentData(cname,b,d,e,f,this.contentState,c.contentSort,c.contentSortOrder);return g},this.exportUserEntities=function(b,c,d,e){var f=a.exportUserEntities(cname,b,c,d,e,this.learnerEntityState);return f},this.getEntitySurvey=function(b){return this.surveyList=a.getEntitySurvey(cname,b),this.surveyList},this.fetchAdminEmails=function(b,c,d){return a.fetchAdminEmails(b,c,d)},this}]),!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define("player",[],b):"object"==typeof exports?exports.player=b():(a.RaPlayer=a.RaPlayer||{},a.RaPlayer.player=b())}("undefined"!=typeof self?self:this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=100)}([function(a,b,c){"use strict";function d(a,b){var c,d,e,f,g=H;for(f=arguments.length;f-- >2;)G.push(arguments[f]);for(b&&null!=b.children&&(G.length||G.push(b.children),delete b.children);G.length;)if((d=G.pop())&&void 0!==d.pop)for(f=d.length;f--;)G.push(d[f]);else"boolean"==typeof d&&(d=null),(e="function"!=typeof a)&&(null==d?d="":"number"==typeof d?d=String(d):"string"!=typeof d&&(e=!1)),e&&c?g[g.length-1]+=d:g===H?g=[d]:g.push(d),c=e;var h=new E;return h.nodeName=a,h.children=g,h.attributes=null==b?void 0:b,h.key=null==b?void 0:b.key,void 0!==F.vnode&&F.vnode(h),h}function e(a,b){for(var c in b)a[c]=b[c];return a}function f(a,b){return d(a.nodeName,e(e({},a.attributes),b),arguments.length>2?[].slice.call(arguments,2):a.children)}function g(a){!a._dirty&&(a._dirty=!0)&&1==K.push(a)&&(F.debounceRendering||I)(h)}function h(){var a,b=K;for(K=[];a=b.pop();)a._dirty&&z(a)}function i(a,b,c){return"string"==typeof b||"number"==typeof b?void 0!==a.splitText:"string"==typeof b.nodeName?!a._componentConstructor&&j(a,b.nodeName):c||a._componentConstructor===b.nodeName}function j(a,b){return a.normalizedNodeName===b||a.nodeName.toLowerCase()===b.toLowerCase()}function k(a){var b=e({},a.attributes);b.children=a.children;var c=a.nodeName.defaultProps;if(void 0!==c)for(var d in c)void 0===b[d]&&(b[d]=c[d]);return b}function l(a,b){var c=b?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a);return c.normalizedNodeName=a,c}function m(a){var b=a.parentNode;b&&b.removeChild(a)}function n(a,b,c,d,e){if("className"===b&&(b="class"),"key"===b);else if("ref"===b)c&&c(null),d&&d(a);else if("class"!==b||e)if("style"===b){if(d&&"string"!=typeof d&&"string"!=typeof c||(a.style.cssText=d||""),d&&"object"==typeof d){if("string"!=typeof c)for(var f in c)f in d||(a.style[f]="");for(var f in d)a.style[f]="number"==typeof d[f]&&!1===J.test(f)?d[f]+"px":d[f]}}else if("dangerouslySetInnerHTML"===b)d&&(a.innerHTML=d.__html||"");else if("o"==b[0]&&"n"==b[1]){
var g=b!==(b=b.replace(/Capture$/,""));b=b.toLowerCase().substring(2),d?c||a.addEventListener(b,o,g):a.removeEventListener(b,o,g),(a._listeners||(a._listeners={}))[b]=d}else if("list"!==b&&"type"!==b&&!e&&b in a){try{a[b]=null==d?"":d}catch(a){}null!=d&&!1!==d||"spellcheck"==b||a.removeAttribute(b)}else{var h=e&&b!==(b=b.replace(/^xlink:?/,""));null==d||!1===d?h?a.removeAttributeNS("http://www.w3.org/1999/xlink",b.toLowerCase()):a.removeAttribute(b):"function"!=typeof d&&(h?a.setAttributeNS("http://www.w3.org/1999/xlink",b.toLowerCase(),d):a.setAttribute(b,d))}else a.className=d||""}function o(a){return this._listeners[a.type](F.event&&F.event(a)||a)}function p(){for(var a;a=L.pop();)F.afterMount&&F.afterMount(a),a.componentDidMount&&a.componentDidMount()}function q(a,b,c,d,e,f){M++||(N=null!=e&&void 0!==e.ownerSVGElement,O=null!=a&&!("__preactattr_"in a));var g=r(a,b,c,d,f);return e&&g.parentNode!==e&&e.appendChild(g),--M||(O=!1,f||p()),g}function r(a,b,c,d,e){var f=a,g=N;if(null!=b&&"boolean"!=typeof b||(b=""),"string"==typeof b||"number"==typeof b)return a&&void 0!==a.splitText&&a.parentNode&&(!a._component||e)?a.nodeValue!=b&&(a.nodeValue=b):(f=document.createTextNode(b),a&&(a.parentNode&&a.parentNode.replaceChild(f,a),t(a,!0))),f.__preactattr_=!0,f;var h=b.nodeName;if("function"==typeof h)return A(a,b,c,d);if(N="svg"===h||"foreignObject"!==h&&N,h=String(h),(!a||!j(a,h))&&(f=l(h,N),a)){for(;a.firstChild;)f.appendChild(a.firstChild);a.parentNode&&a.parentNode.replaceChild(f,a),t(a,!0)}var i=f.firstChild,k=f.__preactattr_,m=b.children;if(null==k){k=f.__preactattr_={};for(var n=f.attributes,o=n.length;o--;)k[n[o].name]=n[o].value}return!O&&m&&1===m.length&&"string"==typeof m[0]&&null!=i&&void 0!==i.splitText&&null==i.nextSibling?i.nodeValue!=m[0]&&(i.nodeValue=m[0]):(m&&m.length||null!=i)&&s(f,m,c,d,O||null!=k.dangerouslySetInnerHTML),v(f,b.attributes,k),N=g,f}function s(a,b,c,d,e){var f,g,h,j,k,l=a.childNodes,n=[],o={},p=0,q=0,s=l.length,u=0,v=b?b.length:0;if(0!==s)for(var w=0;w<s;w++){var x=l[w],y=x.__preactattr_,z=v&&y?x._component?x._component.__key:y.key:null;null!=z?(p++,o[z]=x):(y||(void 0!==x.splitText?!e||x.nodeValue.trim():e))&&(n[u++]=x)}if(0!==v)for(var w=0;w<v;w++){j=b[w],k=null;var z=j.key;if(null!=z)p&&void 0!==o[z]&&(k=o[z],o[z]=void 0,p--);else if(q<u)for(f=q;f<u;f++)if(void 0!==n[f]&&i(g=n[f],j,e)){k=g,n[f]=void 0,f===u-1&&u--,f===q&&q++;break}k=r(k,j,c,d),h=l[w],k&&k!==a&&k!==h&&(null==h?a.appendChild(k):k===h.nextSibling?m(h):a.insertBefore(k,h))}if(p)for(var w in o)void 0!==o[w]&&t(o[w],!1);for(;q<=u;)void 0!==(k=n[u--])&&t(k,!1)}function t(a,b){var c=a._component;c?B(c):(null!=a.__preactattr_&&a.__preactattr_.ref&&a.__preactattr_.ref(null),!1!==b&&null!=a.__preactattr_||m(a),u(a))}function u(a){for(a=a.lastChild;a;){var b=a.previousSibling;t(a,!0),a=b}}function v(a,b,c){var d;for(d in c)b&&null!=b[d]||null==c[d]||n(a,d,c[d],c[d]=void 0,N);for(d in b)"children"===d||"innerHTML"===d||d in c&&b[d]===("value"===d||"checked"===d?a[d]:c[d])||n(a,d,c[d],c[d]=b[d],N)}function w(a,b,c){var d,e=P.length;for(a.prototype&&a.prototype.render?(d=new a(b,c),C.call(d,b,c)):(d=new C(b,c),d.constructor=a,d.render=x);e--;)if(P[e].constructor===a)return d.nextBase=P[e].nextBase,P.splice(e,1),d;return d}function x(a,b,c){return this.constructor(a,c)}function y(a,b,c,d,e){a._disable||(a._disable=!0,a.__ref=b.ref,a.__key=b.key,delete b.ref,delete b.key,void 0===a.constructor.getDerivedStateFromProps&&(!a.base||e?a.componentWillMount&&a.componentWillMount():a.componentWillReceiveProps&&a.componentWillReceiveProps(b,d)),d&&d!==a.context&&(a.prevContext||(a.prevContext=a.context),a.context=d),a.prevProps||(a.prevProps=a.props),a.props=b,a._disable=!1,0!==c&&(1!==c&&!1===F.syncComponentUpdates&&a.base?g(a):z(a,1,e)),a.__ref&&a.__ref(a))}function z(a,b,c,d){if(!a._disable){var f,g,h,i=a.props,j=a.state,l=a.context,m=a.prevProps||i,n=a.prevState||j,o=a.prevContext||l,r=a.base,s=a.nextBase,u=r||s,v=a._component,x=!1,A=o;if(a.constructor.getDerivedStateFromProps&&(j=e(e({},j),a.constructor.getDerivedStateFromProps(i,j)),a.state=j),r&&(a.props=m,a.state=n,a.context=o,2!==b&&a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(i,j,l)?x=!0:a.componentWillUpdate&&a.componentWillUpdate(i,j,l),a.props=i,a.state=j,a.context=l),a.prevProps=a.prevState=a.prevContext=a.nextBase=null,a._dirty=!1,!x){f=a.render(i,j,l),a.getChildContext&&(l=e(e({},l),a.getChildContext())),r&&a.getSnapshotBeforeUpdate&&(A=a.getSnapshotBeforeUpdate(m,n));var C,D,E=f&&f.nodeName;if("function"==typeof E){var G=k(f);g=v,g&&g.constructor===E&&G.key==g.__key?y(g,G,1,l,!1):(C=g,a._component=g=w(E,G,l),g.nextBase=g.nextBase||s,g._parentComponent=a,y(g,G,0,l,!1),z(g,1,c,!0)),D=g.base}else h=u,C=v,C&&(h=a._component=null),(u||1===b)&&(h&&(h._component=null),D=q(h,f,l,c||!r,u&&u.parentNode,!0));if(u&&D!==u&&g!==v){var H=u.parentNode;H&&D!==H&&(H.replaceChild(D,u),C||(u._component=null,t(u,!1)))}if(C&&B(C),a.base=D,D&&!d){for(var I=a,J=a;J=J._parentComponent;)(I=J).base=D;D._component=I,D._componentConstructor=I.constructor}}for(!r||c?L.unshift(a):x||(a.componentDidUpdate&&a.componentDidUpdate(m,n,A),F.afterUpdate&&F.afterUpdate(a));a._renderCallbacks.length;)a._renderCallbacks.pop().call(a);M||d||p()}}function A(a,b,c,d){for(var e=a&&a._component,f=e,g=a,h=e&&a._componentConstructor===b.nodeName,i=h,j=k(b);e&&!i&&(e=e._parentComponent);)i=e.constructor===b.nodeName;return e&&i&&(!d||e._component)?(y(e,j,3,c,d),a=e.base):(f&&!h&&(B(f),a=g=null),e=w(b.nodeName,j,c),a&&!e.nextBase&&(e.nextBase=a,g=null),y(e,j,1,c,d),a=e.base,g&&a!==g&&(g._component=null,t(g,!1))),a}function B(a){F.beforeUnmount&&F.beforeUnmount(a);var b=a.base;a._disable=!0,a.componentWillUnmount&&a.componentWillUnmount(),a.base=null;var c=a._component;c?B(c):b&&(b.__preactattr_&&b.__preactattr_.ref&&b.__preactattr_.ref(null),a.nextBase=b,m(b),P.push(a),u(b)),a.__ref&&a.__ref(null)}function C(a,b){this._dirty=!0,this.context=b,this.props=a,this.state=this.state||{},this._renderCallbacks=[]}function D(a,b,c){return q(c,a,{},!1,b,!1)}Object.defineProperty(b,"__esModule",{value:!0}),c.d(b,"h",function(){return d}),c.d(b,"createElement",function(){return d}),c.d(b,"cloneElement",function(){return f}),c.d(b,"Component",function(){return C}),c.d(b,"render",function(){return D}),c.d(b,"rerender",function(){return h}),c.d(b,"options",function(){return F});var E=function(){},F={},G=[],H=[],I="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,J=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,K=[],L=[],M=0,N=!1,O=!1,P=[];e(C.prototype,{setState:function(a,b){var c=this.prevState=this.state;"function"==typeof a&&(a=a(c,this.props)),this.state=e(e({},c),a),b&&this._renderCallbacks.push(b),g(this)},forceUpdate:function(a){a&&this._renderCallbacks.push(a),z(this,2)},render:function(){}});var Q={h:d,createElement:d,cloneElement:f,Component:C,render:D,rerender:h,options:F};b["default"]=Q},function(a,b,c){var d,e,f;!function(c,g){e=[a],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a){"use strict";function b(a,b){var d=a[1]||"",e=a[3];if(!e)return d;if(b&&"function"==typeof btoa){var f=c(e);return[d].concat(e.sources.map(function(a){return"/*# sourceURL="+e.sourceRoot+a+" */"})).concat([f]).join("\n")}return[d].join("\n")}function c(a){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"}a.exports=function(a){var c=[];return c.toString=function(){return this.map(function(c){var d=b(c,a);return c[2]?"@media "+c[2]+"{"+d+"}":d}).join("")},c.i=function(a,b){"string"==typeof a&&(a=[[null,a,""]]);for(var d={},e=0;e<this.length;e++){var f=this[e][0];"number"==typeof f&&(d[f]=!0)}for(e=0;e<a.length;e++){var g=a[e];"number"==typeof g[0]&&d[g[0]]||(b&&!g[2]?g[2]=b:b&&(g[2]="("+g[2]+") and ("+b+")"),c.push(g))}},c}})},function(a,b,c){function d(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=o[d.id];if(e){e.refs++;for(var f=0;f<e.parts.length;f++)e.parts[f](d.parts[f]);for(;f<d.parts.length;f++)e.parts.push(k(d.parts[f],b))}else{for(var g=[],f=0;f<d.parts.length;f++)g.push(k(d.parts[f],b));o[d.id]={id:d.id,refs:1,parts:g}}}}function e(a,b){for(var c=[],d={},e=0;e<a.length;e++){var f=a[e],g=b.base?f[0]+b.base:f[0],h=f[1],i=f[2],j=f[3],k={css:h,media:i,sourceMap:j};d[g]?d[g].parts.push(k):c.push(d[g]={id:g,parts:[k]})}return c}function f(a,b){var c=r(a.insertInto);if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var d=u[u.length-1];if("top"===a.insertAt)d?d.nextSibling?c.insertBefore(b,d.nextSibling):c.appendChild(b):c.insertBefore(b,c.firstChild),u.push(b);else if("bottom"===a.insertAt)c.appendChild(b);else{if("object"!=typeof a.insertAt||!a.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var e=r(a.insertInto+" "+a.insertAt.before);c.insertBefore(b,e)}}function g(a){if(null===a.parentNode)return!1;a.parentNode.removeChild(a);var b=u.indexOf(a);b>=0&&u.splice(b,1)}function h(a){var b=document.createElement("style");return a.attrs.type="text/css",j(b,a.attrs),f(a,b),b}function i(a){var b=document.createElement("link");return a.attrs.type="text/css",a.attrs.rel="stylesheet",j(b,a.attrs),f(a,b),b}function j(a,b){Object.keys(b).forEach(function(c){a.setAttribute(c,b[c])})}function k(a,b){var c,d,e,f;if(b.transform&&a.css){if(!(f=b.transform(a.css)))return function(){};a.css=f}if(b.singleton){var j=t++;c=s||(s=h(b)),d=l.bind(null,c,j,!1),e=l.bind(null,c,j,!0)}else a.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(c=i(b),d=n.bind(null,c,b),e=function(){g(c),c.href&&URL.revokeObjectURL(c.href)}):(c=h(b),d=m.bind(null,c),e=function(){g(c)});return d(a),function(b){if(b){if(b.css===a.css&&b.media===a.media&&b.sourceMap===a.sourceMap)return;d(a=b)}else e()}}function l(a,b,c,d){var e=c?"":d.css;if(a.styleSheet)a.styleSheet.cssText=w(b,e);else{var f=document.createTextNode(e),g=a.childNodes;g[b]&&a.removeChild(g[b]),g.length?a.insertBefore(f,g[b]):a.appendChild(f)}}function m(a,b){var c=b.css,d=b.media;if(d&&a.setAttribute("media",d),a.styleSheet)a.styleSheet.cssText=c;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(c))}}function n(a,b,c){var d=c.css,e=c.sourceMap,f=void 0===b.convertToAbsoluteUrls&&e;(b.convertToAbsoluteUrls||f)&&(d=v(d)),e&&(d+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */");var g=new Blob([d],{type:"text/css"}),h=a.href;a.href=URL.createObjectURL(g),h&&URL.revokeObjectURL(h)}var o={},p=function(a){var b;return function(){return void 0===b&&(b=a.apply(this,arguments)),b}}(function(){return window&&document&&document.all&&!window.atob}),q=function(a){return document.querySelector(a)},r=function(a){var b={};return function(a){if("function"==typeof a)return a();if(void 0===b[a]){var c=q.call(this,a);if(window.HTMLIFrameElement&&c instanceof window.HTMLIFrameElement)try{c=c.contentDocument.head}catch(a){c=null}b[a]=c}return b[a]}}(),s=null,t=0,u=[],v=c(26);a.exports=function(a,b){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");b=b||{},b.attrs="object"==typeof b.attrs?b.attrs:{},b.singleton||"boolean"==typeof b.singleton||(b.singleton=p()),b.insertInto||(b.insertInto="head"),b.insertAt||(b.insertAt="bottom");var c=e(a,b);return d(c,b),function(a){for(var f=[],g=0;g<c.length;g++){var h=c[g],i=o[h.id];i.refs--,f.push(i)}a&&d(e(a,b),b);for(var g=0;g<f.length;g++){var i=f[g];if(0===i.refs){for(var j=0;j<i.parts.length;j++)i.parts[j]();delete o[i.id]}}}};var w=function(){var a=[];return function(b,c){return a[b]=c,a.filter(Boolean).join("\n")}}()},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[b,c(15),c(16)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[b,c(15),c(16)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c){function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(/\s/.test(a))throw new Error("class has illegal whitespace characters")}function f(a){return new RegExp("(^|\\s)"+a+"($|\\s)")}function h(a,b){return e(b),a.classList?a.classList.contains(b):f(b).test(a.className)}function i(a,b){return a.classList?a.classList.add(b):h(a,b)||(a.className=(a.className+" "+b).trim()),a}function j(a,b){return a.classList?a.classList.remove(b):(e(b),a.className=a.className.split(/\s+/).filter(function(a){return a!==b}).join(" ")),a}function k(){return["webkit","moz","ms","o","","MS"]}function l(a){a=a.toLowerCase().split(" ");for(var b=0;b<a.length;b++)a[b]=a[b].charAt(0).toUpperCase()+a[b].slice(1);return a.join(" ")}function m(a,b){for(var c,d,e=k(),f=0;f<e.length&&!a[c];){if(c=b,""==e[f]&&(c=c.substr(0,1).toLowerCase()+c.substr(1)),c=e[f]+c,"undefined"!=(d=y(a[c])))return e=[e[f]],"function"==d?a[c]():a[c];f++}}function n(a){return(0,w["default"])(a)}function o(a){return!(!n(a)||Object.keys(a).length)||!(!Array.isArray(a)||a.length)||!(!A(a)||a.length)}function p(a){if(!a)return"00:00";var b=Math.round(a),c=Math.floor(b/3600),d=Math.floor((b-3600*c)/60),e=b-3600*c-60*d;c<10&&(c="0"+c),d<10&&(d="0"+d),e<10&&(e="0"+e);var f=d+":"+e;return"00"!=c?c+":"+f:f}function q(a){var b=document.documentElement,c=a.getBoundingClientRect();return{top:c.top+window.pageYOffset-b.clientTop,left:c.left+window.pageXOffset-b.clientLeft}}function r(a){if(!a||!a.length)return z;var b=["#0ed5c9","#069eff","#000000"],c=0;return a.map(function(a){z[a]||(z[a]=b[c++])}),z}function s(a){return a?a.replace(/\r?\n/g,"\n"):""}function t(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);if(a.indexOf("Trident/")>0){var c=a.indexOf("rv:");return parseInt(a.substring(c+3,a.indexOf(".",c)),10)}var d=a.indexOf("Edge/");return d>0&&parseInt(a.substring(d+5,a.indexOf(".",d)),10)}function u(a,b){var c=void 0;if(document.selection)a.focus(),c=document.selection.createRange(),c.text=b;else if(a.selectionStart||"0"==a.selectionStart){var d=a.selectionStart,e=a.selectionEnd;a.value=a.value.substring(0,d)+b+a.value.substring(e,a.value.length)}else a.value+=b}function v(a){var b=function(a){return"[object Array]"===Object.prototype.toString.apply(a)},c=b(a)?[]:{};for(var d in a){var e=d.replace(/^\w/,function(a){return a.toUpperCase()});(function(a){return"[object Object]"===Object.prototype.toString.apply(a)})(a[d])||b(a[d])?c[e]=v(a[d]):c[e]=a[d]}return c}Object.defineProperty(a,"__esModule",{value:!0}),a.splitSeconds=a.isUndefined=a.isString=a.deepmerge=void 0,a.hasClass=h,a.addClass=i,a.removeClass=j,a.getPrefixes=k,a.titleCase=l,a.runPrefixMethod=m,a.isObject=n,a.isEmpty=o,a.toHHMMSS=p,a.getElementOffset=q,a.getColorMap=r,a.parseText=s,a.isIE=t,a.insertAtCursor=u,a.capitalizeKeys=v;var w=d(b),x=d(c),y="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)};a.deepmerge=x["default"];var z={},A=a.isString=function(a){return"string"==typeof a};a.isUndefined=function(a){return void 0===a},a.splitSeconds=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=Math.floor(a/86400),c=Math.floor((a-86400*b)/3600),d=Math.floor((a-(86400*b+3600*c))/60);return{days:b,hours:c,minutes:d,seconds:Math.floor(a-(86400*b+3600*c+60*d))}}})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[b,c(10),c(11)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(b){"use strict";!function(g,h){e=[b,c(10),c(11)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c){function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a,b,c){return i({},c,d({},a,i({},b)))}function f(a){return function(b,c){var d=b[c.namespace];return"function"==typeof a?a(d):d}}function g(a){for(var b=Object.keys(a()),d={},f=0;f<b.length;f++)!function(f){var g=a()[b[f]];d[b[f]]=function(a,b){var d=this.namespace;if(!d)return a;var f=a[d],h=function(b){var f=a[d],g=e(d,i({},f,b),a);(0,c.getStore)().setState(g)},j=g(f,b,h);return j instanceof Promise?new Promise(function(b,f){j.then(function(a){var f=(0,c.getStore)().getState(),g=f[d],h=e(d,i({},g,a),f);b(h)},function(){f(a)})}):e(d,i({},f,j),a)}}(f);return function(a){return d}}function h(a,c){var d=f(a),e=g(c);return function(a){return(0,b.connect)(d,e)(a)}}Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeStateForNamespace=e,a.namespaceConnect=h;var i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[b,c(20),c(3)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(b){"use strict";!function(g,h){e=[b,c(20),c(3)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c){function d(a){for(var b=h["default"].length;b--;)if(h["default"][b].id===a.id){h["default"].splice(b,1);break}}function e(a){for(var b=0;b<h["default"].length;b++)if(h["default"][b].id===a.id)return h["default"][b];return null}function f(a,b){a&&"function"==typeof a.track&&(j=a),b&&(k=b)}function g(a,b){b=i({},k,b),b=(0,c.capitalizeKeys)(b),j.track(a,b)}Object.defineProperty(a,"__esModule",{value:!0}),a.removePlayer=d,a.getPlayer=e,a.setTrackingService=f,a.track=g;var h=function(a){return a&&a.__esModule?a:{"default":a}}(b),i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},j={track:function(a,b){console.log(a,b)}},k={}})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[b,c(19),c(32),c(31),c(21),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(b){"use strict";!function(g,h){e=[b,c(19),c(32),c(31),c(21),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,g){function h(a){return a&&a.__esModule?a:{"default":a}}function i(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}Object.defineProperty(a,"__esModule",{value:!0}),a.actions=void 0;var j=h(c),k=h(d),l=h(e),m=h(g),n=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};a.actions=function(){return{showCommentHelperBox:function(a,b){var c={};return Object.keys(b).filter(function(a){return void 0!==b[a]}).forEach(function(a){return c[a]=b[a]}),n({},a,{commentHelperBox:{show:!0,data:n({},a.commentBox.data,c)}})},hideCommentHelperBox:function(a){return n({},a,{commentHelperBox:{show:!1,data:{}}})},showCommentBox:function(a,b){var c={};return Object.keys(b).filter(function(a){return void 0!==b[a]}).forEach(function(a){return c[a]=b[a]}),n({},a,{commentBox:{show:!0,data:n({},a.commentBox.data,c)}})},hideCommentBox:function(a){return n({},a,{commentBox:{show:!1,data:{}}})},updateMediaAttributes:function(a,b){var c={};return Object.keys(b).filter(function(a){return void 0!==b[a]}).forEach(function(a){return c[a]=b[a]}),n({},a,{media:n({},a.media,c)})},toggleVideoControls:function(a,b){var c=b.showControls;return n({},a,{media:n({},a.media,{showControls:c})})},hideCommentBoxError:function(a){return n({},a,{commentBox:n({},a.commentBox,{error:!1})})},hideCommentCardError:function(a,b){var c=a.commentPane.allComments,d=[];return c.forEach(function(a){a.id===b.id&&(a=b,a.error=!1),d.push(a)}),n({},a,{commentPane:n({},a.commentPane,{allComments:d,activeComments:d})})},postComment:function(a,c){var d=c.time,e=c.text,g=k["default"].write(n({},a.app,{text:e,time:d}));return(0,b.post)(j["default"].postComment(a.app),{body:g}).then(function(b){if(!b.id)return{};(0,f.track)(m["default"].POST_COMMENT,{commentId:b.id});var c=a.commentPane.allComments||[],g=k["default"].read(n({},a.app,{id:b.id,createdTime:b.createdTime,text:e,time:d})),h=k["default"].sort([g].concat(i(c)));return n({},a,{commentPane:n({},a.commentPane,{allComments:h,activeComments:h}),commentBox:{show:!1,data:{}}})},function(){return n({},a,{commentBox:n({},a.commentBox,{error:!0})})})},getAllComments:function(a,c,d){var e={allComments:[],activeComments:[],isFetching:!0};d({commentPane:e});var f=c.filter;return a.app.socialId?(0,b.get)(j["default"].getComments(a.app,f)).then(function(a){var b=[];a.socialList.forEach(function(a){b.push(k["default"].read(a.social))});var c=k["default"].sort(b);return{commentPane:{allComments:c,activeComments:c,isFetching:!1}}},function(){return{commentPane:n({},e,{isFetching:!1})}}):n({},a,{commentPane:n({},e,{isFetching:!1})})},deleteComment:function(a,c){var d=c.commentObj,e=c.isCommentBox,g={cname:a.app.cname,socialId:d.id};return(0,b.del)(j["default"].deleteComment(g)).then(function(){(0,f.track)(m["default"].DELETE_COMMENT,{commentId:d.id,source:e?"seekbar":"tab"});var b=a.commentPane.allComments,c=[];b.forEach(function(a){a.id!==d.id&&c.push(a)});var g=k["default"].sort(c),h=n({},a,{commentPane:n({},a.commentPane,{allComments:g,activeComments:g})});return a.commentBox.show&&d.id===a.commentBox.data.id&&(h=n({},h,{commentBox:{show:!1,data:{}}})),h},function(){})},editComment:function(a,c){var d=c.commentObj,e=c.isCommentBox,g={cname:a.app.cname,socialId:d.id},h=k["default"].write(n({},a.app,{text:d.text,time:d.time}));return(0,b.put)(j["default"].editComment(g),{body:h}).then(function(){(0,f.track)(m["default"].EDIT_COMMENT,{commentId:d.id,source:e?"seekbar":"tab"});var b=a.commentPane.allComments,c=[];b.forEach(function(a){a.id===d.id&&(a=n({},a,d)),c.push(a)});var g=n({},a,{commentPane:n({},a.commentPane,{allComments:c,activeComments:c})});return e&&(g=n({},g,{commentBox:{show:!1,data:{}}})),g},function(){if(e)return n({},a,{commentBox:n({},a.commentBox,{error:!0})});var b=a.commentPane.allComments,c=[];return b.forEach(function(a){a.id===d.id&&(a=d,a.error=!0),c.push(a)}),n({},a,{commentPane:n({},a.commentPane,{allComments:c,activeComments:c})})})},filterComments:function(a,b){var c=b.authorId,d=a.commentPane.allComments,e=[];return d.forEach(function(a){a.author.id===c&&e.push(a)}),e=e.length?e:d,n({},a,{commentPane:n({},a.commentPane,{activeComments:e})})},getTranscriptionData:function(a,c,d){d({transcriptionPane:n({},a.transcriptionPane,{timestampedTranscripts:[],searchedTranscripts:[],transcriptionStatus:"NOT_ENABLED",loading:!0,error:!1})});var e={userId:a.app.learnerId,entityId:a.app.entityId,loId:a.app.playableObjectId,submissionId:a.app.subjectId};return(0,b.post)(j["default"].getTranscriptionData(a.app),{body:e}).then(function(b){var c=[].concat(i(b.timestampedTranscripts)),d=l["default"].sort(c),e=[].concat(i(b.evaluationParameters)),f=b.transcriptionStatus;return{transcriptionPane:n({},a.transcriptionPane,{filter:n({},a.transcriptionPane.filter,{evaluationParameters:e}),timestampedTranscripts:d,searchedTranscripts:d,transcriptionStatus:f,loading:!1,error:!1})}},function(){return{transcriptionPane:n({},a.transcriptionPane,{filter:n({},a.transcriptionPane.filter,{evaluationParameters:[]}),timestampedTranscripts:[],searchedTranscripts:[],loading:!1,error:!0})}})},navigateToMatchNum:function(a,b){var c=b.currentMatchNumber,d=l["default"].highlightCurrentMatch(a.transcriptionPane.searchedTranscripts,c,a.transcriptionPane.searchBar.currentMatchNumber,a.transcriptionPane.matchedTranscriptIndices),e=d.highlightedTranscripts;return n({},a,{transcriptionPane:n({},a.transcriptionPane,{searchBar:n({},a.transcriptionPane.searchBar,{currentMatchNumber:c}),searchedTranscripts:e})})},updateTranscriptionSearchWords:function(a,b){var c=b.searchWords,d=b.selectedEvalParams;c=c||a.transcriptionPane.searchBar.searchWords,d=d||a.transcriptionPane.filter.selectedEvalParams;var e=l["default"].getKeywordsInParams(d),f=c.concat(e),g=l["default"].search(a.transcriptionPane.timestampedTranscripts,f),h=g.searchedTranscripts,i=g.matchedTranscriptIndices;return n({},a,{transcriptionPane:n({},a.transcriptionPane,{searchBar:n({},a.transcriptionPane.searchBar,{searchWords:c,currentMatchNumber:0==i.length?0:1,numberOfMatches:i.length}),filter:n({},a.transcriptionPane.filter,{selectedEvalParams:d}),searchedTranscripts:h,matchedTranscriptIndices:i})})}}}})})},function(a,b,c){var d,e,f,d,e,f;!function(c,g){e=[b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(b){"use strict";!function(c,g){e=[b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.STRING_DELETE_COMMENT="Delete Comment",a.STRING_DELETED_COMMENT_CANT_BE_RESTORED="Deleted comments can not be restored.",a.STRING_DELETE="Delete",a.STRING_CANCEL="Cancel",a.STRING_NO_COMMENT="Reviewers have not submitted any comments for this submission.",a.STRING_NO_COMMENT_ON_SUBMISSION="Hover your mouse over the video progress bar and add your comments for the Learner at precise time(s). All your comments will appear here.",a.STRING_ONBOARDING="Make your review more contextual and insightful for the Learner. Hover your mouse over the video progress bar and add your comments at precise time(s).",a.MAX_CHAR_LIMIT_COMMENT=1e3,a.STRING_TRANSCRIPTION_SEARCHBAR_PLACEHOLDER="Search words in the transcription",a.STRING_SEARCH_NAVIGATION_BAR_NO_MATCHES="No Match Found",a.DEFAULT_COMMENT_DIV_ID_PREFIX="commentCard_",a.TIMESTAMPED_TRANSCRIPT_DIV_ID_PREFIX="timestampedTranscriptCard_",a.STRING_TRANSCRIPTION_NOT_ENABLED="Transcription and Keywords analysis not enabled for this Submission.",a.STRING_TRANSCRIPTION_FAILED="<div style='font-weight: 600;'>Oops! </div>Sorry, Smart Transcribe couldn't transcribe this submission. Please proceed with reviewing.",a.STRING_TRANSCRIPTION_IN_PROGRESS="Transcription is on its way!",a.STRING_FETCHING_TRANSCRIPTION_DATA="Loading...",a.STRING_FETCHING_TRANSCRIPTION_DATA_FAILED="Error while getting data.",a.CLASS_SEARCH_HIGHLIGHT="searchHighlightStyle",a.CLASS_CURRENT_MATCH_HIGHLIGHT="currentMatchHighlightStyle"})})},function(a,b,c){var d,e,f,d,e,f;!function(c,g){e=[a,b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";!function(c,g){e=[a,b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var c={POST_COMMENT:"video comments success",EDIT_COMMENT:"manager edit video comments",DELETE_COMMENT:"manager delete video comments",ADD_COMMENT:"add video comments",FILTER_CLICKED:"mission video comments filter",COMMENT_VIEWED:"mission video comments view",EMOJI_CLICKED:"emoji clicked",EMOJI_CHOSEN:"emoji chosen",SEARCH_IN_TRANSCRIPTION:"manager_transcription_search",TRANSCRIPTION_CARD_CLICKED:"mission transcription card clicked",SUBTITLE_BUTTON_CLICKED:"mission subtitle button clicked"};b["default"]=c,a.exports=b["default"]})})},function(a,b,c){var d,e,f;!function(c,g){e=[a],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a){"use strict";a.exports=function(a){return"string"!=typeof a?a:(/^['"].*['"]$/.test(a)&&(a=a.slice(1,-1)),/["'() \t\n]/.test(a)?'"'+a.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':a)}})},function(a,b,c){var d,e,f;!function(g,h){e=[b,c(0)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";function c(a,b){for(var c in b)a[c]=b[c];return a}function d(a){this.getChildContext=function(){return{store:a.store}}}d.prototype.render=function(a){return a.children[0]},a.connect=function(a,d){var e;return"function"!=typeof a&&("string"==typeof(e=a||[])&&(e=e.split(/\s*,\s*/)),a=function(a){for(var b={},c=0;c<e.length;c++)b[e[c]]=a[e[c]];return b}),function(e){function f(f,g){var h=this,i=g.store,j=a(i?i.getState():{},f),k=d?function(a,b){"function"==typeof a&&(a=a(b));var c={};for(var d in a)c[d]=b.action(a[d]);return c}(d,i):{store:i},l=function(){var b=a(i?i.getState():{},h.props);for(var c in b)if(b[c]!==j[c])return j=b,h.setState(null);for(var d in j)if(!(d in b))return j=b,h.setState(null)};this.componentDidMount=function(){l(),i.subscribe(l)},this.componentWillUnmount=function(){i.unsubscribe(l)},this.render=function(a){return b.h(e,c(c(c({},k),a),j))}}return(f.prototype=new b.Component).constructor=f}},a.Provider=d})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[b,c(17),c(18),c(3)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(b){"use strict";!function(g,h){e=[b,c(17),c(18),c(3)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d){function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!a&&j?j:(a&&(i[a]=i[a]||(0,d.deepmerge)(h,b)),j=(0,g["default"])(i))}Object.defineProperty(a,"__esModule",{value:!0}),a.getStore=f;var g=e(b),h=(e(c),{app:{},commentHelperBox:{show:!1,data:{}},commentBox:{show:!1,data:{text:""}},media:{currentTime:0,state:"PAUSE"},commentPane:{allComments:[],activeComments:[]},pitch:{},transcriptionPane:{searchBar:{searchWords:[],currentMatchNumber:0,numberOfMatches:0},filter:{evaluationParameters:[],selectedEvalParams:[]},timestampedTranscripts:[],searchedTranscripts:[],matchedTranscriptIndices:[],transcriptionApiStatus:"FETCHING",transcriptionStatus:"NOT_ENABLED"}}),i={},j=void 0})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(40),c(39),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(40),c(39),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h){function i(a){return a&&a.__esModule?a:{"default":a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var m=i(d),n=i(e),o=i(h),p=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),q=[{name:"thumbs up",value:"0x1f44d"},{name:"smiling face with smiling eyes",value:"0x1f60a"},{name:"smiling face with open mouth",value:"0x1f603"}],r=function(a){function b(){j(this,b);var a=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.emojiClickHandler=a.emojiClickHandler.bind(a),
a.emojiSelectHandler=a.emojiSelectHandler.bind(a),a.collapse=a.collapse.bind(a),a.setState({showEmojiList:!1}),a.addPolyfill(),a}return l(b,a),p(b,[{key:"addPolyfill",value:function(){String.fromCodePoint||function(){var a=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b}catch(a){}return c}(),b=String.fromCharCode,c=Math.floor,d=function(a){var d,e,f=[],g=-1,h=arguments.length;if(!h)return"";for(var i="";++g<h;){var j=Number(arguments[g]);if(!isFinite(j)||j<0||j>1114111||c(j)!=j)throw RangeError("Invalid code point: "+j);j<=65535?f.push(j):(j-=65536,d=55296+(j>>10),e=j%1024+56320,f.push(d,e)),(g+1==h||f.length>16384)&&(i+=b.apply(null,f),f.length=0)}return i};a?a(String,"fromCodePoint",{value:d,configurable:!0,writable:!0}):String.fromCodePoint=d}()}},{key:"emojiClickHandler",value:function(a){this.show=!this.show,this.setState({showEmojiList:this.show}),a.stopPropagation(),(0,f.track)(o["default"].EMOJI_CLICKED),this.props.onClick()}},{key:"emojiSelectHandler",value:function(a){this.setState({showEmojiList:!1}),"function"==typeof this.props.onSelect&&this.props.onSelect(a.target.innerHTML);var b=a.target.getAttribute("index")||0;(0,f.track)(o["default"].EMOJI_CHOSEN,{name:q[b].name,value:a.target.innerHTML})}},{key:"collapse",value:function(){this.setState({showEmojiList:!1})}},{key:"render",value:function(){var a=this,b=this.state.showEmojiList,d=this.props.toLeft,e={};return d?e.left="2px":e.right="2px",(0,c.h)("div",{className:m["default"].posRel,style:"width:15px;outline:none",tabIndex:0,onBlur:this.collapse},(0,c.h)("div",{className:m["default"].emojiSelector,onClick:this.emojiClickHandler},(0,c.h)("img",{src:n["default"],style:"height:15px;"})),b&&(0,c.h)("div",{className:m["default"].emojiList,style:e},(0,c.h)("ul",null,q.map(function(b,d){return(0,c.h)("li",{onClick:a.emojiSelectHandler,index:d,key:d},String.fromCodePoint(b.value))}))))}}]),b}(c.Component);b["default"]=r,a.exports=b["default"]})})},function(a,b,c){var d,e,f;!function(c,g){e=[],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(){"use strict";!function(a){function b(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function c(a){return"string"!=typeof a&&(a=String(a)),a}function d(a){var b={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};return r.iterable&&(b[Symbol.iterator]=function(){return b}),b}function e(a){this.map={},a instanceof e?a.forEach(function(a,b){this.append(b,a)},this):Array.isArray(a)?a.forEach(function(a){this.append(a[0],a[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function f(a){return a.bodyUsed?Promise.reject(new TypeError("Already read")):void(a.bodyUsed=!0)}function g(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function h(a){var b=new FileReader,c=g(b);return b.readAsArrayBuffer(a),c}function i(a){var b=new FileReader,c=g(b);return b.readAsText(a),c}function j(a){for(var b=new Uint8Array(a),c=new Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(b[d]);return c.join("")}function k(a){if(a.slice)return a.slice(0);var b=new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)),b.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,a)if("string"==typeof a)this._bodyText=a;else if(r.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(r.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(r.arrayBuffer&&r.blob&&t(a))this._bodyArrayBuffer=k(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!r.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a)&&!u(a))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=k(a)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return i(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(o)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(a){var b=a.toUpperCase();return v.indexOf(b)>-1?b:a}function n(a,b){b=b||{};var c=b.body;if(a instanceof n){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new e(a.headers)),this.method=a.method,this.mode=a.mode,c||null==a._bodyInit||(c=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=b.credentials||this.credentials||"omit",!b.headers&&this.headers||(this.headers=new e(b.headers)),this.method=m(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&c)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(c)}function o(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function p(a){var b=new e;return a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(a){var c=a.split(":"),d=c.shift().trim();if(d){var e=c.join(":").trim();b.append(d,e)}}),b}function q(a,b){b||(b={}),this.type="default",this.status=void 0===b.status?200:b.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new e(b.headers),this.url=b.url||"",this._initBody(a)}if(!a.fetch){var r={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};if(r.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],t=function(a){return a&&DataView.prototype.isPrototypeOf(a)},u=ArrayBuffer.isView||function(a){return a&&s.indexOf(Object.prototype.toString.call(a))>-1};e.prototype.append=function(a,d){a=b(a),d=c(d);var e=this.map[a];this.map[a]=e?e+","+d:d},e.prototype["delete"]=function(a){delete this.map[b(a)]},e.prototype.get=function(a){return a=b(a),this.has(a)?this.map[a]:null},e.prototype.has=function(a){return this.map.hasOwnProperty(b(a))},e.prototype.set=function(a,d){this.map[b(a)]=c(d)},e.prototype.forEach=function(a,b){for(var c in this.map)this.map.hasOwnProperty(c)&&a.call(b,this.map[c],c,this)},e.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),d(a)},e.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),d(a)},e.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),d(a)},r.iterable&&(e.prototype[Symbol.iterator]=e.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];n.prototype.clone=function(){return new n(this,{body:this._bodyInit})},l.call(n.prototype),l.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},q.error=function(){var a=new q(null,{status:0,statusText:""});return a.type="error",a};var w=[301,302,303,307,308];q.redirect=function(a,b){if(-1===w.indexOf(b))throw new RangeError("Invalid status code");return new q(null,{status:b,headers:{location:a}})},a.Headers=e,a.Request=n,a.Response=q,a.fetch=function(a,b){return new Promise(function(c,d){var e=new n(a,b),f=new XMLHttpRequest;f.onload=function(){var a={status:f.status,statusText:f.statusText,headers:p(f.getAllResponseHeaders()||"")};a.url="responseURL"in f?f.responseURL:a.headers.get("X-Request-URL");var b="response"in f?f.response:f.responseText;c(new q(b,a))},f.onerror=function(){d(new TypeError("Network request failed"))},f.ontimeout=function(){d(new TypeError("Network request failed"))},f.open(e.method,e.url,!0),"include"===e.credentials?f.withCredentials=!0:"omit"===e.credentials&&(f.withCredentials=!1),"responseType"in f&&r.blob&&(f.responseType="blob"),e.headers.forEach(function(a,b){f.setRequestHeader(b,a)}),f.send(void 0===e._bodyInit?null:e._bodyInit)})},a.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0)})},function(a,b,c){var d,e,f;!function(c,g){e=[a],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a){"use strict";var b,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b=function(){return this}();try{b=b||Function("return this")()||(0,eval)("this")}catch(a){"object"===("undefined"==typeof window?"undefined":c(window))&&(b=window)}a.exports=b})},function(a,b,c){var d,e,f;!function(g,h){e=[a,c(25)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";function c(a){return!0===b(a)&&"[object Object]"===Object.prototype.toString.call(a)}a.exports=function(a){var b,d;return!1!==c(a)&&"function"==typeof(b=a.constructor)&&(d=b.prototype,!1!==c(d)&&!1!==d.hasOwnProperty("isPrototypeOf"))}})},function(a,b,c){var d,e,f;!function(c,g){e=[a,b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";function c(a){return!!a&&"object"===(void 0===a?"undefined":k(a))}function d(a){var b=Object.prototype.toString.call(a);return"[object RegExp]"===b||"[object Date]"===b||e(a)}function e(a){return a.$$typeof===n}function f(a){return Array.isArray(a)?[]:{}}function g(a,b){return!1!==b.clone&&b.isMergeableObject(a)?j(f(a),a,b):a}function h(a,b,c){return a.concat(b).map(function(a){return g(a,c)})}function i(a,b,c){var d={};return c.isMergeableObject(a)&&Object.keys(a).forEach(function(b){d[b]=g(a[b],c)}),Object.keys(b).forEach(function(e){c.isMergeableObject(b[e])&&a[e]?d[e]=j(a[e],b[e],c):d[e]=g(b[e],c)}),d}function j(a,b,c){c=c||{},c.arrayMerge=c.arrayMerge||h,c.isMergeableObject=c.isMergeableObject||l;var d=Array.isArray(b);return d===Array.isArray(a)?d?c.arrayMerge(a,b,c):i(a,b,c):g(b,c)}Object.defineProperty(b,"__esModule",{value:!0});var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},l=function(a){return c(a)&&!d(a)},m="function"==typeof Symbol&&Symbol["for"],n=m?Symbol["for"]("react.element"):60103;j.all=function(a,b){if(!Array.isArray(a))throw new Error("first argument should be an array");return a.reduce(function(a,c){return j(a,c,b)},{})};var o=j;b["default"]=o,a.exports=b["default"]})},function(a,b,c){var d,e,f;!function(c,g){e=[a,b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";function c(a,b){for(var c in b)a[c]=b[c];return a}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=function(a){function b(a){for(var b=[],c=0;c<e.length;c++)e[c]===a?a=null:b.push(e[c]);e=b}function d(b,d,f){a=d?b:c(c({},a),b);for(var g=e,h=0;h<g.length;h++)g[h](a,f)}var e=[];return a=a||{},{action:function(b){function c(a){d(a,!1,b)}return function(){for(var d=arguments,e=[a],f=0;f<arguments.length;f++)e.push(d[f]);var g=b.apply(this,e);if(null!=g)return g.then?g.then(c):c(g)}},setState:d,subscribe:function(a){return e.push(a),function(){b(a)}},unsubscribe:b,getState:function(){return a}}},a.exports=b["default"]})},function(a,b,c){var d,e,f;!function(c,g){e=[a],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a){"use strict";a.exports=function(a){var b=window.__REDUX_DEVTOOLS_EXTENSION__||window.top.__REDUX_DEVTOOLS_EXTENSION__,c=!1;return b?(a.devtools||(a.devtools=b.connect(),a.devtools.subscribe(function(b){"DISPATCH"===b.type&&b.state&&(c="JUMP_TO_ACTION"===b.payload.type||"JUMP_TO_STATE"===b.payload.type,a.setState(JSON.parse(b.state),!0))}),a.devtools.init(a.getState()),a.subscribe(function(b,d){var e=d&&d.name||"setState";c?c=!1:a.devtools.send(e,b)})),a):(console.warn("Please install/enable Redux devtools extension"),a.devtools=null,a)}})},function(a,b,c){var d,e,f,d,e,f;!function(c,g){e=[b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(b){"use strict";!function(c,g){e=[b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a){Object.defineProperty(a,"__esModule",{value:!0});var b=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},c=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b({},{"Content-Type":"application/json"},a)},d=function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(a.url,b({},c,{credentials:"same-origin"})).then(function(a){var b=void 0;return a.ok&&(b=a.json()),a.status>=200&&a.status<300?b:Promise.reject(Error("error"))})["catch"](function(a){return Promise.reject(Error(a.message))})},e=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.method="GET",e.headers=c(e.headers),d(a,b({},e))},f=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.method="POST",e.headers=c(e.headers),e.body&&"application/json"===e.headers["Content-Type"]&&(e.body=JSON.stringify(e.body)),d(a,b({},e))},g=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.method="PUT",e.headers=c(e.headers),e.body&&"application/json"===e.headers["Content-Type"]&&(e.body=JSON.stringify(e.body)),d(a,b({},e))},h=function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.method="DELETE",d(a,b({},c))};a.get=e,a.post=f,a.put=g,a.del=h})})},function(a,b,c){var d,e,f,d,e,f;!function(c,g){e=[a,b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";!function(c,g){e=[a,b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var c=[];b["default"]=c,a.exports=b["default"]})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(7)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";!function(g,h){e=[a,b,c(7)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c){function d(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}Object.defineProperty(b,"__esModule",{value:!0});var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f={search:function(a,b){var c=[],d=a.map(function(a,d){var g=" "+a.text+" ";return b.forEach(function(a){for(var b=" "+a.toLowerCase()+" ",e=0,h=g.toLowerCase().indexOf(b,e);-1!=h;){var i=h+1;g=g.substr(0,i)+f.highlightText(g.substr(i,a.length))+g.substr(i+a.length),c.push(d),e=i+a.length,h=g.toLowerCase().indexOf(b,e)}}),e({},a,{text:g.substr(1,g.length-2)})});return{searchedTranscripts:f.highlightCurrentMatch(d,1,1,c).highlightedTranscripts,matchedTranscriptIndices:c}},getKeywordsInParams:function(a){var b=[];return a.forEach(function(a){b=b.concat(a.keywords)}),b},highlightText:function(a){return"<span class='"+c.CLASS_SEARCH_HIGHLIGHT+"'>"+a+"</span>"},unhighlightText:function(a){return a.substr(3,a.length-7)},sort:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";return a.sort(function(a,c){return a[b]===c[b]?a.createdTime-c.createdTime:a[b]-c[b]})},highlightCurrentMatch:function(a,b,e,f){if(0==f.length)return{highlightedTranscripts:[].concat(d(a))};var g=[].concat(d(a)),h=f[e-1];g[h].text=g[h].text.replace(c.CLASS_CURRENT_MATCH_HIGHLIGHT,c.CLASS_SEARCH_HIGHLIGHT);for(var i=f[b-1],j=b-2,k=1;j>=0&&f[j]==i;)k++,j--;var l=g[i].text;j=1;for(var m=l.indexOf(c.CLASS_SEARCH_HIGHLIGHT,0);-1!=m;){if(j==k){l=l.substr(0,m)+c.CLASS_CURRENT_MATCH_HIGHLIGHT+l.substr(m+c.CLASS_SEARCH_HIGHLIGHT.length);break}j++,m=l.indexOf(c.CLASS_SEARCH_HIGHLIGHT,m+c.CLASS_SEARCH_HIGHLIGHT.length)}return g[i].text=l,{highlightedTranscripts:g}}};b["default"]=f,a.exports=b["default"]})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(49),c(37),c(3),c(7)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(49),c(37),c(3),c(7)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h){function i(a){return a&&a.__esModule?a:{"default":a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var m=i(d),n=i(e),o=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),p=function(a){function b(){j(this,b);var a=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.closeAnyActiveEdit=function(){var b={};Object.keys(a.commentPaneComponents).filter(function(b){return a.commentPaneComponents[b]}).forEach(function(c){return b[c]=a.commentPaneComponents[c]}),a.commentPaneComponents=b;for(var c in a.commentPaneComponents)a.commentPaneComponents[c].discard()},a.closeAnyActiveEdit=a.closeAnyActiveEdit.bind(a),a.commentPaneComponents={},a}return l(b,a),o(b,[{key:"render",value:function(){var a=this,b=this.props,d=b.comments,e=b.edit,g=b.targetPlayerId,i=b.editComment,j=b.deleteComment,k=b.onPaneCardClickHandler,l=b.noCommentDiv,o=b.onDeleteConfirm,p=b.hideCommentCardError,q=b.popupSelector;if(d&&d.length){var r=d.map(function(a){return a.author.id}),s=(0,f.getColorMap)(r);return(0,c.h)("div",{className:m["default"].commentPane},d.map(function(b,d){return(0,c.h)(n["default"],{cardObj:b,key:d,ref:function(b){return a.commentPaneComponents[d]=b},edit:e,popupSelector:q,targetPlayerId:g,editComment:i,deleteComment:j,onDeleteConfirm:o,onPaneCardClickHandler:k,hideErrorhandler:p,colorCode:s[b.author.id],onCommentEdit:a.closeAnyActiveEdit,divId:(a.props.commentDivIdPrefix||h.DEFAULT_COMMENT_DIV_ID_PREFIX)+b.id})}))}return(0,c.h)("div",{className:m["default"].commentPane},l)}}]),b}(c.Component);b["default"]=p,a.exports=b["default"]})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[b,c(0),c(42)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[b,c(0),c(42)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(){var a=document.getElementById(o);(0,b.render)("",a,n),a.parentNode.removeChild(a)}function i(a){var c=document.createElement("div");c.id=o;var d=document.body;a.popupSelector&&(d=document.getElementById(a.popupSelector)),d.appendChild(c),n=(0,b.render)((0,b.h)(m,a),c)}function j(a){i(a)}Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=void 0,a.ConfirmAlert=j;var k=function(a){return a&&a.__esModule?a:{"default":a}}(c),l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m=function(a){function c(){d(this,c);var a=e(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return a.onClickConfirm=function(){a.props.onConfirm(),a.close()},a.onClickCancel=function(){a.props.onCancel(),a.close()},a.close=function(){h()},a}return f(c,a),l(c,[{key:"render",value:function(){var a=this.props,c=a.title,d=a.message,e=a.confirmLabel,f=a.cancelLabel;return(0,b.h)("div",{className:k["default"].container},(0,b.h)("div",{className:k["default"].reactConfirmAlertOverlay}),(0,b.h)("div",{className:k["default"].content},(0,b.h)("div",{className:k["default"].reactConfirmAlert},c&&(0,b.h)("h1",null,c),d&&(0,b.h)("h3",null,d)),(0,b.h)("div",{className:k["default"].reactConfirmAlertButtonGroup},f&&(0,b.h)("div",{className:[k["default"].cancel,k["default"].button].join(" "),onClick:this.onClickCancel},f),e&&(0,b.h)("div",{className:[k["default"].confirm,k["default"].button].join(" "),onClick:this.onClickConfirm},e))))}}]),c}(b.Component);a["default"]=m;var n=void 0,o="an-confirm-alert"})})},function(a,b,c){var d,e,f;!function(c,g){e=[a],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a){"use strict";function b(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function d(a){if(j===setTimeout)return setTimeout(a,0);if((j===b||!j)&&setTimeout)return j=setTimeout,setTimeout(a,0);try{return j(a,0)}catch(b){try{return j.call(null,a,0)}catch(b){return j.call(this,a,0)}}}function e(a){if(k===clearTimeout)return clearTimeout(a);if((k===c||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(a);try{return k(a)}catch(b){try{return k.call(null,a)}catch(b){return k.call(this,a)}}}function f(){o&&m&&(o=!1,m.length?n=m.concat(n):p=-1,n.length&&g())}function g(){if(!o){var a=d(f);o=!0;for(var b=n.length;b;){for(m=n,n=[];++p<b;)m&&m[p].run();p=-1,b=n.length}m=null,o=!1,e(a)}}function h(a,b){this.fun=a,this.array=b}function i(){}var j,k,l=a.exports={};!function(){try{j="function"==typeof setTimeout?setTimeout:b}catch(a){j=b}try{k="function"==typeof clearTimeout?clearTimeout:c}catch(a){k=c}}();var m,n=[],o=!1,p=-1;l.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];n.push(new h(a,b)),1!==n.length||o||d(g)},h.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.prependListener=i,l.prependOnceListener=i,l.listeners=function(a){return[]},l.binding=function(a){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(a){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}})},function(a,b,c){var d,e,f;!function(c,g){e=[a],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a){"use strict";var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};a.exports=function(a){return null!=a&&"object"===(void 0===a?"undefined":b(a))&&!1===Array.isArray(a)}})},function(a,b,c){var d,e,f;!function(c,g){e=[a],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a){"use strict";a.exports=function(a){var b="undefined"!=typeof window&&window.location;if(!b)throw new Error("fixUrls requires window.location");if(!a||"string"!=typeof a)return a;var c=b.protocol+"//"+b.host,d=c+b.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,b){var e=b.trim().replace(/^"(.*)"$/,function(a,b){return b}).replace(/^'(.*)'$/,function(a,b){return b});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(e))return a;var f;return f=0===e.indexOf("//")?e:0===e.indexOf("/")?c+e:d+e.replace(/^\.\//,""),"url("+JSON.stringify(f)+")"})}})},function(a,b,c){(function(d,e){var f,g,h,f,h;!function(c,d){g=[a,b],f=d,void 0!==(h="function"==typeof f?f.apply(b,g):f)&&(a.exports=h)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(d,e){"object"===(void 0===b?"undefined":g(b))&&void 0!==a?a.exports=e():(f=e,void 0!==(h="function"==typeof f?f.call(b,c,b,a):f)&&(a.exports=h))}(0,function(){function a(a){var b=void 0===a?"undefined":g(a);return null!==a&&("object"===b||"function"===b)}function b(a){return"function"==typeof a}function c(a){Q=a}function f(a){R=a}function h(){return void 0!==P?function(){P(j)}:i()}function i(){var a=setTimeout;return function(){return a(j,1)}}function j(){for(var a=0;a<O;a+=2)(0,X[a])(X[a+1]),X[a]=void 0,X[a+1]=void 0;O=0}function k(a,b){var c=this,d=new this.constructor(m);void 0===d[Z]&&E(d);var e=c._state;if(e){var f=arguments[e-1];R(function(){return B(e,d,f,c._result)})}else y(c,d,a,b);return d}function l(a){var b=this;if(a&&"object"===(void 0===a?"undefined":g(a))&&a.constructor===b)return a;var c=new b(m);return u(c,a),c}function m(){}function n(){return new TypeError("You cannot resolve a promise with itself")}function o(){return new TypeError("A promises callback cannot return that same promise.")}function p(a){try{return a.then}catch(a){return ba.error=a,ba}}function q(a,b,c,d){try{a.call(b,c,d)}catch(a){return a}}function r(a,b,c){R(function(a){var d=!1,e=q(c,b,function(c){d||(d=!0,b!==c?u(a,c):w(a,c))},function(b){d||(d=!0,x(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,x(a,e))},a)}function s(a,b){b._state===_?w(a,b._result):b._state===aa?x(a,b._result):y(b,void 0,function(b){return u(a,b)},function(b){return x(a,b)})}function t(a,c,d){c.constructor===a.constructor&&d===k&&c.constructor.resolve===l?s(a,c):d===ba?(x(a,ba.error),ba.error=null):void 0===d?w(a,c):b(d)?r(a,c,d):w(a,c)}function u(b,c){b===c?x(b,n()):a(c)?t(b,c,p(c)):w(b,c)}function v(a){a._onerror&&a._onerror(a._result),z(a)}function w(a,b){a._state===$&&(a._result=b,a._state=_,0!==a._subscribers.length&&R(z,a))}function x(a,b){a._state===$&&(a._state=aa,a._result=b,R(v,a))}function y(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+_]=c,e[f+aa]=d,0===f&&a._state&&R(z,a)}function z(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?B(c,d,e,f):e(f);a._subscribers.length=0}}function A(a,b){try{return a(b)}catch(a){return ba.error=a,ba}}function B(a,c,d,e){var f=b(d),g=void 0,h=void 0,i=void 0,j=void 0;if(f){if(g=A(d,e),g===ba?(j=!0,h=g.error,g.error=null):i=!0,c===g)return void x(c,o())}else g=e,i=!0;c._state!==$||(f&&i?u(c,g):j?x(c,h):a===_?w(c,g):a===aa&&x(c,g))}function C(a,b){try{b(function(b){u(a,b)},function(b){x(a,b)})}catch(b){x(a,b)}}function D(){return ca++}function E(a){a[Z]=ca++,a._state=void 0,a._result=void 0,a._subscribers=[]}function F(){return new Error("Array Methods must be provided an Array")}function G(a){return new da(this,a).promise}function H(a){var b=this;return new b(N(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}function I(a){var b=this,c=new b(m);return x(c,a),c}function J(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function K(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(){var a=void 0;if(void 0!==e)a=e;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(a){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;if(b){var c=null;try{c=Object.prototype.toString.call(b.resolve())}catch(a){}if("[object Promise]"===c&&!b.cast)return}a.Promise=ea}var M=void 0;M=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var N=M,O=0,P=void 0,Q=void 0,R=function(a,b){X[O]=a,X[O+1]=b,2===(O+=2)&&(Q?Q(j):Y())},S="undefined"!=typeof window?window:void 0,T=S||{},U=T.MutationObserver||T.WebKitMutationObserver,V="undefined"==typeof self&&void 0!==d&&"[object process]"==={}.toString.call(d),W="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3),Y=void 0;Y=V?function(){return function(){return d.nextTick(j)}}():U?function(){var a=0,b=new U(j),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}():W?function(){var a=new MessageChannel;return a.port1.onmessage=j,function(){return a.port2.postMessage(0)}}():void 0===S?function(){try{var a=Function("return this")().require("vertx");return P=a.runOnLoop||a.runOnContext,h()}catch(a){return i()}}():i();var Z=Math.random().toString(36).substring(2),$=void 0,_=1,aa=2,ba={error:null},ca=0,da=function(){function a(a,b){this._instanceConstructor=a,this.promise=new a(m),this.promise[Z]||E(this.promise),N(b)?(this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(b),0===this._remaining&&w(this.promise,this._result))):x(this.promise,F())}return a.prototype._enumerate=function(a){for(var b=0;this._state===$&&b<a.length;b++)this._eachEntry(a[b],b)},a.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===l){var e=p(a);if(e===k&&a._state!==$)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===ea){
var f=new c(m);t(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},a.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===$&&(this._remaining--,a===aa?x(d,c):this._result[b]=c),0===this._remaining&&w(d,this._result)},a.prototype._willSettleAt=function(a,b){var c=this;y(a,void 0,function(a){return c._settledAt(_,b,a)},function(a){return c._settledAt(aa,b,a)})},a}(),ea=function(){function a(b){this[Z]=D(),this._result=this._state=void 0,this._subscribers=[],m!==b&&("function"!=typeof b&&J(),this instanceof a?C(this,b):K())}return a.prototype["catch"]=function(a){return this.then(null,a)},a.prototype["finally"]=function(a){var b=this,c=b.constructor;return b.then(function(b){return c.resolve(a()).then(function(){return b})},function(b){return c.resolve(a()).then(function(){throw b})})},a}();return ea.prototype.then=k,ea.all=G,ea.race=H,ea.resolve=l,ea.reject=I,ea._setScheduler=c,ea._setAsap=f,ea._asap=R,ea.polyfill=L,ea.Promise=ea,ea})})}).call(b,c(24),c(14))},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(69),c(62),c(35),c(33),c(10),c(4),c(6),c(7),c(30),c(29)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(69),c(62),c(35),c(33),c(10),c(4),c(6),c(7),c(30),c(29)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h,i,j,k,l,m,n){function o(a){return a&&a.__esModule?a:{"default":a}}function p(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function q(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function r(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var s=o(d),t=o(e),u=o(f),v=o(h),w=o(m),x=o(n),y=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),z=function(a){function b(a){return p(this,b),q(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a))}return r(b,a),y(b,[{key:"componentDidMount",value:function(){var a=this.props,b=a.targetCommentContainer,d=a.targetTranscriptionContainer,e=a.edit,f=a.onCommentPaneRender,g=a.showOnboarding,h=a.filter,j=a.secondaryId,k=a.popupSelector,m=document.getElementById(b),n=document.getElementById(d);m&&(this.commentContainerRoot=(0,c.render)((0,c.h)(i.Provider,{store:this.context.store},(0,c.h)(t["default"],{edit:e,targetPlayerId:this.props.id,secondaryTargetPlayerId:j,filter:h,popupSelector:k,namespace:this.props.namespace,onCommentPaneRender:f})),m,m.lastChild),n&&(this.transcriptionContainerRoot=(0,c.render)((0,c.h)(i.Provider,{store:this.context.store},(0,c.h)(u["default"],{namespace:this.props.namespace,targetPlayerId:this.props.id,secondaryTargetPlayerId:j})),n,n.lastChild)),g&&e&&(this.onBoardingContainerRoot=(0,c.render)((0,c.h)("div",{className:w["default"].onBoardingContainer},(0,c.h)(v["default"],{text:l.STRING_ONBOARDING,image:x["default"]})),document.getElementById(b))))}},{key:"componentWillUnmount",value:function(){var a=this.props,b=a.targetCommentContainer,d=a.targetTranscriptionContainer,e=document.getElementById(b),f=document.getElementById(d);this.commentContainerRoot&&(0,c.render)("",document.getElementById(e),this.commentContainerRoot),this.onBoardingContainerRoot&&(0,c.render)("",document.getElementById(e),this.onBoardingContainerRoot),this.transcriptionContainerRoot&&(0,c.render)("",document.getElementById(f),this.transcriptionContainerRoot)}},{key:"render",value:function(){var a=this.props,b=a.primaryTracks,d=a.edit,e=a.secondaryTracks,f=a.onRenderComplete,g=a.showControlsOnly,h=a.namespace,i=a.controlOptions,j=a.downloadSrc,k=a.subtitleTrackSrc,l=a.secondaryId,m=a.popupSelector;return(0,c.h)(s["default"],{primaryTracks:b,downloadSrc:j,subtitleTrackSrc:k,id:this.props.id,secondaryId:l,edit:d,popupSelector:m,namespace:h,secondaryTracks:e,onRenderComplete:f,showControlsOnly:g,controlOptions:i})}}]),b}(c.Component);b["default"]=(0,j.namespaceConnect)(void 0,k.actions)(z),a.exports=b["default"]})})},function(a,b){a.exports="data:image/gif;base64,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59Y9G3p0485/mxlTZTXo7+DhRv8G+xCChPMRvlJYD3o9BcTvTeioQmZMkhnsFbsvK5oshRNGXAHHFUOY8B5cHhRhRXbVYcfgg9m58SBzxSFH4YXWAbfcG268sRxuz3kYYnO0ScjgGEawEN6KLJqV3lcMvWieehPk596NOOJYY448uneBexl4sIMVdoQRhAk/9qgkjkmud8GTS7K3XgZD2sHFD0hG+R8VZGDopZdufCnmmGSWaSaZb6RJYYPYnSkmGVbsAOWOWtZp55146njgBC9adNCLYVnwZJKDXlDBoYgeWuiijDZ6QQZtPenBDVzwwcWRHjhZKAWOHrqBohd0IOqopGqwwakbcLppkBR4gAOXZOz/cIIHkTo6Axdueqlmrrz26iuFawT75RnMEfsrc1wMAemPjjbr7LPQRvusplJChtAE/1T21aCQBunBt9+iiiq45JZr7rnkziCFGm0QEQO68HpwKgengvvBvfiSgC++8X57wg9axCFFDv16cOuxCAMb7MIMCysmw2lEnAbDxjVM8ZcWM7eGxsylofHFZJJBRMEkl2zyyQUzu+c/2Bq0YwYYYGABpOSCAEIIOOes88489+wzzv/GoUYUM/zscwstuKC0Cyc0nbPSMKigwggkOG10zifA4EQbaCRxdQg1dNHG2MWxYfbZaLMx9tpjp612G27HLTfbbNcxNhxuw4023XTT/0FH22/zDXjabQuOdtlmr302228vvLfgjJOBBM73fm355ZhnTvm95u5HHkGlmcACCyuUIEIGoGRjjz+st+7667DHLvvstNdu++2456777rz37vvvwAcv/PDE325PNp98m2RYBVkxhx996CFGHt/QU/z12Gev/fbcd+/99+Drno86W3jw42It/xPDP6LEsksusryyevj012///fjnrz/9+ZTvefqJ+AUqLAGIUahjfwhMoAIXyMAGak8d3zpQev5xgn+wwhd+AAMTZuEOB3rwgyAMoQjtl4/k5YdPaqEFLuAghBRkY4QwjKEMZ0jD2GXDfPmJQAj+kQphuEIOQ5hfDf+HSMQiGpF+9lAejCawARv8wxa3aIUnjkjFKlrxirxT3nvSQwEOKAEPqtgFMLBIxjKasYoR3OKOQtCDKbQhEGeMoxznCMIPZEqNYNkADY6ABd0pgxGDEIQgB0nIQhrykIMcBCOUQcdGOtKKdmQPF19g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";
},function(a,b,c){var d=c(101);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(c,g){e=[a,b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";!function(c,g){e=[a,b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var c={read:function(a){var b={id:a.id,cname:a.cname,author:{id:a.author.id,name:a.author.name},createdTime:a.createdTime};return a.text&&(b.text=a.text),a.time&&(b.time=a.time),a.contentList&&a.contentList.length&&a.contentList.map(function(a){"TEXT"===a.type&&(b.text=a.text)}),a.reference&&"TIMELINE"===a.reference.type&&(b.time=a.reference.start),b},write:function(a){return{cname:a.cname,subjectId:a.subjectId,type:"COMMENT",author:{id:a.author.id,name:a.author.name},contents:[{text:a.text,type:"TEXT"}],reference:{type:"TIMELINE",start:a.time}}},sort:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";return a.sort(function(a,c){return a[b]===c[b]?a.createdTime-c.createdTime:a[b]-c[b]})}};b["default"]=c,a.exports=b["default"]})})},function(a,b,c){var d,e,f,d,e,f;!function(c,g){e=[a,b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";!function(c,g){e=[a,b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var c={postComment:function(a){return{url:"/"+a.cname+"/social/mission?submissionId="+a.subjectId+"&entityId="+a.entityId+"&learnerId="+a.learnerId}},getComments:function(a){var b=a.socialId,c=a.cname,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=d.authors,f=[];e&&e.length&&(f=e.map(function(a){return a.id}));var g="/"+c+"/social/"+b;return f.length&&(g+="?authors="+f.join(",")),{url:g}},editComment:function(a){var b=a.socialId;return{url:"/"+a.cname+"/social/"+b}},deleteComment:function(a){var b=a.socialId;return{url:"/"+a.cname+"/social/"+b}},getTranscriptionData:function(a){return{url:"/"+a.cname+"/review/transcription_data"}}};b["default"]=c,a.exports=b["default"]})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(34)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(34)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d){function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(a){return a&&a.__esModule?a:{"default":a}}(d),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function(a){function b(){e(this,b);var a=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.id="onboardbox-ra",a.closeSelf=a.closeSelf.bind(a),a}return h(b,a),j(b,[{key:"closeSelf",value:function(){var a=document.getElementById(this.id);a.parentNode.removeChild(a)}},{key:"render",value:function(a){var b=a.text,d=a.image;return(0,c.h)("div",{className:i["default"].container,id:this.id},(0,c.h)("div",{className:i["default"].downArrow}),(0,c.h)("div",{className:i["default"].content},(0,c.h)("img",{src:d}),(0,c.h)("div",{className:i["default"].text},b),(0,c.h)("button",{onClick:this.closeSelf,className:i["default"].button},"Got it")))}}]),b}(c.Component);b["default"]=k,a.exports=b["default"]})})},function(a,b,c){var d=c(102);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(6),c(4),c(55),c(50),c(22),c(36),c(7),c(8),c(5)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(6),c(4),c(55),c(50),c(22),c(36),c(7),c(8),c(5)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h,i,j,k,l,m){function n(a){return a&&a.__esModule?a:{"default":a}}function o(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function p(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function q(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function r(a){return{searchedTranscripts:a.transcriptionPane.searchedTranscripts,matchedTranscriptIndices:a.transcriptionPane.matchedTranscriptIndices,currentMatchNumber:a.transcriptionPane.searchBar.currentMatchNumber,searchWords:a.transcriptionPane.searchBar.searchWords,transcriptionStatus:a.transcriptionPane.transcriptionStatus,loading:a.transcriptionPane.loading,error:a.transcriptionPane.error}}Object.defineProperty(b,"__esModule",{value:!0});var s=n(f),t=n(h),u=n(i),v=n(j),w=n(l),x=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),y=function(a){function b(a){o(this,b);var c=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.onTranscriptionCardClickHandler=c.onTranscriptionCardClickHandler.bind(c),c}return q(b,a),x(b,[{key:"componentDidMount",value:function(){this.props.getTranscriptionData()}},{key:"componentWillReceiveProps",value:function(a){if(a.currentMatchNumber!=this.props.currentMatchNumber&&a.currentMatchNumber>0){var b=a.matchedTranscriptIndices[a.currentMatchNumber-1],c="#"+k.TIMESTAMPED_TRANSCRIPT_DIV_ID_PREFIX+this.props.searchedTranscripts[b].id;this.base.querySelector(c).scrollIntoViewIfNeeded()}}},{key:"onTranscriptionCardClickHandler",value:function(a){var b=void 0;b=document.getElementById(this.props.targetPlayerId),b.currentTime=a.time,b=document.getElementById(this.props.secondaryTargetPlayerId),b&&(b.currentTime=a.time),(0,m.track)(w["default"].TRANSCRIPTION_CARD_CLICKED,{})}},{key:"render",value:function(){var a=this.props,b=a.loading,d=a.error,e=a.transcriptionStatus;return(0,c.h)("div",{className:v["default"].heightCalcTranscription},(0,c.h)("div",{className:[v["default"].rightContainor,b||d?v["default"].hide:v["default"].show].join(" ")},(0,c.h)("div",{className:["SUCCESS"==e?v["default"].show:v["default"].hide].join(" ")},(0,c.h)("div",{className:v["default"].transcriptionSearch},(0,c.h)(s["default"],{namespace:this.props.namespace}),(0,c.h)(t["default"],{namespace:this.props.namespace}),(0,c.h)("div",{className:v["default"].clear})),(0,c.h)("div",{className:[0==this.props.searchWords.length?v["default"].heightCalcComment:v["default"].heightCalcTagAdded].join(" ")},(0,c.h)(u["default"],{comments:this.props.searchedTranscripts,targetPlayerId:this.props.targetPlayerId,commentDivIdPrefix:k.TIMESTAMPED_TRANSCRIPT_DIV_ID_PREFIX,onPaneCardClickHandler:this.onTranscriptionCardClickHandler}))),(0,c.h)("div",{className:["NOT_ENABLED"==e?v["default"].show:v["default"].hide].join(" ")},k.STRING_TRANSCRIPTION_NOT_ENABLED),(0,c.h)("div",{className:["FAILED"==e?v["default"].show:v["default"].hide].join(" ")},(0,c.h)("div",{className:[v["default"].textalignC,v["default"].F18,v["default"].color66].join(" ")},(0,c.h)("div",{className:v["default"].transcriptionfailed}),(0,c.h)("div",{className:v["default"].transcriptionFailedMessage,dangerouslySetInnerHTML:{__html:k.STRING_TRANSCRIPTION_FAILED}}))),(0,c.h)("div",{className:["STARTED"==e||"NOT_STARTED"==e?v["default"].show:v["default"].hide].join(" ")},(0,c.h)("div",{className:v["default"].transcriptionOnItsWay},(0,c.h)("div",{className:[v["default"].transcription_truck,v["default"].marginT120,v["default"].display_IB].join(" ")}),(0,c.h)("div",{className:v["default"].transcriptionProgressMessage},k.STRING_TRANSCRIPTION_IN_PROGRESS)))),(0,c.h)("div",{className:[v["default"].rightContainor,b?v["default"].show:v["default"].hide].join(" ")},k.STRING_FETCHING_TRANSCRIPTION_DATA),(0,c.h)("div",{className:[v["default"].rightContainor,!b&&d?v["default"].show:v["default"].hide].join(" ")},k.STRING_FETCHING_TRANSCRIPTION_DATA_FAILED))}}]),b}(c.Component);b["default"]=(0,e.namespaceConnect)(r,d.actions)(y),a.exports=b["default"]})})},function(a,b,c){var d=c(103);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(43),c(3),c(23),c(7),c(38)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(43),c(3),c(23),c(7),c(38)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h,i){function j(a){return a&&a.__esModule?a:{"default":a}}function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function m(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var n=j(d),o=j(i),p=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},q=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),r=function(a){function b(a){k(this,b);var c=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.showControls=!1,c.cardClickHandler=c.cardClickHandler.bind(c),c.showControlsHandler=c.showControlsHandler.bind(c),c.hideControlsHandler=c.hideControlsHandler.bind(c),c.saveClickHandler=c.saveClickHandler.bind(c),c.deleteHandler=c.deleteHandler.bind(c),c.editHandler=c.editHandler.bind(c),c.saveHandler=c.saveHandler.bind(c),c.discardHandler=c.discardHandler.bind(c),c.discard=c.discard.bind(c),c.onKeyChange=c.onKeyChange.bind(c),c.setState({showControls:c.showControls,editComment:!1,disableSaveButton:!1}),c}return m(b,a),q(b,[{key:"cardClickHandler",value:function(){"function"==typeof this.props.onPaneCardClickHandler&&this.props.onPaneCardClickHandler(this.props.cardObj)}},{key:"setEdit",value:function(a){this.setState({editComment:a})}},{key:"deleteHandler",value:function(a){var b=this;a.stopPropagation(),this.props.onDeleteConfirm(),(0,f.ConfirmAlert)({title:h.STRING_DELETE_COMMENT,popupSelector:this.props.popupSelector,message:h.STRING_DELETED_COMMENT_CANT_BE_RESTORED,confirmLabel:h.STRING_DELETE,cancelLabel:h.STRING_CANCEL,onConfirm:function(){b.props.deleteComment({commentObj:b.props.cardObj})},onCancel:function(){}})}},{key:"editHandler",value:function(a){a.stopPropagation(),this.props.onCommentEdit(),this.setEdit(!0)}},{key:"discard",value:function(){this.setEdit(!1)}},{key:"showControlsHandler",value:function(){this.setState({showControls:!0})}},{key:"hideControlsHandler",value:function(){this.setState({showControls:!1})}},{key:"saveClickHandler",value:function(a){a.stopPropagation();var b=this.textareaElem.getText();this.saveHandler(b)}},{key:"saveHandler",value:function(a){if(a=a||this.textareaElem.getText(),a=a&&a.trim()){this.setEdit(!1);var b=this.props.cardObj;this.hideControlsHandler(),"function"==typeof this.props.editComment&&this.props.editComment({commentObj:p({},b,{text:a})})}}},{key:"discardHandler",value:function(a){a.stopPropagation(),this.discard(),this.hideControlsHandler()}},{key:"onKeyChange",value:function(a){var b=a.target.value;b=b&&b.trim(),this.setState({disableSaveButton:!b})}},{key:"componentWillReceiveProps",value:function(a){var b=this,c=a.cardObj;if(this.setEdit(!1),c.error)return this.setEdit(!0),clearTimeout(this.timer),void("function"==typeof this.props.hideErrorhandler&&(this.timer=setTimeout(function(){b.props.hideErrorhandler(c)},3e3)))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(a,b){var d=this,f=a.cardObj,g=a.edit,i=a.colorCode,j=b.editComment,k=b.showControls,l=b.disableSaveButton,m=(0,e.toHHMMSS)(f.time),p=k?n["default"].showControls:"",q={backgroundColor:i};return(0,c.h)("div",{className:n["default"].commentCard,onClick:this.cardClickHandler,onMouseOver:this.showControlsHandler,onMouseOut:this.hideControlsHandler,id:this.props.divId},(0,c.h)("div",{className:n["default"].timestampContainer},(0,c.h)("span",{className:n["default"].timestamp,style:q},m),!g&&f.author&&f.author.name&&(0,c.h)("span",{className:n["default"].author},(0,e.titleCase)(f.author.name)),g&&!j&&(0,c.h)("span",null,(0,c.h)("span",{className:[n["default"].controls,p,n["default"]["delete"]].join(" "),onClick:this.deleteHandler,title:"delete"}),(0,c.h)("span",{className:[n["default"].controls,p,n["default"].edit].join(" "),onClick:this.editHandler,title:"edit"}))),(0,c.h)("div",{className:n["default"].commentDivider}),!j&&(0,c.h)("div",{className:n["default"].text,dangerouslySetInnerHTML:{__html:(0,e.parseText)(f.text)}}),j&&(0,c.h)(o["default"],{ref:function(a){return d.textareaElem=a},className:n["default"].text,text:f.text,onEnter:this.saveHandler,onKeyChange:this.onKeyChange,maxChars:h.MAX_CHAR_LIMIT_COMMENT}),f.error&&(0,c.h)("div",{className:[n["default"].error,n["default"].errorContainer].join(" ")},"Something went wrong.Please try again.."),j&&(0,c.h)("div",{className:n["default"].actionControls},(0,c.h)("span",{title:"save",className:[n["default"].save,l?n["default"].disable:""].join(" "),onClick:this.saveClickHandler}),(0,c.h)("span",{title:"discard",className:n["default"].discard,onClick:this.discardHandler})))}}]),b}(c.Component);b["default"]=r,a.exports=b["default"]})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(41),c(12),c(3)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(41),c(12),c(3)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f){function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var l=h(d),m=h(e),n=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),o=function(a){function b(a){i(this,b);var c=j(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.onEnterPress=function(a){13==a.keyCode&&0==a.shiftKey&&"function"==typeof c.props.onEnter&&(a.preventDefault(),c.props.onEnter(a.target.value))},c.onEnterPress=c.onEnterPress.bind(c),c.emojiOnSelectHandler=c.emojiOnSelectHandler.bind(c),c}return k(b,a),n(b,[{key:"getText",value:function(){return this.el.value}},{key:"emojiOnSelectHandler",value:function(a){var b=this.props.maxChars;this.el.value.length<b&&(0,f.insertAtCursor)(this.el,a)}},{key:"componentDidMount",value:function(){this.el.addEventListener("keydown",this.autosize),"function"==typeof this.props.onKeyChange&&this.el.addEventListener("keydown",this.props.onKeyChange),this.el.addEventListener("paste",this.autosize),this.autosize.call(this.el),this.el.focus(),this.el.value=(0,f.parseText)(this.props.text)}},{key:"componentWillUnmount",value:function(){this.el.removeEventListener("keydown",this.autosize),"function"==typeof this.props.onKeyChange&&this.el.removeEventListener("keydown",this.props.onKeyChange),this.el.value=""}},{key:"autosize",value:function(){var a=this;setTimeout(function(){a.style.cssText="height:auto; padding:0",a.style.cssText="height:"+a.scrollHeight+"px"},0)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var a=this;console.info("re text afea");var b=this.props.maxChars;return(0,c.h)("div",{className:l["default"].container},(0,c.h)("textarea",{className:l["default"].textarea,maxlength:b,ref:function(b){return a.el=b},rows:"1",onKeyDown:this.onEnterPress,onClick:function(a){a.stopPropagation(),a.preventDefault()}}),(0,c.h)("div",{className:l["default"].emojiContainer},(0,c.h)(m["default"],{onSelect:this.emojiOnSelectHandler})))}}]),b}(c.Component);b["default"]=o,a.exports=b["default"]})})},function(a,b){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAiCAMAAAAAh4u3AAABDlBMVEVHcEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD1hBUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD0hBTfN5VyAAAAWHRSTlMAKL/ZOibxF5W1BoCt9Aff4hRGf0HzDFPBCQPqVGgVzyzFxs76jAQFHA1HAj1A1q9C+xPAeoVvwmoihsolCFhZ5TeI5HixK0zyG5LX9siyQ/V+0hJFu+3YpnwIVQAAAYxJREFUOMuFVNeCgjAQRBGCXUHsvfdervfe+43//yPnJTkVxCMvO1mGTbZMBOGf5XYL9ms+33DVVMUp6jf3n8pHdQuJKDKW66tjRQp4/UBOi0jRhuP59e3l3YJECoDPsdpnBfd8ufjt8yEEXabEzCQSQjxsk12giLjHrgReBMN2dSJ+uGyLqcDH2UcSd52mE8a2eGSw3EkKZRYyA+wnDSFVlBg4XlS6QpFzgQ4oSlxf8dM0RpLKQIyiPeDkkKIL3PHfIjymq8I4QnXnbJehDh6pFSFtn5VbnFOrI7qdlMCDPakB3f44CaLh4vWn9upj+7JObQROQwma+F4WMCmiSYEGhRczR22ri8wfKYNui4IcVGNbYhikGSc94FV1QK6ZGjwGev1stt8Dxszj46etj8qU60We8hbATzaHbjgZpVKjyZDtwkF4V+NbsBxfzwyFwJqgrIQQniFE1h0WknIFEcqbNF40itPhA4rEHJzKvPQr86gU0UqA3xuw6KXhwZAVsqXlHvr06KJTUU3J/gAJ2kprItmPyAAAAABJRU5ErkJggg=="},function(a,b,c){var d=c(106);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d=c(107);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d=c(108);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d=c(109);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSIxMCIgZmlsbD0iIzAwNzJCQyIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik03LjgxOCAxMy4xMzNsLTIuODYzLTIuODY0LS45NTUuOTU0IDMuODE4IDMuODE5TDE2IDYuODZsLS45NTUtLjk1NXoiLz48L2c+PC9zdmc+"},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSIxMCIgZmlsbD0iI0NDQyIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik03LjgxOCAxMy4xMzNsLTIuODYzLTIuODY0LS45NTUuOTU0IDMuODE4IDMuODE5TDE2IDYuODZsLS45NTUtLjk1NXoiLz48L2c+PC9zdmc+"},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiM5OTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEgMSkiPjxwYXRoIGQ9Ik01LjgzMyA1LjgzM2w4LjMzNCA4LjMzNG0wLTguMzM0bC04LjMzNCA4LjMzNCIgc3Ryb2tlLXdpZHRoPSIxLjUiLz48Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSIxMCIvPjwvZz48L3N2Zz4="},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZmlsbD0iIzk5OSIgZD0iTTQuODgyIDEzLjc5N2w5LjcwNS05LjcwNWMuNTEtLjUxLjU5Mi0xLjA4OC4yNS0xLjQzbC0xLjUtMS41Yy0uMzQxLS4zNDEtLjkyLS4yNTktMS40MjkuMjVsLTkuNzA1IDkuNzA2LS44OTMgMy41NzIgMy41NzItLjg5M3ptLTMuNTQtMy4xNjdMMTEuMjM0Ljc0Yy44NDctLjg0NyAyLjAxNC0xLjAxNCAyLjc3Ny0uMjVsMS41IDEuNWMuNzY0Ljc2My41OTcgMS45My0uMjUgMi43NzdMNS4zNyAxNC42NTggMCAxNmwxLjM0Mi01LjM3em04LjY0Ni03Ljc3bC42NzQtLjY3MyAzLjEwNCAzLjEwNC0uNjc0LjY3NEw5Ljk4OCAyLjg2em0tOC41NzcgOC41NzhsLjY3NC0uNjczIDMuMTAzIDMuMTAzLS42NzQuNjc0LTMuMTAzLTMuMTA0eiIvPjwvc3ZnPg=="},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTIgM2gxMXYxMmExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVYzem0xIDF2MTFoOVY0SDN6bTYtMVYxSDZ2Mmgzek01IDFhMSAxIDAgMCAxIDEtMWgzYTEgMSAwIDAgMSAxIDF2M0g1VjF6bS41IDVhLjUuNSAwIDAgMSAuNS41djZhLjUuNSAwIDEgMS0xIDB2LTZhLjUuNSAwIDAgMSAuNS0uNXptMiAwYS41LjUgMCAwIDEgLjUuNXY2YS41LjUgMCAxIDEtMSAwdi02YS41LjUgMCAwIDEgLjUtLjV6bTIgMGEuNS41IDAgMCAxIC41LjV2NmEuNS41IDAgMSAxLTEgMHYtNmEuNS41IDAgMCAxIC41LS41em0tOS0zaDE0YS41LjUgMCAxIDEgMCAxSC41YS41LjUgMCAwIDEgMC0xeiIgZmlsbD0iIzk5OSIvPjwvc3ZnPg=="},function(a,b,c){var d=c(110);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(6),c(4),c(54),c(53),c(51),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(6),c(4),c(54),c(53),c(51),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h,i,j,k){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function n(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function o(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function p(a){return{evalParams:a.transcriptionPane.filter.evaluationParameters,selectedEvalParams:a.transcriptionPane.filter.selectedEvalParams}}Object.defineProperty(b,"__esModule",{value:!0});var q=l(f),r=l(h),s=l(i),t=l(k),u=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),v=function(a){function b(a){m(this,b);var c=n(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.onOptionsChangedHandler=c.onOptionsChangedHandler.bind(c),c.getOptionsFromEvalParams=c.getOptionsFromEvalParams.bind(c),c.onFilterClickHandler=c.onFilterClickHandler.bind(c),c.hideFilters=c.hideFilters.bind(c),c.state={showFilters:!1},c}return o(b,a),u(b,[{key:"onOptionsChangedHandler",value:function(a){var b=a.selectedOptions,c=a.option;a.selected&&(0,j.track)(t["default"].SEARCH_IN_TRANSCRIPTION,{evaluation_parameter_name:c.label,source:"filter"});var d=b.map(function(a){return a.value}),e=this.props.evalParams.filter(function(a){return d.indexOf(a.evalParamId)>-1});this.props.updateTranscriptionSearchWords({selectedEvalParams:e})}},{key:"getOptionsFromEvalParams",value:function(a){return a.map(function(a){return{label:a.evalParam.name,value:a.evalParamId}})}},{key:"onFilterClickHandler",value:function(){this.setState({showFilters:!this.state.showFilters})}},{key:"hideFilters",value:function(){this.setState({showFilters:!1})}},{key:"render",value:function(){var a=this.getOptionsFromEvalParams(this.props.evalParams),b=this.getOptionsFromEvalParams(this.props.selectedEvalParams);return(0,c.h)("div",{className:q["default"].selectFilter,onBlur:this.hideFilters,tabIndex:"0"},(0,c.h)("div",{className:[b.length>0?q["default"].counter:q["default"].hide].join(" ")},b.length),(0,c.h)("div",{className:q["default"].filterIconHolder,onClick:this.onFilterClickHandler},(0,c.h)("img",{src:r["default"],style:"height:18px;"})),(0,c.h)("div",{className:[this.state.showFilters?null:q["default"].hide].join(" "),style:"width:300px;"},(0,c.h)(s["default"],{options:a,selectedOptions:b,onOptionsChangedHandler:this.onOptionsChangedHandler})))}}]),b}(c.Component);b["default"]=(0,e.namespaceConnect)(p,d.actions)(v),a.exports=b["default"]})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(52)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(52)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d){function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var j=function(a){return a&&a.__esModule?a:{"default":a}}(d),k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=function(a){function b(a){f(this,b);var c=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.onOptionClick=c.onOptionClick.bind(c),c.isOptionSelected=c.isOptionSelected.bind(c),c.state={selectedOptions:[]},c}return i(b,a),k(b,[{key:"componentWillReceiveProps",value:function(a){this.setState({selectedOptions:a.selectedOptions})}},{key:"onOptionClick",value:function(a){var b=[].concat(e(this.state.selectedOptions)),c=void 0;this.isOptionSelected(a)?(b=b.filter(function(b){return b.value!=a.value}),c=!1):(b=[].concat(e(b),[a]),c=!0),this.setState({selectedOptions:b}),this.props.onOptionsChangedHandler({selectedOptions:this.state.selectedOptions,option:a,selected:c})}},{key:"isOptionSelected",value:function(a){return this.state.selectedOptions.some(function(b){return a.value===b.value})}},{key:"render",value:function(){var a=this,b=this.props.options&&Array.isArray(this.props.options)?this.props.options:[];return(0,c.h)("div",{className:j["default"].dropdownMenu},(0,c.h)("ul",null,(0,c.h)("li",null,(0,c.h)("div",{className:j["default"].menuItemHeading},"Evaluation parameters")),b.map(function(b){return(0,c.h)("li",{onClick:function(){return a.onOptionClick(b)}},(0,c.h)("div",{className:[j["default"].checkbox,a.isOptionSelected(b)?j["default"].checkedbox:null].join(" ")}),(0,c.h)("div",{className:[j["default"].menuItem,j["default"].ellipsis].join(" ")},b.label),(0,c.h)("div",{className:j["default"].clear}))})))}}]),b}(c.Component);b["default"]=l,a.exports=b["default"]})})},function(a,b,c){var d=c(111);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTIuMzkzIDFoMTMuMTk1YTEgMSAwIDAgMSAuNzg0IDEuNjIxbC01Ljc4NCA3LjMwMXY1Ljk5MmExIDEgMCAwIDEtLjM4Ljc4NWwtMS4xNC45MDFhLjkzOC45MzggMCAwIDEtMS41Mi0uNzM2VjkuOTIybC01LjkzLTcuMjkxQTEgMSAwIDAgMSAyLjM5MiAxeiIgc3Ryb2tlPSIjOTk5IiBmaWxsPSJub25lIi8+PC9zdmc+"},function(a,b,c){var d=c(114);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(6),c(4),c(21),c(59),c(57),c(56),c(7)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(6),c(4),c(21),c(59),c(57),c(56),c(7)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h,i,j,k){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function n(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function o(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function p(a){return{searchWords:a.transcriptionPane.searchBar.searchWords,numberOfMatches:a.transcriptionPane.searchBar.numberOfMatches,currentMatchNumber:a.transcriptionPane.searchBar.currentMatchNumber,selectedEvalParams:a.transcriptionPane.filter.selectedEvalParams}}Object.defineProperty(b,"__esModule",{value:!0});var q=l(f),r=l(h),s=l(i),t=l(j),u=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),v=function(a){function b(a){m(this,b);var c=n(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.searchWordsChangedHandler=c.searchWordsChangedHandler.bind(c),c.navigateToMatchHandler=c.navigateToMatchHandler.bind(c),c}return o(b,a),u(b,[{key:"searchWordsChangedHandler",value:function(a){this.props.updateTranscriptionSearchWords({searchWords:a})}},{key:"navigateToMatchHandler",value:function(a){this.props.navigateToMatchNum({currentMatchNumber:a})}},{key:"render",value:function(){return(0,c.h)("div",{className:t["default"].floatL},(0,c.h)(r["default"],{placeholder:k.STRING_TRANSCRIPTION_SEARCHBAR_PLACEHOLDER,searchWordsChangedHandler:this.searchWordsChangedHandler}),(0,c.h)("div",{className:[0==this.props.searchWords.length&&0==q["default"].getKeywordsInParams(this.props.selectedEvalParams).length?t["default"].hide:null].join(" ")},(0,c.h)(s["default"],{currentMatchNumber:this.props.currentMatchNumber,numberOfMatches:this.props.numberOfMatches,navigateToMatchHandler:this.navigateToMatchHandler,noMatchFoundString:k.STRING_SEARCH_NAVIGATION_BAR_NO_MATCHES})))}}]),b}(c.Component);b["default"]=(0,e.namespaceConnect)(p,d.actions)(v),a.exports=b["default"]})})},function(a,b,c){var d=c(115);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(58)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(58)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d){function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(a){return a&&a.__esModule?a:{"default":a}}(d),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.onUpClicked=c.onUpClicked.bind(c),c.onDownClicked=c.onDownClicked.bind(c),c.state={currentMatchNumber:1},c}return h(b,a),j(b,[{key:"componentWillReceiveProps",value:function(a){a.currentMatchNumber!=this.state.currentMatchNumber&&this.setState({currentMatchNumber:a.currentMatchNumber})}},{key:"onUpClicked",value:function(){this.state.currentMatchNumber<this.props.numberOfMatches&&this.setState({currentMatchNumber:this.state.currentMatchNumber+1}),this.props.navigateToMatchHandler(this.state.currentMatchNumber)}},{key:"onDownClicked",value:function(){this.state.currentMatchNumber>1&&this.setState({currentMatchNumber:this.state.currentMatchNumber-1}),this.props.navigateToMatchHandler(this.state.currentMatchNumber)}},{key:"render",value:function(){return(0,c.h)("div",{className:i["default"].searchNavBar},(0,c.h)("div",{className:i["default"].resultRelatedText},(0,c.h)("div",{className:[this.props.numberOfMatches>0?i["default"].hide:null].join(" ")},this.props.noMatchFoundString),(0,c.h)("div",{className:[0==this.props.numberOfMatches?i["default"].hide:null].join(" ")},this.state.currentMatchNumber," of ",this.props.numberOfMatches," matches")),(0,c.h)("div",{className:[i["default"].sortingSearch,0==this.props.numberOfMatches?i["default"].hide:null].join(" ")},(0,c.h)("div",{className:[i["default"].arrow,i["default"].up].join(" "),onClick:this.onUpClicked}),(0,c.h)("div",{className:[i["default"].arrow,i["default"].down].join(" "),onClick:this.onDownClicked}),(0,c.h)("div",{className:i["default"].clear})),(0,c.h)("div",{className:i["default"].clear}))}}]),b}(c.Component);b["default"]=k,a.exports=b["default"]})})},function(a,b,c){var d=c(116);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(61),c(60),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(61),c(60),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h){function i(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function m(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var n=i(d),o=i(e),p=i(h),q=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),r=function(a){function b(a){k(this,b);var c=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.handleKeyPress=c.handleKeyPress.bind(c),c.addSearchWord=c.addSearchWord.bind(c),c.removeSearchWord=c.removeSearchWord.bind(c),c.state={inputValue:"",searchWords:[]},c}return m(b,a),q(b,[{key:"handleKeyPress",value:function(a){"Enter"==a.key&&this.addSearchWord(a.target.value)}},{key:"addSearchWord",value:function(a){(0,f.track)(p["default"].SEARCH_IN_TRANSCRIPTION,{search_text:a,source:"search_bar"});var b=[].concat(j(this.state.searchWords));-1==this.state.searchWords.indexOf(a)&&(b=[].concat(j(b),[a])),this.setState({searchWords:b,inputValue:""}),this.props.searchWordsChangedHandler(this.state.searchWords)}},{key:"removeSearchWord",value:function(a){this.setState({searchWords:this.state.searchWords.filter(function(b){return b!=a})}),this.props.searchWordsChangedHandler(this.state.searchWords)}},{key:"render",value:function(){var a=this;return(0,c.h)("div",{className:o["default"].searchBar},(0,c.h)("div",{className:o["default"].searchIcon}),this.state.searchWords.map(function(b){return(0,c.h)("div",{className:o["default"].tagItemTag},(0,c.h)("div",{className:o["default"].tagItemTagname},b),(0,c.h)("div",{className:o["default"].icon,onClick:function(){return a.removeSearchWord(b)}},(0,c.h)("img",{src:n["default"],style:{height:"8px",verticalAlign:"top"}})),(0,c.h)("div",{className:o["default"].clear}))}),(0,c.h)("input",{type:"text",name:"search",value:this.state.inputValue,onKeyPress:this.handleKeyPress,placeholder:this.props.placeholder,className:o["default"].inputStyle}),(0,c.h)("div",{className:o["default"].clear}))}}]),b}(c.Component);b["default"]=r,a.exports=b["default"]})})},function(a,b,c){var d=c(118);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik04IC44MDZMNy4xOTQgMCA0IDMuMTk0LjgwNiAwIDAgLjgwNiAzLjE5NCA0IDAgNy4xOTQuODA2IDggNCA0LjgwNiA3LjE5NCA4IDggNy4xOTQgNC44MDYgNHoiIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(22),c(67),c(65),c(6),c(4),c(64),c(7),c(63),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(22),c(67),c(65),c(6),c(4),c(64),c(7),c(63),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h,i,j,k,l,m,n){function o(a){return a&&a.__esModule?a:{"default":a}}function p(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function q(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function r(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function s(a){return{activeComments:a.commentPane.activeComments,allComments:a.commentPane.allComments,isFetching:a.commentPane.isFetching}}Object.defineProperty(b,"__esModule",{value:!0});var t=o(d),u=o(e),v=o(f),w=o(j),x=o(l),y=o(n),z=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),A=function(a){function b(a){p(this,b);var c=q(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.onPaneCardClickHandler=c.onPaneCardClickHandler.bind(c),c.editCommentHandler=c.props.editComment.bind(c.props),c.deleteCommentHandler=c.props.deleteComment.bind(c.props),c.authorOnSelectHandler=c.authorOnSelectHandler.bind(c),c.hideCommentBoxHandler=c.props.hideCommentBox.bind(c.props),c.hideCommentCardErrorHandler=c.props.hideCommentCardError.bind(c.props),c}return r(b,a),z(b,[{key:"componentDidMount",value:function(){var a=this.props.filter;this.props.getAllComments({filter:a})}},{key:"authorOnSelectHandler",value:function(a){(0,m.track)(y["default"].FILTER_CLICKED),this.props.filterComments({authorId:a&&a.value})}},{key:"getAuthors",value:function(a){var b=[],c=[];return a.forEach(function(a){c.indexOf(a.author.id)>-1||(c.push(a.author.id),b.push({value:a.author.id,label:a.author.name}))}),b}},{key:"onPaneCardClickHandler",value:function(a){var b=void 0;b=document.getElementById(this.props.targetPlayerId),b.currentTime=a.time,b=document.getElementById(this.props.secondaryTargetPlayerId),b&&(b.currentTime=a.time),(0,m.track)(y["default"].COMMENT_VIEWED,{commentId:a.id})}},{key:"noCommentDiv",value:function(){return this.props.edit?(0,c.h)(v["default"],{text:k.STRING_NO_COMMENT_ON_SUBMISSION,image:x["default"]}):(0,c.h)("div",null,k.STRING_NO_COMMENT)}},{key:"render",value:function(){if(this.props.isFetching)return(0,c.h)("div",{className:w["default"].loadingContainer},(0,c.h)("div",{className:w["default"].loader}));"function"==typeof this.props.onCommentPaneRender&&this.props.onCommentPaneRender(this.props.activeComments.length);var a=this.getAuthors(this.props.allComments);return(0,c.h)("div",{className:w["default"].container},a&&a.length>1&&(0,c.h)("div",{className:w["default"].filterContainer},(0,c.h)(u["default"],{options:a,name:"All",onSelect:this.authorOnSelectHandler})),(0,c.h)(t["default"],{comments:this.props.activeComments,edit:this.props.edit,popupSelector:this.props.popupSelector,targetPlayerId:this.props.targetPlayerId,onPaneCardClickHandler:this.onPaneCardClickHandler,editComment:this.editCommentHandler,onDeleteConfirm:this.hideCommentBoxHandler,hideCommentCardError:this.hideCommentCardErrorHandler,deleteComment:this.deleteCommentHandler,noCommentDiv:this.noCommentDiv()}))}}]),b}(c.Component);b["default"]=(0,i.namespaceConnect)(s,h.actions)(A),a.exports=b["default"]})})},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTAiIGhlaWdodD0iMTkwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxjaXJjbGUgY3g9Ijk1IiBjeT0iOTUiIHI9Ijk0LjUiIHN0cm9rZT0iI0RERCIvPjxwYXRoIGZpbGw9IiNDQ0MiIGQ9Ik0yMCAxMDloMTUwdjZIMjB6Ii8+PHBhdGggZmlsbD0iI0FBQSIgZD0iTTEwNS4wMDEgMTIzLjMwMmwtMy4zNjctNC45OTIgMi41NDItMS43MTVjLjA2Mi0uMDQxLjEwNy0uMTM5LjEyMi0uMjE2LS4wMS0uMDgyLS4wNDctLjE2OS0uMTE5LS4yMWwtOC41ODMtNS4xMjdjLS4wOTctLjA0NS0uMjA1LS4wNC0uMjY2LjAwMi0uMDkyLjA2Mi0uMTM4LjE2LS4xMjcuMjQxbDEuMjgzIDkuODNhLjMxLjMxIDAgMCAwIC4xNDQuMjEzLjI1LjI1IDAgMCAwIC4yNC0uMDA2bDIuODA0LTEuNjkgMy4zNjcgNC45OTJhLjI4Mi4yODIgMCAwIDAgLjE2NS4xMTIuMjc4LjI3OCAwIDAgMCAuMTk0LS4wNDNsMS41MzItMS4wMzJhLjI1My4yNTMgMCAwIDAgLjA3LS4zNnpNMjAgMTA5aDUwdjZIMjB6bTMxLTM0aDg5YTQgNCAwIDAgMSA0IDR2MTdhNCA0IDAgMCAxLTQgNGgtMzlsLTUgNi01LTZINTFhNCA0IDAgMCAxLTQtNFY3OWE0IDQgMCAwIDEgNC00eiIvPjx0ZXh0IGZpbGw9IiNGRkYiIGZvbnQtZmFtaWx5PSJPcGVuU2FucywgT3BlbiBTYW5zIiBmb250LXNpemU9IjEyIj48dHNwYW4geD0iNTUuMDUzIiB5PSI5MiI+QWRkIENvbW1lbnQ8L3RzcGFuPjwvdGV4dD48dGV4dCBmaWxsPSIjQ0NDIiBmb250LWZhbWlseT0iT3BlblNhbnMsIE9wZW4gU2FucyIgZm9udC1zaXplPSIxMSI+PHRzcGFuIHg9IjQ0LjEwMiIgeT0iMTI4Ij4yOjEwPC90c3Bhbj48L3RleHQ+PHBhdGggZmlsbD0iI0NDQyIgZD0iTTMzIDEyMi4xMjVoMS41djMuNzVIMzNhMSAxIDAgMCAxLTEtMXYtMS43NWExIDEgMCAwIDEgMS0xem0xLjUgMEwzOC4yNSAxMTl2MTBsLTMuNzUtMy4xMjV2LTMuNzV6bS04LjAzIDIuNzE2bC00LjkzIDMuMTY5YTEgMSAwIDAgMS0xLjU0LS44NDJ2LTYuMzM2YTEgMSAwIDAgMSAxLjU0LS44NDJsNC45MyAzLjE2OWExIDEgMCAwIDEgMCAxLjY4MnoiLz48L2c+PC9zdmc+"},function(a,b,c){var d=c(120);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(66)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(66)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d){function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(a){return a&&a.__esModule?a:{"default":a}}(d),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return h(b,a),j(b,[{key:"render",value:function(a){var b=a.text,d=a.image;return(0,c.h)("div",{className:i["default"].noCommentContainer},(0,c.h)("img",{src:d}),(0,c.h)("div",null,b))}}]),b}(c.Component);b["default"]=k,a.exports=b["default"]})})},function(a,b,c){var d=c(122);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(68)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(68)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d){function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(a){return a&&a.__esModule?a:{"default":a}}(d),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.onDropdownClick=c.onDropdownClick.bind(c),c.collapse=c.collapse.bind(c),c.onOptionClick=c.onOptionClick.bind(c),c.removeOption=c.removeOption.bind(c),c.state={selectedOption:null,isOptionsVisible:!1},c}return h(b,a),j(b,[{key:"removeOption",value:function(a){a.stopPropagation(),this.setState({selectedOption:null,isOptionsVisible:!1}),this.props.onSelect&&this.props.onSelect({})}},{key:"onDropdownClick",value:function(){this.setState({isOptionsVisible:!this.state.isOptionsVisible})}},{key:"onOptionClick",value:function(a){this.setState({selectedOption:a.label}),this.props.onSelect&&this.props.onSelect(a),this.collapse()}},{key:"collapse",value:function(){this.setState({isOptionsVisible:!1})}},{key:"render",value:function(){var a=this,b=this.props,d=this.state,e=b.width+"px",f=b.options&&Array.isArray(b.options)?b.options:[];return(0,c.h)("div",{className:i["default"].dropDownmenu,style:{width:e},tabIndex:0,onBlur:this.collapse},(0,c.h)("div",{className:i["default"].selectedOptionContainer,onClick:this.onDropdownClick},(0,c.h)("div",{className:[i["default"].selectedOption,d.isOptionsVisible?i["default"].focus:null].join(" ")},d.selectedOption?d.selectedOption:b.name),!d.selectedOption&&(0,c.h)("span",{className:i["default"].arrow},(0,c.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 8 14"},(0,c.h)("path",{fill:"none","fill-rule":"evenodd",stroke:"#999","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.714",d:"M1 1l6 5.714L1 13"}))),d.selectedOption&&(0,c.h)("span",{className:i["default"].arrow,onClick:this.removeOption},(0,c.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 14 14"},(0,c.h)("path",{fill:"#999","fill-rule":"evenodd",d:"M6.657 5.243L1.707.293A1 1 0 0 0 .293 1.707l4.95 4.95-4.95 4.95a1 1 0 0 0 1.414 1.414l4.95-4.95 4.95 4.95a1 1 0 1 0 1.414-1.414l-4.95-4.95 4.95-4.95A1 1 0 1 0 11.607.293l-4.95 4.95z"})))),(0,c.h)("ul",{className:i["default"].optionsContainer,style:d.isOptionsVisible?null:{display:"none"}},f.map(function(b,d){return(0,c.h)("li",{key:d,onClick:function(){return a.onOptionClick(b)}},b.label)})))}}]),b}(c.Component);b["default"]=k,a.exports=b["default"]})})},function(a,b,c){var d=c(123);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(6),c(4),c(94),c(87),c(70)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(6),c(4),c(94),c(87),c(70)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h,i){function j(a){return a&&a.__esModule?a:{"default":a}}function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function m(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function n(a){return{fullScreen:a.media.fullScreen}}Object.defineProperty(b,"__esModule",{value:!0});var o=j(f),p=j(h),q=j(i),r=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),s=function(a){function b(a){k(this,b);var d=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return d.render=function(){var a=d.props,b=a.primaryTracks,e=a.secondaryTracks,f=a.subtitleTrackSrc,g=a.fullScreen,h=a.edit,i=a.id,j=a.secondaryId,k=a.onRenderComplete,l=a.showControlsOnly,m=a.namespace,n=a.controlOptions,r=a.downloadSrc,s=a.popupSelector,t=d.state,u=t.controls,v=t.selectedTrack,w=t.showPlayButton,x=t.currentTime;u=l||u;var y=b[v].src;return l&&(y=r||void 0),(0,c.h)("div",{ref:function(a){return d.container=a},className:[o["default"].videoContainer,o["default"].posRel,g?o["default"].fullScreen:""].join(" "),onMouseOver:d.showControls,onMouseOut:d.hideControls},w&&!l&&(0,c.h)("div",{className:o["default"].play,onClick:d.togglePlayPause}),(0,c.h)("div",{id:s}),(0,c.h)(p["default"],{ref:function(a){return d.videoPlayer=a},src:b[v].src,secondarySrc:e&&e[0]&&e[0].src,subtitleTrackSrc:f,updateMediaAttributes:d.updateMediaAttributes,onVideoLoaded:d.onVideoLoadedHandler,onVideoEnded:d.onVideoEndedHandler,onVideoPlayed:d.onVideoPlayedHandler,onRenderComplete:k,hidemedia:l,currentTime:x,id:i,secondaryId:j}),(0,c.h)("div",{className:[o["default"].videoControls,u?o["default"].showControls:o["default"].hideControls].join(" ")},(0,c.h)(q["default"],{edit:h,targetPlayerId:i,videoTracks:b,downloadSrc:y,selectedTrack:v,onSelectTrack:d.onSelectTrack,onVideoPlayed:d.onVideoPlayedHandler,onSeekHandler:d.onSeekHandler,volumeUpdateHandler:d.volumeUpdateHandler,videoPauseAtTimeHandler:d.videoPauseAtTimeHandler,controlOptions:n,namespace:m,popupSelector:s,currentTime:x})))},d.showControls=d.showControls.bind(d),d.hideControls=d.hideControls.bind(d),d.onSelectTrack=d.onSelectTrack.bind(d),d.onSeekHandler=d.onSeekHandler.bind(d),d.volumeUpdateHandler=d.volumeUpdateHandler.bind(d),d.onVideoLoadedHandler=d.onVideoLoadedHandler.bind(d),d.onVideoEndedHandler=d.onVideoEndedHandler.bind(d),d.onVideoPlayedHandler=d.onVideoPlayedHandler.bind(d),d.videoPauseAtTimeHandler=d.videoPauseAtTimeHandler.bind(d),d.updateMediaAttributes=d.props.updateMediaAttributes.bind(d.props),d.togglePlayPause=d.togglePlayPause.bind(d),d.setTrack(),d}return m(b,a),r(b,[{key:"setTrack",value:function(){var a=0;this.props.primaryTracks.forEach(function(b,c){b.label.indexOf("360")>-1&&(a=c)}),this.setState({selectedTrack:a})}},{key:"togglePlayPause",value:function(){this.videoPlayer&&this.videoPlayer.togglePlayPause()}},{key:"showControls",value:function(){this.setState({controls:!0})}},{key:"hideControls",value:function(a){var b=a.toElement||a.relatedTarget;this.container.contains(b)||this.setState({controls:!1})}},{key:"onSelectTrack",value:function(a){var b=this,c=this.videoPlayer.getCurrentTime(),d=this.videoPlayer.isPaused();this.setState({selectedTrack:a}),setTimeout(function(){b.videoPlayer.seekToTime(c),d||(b.videoPlayer.play(),b.setState({showPlayButton:!1}))},500)}},{key:"onSeekHandler",value:function(a){this.videoPlayer.moveTo(a)}},{key:"volumeUpdateHandler",value:function(a){this.videoPlayer.updateVolume(a)}},{key:"onVideoLoadedHandler",value:function(){var a=this.videoPlayer.isPaused();this.setState({showPlayButton:a,controls:!1})}},{key:"onVideoEndedHandler",value:function(){this.setState({showPlayButton:!0,controls:!1})}},{key:"onVideoPlayedHandler",value:function(){this.setState({showPlayButton:!1,controls:!0})}},{key:"videoPauseAtTimeHandler",value:function(a){this.videoPlayer.pauseAtTime(a)}}]),b}(c.Component);b["default"]=(0,e.namespaceConnect)(n,d.actions)(s),a.exports=b["default"]})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(86),c(6),c(3),c(4),c(82),c(80),c(78),c(76),c(74),c(72),c(71),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(86),c(6),c(3),c(4),c(82),c(80),c(78),c(76),c(74),c(72),c(71),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h,i,j,k,l,m,n,o,p,q){function r(a){return a&&a.__esModule?a:{"default":a}}function s(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function t(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function u(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function v(a){return F({},a,{currentTime:a.media.currentTime,comments:a.commentPane.activeComments,mediaState:a.media.state,isCommentBoxActive:a.commentBox.show&&!a.commentBox.data.readOnly})}Object.defineProperty(b,"__esModule",{value:!0});var w=r(d),x=r(i),y=r(j),z=r(k),A=r(l),B=r(m),C=r(n),D=r(o),E=r(q),F=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},G=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),H={download:!0,fullScreen:!0,subtitles:!1},I=function(a){function b(a){s(this,b);var d=t(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return d.render=function(a,b){var e=a.targetPlayerId,g=a.currentTime,h=a.commentBox,i=a.commentHelperBox,j=a.comments,k=a.mediaState,l=a.edit,m=a.volume,n=void 0===m?.5:m,o=a.videoTracks,p=a.onSelectTrack,q=a.selectedTrack,r=a.onSeekHandler,s=a.volumeUpdateHandler,t=a.namespace,u=a.videoPauseAtTimeHandler,v=a.controlOptions,D=void 0===v?{}:v,E=a.downloadSrc,G=a.popupSelector,I=b.showTrackList;d.video=document.getElementById(e);var J=F({},H,D);(0,f.isIE)()&&(J.subtitles=!1),d.video&&(J.subtitles?d.applySubtitleState():d.disableSubtitles());var K="00:00",L=0;d.video&&(K=g&&0!==g?(0,f.toHHMMSS)(g)+" / "+(0,f.toHHMMSS)(d.video.duration):"00:00",L=g/d.video.duration*100),L=L?L-.01:0;var M=void 0;switch(k){case"PLAY":M=w["default"].pause;break;case"PAUSE":M=w["default"].play}var N=j.map(function(a){return a.author.id}),O=(0,f.getColorMap)(N),P={height:(0,f.isIE)()?"60px":"55px"},Q=d.state.subtitlesOn;return(0,c.h)("div",{className:[w["default"].videoControls].join(" "),onMouseOut:d.onMouseOutHandler,ref:function(a){return d.container=a},style:P},(0,c.h)(z["default"],{onMouseMove:d.showCommentHelperBox,seekTime:L,onSeekHandler:r}),(0,c.h)("div",{className:w["default"].controlsButtonContainer},(0,c.h)("div",{className:w["default"].playPauseButton},(0,c.h)("button",{style:"border:none",type:"button",className:[w["default"].floatL,M].join(" "),onClick:d.togglePlayPause})),(0,c.h)(A["default"],{volumeUpdateHandler:s,volume:n}),(0,c.h)("div",{className:[w["default"].floatL,w["default"].color99,w["default"].F12,w["default"].lineHeight20].join(" "),style:"width:120px;margin-top: 1px;"},K),(0,c.h)("div",{className:w["default"].floatR},J.subtitles&&(0,c.h)("div",{className:w["default"].controlButton},(0,c.h)("div",null,(0,c.h)("button",{style:"border:none",type:"button",className:w["default"].subtitles,onClick:d.toggleSubtitles})),(0,c.h)("div",{className:[Q?w["default"].subtitlesUnderline:null].join(" ")})),o&&o.length>1&&(0,c.h)("div",{className:w["default"].controlButton,onMouseEnter:d.showTrackListHandler,onMouseLeave:d.hideTrackListHandler},(0,c.h)("button",{style:"border:none",type:"button",className:w["default"].hd}),I&&(0,c.h)(C["default"],{tracks:o,onSelect:p,selectedTrack:q})),J.download&&E&&(0,c.h)("div",{className:w["default"].controlButton},(0,c.h)("a",{target:"_blank",style:"border:none",type:"button",href:E,download:E,className:w["default"].download})),J.fullScreen&&(0,c.h)("div",{className:w["default"].controlButton},(0,c.h)("button",{style:"border:none",type:"button",className:w["default"].fullScreen,onClick:d.toggleFullscreen}))),(0,c.h)("div",{className:w["default"].clear})),h.show?(0,c.h)(x["default"],{edit:l,namespace:t,popupSelector:G}):null,i.show&&l?(0,c.h)(y["default"],{targetPlayerId:e,namespace:t,onClickHandler:u}):null,(0,c.h)(B["default"],{comments:j,onMouseIn:d.commentBarDotOnMouseInHandler,onMouseOut:d.commentBarDotOnMouseOutHandler,targetPlayerId:e,colorMap:O}))},d.showCommentHelperBox=d.showCommentHelperBox.bind(d),d.togglePlayPause=d.togglePlayPause.bind(d),d.toggleFullscreen=d.toggleFullscreen.bind(d),d.onMouseOutHandler=d.onMouseOutHandler.bind(d),d.commentBarDotOnMouseInHandler=d.commentBarDotOnMouseInHandler.bind(d),d.commentBarDotOnMouseOutHandler=d.commentBarDotOnMouseOutHandler.bind(d),d.showTrackListHandler=d.showTrackListHandler.bind(d),d.hideTrackListHandler=d.hideTrackListHandler.bind(d),d.fullWindowOnEscKey=d.fullWindowOnEscKey.bind(d),d.toggleSubtitles=d.toggleSubtitles.bind(d),d.disableSubtitles=d.disableSubtitles.bind(d),d.applySubtitleState=d.applySubtitleState.bind(d),
d.showTrackList,d.setState({showTrackList:!1,subtitlesOn:!0}),d}return u(b,a),G(b,[{key:"showTrackListHandler",value:function(){this.setState({showTrackList:!0})}},{key:"hideTrackListHandler",value:function(){this.setState({showTrackList:!1})}},{key:"togglePlayPause",value:function(){this.props.onVideoPlayed(),this.video.paused?(this.props.updateMediaAttributes({state:"PLAY"}),this.video.play()):(this.props.updateMediaAttributes({state:"PAUSE"}),this.video.pause())}},{key:"exitHandler",value:function(a){if(a){a.stopImmediatePropagation(),this.fullWindow?(this.fullWindow=!1,this.props.updateMediaAttributes({fullScreen:!1})):(this.fullWindow=!0,this.props.updateMediaAttributes({fullScreen:!0})),this.props.hideCommentBox();var b=(0,f.getPrefixes)(),c=this,d=this.container&&this.container.parentNode.parentNode;b.forEach(function(a){d&&d.removeEventListener(a+"fullscreenchange",c.exitHandler.bind(c)),document.removeEventListener(a+"fullscreenchange",c.exitHandler.bind(c))})}}},{key:"enterFullWindow",value:function(){this.fullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,document.addEventListener("keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow="hidden",(0,f.addClass)(document.body,"ra-full-window"),this.props.updateMediaAttributes({fullScreen:!0}),this.originalWidth=this.rootElem.style.width,this.originalHeight=this.rootElem.style.height,this.rootElem.style.width=document.body.clientWidth,this.rootElem.style.height=document.body.clientHeight}},{key:"fullWindowOnEscKey",value:function(a){27===a.keyCode&&this.exitFullWindow()}},{key:"exitFullWindow",value:function(){this.fullWindow=!1,document.removeEventListener("keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,(0,f.removeClass)(document.body,"ra-full-window"),this.props.updateMediaAttributes({fullScreen:!1}),this.rootElem.style.width=this.originalWidth,this.rootElem.style.height=this.originalHeight}},{key:"toggleFullscreen",value:function(){var a=D["default"];this.props.hideCommentBox();var b=(0,f.getPrefixes)(),c=this.container.parentNode.parentNode,d=this;return a.requestFullscreen&&window.top===window.self?void((0,f.runPrefixMethod)(document,"FullScreen")||(0,f.runPrefixMethod)(document,"IsFullScreen")?((0,f.runPrefixMethod)(document,"CancelFullScreen"),d.exitHandler()):((0,f.runPrefixMethod)(c,"RequestFullScreen")||(0,f.runPrefixMethod)(c,"RequestFullscreen"),void 0===this.fullWindow&&(this.fullWindow=!0,this.props.updateMediaAttributes({fullScreen:!0})),setTimeout(function(){b.forEach(function(a){c.addEventListener(a+"fullscreenchange",d.exitHandler.bind(d),!1),document.addEventListener(a+"fullscreenchange",d.exitHandler.bind(d),!1)})},700))):void(this.fullWindow?this.exitFullWindow():this.enterFullWindow())}},{key:"isCommentBarDotWithin",value:function(a){var b=!1;return this.props.comments.forEach(function(c){parseInt(c.time)===parseInt(a)&&(b=!0)}),b}},{key:"showCommentHelperBox",value:function(a){if(!this.props.isCommentBoxActive){var b=this.video,c=(0,f.getElementOffset)(a.target),d=a.pageX-c.left,e=100*d/a.target.clientWidth;e>100&&(e=100),e<0&&(e=0),d<0&&(d=0);var g=e/100*b.duration,h=d+200,i=a.target.clientWidth,j=void 0;j=8,this.isCommentBarDotWithin(g)||(d-=10,h>i&&(d=a.target.clientWidth-200,j=h-i),j=j<8?8:j,j=j>183?183:j,this.props.showCommentHelperBox({xPos:d,time:g,downArrowXPos:j}),this.props.hideCommentBox())}}},{key:"commentBarDotOnMouseInHandler",value:function(a,b){if(!this.props.isCommentBoxActive){var c=window.getComputedStyle(a.target,null),d=parseInt(c.getPropertyValue("left")),e=a.target.parentElement,f=e.clientWidth,g=d+300,h=f,i=void 0,j=d;i=8,j-=16,g>h&&(j=f-300,i=d-j-8),i=i<8?8:i,i=i>274?274:i,this.props.hideCommentHelperBox(),this.props.showCommentBox(F({xPos:j},b,{readOnly:!0,downArrowXPos:i}))}}},{key:"toggleSubtitles",value:function(){var a=this.state.subtitlesOn;(0,p.track)(E["default"].SUBTITLE_BUTTON_CLICKED,{prev_state:a?"On":"Off",next_state:a?"Off":"On"}),this.setState({subtitlesOn:!a}),this.applySubtitleState()}},{key:"disableSubtitles",value:function(){this.video.textTracks[0].mode="disabled"}},{key:"applySubtitleState",value:function(){var a=this.video.textTracks[0];this.state.subtitlesOn?a.mode="showing":a.mode="hidden"}},{key:"commentBarDotOnMouseOutHandler",value:function(a){if(!this.props.isCommentBoxActive){var b=a.toElement||a.relatedTarget;this.container.contains(b)||this.props.hideCommentBox()}}},{key:"onMouseOutHandler",value:function(a){if(!this.props.isCommentBoxActive){var b=a.toElement||a.relatedTarget;this.container.contains(b)||(this.props.hideCommentHelperBox(),this.props.hideCommentBox())}}},{key:"componentDidMount",value:function(){this.rootElem=this.container.parentNode.parentNode.parentNode}}]),b}(c.Component);b["default"]=(0,h.namespaceConnect)(v,e.actions)(I),a.exports=b["default"]})})},function(a,b,c){var d,e,f,d,e,f;!function(c,g){e=[a,b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";!function(c,g){e=[a,b],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){Object.defineProperty(b,"__esModule",{value:!0});for(var c={},d=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e=d[0],f=void 0,g=0;g<d.length;g++)if(d[g][1]in document){f=d[g];break}if(f)for(var h=0;h<f.length;h++)c[e[h]]=f[h];b["default"]=c,a.exports=b["default"]})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(73)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(73)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d){function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(a){return a&&a.__esModule?a:{"default":a}}(d),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.onClickHandler=c.onClickHandler.bind(c),c}return h(b,a),j(b,[{key:"onClickHandler",value:function(a){this.props.onSelect(a)}},{key:"render",value:function(a){var b=this,d=a.tracks,e=a.selectedTrack;return(0,c.h)("ul",{className:i["default"].trackContainer},d.map(function(a,d){var f="";return e===d&&(f=i["default"].active),(0,c.h)("li",{className:[i["default"].eachTrack,f].join(" "),key:d,onClick:b.onClickHandler.bind(b,d)},a.label)}))}}]),b}(c.Component);b["default"]=k,a.exports=b["default"]})})},function(a,b,c){var d=c(124);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(75)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(75)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d){function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(a){return a&&a.__esModule?a:{"default":a}}(d),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a))}return h(b,a),j(b,[{key:"render",value:function(a){var b=a.comments,d=a.onMouseIn,e=a.onMouseOut,f=a.targetPlayerId,g=a.colorMap,h=document.getElementById(f);return h?(0,c.h)("div",{className:i["default"].container},b.map(function(a,b){var f=100*a.time/h.duration,j={left:f+"%",background:g[a.author.id]};return(0,c.h)("div",{className:i["default"].commentBarDot,style:j,text:a.text,key:b,onMouseOver:function(b){return d(b,a)},onMouseOut:e})})):null}}]),b}(c.Component);b["default"]=k,a.exports=b["default"]})})},function(a,b,c){var d=c(125);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(77),c(3)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(77),c(3)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e){function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var j=function(a){return a&&a.__esModule?a:{"default":a}}(d),k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=function(a){function b(a){f(this,b);var c=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.setVideoVolume=c.setVideoVolume.bind(c),c.mute=c.mute.bind(c);var d={volume:a.volume};return c.setState(d),c}return i(b,a),k(b,[{key:"mute",value:function(){var a=0;this.state.volume||(a=.5),this.setState({volume:a}),this.props.volumeUpdateHandler(a)}},{key:"setVideoVolume",value:function(){var a=this.volumeBar.value;this.setState({volume:a}),this.props.volumeUpdateHandler(a)}},{key:"attachEvent",value:function(){this.volumeBar.addEventListener("change",this.setVideoVolume.bind(this)),this.volumeBar.addEventListener("input",this.setVideoVolume.bind(this))}},{key:"componentDidMount",value:function(){this.attachEvent()}},{key:"render",value:function(){var a=this,b=this.state.volume,d=j["default"].volume;b||(d=j["default"].mute);var f={height:(0,e.isIE)()?"auto":"4px",top:(0,e.isIE)()?"-4px":"8px",background:(0,e.isIE)()?"transparent":"#fff"};return(0,c.h)("div",{className:j["default"].soundContainer},(0,c.h)("button",{style:"border:none",type:"button",className:[j["default"].floatL,d,j["default"].marginR12].join(" "),onClick:this.mute}),(0,c.h)("div",{className:j["default"].volumeBarParent},(0,c.h)("input",{type:"range",className:[j["default"].volumeBar,j["default"].rangeBar].join(" "),ref:function(b){return a.volumeBar=b},min:"0",max:"1",step:"0.1",value:b,style:f})))}}]),b}(c.Component);b["default"]=l,a.exports=b["default"]})})},function(a,b,c){var d=c(126);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(79),c(3)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(79),c(3)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e){function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var j=function(a){return a&&a.__esModule?a:{"default":a}}(d),k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=function(a){function b(a){f(this,b);var c=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.setVideoTime=c.setVideoTime.bind(c),c}return i(b,a),k(b,[{key:"setVideoTime",value:function(){this.seekBar&&this.props.onSeekHandler(parseInt(this.seekBar.value)/100)}},{key:"attachEvent",value:function(){this.seekBar.addEventListener("input",this.setVideoTime.bind(this)),this.seekBar.addEventListener("change",this.setVideoTime.bind(this))}},{key:"componentDidMount",value:function(){this.attachEvent()}},{key:"render",value:function(a){var b=this,d=a.seekTime,f=a.onMouseMove,g=(0,e.isIE)()?15:4,h={backgroundImage:(0,e.isIE)()?null:"-webkit-gradient(linear, left top, right top, color-stop("+d/100+", #ff8a16), color-stop("+d/100+", #ffffff))",height:(0,e.isIE)()?"auto":"100%"},i={height:g+"px"};return(0,c.h)("div",{style:i,className:j["default"].container},(0,c.h)("input",{type:"range",ref:function(a){return b.seekBar=a},value:d,min:"0",max:"100",step:"0.01",className:[j["default"].marginR12,j["default"].marginT14,j["default"].rangeBar].join(" "),onMouseMove:f,style:h}))}}]),b}(c.Component);b["default"]=l,a.exports=b["default"]})})},function(a,b,c){var d=c(129);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(81),c(6),c(3),c(4),c(12),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(81),c(6),c(3),c(4),c(12),c(5),c(8)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h,i,j,k){function l(a){return a&&a.__esModule?a:{"default":a}}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function n(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function o(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function p(a){return{fullScreen:a.media.fullScreen,xPos:a.commentHelperBox.data.xPos,time:a.commentHelperBox.data.time,downArrowXPos:a.commentHelperBox.data.downArrowXPos}}Object.defineProperty(b,"__esModule",{value:!0});var q=l(d),r=l(i),s=l(k),t=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),u=function(a){function b(){m(this,b);var a=n(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.commentHelperBoxClickHandler=a.commentHelperBoxClickHandler.bind(a),a.emojiOnSelectHandler=a.emojiOnSelectHandler.bind(a),a}return o(b,a),t(b,[{key:"commentHelperBoxClickHandler",value:function(){var a=document.getElementById(this.props.targetPlayerId).parentNode,b=this.props,c=b.xPos,d=b.time,e=b.downArrowXPos,f=a.clientWidth-20,g=c,h=g+300,i=f,k=8;g-=4,h>i&&(g=f-300,k=c+e-g-6),k=k<8?8:k,k=k>274?274:k,this.props.hideCommentBox(),this.props.showCommentBox({xPos:g,time:d,downArrowXPos:k}),this.props.hideCommentHelperBox(),"function"==typeof this.props.onClickHandler&&this.props.onClickHandler(d),(0,j.track)(s["default"].ADD_COMMENT)}},{key:"emojiOnSelectHandler",value:function(a){this.props.postComment({time:this.props.time,text:a})}},{key:"render",value:function(a){var b=this,d=a.xPos,e=a.time,g=a.downArrowXPos,h=a.fullScreen,i={left:d},j=e?(0,f.toHHMMSS)(e):"00:00",k=void 0;return g&&(k={left:g+"px"}),h&&(i.position="fixed !important"),(0,c.h)("div",{style:i,className:q["default"].chBox},(0,c.h)("div",{className:q["default"].downArrow,style:k}),(0,c.h)("div",{className:q["default"].chBoxContent},(0,c.h)("div",{className:q["default"].chBoxContentInfo,onClick:this.commentHelperBoxClickHandler},(0,c.h)("span",{className:q["default"].plusIcon},"+")," Add Comments @",j),(0,c.h)("div",{className:q["default"].chBoxControls},(0,c.h)(r["default"],{onSelect:this.emojiOnSelectHandler,onClick:function(){var a=b.props,c=a.time;(0,a.onClickHandler)(c)}})),(0,c.h)("div",{className:q["default"].clear})))}}]),b}(c.Component);b["default"]=(0,h.namespaceConnect)(p,e.actions)(u),a.exports=b["default"]})})},function(a,b,c){var d=c(130);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(85),c(6),c(3),c(4),c(23),c(7),c(12),c(83)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(85),c(6),c(3),c(4),c(23),c(7),c(12),c(83)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h,i,j,k,l){function m(a){return a&&a.__esModule?a:{"default":a}}function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function o(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function p(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function q(a){return{xPos:a.commentBox.data.xPos,time:a.commentBox.data.time,author:a.commentBox.data.author,commentText:a.commentBox.data.text,readOnly:a.commentBox.data.readOnly,id:a.commentBox.data.id,downArrowXPos:a.commentBox.data.downArrowXPos,showError:a.commentBox.error,fullScreen:a.media.fullScreen}}Object.defineProperty(b,"__esModule",{value:!0});var r=m(d),s=m(k),t=m(l),u=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},v=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),w=function(a){function b(){n(this,b);var a=o(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));a.textAreaChangeHandler=a.textAreaChangeHandler.bind(a),a.editClickHandler=a.editClickHandler.bind(a),a.deleteClickHandler=a.deleteClickHandler.bind(a),a.closeSelf=a.closeSelf.bind(a),a.emojiOnSelectHandler=a.emojiOnSelectHandler.bind(a),a.postCommentHandler=a.postCommentHandler.bind(a);var c={disableSaveButton:!0,isSubmitting:!1};return a.setState(c),a}return p(b,a),v(b,[{key:"emojiOnSelectHandler",value:function(a){if(this.commentTextArea.value.length<j.MAX_CHAR_LIMIT_COMMENT){(0,f.insertAtCursor)(this.commentTextArea,a);var b=this.commentTextArea.value;this.props.showCommentBox({text:b}),this.commentTextArea.focus(),this.setState({disableSaveButton:!1})}}},{key:"textAreaChangeHandler",value:function(a){var b=a.target.value;b=b&&b.trim(),this.setState({disableSaveButton:!b}),this.props.showCommentBox({text:a.target.value})}},{key:"closeSelf",value:function(){this.props.hideCommentBox()}},{key:"editClickHandler",value:function(){this.props.showCommentBox({readOnly:!1}),this.setState({disableSaveButton:!1}),this.commentTextArea.addEventListener("keydown",this.autosize.bind(this)),this.commentTextArea.focus()}},{key:"componentDidMount",value:function(){this.autosize(),this.props.readOnly||(this.commentTextArea.addEventListener("keydown",this.autosize.bind(this)),this.commentTextArea.focus())}},{key:"deleteClickHandler",value:function(a){var b=this;a.stopPropagation();var c=this.props;(0,i.ConfirmAlert)({title:j.STRING_DELETE_COMMENT,message:j.STRING_DELETED_COMMENT_CANT_BE_RESTORED,confirmLabel:j.STRING_DELETE,cancelLabel:j.STRING_CANCEL,popupSelector:this.props.popupSelector,onConfirm:function(){b.props.deleteComment({commentObj:c,isCommentBox:!0}),b.props.hideCommentBox()},onCancel:function(){}})}},{key:"postCommentHandler",value:function(){if(!this.state.disableSaveButton){var a=this.commentTextArea.value&&this.commentTextArea.value.trim();if(a){if(this.setState({disableSaveButton:!0}),this.setState({isSubmitting:!0}),this.props.id)return void this.props.editComment({commentObj:{id:this.props.id,text:a,time:this.props.time},isCommentBox:!0});this.props.postComment({text:a,time:this.props.time})}}}},{key:"componentWillReceiveProps",value:function(a){var b=this;a.showError&&(clearTimeout(this.timer),this.setState({disableSaveButton:!1,isSubmitting:!1}),this.timer=setTimeout(function(){b.props.hideCommentBoxError()},3e3))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.commentTextArea.removeEventListener("keydown",this.autosize)}},{key:"autosize",value:function(){var a=this.commentTextArea;a&&setTimeout(function(){a.style.cssText="height:auto; padding:0",a.style.cssText="height:"+a.scrollHeight+"px"},0)}},{key:"commentDidUpdate",value:function(){this.autosize()}},{key:"shouldComponentUpdate",value:function(a,b){var c=this.props,d=c.xPos,e=c.time,f=c.commentText,g=c.readOnly,h=c.downArrowXPos,i=c.edit,j=c.showError,k=c.author,l=c.fullScreen,m=this.state,n=m.isSubmitting,o=m.disableSaveButton;return d!==a.xPos||e!==a.time||f!==a.commentText||g!==a.readOnly||h!==a.downArrowXPos||i!==a.edit||j!==a.showError||k!==a.author||l!==a.fullScreen||n!==b.isSubmitting||o!==b.disableSaveButton}},{key:"render",value:function(a,b){var d=this,e=a.xPos,g=a.time,h=a.commentText,i=a.readOnly,k=a.downArrowXPos,l=a.edit,m=a.showError,n=a.author,o=a.fullScreen,p=b.disableSaveButton,q=b.isSubmitting,v={left:e},w=(0,f.toHHMMSS)(g),x=void 0,y=void 0,z={};i&&(z.readOnly="readOnly"),k&&(x={left:k+"px"});var A=(0,f.getColorMap)();return n&&n.id&&A[n.id]&&(y={backgroundColor:A[n.id]}),o&&(v.position="fixed !important"),(0,c.h)("div",{style:v,className:r["default"].acBox},(0,c.h)("div",{className:r["default"].downArrow,style:x}),(0,c.h)("div",{className:r["default"].acBoxContent},(0,c.h)("div",{className:r["default"].acBoxContentInfo},(0,c.h)("span",{className:r["default"].time,style:y},w)),l&&this.props.id&&p&&(0,c.h)("div",{className:r["default"].acControlTopRight},(0,c.h)("span",{onClick:this.editClickHandler,title:"edit",className:r["default"].edit}),(0,c.h)("span",{onClick:this.deleteClickHandler,title:"delete",className:r["default"]["delete"]})),(0,c.h)("textarea",u({className:r["default"].acBoxText,onChange:this.textAreaChangeHandler,onKeyUp:this.textAreaChangeHandler,maxlength:j.MAX_CHAR_LIMIT_COMMENT},z,{rows:"1",ref:function(a){d.commentTextArea=a},value:(0,f.parseText)(h)})),(0,c.h)("div",{className:r["default"].acBoxControls+" "+(i?r["default"].hide:r["default"].show)},(0,c.h)(s["default"],{toLeft:"true",onSelect:this.emojiOnSelectHandler}),!q&&(0,c.h)("span",{title:"save",className:[r["default"].acActionButton,r["default"].save,p?r["default"].disable:""].join(" "),onClick:this.postCommentHandler}),q&&(0,c.h)(t["default"],null),(0,c.h)("span",{title:"discard",className:[r["default"].acActionButton,r["default"].cancel].join(" "),onClick:this.closeSelf})),m&&(0,c.h)("div",{className:[r["default"].error,r["default"].floatR].join(" ")},"Something went wrong.Please try again..")))}}]),b}(c.Component);b["default"]=(0,h.namespaceConnect)(q,e.actions)(w),a.exports=b["default"]})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(84)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";!function(g,h){e=[a,b,c(0),c(84)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d){Object.defineProperty(b,"__esModule",{value:!0});var e=function(a){return a&&a.__esModule?a:{"default":a}}(d),f=function(){return(0,c.h)("div",{"class":e["default"].ldsRing},(0,c.h)("div",null),(0,c.h)("div",null),(0,c.h)("div",null),(0,c.h)("div",null))};b["default"]=f,a.exports=b["default"]})})},function(a,b,c){var d=c(131);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d=c(132);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d=c(133);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(92),c(90),c(88),c(20)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(92),c(90),c(88),c(20)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,h){function i(a){return a&&a.__esModule?a:{"default":a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var m=i(d),n=i(e),o=i(f),p=i(h),q=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),r=function(a){function b(a){j(this,b);var c=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.id=c.props.id,c.togglePlayPause=c.togglePlayPause.bind(c),c.onVideoLoadedHandler=c.onVideoLoadedHandler.bind(c),c.onVideoEndedHandler=c.onVideoEndedHandler.bind(c),c}return l(b,a),q(b,[{key:"pause",value:function(){this.video.pause(),this.videoInset&&this.videoInset.pause()}},{key:"play",value:function(){this.video.play(),this.videoInset&&this.videoInset.play()}},{key:"getCurrentTime",value:function(){return this.video.getCurrentTime()}},{key:"unbind",value:function(){this.video.unbind(),this.videoInset&&this.videoInset.unbind()}},{key:"pauseAtTime",value:function(a){this.video.moveToTime(a),this.video.pause(),this.videoInset&&(this.videoInset.moveToTime(a),this.videoInset.pause())}},{key:"togglePlayPause",value:function(){this.props.onVideoPlayed(),this.video.isPaused()?(this.video.play(),this.videoInset&&this.videoInset.play()):(this.video.pause(),this.videoInset&&this.videoInset.pause())}},{key:"moveTo",value:function(a){var b=this.video.getDuration()*a;this.video.moveToTime(b),this.videoInset&&this.videoInset.moveToTime(b)}},{key:"seekToTime",value:function(a){this.video.moveToTime(a),this.videoInset&&this.videoInset.moveToTime(a)}},{key:"updateVolume",value:function(a){this.video.setVolume(a)}},{key:"onVideoLoadedHandler",value:function(){this.props.onVideoLoaded(),this.props.hidemedia}},{key:"isPaused",value:function(){return this.video.isPaused()}},{key:"componentDidMount",value:function(){p["default"].push(this)}},{key:"onVideoEndedHandler",value:function(){this.props.onVideoLoaded(),this.props.hidemedia}},{key:"render",value:function(a){var b=this,d=a.id,e=a.secondaryId,f=a.src,g=a.secondarySrc,h=a.subtitleTrackSrc,i=a.updateMediaAttributes,j=a.onRenderComplete,k=a.hidemedia,l=a.currentTime;return(0,c.h)("div",{onClick:this.togglePlayPause,className:m["default"].playerContainer},(0,c.h)(o["default"],{src:f,subtitleTrackSrc:h,updateMediaAttributes:i,ref:function(a){return b.video=a},currentTime:l,id:d,hidemedia:k,disableToggle:"true",onVideoLoaded:this.onVideoLoadedHandler,
onVideoEnded:this.onVideoEndedHandler,onRenderComplete:j}),g&&(0,c.h)(n["default"],null,(0,c.h)("div",{style:"width:140px"},(0,c.h)(o["default"],{ref:function(a){return b.videoInset=a},src:g,currentTime:l,id:e,disableToggle:"true",mute:"true",heightAuto:"true"}))))}}]),b}(c.Component);b["default"]=r,a.exports=b["default"]})})},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(89)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(89)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d){function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(a){return a&&a.__esModule?a:{"default":a}}(d),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function(){this.video&&"function"==typeof this.props.updateMediaAttributes&&this.props.updateMediaAttributes({currentTime:this.video.currentTime})},l=function(){this.video&&this.showLoading()},m=function(){this.video&&(this.video.currentTime=0,this.video.pause(),"function"==typeof this.props.onVideoEnded&&this.props.onVideoEnded(),"function"==typeof this.props.updateMediaAttributes&&this.props.updateMediaAttributes({state:"PAUSE",currentTime:0}))},n=function(){this.video&&(this.hideLoading(),"function"==typeof this.props.updateMediaAttributes&&this.props.updateMediaAttributes({currentTime:this.video.currentTime}))},o=function(){this.video&&(this.hideLoading(),"function"==typeof this.props.onVideoLoaded&&this.props.onVideoLoaded())},p=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.togglePlayPause=c.togglePlayPause.bind(c),c.showLoading=c.showLoading.bind(c),c.hideLoading=c.hideLoading.bind(c),c.play=c.play.bind(c),c.pause=c.pause.bind(c),c.showLoading(),c}return h(b,a),j(b,[{key:"togglePlayPause",value:function(){this.props.disableToggle||(this.video.paused?(this.video.play(),this.props.updateMediaAttributes({currentTime:this.video.currentTime,state:"PLAY"})):(this.video.pause(),this.props.updateMediaAttributes({state:"PAUSE"})))}},{key:"isPaused",value:function(){return this.video.paused}},{key:"moveToTime",value:function(a){this.video.currentTime=a}},{key:"getDuration",value:function(){return this.video.duration}},{key:"getCurrentTime",value:function(){return this.video.currentTime}},{key:"setVolume",value:function(a){this.video.volume=a}},{key:"getVolume",value:function(){return this.video.volume}},{key:"play",value:function(){this.video.play(),"function"==typeof this.props.updateMediaAttributes&&this.props.updateMediaAttributes({state:"PLAY"})}},{key:"pause",value:function(){this.video.pause(),"function"==typeof this.props.updateMediaAttributes&&this.props.updateMediaAttributes({state:"PAUSE"})}},{key:"unbind",value:function(){this.video.removeEventListener("timeupdate",k.bind(this)),this.video.removeEventListener("loadstart",l.bind(this)),this.video.removeEventListener("ended",m.bind(this)),this.video.removeEventListener("canplay",n.bind(this)),this.video.removeEventListener("loadeddata",o.bind(this))}},{key:"attachEvents",value:function(){this.video.addEventListener("timeupdate",k.bind(this)),this.video.addEventListener("loadstart",l.bind(this)),this.video.addEventListener("ended",m.bind(this)),this.video.addEventListener("loadeddata",o.bind(this)),this.video.addEventListener("canplay",n.bind(this))}},{key:"showLoading",value:function(){this.setState({loading:!0})}},{key:"hideLoading",value:function(){this.setState({loading:!1})}},{key:"componentDidMount",value:function(){this.attachEvents(),this.video.volume=.5,this.props.mute&&(this.video.volume=0),"function"==typeof this.props.onRenderComplete&&this.props.onRenderComplete()}},{key:"shouldComponentUpdate",value:function(a,b){return a.currentTime!==this.props.currentTime||a.src!==this.props.src||b.loading!==this.state.loading}},{key:"render",value:function(a,b){var d=this,e=a.id,f=a.src,g=a.subtitleTrackSrc,h=a.hidemedia,j=a.heightAuto,k=b.loading,l=void 0;return h&&(l=i["default"].hide),(0,c.h)("div",{style:"width:100%;height:100%"},k&&(0,c.h)("div",{className:i["default"].loading}),(0,c.h)("video",{id:e,ref:function(a){return d.video=a},seek:"1",style:j?"height:auto":null,className:[i["default"].media,l].join(" "),control:"false",preload:"auto",src:f,onWaiting:this.showLoading,onPlaying:this.hideLoading,onClick:this.togglePlayPause,crossorigin:"anonymous"},(0,c.h)("track",{src:g,label:"Subtitles",kind:"captions",srclang:"en","default":!0})))}}]),b}(c.Component);b["default"]=p,a.exports=b["default"]})})},function(a,b,c){var d=c(140);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(91)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g,h){e=[a,b,c(0),c(91)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d){function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(a){return a&&a.__esModule?a:{"default":a}}(d),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.dragStart=c.dragStart.bind(c),c.dragOver=c.dragOver.bind(c),c.drop=c.drop.bind(c),c}return h(b,a),j(b,[{key:"componentDidMount",value:function(){this.attachEvents()}},{key:"componentWillUnmount",value:function(){this.dragElem.removeEventListener("dragstart",this.dragStart),document.body.removeEventListener("dragover",this.dragOver),document.body.removeEventListener("dragenter",this.dragEnter),document.body.removeEventListener("drop",this.drop)}},{key:"attachEvents",value:function(){this.dragElem.addEventListener("dragstart",this.dragStart,!1),document.body.addEventListener("dragover",this.dragOver,!1),document.body.addEventListener("dragenter",this.dragEnter,!1),document.body.addEventListener("drop",this.drop,!1)}},{key:"dragStart",value:function(a){var b=window.getComputedStyle(a.target,null);a.dataTransfer.setData("text",parseInt(b.getPropertyValue("left"),10)-a.clientX+","+(parseInt(b.getPropertyValue("top"),10)-a.clientY))}},{key:"dragEnter",value:function(a){a.preventDefault()}},{key:"dragOver",value:function(a){return a.preventDefault(),a.stopPropagation(),!1}},{key:"drop",value:function(a){var b=a.dataTransfer.getData("text").split(",");return this.dragElem.style.left=a.clientX+parseInt(b[0],10)+"px",this.dragElem.style.top=a.clientY+parseInt(b[1],10)+"px",a.preventDefault(),!1}},{key:"render",value:function(){var a=this;return(0,c.h)("div",{draggable:"true",ref:function(b){return a.dragElem=b},className:i["default"].drag},this.props.children)}}]),b}(c.Component);b["default"]=k,a.exports=b["default"]})})},function(a,b,c){var d=c(142);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){var d=c(143);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},function(a,b){a.exports="data:image/png;base64,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"},function(a,b,c){var d=c(144);"string"==typeof d&&(d=[[a.i,d,""]]);var e={hmr:!0};e.transform=void 0,e.insertInto=void 0,c(2)(d,e),d.locals&&(a.exports=d.locals)},,,,,,function(a,b,c){var d,e,f,d,e,f;!function(g,h){e=[a,b,c(0),c(28),c(11),c(10),c(5),c(27),c(13)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b){"use strict";!function(g,h){e=[a,b,c(0),c(28),c(11),c(10),c(5),c(27),c(13)],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(a,b,c,d,e,f,g,h){function i(a){return a&&a.__esModule?a:{"default":a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var k=i(d),l=i(h),m=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},n=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();l["default"].polyfill();var o=0,p=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j(this,a),this.props=b}return n(a,[{key:"setup",value:function(){var a=this.props,b=a.targetVideoContainer,d=a.showControlsOnly,h=a.trackEvent,i=a.app;(0,g.setTrackingService)(h,i&&i.trackData);var j="ra_"+o++;this.id=this.props.id=this.props.id||"an-vid-"+j,this.props.secondaryId=this.id+"-secondary",d||(this.props.popupSelector=this.id+"-popup");var l=(0,e.getStore)(j,{app:this.props.app});this.root=(0,c.render)((0,c.h)(f.Provider,{store:l},(0,c.h)(k["default"],m({},this.props,{namespace:j}))),document.getElementById(b))}},{key:"destroy",value:function(){var a=this.props.targetVideoContainer;return(0,g.getPlayer)(this).unbind(),(0,g.removePlayer)(this),(0,c.render)("",document.getElementById(a),this.root),this}},{key:"pause",value:function(){var a=(0,g.getPlayer)(this);a&&a.pause()}}]),a}();b["default"]=p,a.exports=b["default"]})})},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,"body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}.t4UUd{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}._2OJNu{position:relative}._33gjz{display:none}.PLuWE{display:inline-block}._1UcRM{display:block}._28wdV{visibility:visible}.aBBwv{visibility:hidden}._1UJLj{text-align:center}._1vlC7{float:left}._1NmYp{float:right}._1hC2K{margin-right:7px}._3Yn16{margin-top:8px}._1fFPD{margin-top:9px}._2uLF2{margin-top:6px}.J23t2{margin-top:10px}._2YLO6{margin-bottom:5px}._49t6r{margin-bottom:10px}.LLUZU{margin-bottom:15px}.lJjtK{margin-bottom:20px}.P2tnQ{margin-bottom:25px}._38sn4{margin-right:12px}.QPXOW{margin-right:15px}.iRaWz{margin-right:20px}._3OunX{padding-top:5px}._2zE0C{clear:both}._1FH4a{margin-top:14px}._3myE8{line-height:30px}.dX1UQ{line-height:20px}._2J7fw{line-height:18px}._3g27B{font-size:12px}.EN1Ny{font-size:18px}._1aHq1{color:#666}.TAHzR{color:#ff8a16}.yoTt7{position:absolute;left:50%;top:20px;margin-left:-160px}._3mlvP{color:red;font-size:10px}",""]),b.locals={ellipsis:"t4UUd",pos_rel:"_2OJNu",hide:"_33gjz",display_IB:"PLuWE",show:"_1UcRM",visible:"_28wdV",invisible:"aBBwv",textalignC:"_1UJLj",floatL:"_1vlC7",floatR:"_1NmYp",marginR7:"_1hC2K",marginT8:"_3Yn16",marginT14:"_1FH4a",marginT9:"_1fFPD",marginT6:"_2uLF2",marginT10:"J23t2",marginB5:"_2YLO6",marginB10:"_49t6r",marginB15:"LLUZU",marginB20:"lJjtK",marginB25:"P2tnQ",marginR12:"_38sn4",marginR15:"QPXOW",marginR20:"iRaWz",paddingT5:"_3OunX",clear:"_2zE0C",lineHeight30:"_3myE8",lineHeight20:"dX1UQ",lineHeight18:"_2J7fw",F12:"_3g27B",F18:"EN1Ny",color66:"_1aHq1",orangeColor:"TAHzR",onBoardingContainer:"yoTt7",error:"_3mlvP"}},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,'._3Cvq3{width:320px;background-color:#fff;-webkit-box-shadow:0 0 8px 0 rgba(0,0,0,.14);box-shadow:0 0 8px 0 rgba(0,0,0,.14);position:relative}._3Cvq3 ._3mXaT{padding:20px;z-index:2;position:relative;background:#fff}._3Cvq3 ._3mXaT img{width:277px;height:116px;margin-bottom:10px}._3Cvq3 ._3mXaT ._1qOvn{height:26px;border-radius:16px;background-color:#0072bc;color:#f7f7f7;outline:none;cursor:pointer;padding-left:15px;padding-right:15px;font-size:13px;font-weight:400;border:0}._3Cvq3 ._3mXaT ._2_aZO{margin-bottom:10px;font-size:13px}._3Cvq3 ._14ai3{content:"\\A0";display:block;left:120px;position:absolute;top:-9px;-webkit-transform:rotate(45deg);transform:rotate(45deg);width:20px;height:20px;z-index:1;-webkit-box-shadow:0 0 8px 0 rgba(97,120,148,.26);box-shadow:0 0 8px 0 rgba(97,120,148,.26);background:#fff}',""]),b.locals={container:"_3Cvq3",content:"_3mXaT",button:"_1qOvn",text:"_2_aZO",downArrow:"_14ai3"}},function(a,b,c){var d=c(9);b=a.exports=c(1)(!1),b.push([a.i,"body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}._15lKo{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}._1rAz9{position:relative}._116kj{display:none}._3iqW5{display:inline-block}._17nND{display:block}.tLPow{visibility:visible}.hEm9b{visibility:hidden}._1VwFW{text-align:center}._1Vs0l{float:left}._1nOAS{float:right}._1-4n6{margin-right:7px}.pJpWO{margin-top:8px}._2TJMx{margin-top:9px}.BAY4r{margin-top:6px}._1HKn9{margin-top:10px}._3QwFh{margin-bottom:5px}._2xbgh{margin-bottom:10px}.Pvtne{margin-bottom:15px}._1F4z-{margin-bottom:20px}.KwAoz{margin-bottom:25px}._24d-r{margin-right:12px}._1OICn{margin-right:15px}._3Wg_d{margin-right:20px}.iEPi0{padding-top:5px}._1wGdu{clear:both}.w5MYJ{margin-top:14px}._5P-oI{line-height:30px}._3wVat{line-height:20px}.ZakiR{line-height:18px}._3D_80{font-size:12px}.OBUo9{font-size:18px}._2YfK2{color:#666}._12BZ7{color:#ff8a16}._1Pt7Q{position:absolute;left:50%;top:20px;margin-left:-160px}.UwFHQ{color:red;font-size:10px}._30twc{width:100%}._30twc ._31ikS{padding:30px 40px 0 20px;margin-bottom:15px}._2mco-{height:calc(100vh - 201px)}._3chOh{overflow-x:auto;height:calc(100vh - 288px)}._19KAz{overflow-x:auto;height:calc(100vh - 317px)}._28tJH{text-align:center;padding-top:120px;padding-bottom:20px}._28tJH ._3wpzX{height:57px;width:101px;background-image:url("+d(c(104))+")}._28tJH ._3wpzX,.guWw1{background-repeat:no-repeat}.guWw1{height:110px;width:216px;background-image:url("+d(c(105))+");margin:80px auto 34px}.sq-Hy{padding:0 80px}.f3pRU{font-size:18px;color:#666;margin-top:30px;margin-bottom:30px}",""]),b.locals={ellipsis:"_15lKo",pos_rel:"_1rAz9",hide:"_116kj",display_IB:"_3iqW5",show:"_17nND",visible:"tLPow",invisible:"hEm9b",textalignC:"_1VwFW",floatL:"_1Vs0l",floatR:"_1nOAS",marginR7:"_1-4n6",marginT8:"pJpWO",marginT14:"w5MYJ",marginT9:"_2TJMx",marginT6:"BAY4r",marginT10:"_1HKn9",marginB5:"_3QwFh",marginB10:"_2xbgh",marginB15:"Pvtne",marginB20:"_1F4z-",marginB25:"KwAoz",marginR12:"_24d-r",marginR15:"_1OICn",marginR20:"_3Wg_d",paddingT5:"iEPi0",clear:"_1wGdu",lineHeight30:"_5P-oI",lineHeight20:"_3wVat",lineHeight18:"ZakiR",F12:"_3D_80",F18:"OBUo9",color66:"_2YfK2",orangeColor:"_12BZ7",onBoardingContainer:"_1Pt7Q",error:"UwFHQ",rightContainor:"_30twc",transcriptionSearch:"_31ikS",heightCalcTranscription:"_2mco-",heightCalcComment:"_3chOh",heightCalcTagAdded:"_19KAz",transcriptionOnItsWay:"_28tJH",transcription_truck:"_3wpzX",transcriptionfailed:"guWw1",transcriptionFailedMessage:"sq-Hy",transcriptionProgressMessage:"f3pRU"}},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAxIiBoZWlnaHQ9IjU3IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0zNy40MjMgNDAuMDE5Yy00LjY2MiAwLTguNDMgMy44MDUtOC40MyA4LjQ5NyAwIDQuNjc4IDMuNzY4IDguNDg0IDguNDMgOC40ODRzOC40My0zLjgwNiA4LjQzLTguNDg0YzAtNC42OTItMy43NjgtOC40OTctOC40My04LjQ5N3ptMCAxMi43NGMtMi4zMyAwLTQuMjE0LTEuOTEtNC4yMTQtNC4yNDMgMC0yLjM0NiAxLjg4My00LjI0MiA0LjIxNC00LjI0MiAyLjMzMSAwIDQuMjE1IDEuODk2IDQuMjE1IDQuMjQyIDAgMi4zMzItMS44ODQgNC4yNDItNC4yMTUgNC4yNDJ6TTEwMSAzMy43NDF2OS4wNmMwIDIuMjU5LTEuODIgNC4wOS00LjA2NiA0LjA5aC00LjM1Yy0uNzg2LTUuNDI4LTUuNDM0LTkuNjAxLTExLjA0NS05LjYwMS01LjU5NyAwLTEwLjI0NiA0LjE3My0xMS4wMzIgOS42MDJoLTIyLjA1Yy0uNzg1LTUuNDI5LTUuNDM0LTkuNjAyLTExLjAzLTkuNjAyLTUuNTk4IDAtMTAuMjQ2IDQuMTczLTExLjAzMiA5LjYwMmgtNS40NDhjLTIuMjQ2IDAtNC4wNjYtMS44MzItNC4wNjYtNC4wOTJ2LTkuMDU5SDEwMXpNODEuNTUgNDAuMDJjLTQuNjYyIDAtOC40NDMgMy44MDUtOC40NDMgOC40OTcgMCA0LjY3OCAzLjc4IDguNDg0IDguNDQzIDguNDg0IDQuNjQ4IDAgOC40My0zLjgwNiA4LjQzLTguNDg0IDAtNC42OTItMy43ODItOC40OTctOC40My04LjQ5N3ptMCAxMi43NGMtMi4zMzEgMC00LjIxNS0xLjkxLTQuMjE1LTQuMjQzIDAtMi4zNDYgMS44ODQtNC4yNDIgNC4yMTUtNC4yNDIgMi4zMTcgMCA0LjIxNSAxLjg5NiA0LjIxNSA0LjI0MiAwIDIuMzMyLTEuODk4IDQuMjQyLTQuMjE1IDQuMjQyem0xNy44NDgtMjguMTRMODMuNDIgOC43MTdhNS40MTQgNS40MTQgMCAwIDAtMy44MDgtMS41ODNoLTguMDY0VjQuMDkyQzcxLjU0OCAxLjgyOCA2OS43MzIgMCA2Ny40ODMgMGgtNDYuNTRjLTIuMjM1IDAtNC4wNjUgMS44MjgtNC4wNjUgNC4wOTJ2LjY0TC4zOCA2LjY0OGwyOS4yMzQgMy44MzFMMCAxMy40NGwyOS41MSA0LjIyM0wwIDIwLjIzN2wxNi44OCAzLjIwNC0uMDAyIDguMDRoODQuMTJ2LTIuOTg4YTUuNSA1LjUgMCAwIDAtMS42LTMuODczem0tNi45NjYuNTMySDc2Ljk3YS42MzguNjM4IDAgMCAxLS42MzctLjY0VjEyLjQ5M2MwLS4zNTUuMjg1LS42NDEuNjM3LS42NDFoMi45NDFjLjE2MyAwIC4zMjUuMDY4LjQ0Ny4xNzdsMTIuNTA5IDEyLjAxN2MuNDIuMzk1LjEzNSAxLjEwNC0uNDM0IDEuMTA0eiIgZmlsbD0iI0FBQSIvPjwvc3ZnPg=="},function(a,b){a.exports="data:image/png;base64,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"},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,"body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}._1QVsm{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}._3Amuw{position:relative}.vllDV{display:none}._3_dGs{display:inline-block}._18McH{display:block}._1IcrR{visibility:visible}._1OC7l{visibility:hidden}._3ts5b{text-align:center}._3IiFU{float:left}._317PD{float:right}._2YQ9Z{margin-right:7px}._2x2Db{margin-top:8px}.Uxx-r{margin-top:9px}._2TsFM{margin-top:6px}._5g9Rx{margin-top:10px}.spO6_{margin-bottom:5px}._34aSQ{margin-bottom:10px}._6reha{margin-bottom:15px}._2PWWo{margin-bottom:20px}._1Gk_M{margin-bottom:25px}._3H72q{margin-right:12px}._1-hKO{margin-right:15px}._24XOn{margin-right:20px}._3LVRV{padding-top:5px}._1lOSN{clear:both}._1R15i{margin-top:14px}._1sqP1{line-height:30px}.Y7fpe{line-height:20px}.-axa8{line-height:18px}._3OB1M{font-size:12px}._2krbA{font-size:18px}._1o9LK{color:#666}.Hi0VO{color:#ff8a16}.Ghtp3{position:absolute;left:50%;top:20px;margin-left:-160px}._1YDsG{color:red;font-size:10px}.lFxUX{cursor:pointer}._381Rn,.lFxUX{position:absolute}._381Rn{outline:none;top:9px;z-index:999;width:105px;padding:7px;margin-top:5px;overflow:hidden;background:#fff;-webkit-box-shadow:rgba(0,0,0,.16) 0 3px 6px,rgba(0,0,0,.23) 0 3px 6px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}._381Rn ul{padding:0;margin:0;list-style:none}._381Rn ul li{text-decoration:none;cursor:pointer;display:inline-block;font-size:24px;padding-right:5px;padding-left:5px}",""]),b.locals={ellipsis:"_1QVsm",pos_rel:"_3Amuw",hide:"vllDV",display_IB:"_3_dGs",show:"_18McH",visible:"_1IcrR",invisible:"_1OC7l",textalignC:"_3ts5b",floatL:"_3IiFU",floatR:"_317PD",marginR7:"_2YQ9Z",marginT8:"_2x2Db",marginT14:"_1R15i",marginT9:"Uxx-r",marginT6:"_2TsFM",marginT10:"_5g9Rx",marginB5:"spO6_",marginB10:"_34aSQ",marginB15:"_6reha",marginB20:"_2PWWo",marginB25:"_1Gk_M",marginR12:"_3H72q",marginR15:"_1-hKO",marginR20:"_24XOn",paddingT5:"_3LVRV",clear:"_1lOSN",lineHeight30:"_1sqP1",lineHeight20:"Y7fpe",lineHeight18:"-axa8",F12:"_3OB1M",F18:"_2krbA",color66:"_1o9LK",orangeColor:"Hi0VO",onBoardingContainer:"Ghtp3",error:"_1YDsG",emojiSelector:"lFxUX",emojiList:"_381Rn"}},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,"._1PdGJ{position:relative;width:100%;border:1px solid #ddd;background:#fff}._1PdGJ ._2hwYY{position:absolute;right:6px;bottom:24px}._1PdGJ ._1uESD{overflow-y:scroll;max-height:100px;width:93%;display:block;-webkit-box-sizing:content-box;box-sizing:content-box;outline:none;resize:none;padding:5px;border:none}",""]),b.locals={container:"_1PdGJ",emojiContainer:"_2hwYY",textarea:"_1uESD"}},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,"._1eXC-{top:50%;left:50%;position:absolute}._1eXC-,._1eXC- *{-webkit-box-sizing:content-box;box-sizing:content-box}._1eXC- ._2ELcj{position:fixed;top:0;left:0;right:0;bottom:0;z-index:3147483648;background:#617894;opacity:.3}._1eXC- .om5JB{text-align:left;background-color:#fff;z-index:3147483649;-webkit-box-shadow:0 20px 50px 0 rgba(171,181,191,.5);box-shadow:0 20px 50px 0 rgba(171,181,191,.5);position:relative;margin-left:-120px;margin-top:-40px}._1eXC- .om5JB ._2ghV2{padding:30px;padding-bottom:20px}._1eXC- .om5JB ._2ghV2>h1{margin-top:0;height:20px;font-size:15px;font-weight:600;text-align:center;color:#000}._1eXC- .om5JB ._2ghV2>h3{margin:0;height:18px;font-size:13px;text-align:center;color:#000}._1eXC- .om5JB ._2mbMX{text-align:center;padding:10px 10px 20px}._1eXC- .om5JB ._2mbMX .fC8HM{cursor:pointer;border-radius:12px;display:inline-block;padding-right:25px;padding-left:25px;font-size:12px;line-height:24px}._1eXC- .om5JB ._2mbMX ._39ysz{background:#0072bc;color:#fff}._1eXC- .om5JB ._2mbMX ._3eBT5{color:#7c7c7c;border:1px solid #ccc;margin-right:10px}._1eXC- .om5JB ._2mbMX>button{width:60px;height:20px;font-size:15px;font-weight:400;text-align:right;color:#000;border:none;cursor:pointer}",""]),
b.locals={container:"_1eXC-",reactConfirmAlertOverlay:"_2ELcj",content:"om5JB",reactConfirmAlert:"_2ghV2",reactConfirmAlertButtonGroup:"_2mbMX",button:"fC8HM",confirm:"_39ysz",cancel:"_3eBT5"}},function(a,b,c){var d=c(9);b=a.exports=c(1)(!1),b.push([a.i,"body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}._3P9P8{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}._3_RuS{position:relative}.PCsfT{display:none}._11kaY{display:inline-block}._1G5ee{display:block}.baWRU{visibility:visible}.sjSdE{visibility:hidden}._8My2e{text-align:center}._2xdYm{float:left}._2g5xB{float:right}._1IjqF{margin-right:7px}._3kf02{margin-top:8px}._26DmF{margin-top:9px}.r-amb{margin-top:6px}.HnLot{margin-top:10px}.SRGuM{margin-bottom:5px}._23u-O{margin-bottom:10px}._2jFJm{margin-bottom:15px}._1czvP{margin-bottom:20px}._2_Tiy{margin-bottom:25px}.SPwZH{margin-right:12px}._35Y5g{margin-right:15px}.pHJ-f{margin-right:20px}._2dxWz{padding-top:5px}._1kC8l{clear:both}.ZHe50{margin-top:14px}.snCao{line-height:30px}.Hi1NL{line-height:20px}._2GOEo{line-height:18px}.OGcUR{font-size:12px}._2fFLN{font-size:18px}._2Tbho{color:#666}._3mq5W{color:#ff8a16}.taEts{position:absolute;left:50%;top:20px;margin-left:-160px}._3hy6J{color:red;font-size:10px}._3gUAn{font-size:13px;font-weight:400;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;text-align:left;color:#000;padding:15px 20px;cursor:pointer;position:relative;-webkit-transition:background-color .25s ease-in-out,border .15s ease-in-out;transition:background-color .25s ease-in-out,border .15s ease-in-out}._3gUAn ._3u8RX{position:absolute;bottom:0;left:10px;right:10px;height:1px;background-color:#abb5bf;opacity:.3}._3gUAn .-V6GW,._3gUAn ._2kn6m{text-align:right}._3gUAn ._2kn6m{margin-top:5px}._3gUAn ._2kn6m .fD6DN{background-image:url("+d(c(44))+");width:20px;height:20px;margin-right:10px;cursor:pointer;background-color:transparent;display:inline-block}._3gUAn ._2kn6m .fD6DN.MtpZQ{background-image:url("+d(c(45))+")}._3gUAn ._2kn6m ._1gW7J{background-image:url("+d(c(46))+");width:22px;height:22px;cursor:pointer;background-color:transparent;display:inline-block}._3gUAn:hover{background:#fff}._3gUAn .ce9bZ{margin-bottom:10px}._3gUAn .ce9bZ .W6Kb7{width:30px;height:16px;border-radius:4px;background-color:#0ed5c9;padding:2px 4px;color:#fff;font-size:11px}._3gUAn .ce9bZ ._2qfgU{font-size:13px;margin-left:10px;color:#666}._3gUAn .ce9bZ ._2eU6C{display:none;float:right;cursor:pointer;opacity:0;visibility:hidden;display:inline;margin-left:10px}._3gUAn .ce9bZ ._3v9vu{opacity:1;visibility:visible;-webkit-transition:visibility 1s,opacity 1s;transition:visibility 1s,opacity 1s}._3gUAn .ce9bZ .TlpnV{background-image:url("+d(c(47))+")}._3gUAn .ce9bZ ._2V-_p,._3gUAn .ce9bZ .TlpnV{width:16px;height:16px;cursor:pointer;background-color:transparent;display:inline-block}._3gUAn .ce9bZ ._2V-_p{background-image:url("+d(c(48))+")}._3gUAn ._2gNJV{word-wrap:break-word;white-space:pre-wrap;color:#666;font-size:13px;line-height:18px}",""]),b.locals={ellipsis:"_3P9P8",pos_rel:"_3_RuS",hide:"PCsfT",display_IB:"_11kaY",show:"_1G5ee",visible:"baWRU",invisible:"sjSdE",textalignC:"_8My2e",floatL:"_2xdYm",floatR:"_2g5xB",marginR7:"_1IjqF",marginT8:"_3kf02",marginT14:"ZHe50",marginT9:"_26DmF",marginT6:"r-amb",marginT10:"HnLot",marginB5:"SRGuM",marginB10:"_23u-O",marginB15:"_2jFJm",marginB20:"_1czvP",marginB25:"_2_Tiy",marginR12:"SPwZH",marginR15:"_35Y5g",marginR20:"pHJ-f",paddingT5:"_2dxWz",clear:"_1kC8l",lineHeight30:"snCao",lineHeight20:"Hi1NL",lineHeight18:"_2GOEo",F12:"OGcUR",F18:"_2fFLN",color66:"_2Tbho",orangeColor:"_3mq5W",onBoardingContainer:"taEts",error:"_3hy6J",commentCard:"_3gUAn",commentDivider:"_3u8RX",errorContainer:"-V6GW",actionControls:"_2kn6m",save:"fD6DN",disable:"MtpZQ",discard:"_1gW7J",timestampContainer:"ce9bZ",timestamp:"W6Kb7",author:"_2qfgU",controls:"_2eU6C",showControls:"_3v9vu",edit:"TlpnV","delete":"_2V-_p",text:"_2gNJV"}},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,"._2bvts{height:100%;background-color:#f7f7f7;position:relative}",""]),b.locals={commentPane:"_2bvts"}},function(a,b,c){var d=c(9);b=a.exports=c(1)(!1),b.push([a.i,"body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}._3Agcl{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}.j0Sg2{position:relative}._32GwT{display:none}._2LnzK{display:inline-block}._3jnAt{display:block}.gdHPm{visibility:visible}._3I5Cc{visibility:hidden}._3DWjU{text-align:center}._2wwun{float:left}._3H57b{float:right}._2bewR{margin-right:7px}.dWtMb{margin-top:8px}._2qvMG{margin-top:9px}._1KQV9{margin-top:6px}._2gHhL{margin-top:10px}._3Fgw-{margin-bottom:5px}._2r9aa{margin-bottom:10px}._3BCIx{margin-bottom:15px}._2oLpR{margin-bottom:20px}.iEVvh{margin-bottom:25px}._3RCzQ{margin-right:12px}._1OTQC{margin-right:15px}._1yrlt{margin-right:20px}._3wzT1{padding-top:5px}._32p0O{clear:both}._1B048{margin-top:14px}.zZiC3{line-height:30px}._3tMpA{line-height:20px}._1mZDz{line-height:18px}._1FZEG{font-size:12px}.uEhXI{font-size:18px}._3C81J{color:#666}._3X7gB{color:#ff8a16}.iGAYx{position:absolute;left:50%;top:20px;margin-left:-160px}._2dD4f{color:red;font-size:10px}._2NVRs{width:200px;position:absolute;top:38px;right:0;display:block;float:left;min-width:160px;font-size:14px;text-align:left;background-color:#fff;border-radius:0;background-clip:padding-box;border:1px solid #ddd}._2NVRs,._2NVRs ul{padding:0;margin:0;list-style:none}._2NVRs ul li{font-size:12px;color:#666;padding:5px 0 5px 10px}._2NVRs ul li ._1zAq9{font-weight:600;font-size:13px}._2NVRs ul li ._3Zyso{float:left;width:14px;height:14px;background-image:url("+d(c(112))+");background-repeat:no-repeat;margin-right:10px;margin-top:3px;background-size:12px}._2NVRs ul li ._3Zyso._5MN7F{background-image:url("+d(c(113))+')}._2NVRs ul li ._2smiL{float:left;max-width:142px;cursor:pointer}._2NVRs ul{min-height:150px;padding:10px 0}._2NVRs:after,._2NVRs:before{bottom:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}._2NVRs:before{border-color:rgba(194,225,245,0);border-bottom-color:#ddd;border-width:10px;right:3px}._2NVRs:after{border-color:rgba(136,183,213,0);border-bottom-color:#fff;border-width:9px;right:4px}._24gWN{width:245px;overflow:hidden;text-overflow:ellipsis;display:block;font-size:13px;padding:10px;clear:both;font-weight:400;line-height:16px;text-decoration:none;color:#000;white-space:nowrap;cursor:pointer}',""]),b.locals={ellipsis:"_3Agcl",pos_rel:"j0Sg2",hide:"_32GwT",display_IB:"_2LnzK",show:"_3jnAt",visible:"gdHPm",invisible:"_3I5Cc",textalignC:"_3DWjU",floatL:"_2wwun",floatR:"_3H57b",marginR7:"_2bewR",marginT8:"dWtMb",marginT14:"_1B048",marginT9:"_2qvMG",marginT6:"_1KQV9",marginT10:"_2gHhL",marginB5:"_3Fgw-",marginB10:"_2r9aa",marginB15:"_3BCIx",marginB20:"_2oLpR",marginB25:"iEVvh",marginR12:"_3RCzQ",marginR15:"_1OTQC",marginR20:"_1yrlt",paddingT5:"_3wzT1",clear:"_32p0O",lineHeight30:"zZiC3",lineHeight20:"_3tMpA",lineHeight18:"_1mZDz",F12:"_1FZEG",F18:"uEhXI",color66:"_3C81J",orangeColor:"_3X7gB",onBoardingContainer:"iGAYx",error:"_2dD4f",dropdownMenu:"_2NVRs",menuItemHeading:"_1zAq9",checkbox:"_3Zyso",checkedbox:"_5MN7F",menuItem:"_2smiL",menu:"_24gWN"}},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgMWg4djhIMXoiIHN0cm9rZT0iIzk3OTc5NyIgZmlsbD0ibm9uZSIvPjwvc3ZnPg=="},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBzdHJva2U9IiM5Nzk3OTciIGQ9Ik0xIDFoOHY4SDF6Ii8+PHBhdGggZD0iTTEuMDkyIDUuM0EuMzIuMzIgMCAwIDEgMSA1LjA5YzAtLjA2LjAzLS4xNS4wOTItLjIxbC40MzEtLjQyYS4zMDMuMzAzIDAgMCAxIC40MyAwbC4wMzIuMDMgMS42OTIgMS43N2EuMTUuMTUgMCAwIDAgLjIxNSAwbDQuMTIzLTQuMTdoLjAzMWEuMzAzLjMwMyAwIDAgMSAuNDMgMGwuNDMyLjQyYy4xMjMuMTIuMTIzLjMgMCAuNDJMMy45ODUgNy45MWEuMjgzLjI4MyAwIDAgMS0uMjE2LjA5LjI4My4yODMgMCAwIDEtLjIxNS0uMDlsLTIuNC0yLjUyLS4wNjItLjA5eiIgZmlsbD0iIzk3OTc5NyIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9nPjwvc3ZnPg=="},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,"body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}._1TBBz{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}.JLDws{position:relative}._2tNZC{display:none}._3nO_L{display:inline-block}.fT16v{display:block}._3s-FQ{visibility:visible}._3nbID{visibility:hidden}._2JMRK{text-align:center}._1jW-Z{float:left}._28WFh{float:right}._1i_-d{margin-right:7px}._8qiOj{margin-top:8px}._3BK_Y{margin-top:9px}._3swAe{margin-top:6px}._1lk1M{margin-top:10px}._318cF{margin-bottom:5px}.P1HaE{margin-bottom:10px}._1QuAY{margin-bottom:15px}._1E-Ey{margin-bottom:20px}._3arev{margin-bottom:25px}.mErIc{margin-right:12px}._12Rb2{margin-right:15px}._3Yp_2{margin-right:20px}.gHjys{padding-top:5px}._17mQ8{clear:both}._1EWkJ{margin-top:14px}._1_QO9{line-height:30px}._2QfAH{line-height:20px}._2HfzM{line-height:18px}._21W-N{font-size:12px}._3EAE9{font-size:18px}._3teuq{color:#666}._17LZK{color:#ff8a16}.Ds4DS{position:absolute;left:50%;top:20px;margin-left:-160px}._2tot3{color:red;font-size:10px}._3iiUC{float:left;position:relative;width:27px;z-index:9;outline:none;margin-left:10px}._3iiUC ._2Ly8K{background:#0072bc;padding:1px 5px;color:#fff;position:absolute;top:-5px;right:-9px;border-radius:15px;font-size:11px}._3iiUC ._2ewy5{border:1px solid #ddd;background:#fff;padding:4px;height:28px;cursor:pointer;width:28px}",""]),b.locals={ellipsis:"_1TBBz",pos_rel:"JLDws",hide:"_2tNZC",display_IB:"_3nO_L",show:"fT16v",visible:"_3s-FQ",invisible:"_3nbID",textalignC:"_2JMRK",floatL:"_1jW-Z",floatR:"_28WFh",marginR7:"_1i_-d",marginT8:"_8qiOj",marginT14:"_1EWkJ",marginT9:"_3BK_Y",marginT6:"_3swAe",marginT10:"_1lk1M",marginB5:"_318cF",marginB10:"P1HaE",marginB15:"_1QuAY",marginB20:"_1E-Ey",marginB25:"_3arev",marginR12:"mErIc",marginR15:"_12Rb2",marginR20:"_3Yp_2",paddingT5:"gHjys",clear:"_17mQ8",lineHeight30:"_1_QO9",lineHeight20:"_2QfAH",lineHeight18:"_2HfzM",F12:"_21W-N",F18:"_3EAE9",color66:"_3teuq",orangeColor:"_17LZK",onBoardingContainer:"Ds4DS",error:"_2tot3",selectFilter:"_3iiUC",counter:"_2Ly8K",filterIconHolder:"_2ewy5"}},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,"body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}._28HeI{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}._2TI8F{position:relative}._3hcHY{display:none}._3v09b{display:inline-block}.ODW2x{display:block}._2YDtA{visibility:visible}._3aPUu{visibility:hidden}._2yj5a{text-align:center}._31z5d{float:left}._3bVZj{float:right}.iVqL8{margin-right:7px}._2HU57{margin-top:8px}._2X5Zr{margin-top:9px}._22FJb{margin-top:6px}._2my0d{margin-top:10px}._1MGr4{margin-bottom:5px}._3iP2K{margin-bottom:10px}._3rnOj{margin-bottom:15px}._2nA4W{margin-bottom:20px}._2kUNt{margin-bottom:25px}._27QjX{margin-right:12px}._1He29{margin-right:15px}._25AKV{margin-right:20px}._3Q0QH{padding-top:5px}._2NpAw{clear:both}._9U7ze{margin-top:14px}._9UkDE{line-height:30px}._2izKv{line-height:20px}._13s1Q{line-height:18px}.UOt0E{font-size:12px}._1SyfQ{font-size:18px}._3PLzk{color:#666}.UZvWh{color:#ff8a16}.QP7HJ{position:absolute;left:50%;top:20px;margin-left:-160px}.OCqdE{color:red;font-size:10px}",""]),b.locals={ellipsis:"_28HeI",pos_rel:"_2TI8F",hide:"_3hcHY",display_IB:"_3v09b",show:"ODW2x",visible:"_2YDtA",invisible:"_3aPUu",textalignC:"_2yj5a",floatL:"_31z5d",floatR:"_3bVZj",marginR7:"iVqL8",marginT8:"_2HU57",marginT14:"_9U7ze",marginT9:"_2X5Zr",marginT6:"_22FJb",marginT10:"_2my0d",marginB5:"_1MGr4",marginB10:"_3iP2K",marginB15:"_3rnOj",marginB20:"_2nA4W",marginB25:"_2kUNt",marginR12:"_27QjX",marginR15:"_1He29",marginR20:"_25AKV",paddingT5:"_3Q0QH",clear:"_2NpAw",lineHeight30:"_9UkDE",lineHeight20:"_2izKv",lineHeight18:"_13s1Q",F12:"UOt0E",F18:"_1SyfQ",color66:"_3PLzk",orangeColor:"UZvWh",onBoardingContainer:"QP7HJ",error:"OCqdE"}},function(a,b,c){var d=c(9);b=a.exports=c(1)(!1),b.push([a.i,"body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}._2tFcZ{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}.dqpr0{position:relative}._267zz{display:none}._3Var1{display:inline-block}._3mkkl{display:block}._111Pd{visibility:visible}.GEsp5{visibility:hidden}._2haUZ{text-align:center}._685-2{float:left}.teYnj{float:right}._1cv9h{margin-right:7px}._3IYz1{margin-top:8px}._2AP6u{margin-top:9px}._2Ecgj{margin-top:6px}._2AfsM{margin-top:10px}._1AjyT{margin-bottom:5px}._3N8Vp{margin-bottom:10px}._3eM0_{margin-bottom:15px}._1qkfe{margin-bottom:20px}._2knPg{margin-bottom:25px}._1a3iw{margin-right:12px}.I7Vha{margin-right:15px}._3RCsE{margin-right:20px}._2WzP_{padding-top:5px}._2iWWr{clear:both}._2n7VB{margin-top:14px}._3ahuF{line-height:30px}._2syVb{line-height:20px}._2ivHu{line-height:18px}._3mvt4{font-size:12px}._24q6e{font-size:18px}._2D454{color:#666}._3ra5S{color:#ff8a16}._2Ad2G{position:absolute;left:50%;top:20px;margin-left:-160px}.QhM2B{color:red;font-size:10px}.JAVog{display:block;margin-top:20px}.JAVog ._3HCZY{font-size:12px;color:#999}.JAVog ._2sHEI,.JAVog ._3HCZY{float:left;margin-top:15px}.JAVog ._2w4eE{float:left;margin-left:10px;cursor:pointer;background-image:url("+d(c(117))+");background-repeat:no-repeat;background-size:12px;width:14px;height:6px}.JAVog ._2w4eE._3_1rH{-webkit-transform:rotate(0deg);transform:rotate(0deg);margin-top:6px}.JAVog ._2w4eE._3IRSq{-webkit-transform:rotate(180deg);transform:rotate(180deg);margin-top:6px}",""]),b.locals={ellipsis:"_2tFcZ",pos_rel:"dqpr0",hide:"_267zz",display_IB:"_3Var1",show:"_3mkkl",visible:"_111Pd",invisible:"GEsp5",textalignC:"_2haUZ",floatL:"_685-2",floatR:"teYnj",marginR7:"_1cv9h",marginT8:"_3IYz1",marginT14:"_2n7VB",marginT9:"_2AP6u",marginT6:"_2Ecgj",marginT10:"_2AfsM",marginB5:"_1AjyT",marginB10:"_3N8Vp",marginB15:"_3eM0_",marginB20:"_1qkfe",marginB25:"_2knPg",marginR12:"_1a3iw",marginR15:"I7Vha",marginR20:"_3RCsE",paddingT5:"_2WzP_",clear:"_2iWWr",lineHeight30:"_3ahuF",lineHeight20:"_2syVb",lineHeight18:"_2ivHu",F12:"_3mvt4",F18:"_24q6e",color66:"_2D454",orangeColor:"_3ra5S",onBoardingContainer:"_2Ad2G",error:"QhM2B",searchNavBar:"JAVog",resultRelatedText:"_3HCZY",sortingSearch:"_2sHEI",arrow:"_2w4eE",up:"_3_1rH",down:"_3IRSq"}},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBzdHJva2U9IiM5OTkiIHN0cm9rZS13aWR0aD0iMS41IiBkPSJNMTMgMUw3LjI4NiA3IDEgMSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+"},function(a,b,c){var d=c(9);b=a.exports=c(1)(!1),b.push([a.i,"body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}._3e7lD{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}._1o7Nf{position:relative}.MNDeV{display:none}._1zQ2b{display:inline-block}._3ncTN{display:block}.dZB6I{visibility:visible}.udpct{visibility:hidden}.BXCM_{text-align:center}._3LxPP{float:left}._1sXBX{float:right}._1rOnQ{margin-right:7px}._3Eb_0{margin-top:8px}._1sZ1n{margin-top:9px}._1aPct{margin-top:6px}._3fMIs{margin-top:10px}._1YLZP{margin-bottom:5px}._1qz73{margin-bottom:10px}._3djAt{margin-bottom:15px}._1TvCP{margin-bottom:20px}._13Rzl{margin-bottom:25px}._3qNhj{margin-right:12px}._71Qqk{margin-right:15px}.KDOdJ{margin-right:20px}._3rz0R{padding-top:5px}._2O_oW{clear:both}._1NeQC{margin-top:14px}.Q1tNm{line-height:30px}._8Bgc7{line-height:20px}._2y37P{line-height:18px}._1P4CD{font-size:12px}.ZHjKy{font-size:18px}._3CeFF{color:#666}._3ICq0{color:#ff8a16}._33Vdl{position:absolute;left:50%;top:20px;margin-left:-160px}._2jpyV{color:red;font-size:10px}._1QVJm{border:1px solid #ddd;background:#fff;width:325px;max-height:60px;float:left;overflow-y:auto;padding-left:30px;position:relative}._1QVJm ._3NGPT{background-image:url("+d(c(119))+");width:16px;height:14px;background-color:transparent;margin-right:12px;float:left;margin:6px 7px;background-repeat:no-repeat;cursor:pointer;position:absolute;left:0}._1QVJm ._1fqRG{border:0;height:26px;outline:none;float:left;font-size:12px;width:100%;color:#888}._1QVJm ._1fqRG ::-webkit-input-placeholder{color:#969696}._1QVJm ._1fqRG :-ms-input-placeholder,._1QVJm ._1fqRG ::-ms-input-placeholder{color:#969696}._1QVJm ._1fqRG ::placeholder{color:#969696}._3TQeH{float:left;background:#999;color:#fff;padding:2px 7px;margin:4px 10px 4px 0;border:1px solid #999;border-radius:2px;max-width:280px;line-height:16px}._3TQeH ._3PaJc{font-size:12px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;float:left;max-width:250px;margin-right:10px}._3TQeH ._18GSY{font-size:8px;padding:0;float:left;cursor:pointer;width:8px;height:8px;margin-top:4px}",""]),b.locals={ellipsis:"_3e7lD",pos_rel:"_1o7Nf",hide:"MNDeV",display_IB:"_1zQ2b",show:"_3ncTN",visible:"dZB6I",invisible:"udpct",textalignC:"BXCM_",floatL:"_3LxPP",floatR:"_1sXBX",marginR7:"_1rOnQ",marginT8:"_3Eb_0",marginT14:"_1NeQC",marginT9:"_1sZ1n",marginT6:"_1aPct",marginT10:"_3fMIs",marginB5:"_1YLZP",marginB10:"_1qz73",marginB15:"_3djAt",marginB20:"_1TvCP",marginB25:"_13Rzl",marginR12:"_3qNhj",marginR15:"_71Qqk",marginR20:"KDOdJ",paddingT5:"_3rz0R",clear:"_2O_oW",lineHeight30:"Q1tNm",lineHeight20:"_8Bgc7",lineHeight18:"_2y37P",F12:"_1P4CD",F18:"ZHjKy",color66:"_3CeFF",orangeColor:"_3ICq0",onBoardingContainer:"_33Vdl",error:"_2jpyV",searchBar:"_1QVJm",searchIcon:"_3NGPT",inputStyle:"_1fqRG",tagItemTag:"_3TQeH",tagItemTagname:"_3PaJc",icon:"_18GSY"}},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0Ljg2MyAxMS45OTRsLTIuNDQxLTIuNDQxYTYuMjIxIDYuMjIxIDAgMSAwLTEuODggMS44NzlsMi40NDEgMi40NDFhLjQ0Mi40NDIgMCAwIDAgLjYyNiAwbDEuMjU0LTEuMjUyYS40NDUuNDQ1IDAgMCAwIDAtLjYyN3ptLTcuNjYyLTEuMzUyYTQuNDMxIDQuNDMxIDAgMSAxIDQuNDMxLTQuNDMgNC40MzUgNC40MzUgMCAwIDEtNC40MzEgNC40Mjh2LjAwMnoiIGZpbGw9IiM5OTkiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},function(a,b,c){var d=c(9);b=a.exports=c(1)(!1),b.push([a.i,"._1CU08{position:relative;height:100%}._1CU08 *{-webkit-box-sizing:content-box;box-sizing:content-box}._9u_eA{position:absolute;right:0;z-index:1}._3DMlc{min-height:300px;text-align:center;position:relative}._3DMlc ._2Pdo6{background-image:url("+d(c(121))+");background-repeat:no-repeat;width:44px;height:10px;position:absolute;left:50%;top:50%;margin:-10px 0 0 -22px}",""]),b.locals={container:"_1CU08",filterContainer:"_9u_eA",loadingContainer:"_3DMlc",loader:"_2Pdo6"}},function(a,b){a.exports="data:image/gif;base64,R0lGODlhKwALAPEAAP////7Kkv+UIgAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAKwALAAACMkSOCMuW2diD88UKG95W88uF4DaGWFmhZid93pq+pwxnLUnXh8ou+sSz+T64YCAyTBUAACH5BAkKAAAALAAAAAArAAsAAAI9hI4IyxAPYWOxmoTFrHzzmGHe94xkmJifyqFKQ0pwHLgHa82xrekkDrIBZRQab1jyfY7KTtPimixiUsevAAAh+QQJCgAAACwAAAAAKwALAAACPUSOCMsgD2FjqZpqW9xv4g8GE7d54XmMpNSgqLoKpgvC60xjNonnyc7p+VKamKw1zDCMR8rp8pksYlKorgAAIfkECQoAAAAsAAAAACsACwAAAkBEjgjLltmYmJS6Bxt+sfq5ZUyoNJ9HHlEadCfFrqn7CrE2m7Wdj/2y45FkQ13t5itKdshFExC8YCLOEBX6AhQAADs="},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,".O6QFJ{height:100%;position:absolute;top:50%;left:50%;width:272px;height:250px;margin:-125px 0 0 -136px;color:#a4a4a4;font-size:13px;text-align:center}.O6QFJ img{margin-bottom:16px}",""]),b.locals={noCommentContainer:"O6QFJ"}},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,"._2wh49{width:120px;position:relative;outline:none}._2wh49 ._2awJi{margin:0;list-style:none;padding:0;cursor:pointer}._2wh49 ._2awJi ._3-4BW{border-bottom:1px solid #0072bc}._2wh49 ._2awJi ._2OiuV{position:absolute;right:5px;top:2px;-webkit-transform:rotate(90deg);transform:rotate(90deg)}._2wh49 ._2awJi ._33CDP{min-height:20px;padding-bottom:5px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#000;background:#f9f9f9;display:inline-block;width:80%;text-align:right}._2wh49 ._3Y3nN{position:absolute;z-index:10000;width:100%;color:#999;border-top:none;list-style-type:none;background:#fff;margin:0;padding:0;padding:8px 0;border-radius:4px;-webkit-box-shadow:0 2px 4px 0 rgba(0,0,0,.06);box-shadow:0 2px 4px 0 rgba(0,0,0,.06)}._2wh49 ._3Y3nN li{margin:0;padding:5px;font-size:13px;cursor:pointer;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:right}._2wh49 ._3Y3nN li:hover{color:#000}",""]),b.locals={dropDownmenu:"_2wh49",selectedOptionContainer:"_2awJi",focus:"_3-4BW",arrow:"_2OiuV",selectedOption:"_33CDP",optionsContainer:"_3Y3nN"}},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,"._3udSE{border:1px solid #333;background:#fff;color:#333;font-weight:600;position:absolute;bottom:18px;right:51px;list-style-type:none;margin:0;padding:0;text-align:left;z-index:4}._3udSE ._3OZfl{cursor:pointer;list-style:none;padding:5px;font-size:12px}._3udSE ._3OZfl._1dIxY,._3udSE ._3OZfl:hover{background-color:#ff8a16}",""]),b.locals={trackContainer:"_3udSE",eachTrack:"_3OZfl",active:"_1dIxY"}},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,".I_fFh{position:relative}.I_fFh ._3V-rC{width:7px;height:10px;border-radius:24px;background-color:#0ed5c9;border:1px solid #fff;position:absolute;bottom:33px;margin-left:-3px;cursor:pointer}",""]),b.locals={container:"I_fFh",commentBarDot:"_3V-rC"}},function(a,b,c){var d=c(9);b=a.exports=c(1)(!1),b.push([a.i,"body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}._3ZApo{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}._2dZ0J{position:relative}.TlbK-{display:none}._3HWr4{display:inline-block}._5kYEf{display:block}._3IMVr{visibility:visible}._2FFsU{visibility:hidden}._3vuGi{text-align:center}._1JwFQ{float:left}._1WDA7{float:right}.OGVsm{margin-right:7px}.OYkw3{margin-top:8px}._2FkZk{margin-top:9px}._3rw4W{margin-top:6px}._2L95k{margin-top:10px}._73A_U{margin-bottom:5px}.GNzaU{margin-bottom:10px}._3dX2h{margin-bottom:15px}.Cc8Cg{margin-bottom:20px}._1JnpQ{margin-bottom:25px}._3F8u7{margin-right:12px}._24UXN{margin-right:15px}._3EKGH{margin-right:20px}._13JF6{padding-top:5px}._3MWYF{clear:both}.w1I6a{margin-top:14px}.lUEJi{line-height:30px}.K8KFK{line-height:20px}._2jqqp{line-height:18px}._36KVt{font-size:12px}._16WKe{font-size:18px}.Egzfi{color:#666}._2l1RK{color:#ff8a16}._21sdZ{position:absolute;left:50%;top:20px;margin-left:-160px}._1wxHD{color:red;font-size:10px}._2wuol{background-image:url("+d(c(127))+")!important}._2wuol,._199yI{width:16px;height:16px;cursor:pointer;background-color:transparent;margin-top:2px}._199yI{background-image:url("+d(c(128))+")!important}._1ikTg{margin:0 0 0 20px;width:60px;background:transparent;height:18px}._1ikTg,._3b_x1{position:relative}._3b_x1{float:left;width:16px;-webkit-transition:all .4s;transition:all .4s;overflow:hidden;margin-right:15px}._3b_x1:hover{width:89px}._3b_x1 [type=range]{width:100%;padding:0;margin:0;position:absolute;border-radius:2px;-webkit-appearance:none;-moz-appearance:none;cursor:pointer}._3b_x1 [type=range]:focus{outline:0}._3b_x1 [type=range]::-moz-range-track{-moz-appearance:none;cursor:pointer;height:4px;-webkit-transition:all .2s ease;transition:all .2s ease;width:100%;background:#fff;border-radius:5px;background:transparent;border-color:transparent;color:transparent}._3b_x1 [type=range]::-webkit-slider-thumb{background:#fff;border-radius:7px;cursor:pointer;height:14px;width:14px;-webkit-appearance:none;margin-top:-1px}._3b_x1 [type=range]::-moz-range-thumb{border-radius:7px;cursor:pointer;height:14px;width:14px;-moz-appearance:none}._3b_x1 [type=range]::-ms-track{position:relative;cursor:pointer;height:4px;-webkit-transition:all .2s ease;transition:all .2s ease;width:100%;background:transparent;border-color:transparent;border-width:12px 0;color:transparent}._3b_x1 [type=range]::-ms-fill-lower,._3b_x1 [type=range]::-ms-fill-upper{background:#fff;border-radius:10px}._3b_x1 [type=range]::-ms-thumb{background:#fff;border-radius:6px;cursor:pointer;height:12px;width:12px;position:absolute;top:-15px;padding:0;border:0;margin:0}",""]),b.locals={ellipsis:"_3ZApo",pos_rel:"_2dZ0J",hide:"TlbK-",display_IB:"_3HWr4",show:"_5kYEf",visible:"_3IMVr",invisible:"_2FFsU",textalignC:"_3vuGi",floatL:"_1JwFQ",floatR:"_1WDA7",marginR7:"OGVsm",marginT8:"OYkw3",marginT14:"w1I6a",marginT9:"_2FkZk",marginT6:"_3rw4W",marginT10:"_2L95k",marginB5:"_73A_U",marginB10:"GNzaU",marginB15:"_3dX2h",marginB20:"Cc8Cg",marginB25:"_1JnpQ",marginR12:"_3F8u7",marginR15:"_24UXN",marginR20:"_3EKGH",paddingT5:"_13JF6",clear:"_3MWYF",lineHeight30:"lUEJi",lineHeight20:"K8KFK",lineHeight18:"_2jqqp",F12:"_36KVt",F18:"_16WKe",color66:"Egzfi",orangeColor:"_2l1RK",onBoardingContainer:"_21sdZ",error:"_1wxHD",volume:"_2wuol",mute:"_199yI",volumeBarParent:"_1ikTg",soundContainer:"_3b_x1"}},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNyIgaGVpZ2h0PSIxNiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMSA1aDN2NkgxYTEgMSAwIDAgMS0xLTFWNmExIDEgMCAwIDEgMS0xem0zIDBsNi01djE2bC02LTVWNXptNyA2YTMgMyAwIDAgMCAwLTYiLz48cGF0aCBzdHJva2U9IiNGRkYiIGQ9Ik0xMS4wNDggMTMuNzRDMTMuOTE1IDEyLjk4OCAxNiAxMC43MDIgMTYgOGMwLTIuNzE4LTIuMTA5LTUuMDE0LTUtNS43NTIiLz48L2c+PC9zdmc+"},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNyI+PHBhdGggZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMS41MzEgMTJjLS44MTIgMC0xLjUtLjY0My0xLjUtMS40N0wwIDguMDE2YzAtLjg4OC41MzEtMS41MzIgMS4zMTMtMS41MzJoMi42MjVsNS41My01LjM5MmEuMjkuMjkgMCAwIDEgLjM0NS0uMDYxYy4xMjQuMDMuMTg3LjE1My4xODcuMjc2djMuMjQ3TDIuMzc1IDEyaC0uODQ0em03Ljk1NCA0LjkxMUw1IDEyLjg1NSAxMCA4djguNzA0YzAgLjExOC0uMDYuMjA3LS4xODIuMjY2LS4wMy4wMy0uMDkuMDMtLjEyMS4wM2EuMjc4LjI3OCAwIDAgMS0uMjEyLS4wODl6TTE1Ljg4My4xMTdjLjE5Ny4xOTguMTMyLjU2LS4wOTguNzkybC01LjM1IDUuMzQzLTUuODc3IDUuOTA0LTMuNjEgMy42MjhjLS4yNjMuMjMtLjYyNC4yOTctLjgyMS4wOTktLjE5Ny0uMTk4LS4xNjUtLjU2LjA5OC0uODI1TDE1LjA2My4yMTZjLjI2Mi0uMjMuNjIzLS4yOTcuODItLjA5OXoiLz48L3N2Zz4="},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,"body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}._2E-tj{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}._30SjV{position:relative}._2PNZC{display:none}._TsHM{display:inline-block}._3XBUi{display:block}._22C1O{visibility:visible}.k6MKa{visibility:hidden}._19h0i{text-align:center}._20jO_{float:left}._2TL2L{float:right}._2UmGb{margin-right:7px}._2Ve02{margin-top:8px}._3-4rP{margin-top:9px}._1AxR7{margin-top:6px}.UnF6o{margin-top:10px}.p4Wxe{margin-bottom:5px}._1Cuje{margin-bottom:10px}.CeWy_{margin-bottom:15px}._3FYom{margin-bottom:20px}._3Bmlx{margin-bottom:25px}._3ugva{margin-right:12px}.VyYGF{margin-right:15px}._3FEkD{margin-right:20px}._3mzEE{padding-top:5px}._1GQVx{clear:both}._3MBSA{margin-top:14px}.tI6WS{line-height:30px}._94nix{line-height:20px}._3bLoh{line-height:18px}._3dpTJ{font-size:12px}._2d4fR{font-size:18px}._2Rb8-{color:#666}._2E1hy{color:#ff8a16}._1Wztu{position:absolute;left:50%;top:20px;margin-left:-160px}.twVW3{color:red;font-size:10px}._3aMqV [type=range]{width:100%;padding:0;margin:0;border-radius:2px;-webkit-appearance:none;-moz-appearance:none;background:transparent;cursor:pointer}._3aMqV [type=range]:focus{outline:0}._3aMqV [type=range]::-webkit-slider-runnable-track{cursor:pointer;height:4px;-webkit-transition:all .2s ease;transition:all .2s ease;width:100%;border-radius:5px}._3aMqV [type=range]::-webkit-slider-thumb{background:#fff;border-radius:7px;cursor:pointer;height:14px;width:14px;-webkit-appearance:none;margin-top:-5px}._3aMqV [type=range]::-moz-range-track{-moz-appearance:none;cursor:pointer;height:4px;-webkit-transition:all .2s ease;transition:all .2s ease;width:100%;background:#fff;border-radius:5px;background:transparent;border-color:transparent;color:transparent}._3aMqV [type=range]::-moz-range-thumb{border-radius:7px;cursor:pointer;height:14px;width:14px;-moz-appearance:none}._3aMqV [type=range]::-ms-track{cursor:pointer;height:4px;-webkit-transition:all .2s ease;transition:all .2s ease;width:100%;background:transparent;border-color:transparent;border-width:12px 0;color:transparent}._3aMqV [type=range]::-ms-fill-lower{background:#ff8a16;border-radius:10px}._3aMqV [type=range]::-ms-fill-upper{background:#fff;border-radius:10px}._3aMqV [type=range]::-ms-thumb{background:#fff;border-radius:7px;cursor:pointer;height:14px;width:14px;margin-top:0}",""]),b.locals={ellipsis:"_2E-tj",pos_rel:"_30SjV",hide:"_2PNZC",display_IB:"_TsHM",
show:"_3XBUi",visible:"_22C1O",invisible:"k6MKa",textalignC:"_19h0i",floatL:"_20jO_",floatR:"_2TL2L",marginR7:"_2UmGb",marginT8:"_2Ve02",marginT14:"_3MBSA",marginT9:"_3-4rP",marginT6:"_1AxR7",marginT10:"UnF6o",marginB5:"p4Wxe",marginB10:"_1Cuje",marginB15:"CeWy_",marginB20:"_3FYom",marginB25:"_3Bmlx",marginR12:"_3ugva",marginR15:"VyYGF",marginR20:"_3FEkD",paddingT5:"_3mzEE",clear:"_1GQVx",lineHeight30:"tI6WS",lineHeight20:"_94nix",lineHeight18:"_3bLoh",F12:"_3dpTJ",F18:"_2d4fR",color66:"_2Rb8-",orangeColor:"_2E1hy",onBoardingContainer:"_1Wztu",error:"twVW3",container:"_3aMqV"}},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,'._1ZBcI{width:200px;bottom:63px;color:#000;font-size:13px;border-radius:6px;background-color:#fff;cursor:pointer}._1ZBcI,._1ZBcI ._3ROFo{position:absolute;-webkit-box-shadow:0 0 8px 0 rgba(97,120,148,.26);box-shadow:0 0 8px 0 rgba(97,120,148,.26)}._1ZBcI ._3ROFo{content:"\\A0";display:block;left:8px;bottom:-5px;-webkit-transform:rotate(45deg);transform:rotate(45deg);width:10px;height:10px;z-index:1;background:#fff}._1ZBcI .Xma8U{line-height:39px;padding-left:10px;height:39px;position:relative;background:#fff;z-index:2;border-radius:6px}._1ZBcI .Xma8U ._3VKnD{float:left}._1ZBcI .Xma8U ._3VKnD ._1on_y{color:#ff8a16;font-size:15px}._1ZBcI .Xma8U ._3aqxG{float:right;width:15px;position:relative;height:39px;border-left:1px solid #abb5bf;padding-left:6px;padding-right:6px;line-height:39px;cursor:pointer}',""]),b.locals={chBox:"_1ZBcI",downArrow:"_3ROFo",chBoxContent:"Xma8U",chBoxContentInfo:"_3VKnD",plusIcon:"_1on_y",chBoxControls:"_3aqxG"}},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,"._2I8PO{display:inline-block;position:relative;width:25px;height:25px}._2I8PO div{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;width:20px;height:20px;margin:6px;border:2px solid #0072bc;border-radius:50%;-webkit-animation:_2I8PO 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:_2I8PO 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#0072bc transparent transparent}._2I8PO div:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}._2I8PO div:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}._2I8PO div:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes _2I8PO{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes _2I8PO{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""]),b.locals={ldsRing:"_2I8PO"}},function(a,b,c){var d=c(9);b=a.exports=c(1)(!1),b.push([a.i,'body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}._2JyVr{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}._2VSsB{position:relative}.yURIB{display:none}._3bGpi{display:inline-block}.NfweB{display:block}._2lG7a{visibility:visible}._3yIoO{visibility:hidden}._3HqpZ{text-align:center}._1yCGv{float:left}._1A26P{float:right}._1xH-a{margin-right:7px}._28wv1{margin-top:8px}._1LfCT{margin-top:9px}._1oORO{margin-top:6px}._7g4Lr{margin-top:10px}._1Z_wD{margin-bottom:5px}._26ezr{margin-bottom:10px}._13FWL{margin-bottom:15px}._2k1kp{margin-bottom:20px}.AcaHs{margin-bottom:25px}._5gYq7{margin-right:12px}._2gOWR{margin-right:15px}._3zOsu{margin-right:20px}._2YaMN{padding-top:5px}._1gXdP{clear:both}._3VaLi{margin-top:14px}._24B8t{line-height:30px}._3F7J7{line-height:20px}._1Im5g{line-height:18px}._1F3Kt{font-size:12px}.xW6db{font-size:18px}._1DtYw{color:#666}.Vpi2e{color:#ff8a16}.KmTe3{position:absolute;left:50%;top:20px;margin-left:-160px}._2fI8S{color:red;font-size:10px}._2yx-k{width:300px;border-radius:6px;border:1px solid;bottom:71px;background-color:#fff}._2yx-k,._2yx-k ._1cuo0{position:absolute;-webkit-box-shadow:0 0 8px 0 rgba(97,120,148,.26);box-shadow:0 0 8px 0 rgba(97,120,148,.26)}._2yx-k ._1cuo0{content:"\\A0";display:block;left:8px;bottom:-9px;-webkit-transform:rotate(45deg);transform:rotate(45deg);width:20px;height:20px;z-index:1;background:#fff}._2yx-k ._39jtF{position:relative;z-index:2;background:#fff;padding:0 0 10px;border-radius:4px}._2yx-k ._39jtF ._3tm5t{font-size:11px;text-align:left;color:#666;padding:10px;margin-bottom:0;float:right}._2yx-k ._39jtF ._3tm5t ._1y6Gm{background-image:url('+d(c(47))+");margin-right:12px}._2yx-k ._39jtF ._3tm5t ._1y6Gm,._2yx-k ._39jtF ._3tm5t ._3jxKC{width:16px;height:16px;cursor:pointer;background-color:transparent;display:inline-block}._2yx-k ._39jtF ._3tm5t ._3jxKC{background-image:url("+d(c(48))+")}._2yx-k ._39jtF ._2Dh6g{height:15px;font-size:11px;text-align:left;color:#666;padding:10px;margin-bottom:0;float:left}._2yx-k ._39jtF ._2Dh6g ._2iFK4{width:30px;height:16px;border-radius:4px;background-color:#0ed5c9;color:#fff;font-size:11px;font-weight:600;padding:3px}._2yx-k ._39jtF .BZwOm{border:none;resize:none;width:90%;max-height:72px;overflow-y:scroll;outline:none;font-size:12px;color:#666;padding-left:14px;padding-right:14px;line-height:15px}._2yx-k ._39jtF ._3HjjU{text-align:right;padding-right:12px;padding-left:12px;margin-top:10px}._2yx-k ._39jtF ._3HjjU .Lfpi8{cursor:pointer;font-size:13px;margin-left:10px;-webkit-box-sizing:border-box;box-sizing:border-box}._2yx-k ._39jtF ._3HjjU .Lfpi8._1z9hh{background-image:url("+d(c(44))+");width:20px;height:20px;cursor:pointer;background-color:transparent;display:inline-block}._2yx-k ._39jtF ._3HjjU .Lfpi8._1z9hh._2D1iK{background-image:url("+d(c(45))+")}._2yx-k ._39jtF ._3HjjU .Lfpi8._3ONGS{background-image:url("+d(c(46))+");width:22px;height:22px;cursor:pointer;background-color:transparent;display:inline-block}",""]),b.locals={ellipsis:"_2JyVr",pos_rel:"_2VSsB",hide:"yURIB",display_IB:"_3bGpi",show:"NfweB",visible:"_2lG7a",invisible:"_3yIoO",textalignC:"_3HqpZ",floatL:"_1yCGv",floatR:"_1A26P",marginR7:"_1xH-a",marginT8:"_28wv1",marginT14:"_3VaLi",marginT9:"_1LfCT",marginT6:"_1oORO",marginT10:"_7g4Lr",marginB5:"_1Z_wD",marginB10:"_26ezr",marginB15:"_13FWL",marginB20:"_2k1kp",marginB25:"AcaHs",marginR12:"_5gYq7",marginR15:"_2gOWR",marginR20:"_3zOsu",paddingT5:"_2YaMN",clear:"_1gXdP",lineHeight30:"_24B8t",lineHeight20:"_3F7J7",lineHeight18:"_1Im5g",F12:"_1F3Kt",F18:"xW6db",color66:"_1DtYw",orangeColor:"Vpi2e",onBoardingContainer:"KmTe3",error:"_2fI8S",acBox:"_2yx-k",downArrow:"_1cuo0",acBoxContent:"_39jtF",acControlTopRight:"_3tm5t",edit:"_1y6Gm","delete":"_3jxKC",acBoxContentInfo:"_2Dh6g",time:"_2iFK4",acBoxText:"BZwOm",acBoxControls:"_3HjjU",acActionButton:"Lfpi8",save:"_1z9hh",disable:"_2D1iK",cancel:"_3ONGS"}},function(a,b,c){var d=c(9);b=a.exports=c(1)(!1),b.push([a.i,"body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}._3jNNi{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}._15vDs{position:relative}._1KQXY{display:none}._3JM8v{display:inline-block}._1Br52{display:block}._1d9iG{visibility:visible}._4RgRX{visibility:hidden}.gfZ4a{text-align:center}._1mA1U{float:left}.MML6V{float:right}.cqcAd{margin-right:7px}._1jD2w{margin-top:8px}._31EJX{margin-top:9px}.iWC8J{margin-top:6px}.dyjHh{margin-top:10px}._2CMwS{margin-bottom:5px}._153mj{margin-bottom:10px}.Rp1t6{margin-bottom:15px}._3KQky{margin-bottom:20px}._2uSug{margin-bottom:25px}.Q506G{margin-right:12px}.rM3Cc{margin-right:15px}._3emt-{margin-right:20px}._1P9P7{padding-top:5px}._1F4Lt{clear:both}.X3yG7{margin-top:14px}.yQPDQ{line-height:30px}._19PV5{line-height:20px}._2yv_X{line-height:18px}._35aE_{font-size:12px}.lOwBW{font-size:18px}._3ndpj{color:#666}._7_PTZ{color:#ff8a16}.sWy6P{position:absolute;left:50%;top:20px;margin-left:-160px}._3oas3{color:red;font-size:10px}._2cEk8{padding-top:10px;position:relative}._2cEk8 ._2qs6I{margin-top:16px;padding-left:2px;position:relative}._2cEk8 ._2qs6I ._1NJQo{width:18px;float:left;margin-right:10px}._3xQng{display:inline}._34jeV button{border:0;padding:0}._3WlEG{background-image:url("+d(c(134))+")!important;width:16px;height:16px}._3eY0r,._3WlEG{cursor:pointer;background-color:transparent}._3eY0r{background-image:url("+d(c(135))+")!important;width:20px;height:18px}.MmJUT{height:3px;width:20px;background-color:#aaa;margin-top:3px}._1_Djp{background-image:url("+d(c(136))+")!important;height:16px;display:block}._1_Djp,._2HDxh{width:14px;cursor:pointer;background-color:transparent}._2HDxh{background-image:url("+d(c(137))+")!important;height:18px}._2n7dY{background-image:url("+d(c(138))+")!important;width:22px;height:16px}._2n7dY,._4le7s{cursor:pointer;background-color:transparent}._4le7s{background-image:url("+d(c(139))+")!important;width:13px;height:18px}._2F24n{float:left;margin-left:15px}._2F24n a,._2F24n button{display:block}",""]),b.locals={ellipsis:"_3jNNi",pos_rel:"_15vDs",hide:"_1KQXY",display_IB:"_3JM8v",show:"_1Br52",visible:"_1d9iG",invisible:"_4RgRX",textalignC:"gfZ4a",floatL:"_1mA1U",floatR:"MML6V",marginR7:"cqcAd",marginT8:"_1jD2w",marginT14:"X3yG7",marginT9:"_31EJX",marginT6:"iWC8J",marginT10:"dyjHh",marginB5:"_2CMwS",marginB10:"_153mj",marginB15:"Rp1t6",marginB20:"_3KQky",marginB25:"_2uSug",marginR12:"Q506G",marginR15:"rM3Cc",marginR20:"_3emt-",paddingT5:"_1P9P7",clear:"_1F4Lt",lineHeight30:"yQPDQ",lineHeight20:"_19PV5",lineHeight18:"_2yv_X",F12:"_35aE_",F18:"lOwBW",color66:"_3ndpj",orangeColor:"_7_PTZ",onBoardingContainer:"sWy6P",error:"_3oas3",videoControls:"_2cEk8",controlsButtonContainer:"_2qs6I",playPauseButton:"_1NJQo",showControls:"_3xQng",videoContainer:"_34jeV",fullScreen:"_3WlEG",subtitles:"_3eY0r",subtitlesUnderline:"MmJUT",download:"_1_Djp",play:"_2HDxh",hd:"_2n7dY",pause:"_4le7s",controlButton:"_2F24n"}},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTIuNCAxMEgwdjZoNnYtMi40SDIuNFYxMHpNMCA2aDIuNFYyLjRINlYwSDB2NnptMTMuNiA3LjZIMTBWMTZoNnYtNmgtMi40djMuNnpNMTAgMHYyLjRoMy42VjZIMTZWMGgtNnoiLz48L3N2Zz4="},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE3Ljc3OCAwSDIuMjIyQzEgMCAwIDEuMDEgMCAyLjI0NHYxMy40NjFjMCAxLjIzNCAxIDIuMjQ0IDIuMjIyIDIuMjQ0aDE1LjU1NkMxOSAxNy45NDkgMjAgMTYuOTM5IDIwIDE1LjcwNVYyLjI0NEMyMCAxLjAxIDE5IDAgMTcuNzc4IDB6bS04Ljg5IDcuODUzSDcuMjIzdi0uNTYxSDV2My4zNjVoMi4yMjJ2LS41Nkg4Ljg5djEuMTJjMCAuNjc0LS40NDUgMS4xMjMtMS4xMTEgMS4xMjNINC40NDRjLS42NjYgMC0xLjExLS40NDktMS4xMS0xLjEyMlY2LjczYzAtLjY3My40NDQtMS4xMjIgMS4xMS0xLjEyMmgzLjMzNGMuNjY2IDAgMS4xMS40NDkgMS4xMSAxLjEyMnYxLjEyMnptNy43NzkgMEgxNXYtLjU2MWgtMi4yMjJ2My4zNjVIMTV2LS41NmgxLjY2N3YxLjEyYzAgLjY3NC0uNDQ1IDEuMTIzLTEuMTExIDEuMTIzaC0zLjMzNGMtLjY2NiAwLTEuMTEtLjQ0OS0xLjExLTEuMTIyVjYuNzNjMC0uNjczLjQ0NC0xLjEyMiAxLjExLTEuMTIyaDMuMzM0Yy42NjYgMCAxLjExLjQ0OSAxLjExIDEuMTIydjEuMTIyeiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg=="},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNiI+PGcgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIj48cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMiIgeT0iMTQiIHJ4PSIxIi8+PHJlY3Qgd2lkdGg9IjkiIGhlaWdodD0iMiIgeD0iLS4zODkiIHk9IjYuODg5IiByeD0iMSIgdHJhbnNmb3JtPSJyb3RhdGUoNDUgNC4xMSA3Ljg5KSIvPjxyZWN0IHdpZHRoPSI5IiBoZWlnaHQ9IjIiIHg9IjUuMzg5IiB5PSI2Ljg4OSIgcng9IjEiIHRyYW5zZm9ybT0ic2NhbGUoLTEgMSkgcm90YXRlKDQ1IDAgLTE1Ljk4NSkiLz48cmVjdCB3aWR0aD0iMiIgaGVpZ2h0PSIxMiIgeD0iNiIgcng9IjEiLz48L2c+PC9zdmc+"},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxOCI+PHBhdGggZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNjkyIDkuODQxTDEuNTQgMTcuMDFBMSAxIDAgMCAxIDAgMTYuMTY4VjEuODMyQTEgMSAwIDAgMSAxLjU0Ljk5bDExLjE1MyA3LjE3YTEgMSAwIDAgMSAwIDEuNjgyeiIvPjwvc3ZnPg=="},function(a,b){a.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIxNiI+PHBhdGggZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMSAwaDIwYTEgMSAwIDAgMSAxIDF2MTRhMSAxIDAgMCAxLTEgMUgxYTEgMSAwIDAgMS0xLTFWMWExIDEgMCAwIDEgMS0xem05LjIzIDEyVjQuMTQ3SDguOTRWNy4zNkg1LjMyVjQuMTQ3SDQuMDM3VjEySDUuMzJWOC40NmgzLjYyVjEyaDEuMjl6bTguNDU0LTQuMDAxYzAtMS4yMjEtLjM0OC0yLjE2OS0xLjA0Mi0yLjg0Mi0uNjk1LS42NzMtMS42NjctMS4wMS0yLjkxNy0xLjAxaC0yLjQyOFYxMmgyLjE5N2MxLjM1NCAwIDIuMzktLjM0MyAzLjExLTEuMDI5LjcyLS42ODUgMS4wOC0xLjY3NiAxLjA4LTIuOTcyem0tMS4zNTQuMDQzYzAgMS45MTktLjk0NSAyLjg3OC0yLjgzNiAyLjg3OGgtLjkxM1Y1LjIyMmgxLjExMmMxLjc1OCAwIDIuNjM3Ljk0IDIuNjM3IDIuODJ6Ii8+PC9zdmc+"},function(a,b){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAQAgMAAACwzR2qAAAADFBMVEVHcEz///////////8Gn9AKAAAAA3RSTlMAtbSvyOm2AAAAGElEQVQI12Ood6h3YPh/4P8Byon6hvoGACC4NGGxij4LAAAAAElFTkSuQmCC"},function(a,b,c){var d=c(9);b=a.exports=c(1)(!1),b.push([a.i,"._2FrDZ{background-image:url("+d(c(141))+");width:30px;height:30px;position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}._1ZlSQ{max-width:100%;width:100%;height:100%}._3jhgh{visibility:hidden}",""]),b.locals={loading:"_2FrDZ",media:"_1ZlSQ",hide:"_3jhgh"}},function(a,b){a.exports="data:image/gif;base64,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"},function(a,b,c){b=a.exports=c(1)(!1),b.push([a.i,".uYvX0{position:absolute;left:0;top:0;cursor:move;z-index:1;border:2px solid #999}",""]),b.locals={drag:"uYvX0"}},function(a,b,c){var d=c(9);b=a.exports=c(1)(!1),b.push([a.i,"._1vInF{background:url("+d(c(93))+") no-repeat 0 0 transparent;top:40%;left:42%;width:76px;height:76px;position:absolute;cursor:pointer}.xs7AU{height:100%;cursor:pointer}",""]),b.locals={play:"_1vInF",playerContainer:"xs7AU"}},function(a,b,c){var d=c(9);b=a.exports=c(1)(!1),b.push([a.i,"body{font-family:Open Sans,Arial,sans-serif}.fullScreen,.ra-full-window{width:100%!important;height:100%!important}.showScroll::-webkit-scrollbar{-webkit-appearance:none;width:7px}.showScroll::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.currentMatchHighlightStyle{background:#fff6ce}.currentMatchHighlightStyle,.searchHighlightStyle{font-weight:400;border-radius:4px;padding:0 2px;display:inline-block}.searchHighlightStyle{background:#efefef}._14gkb{overflow:hidden;white-space:nowrap;font-size:13px;text-overflow:ellipsis}._2H7E_{position:relative}._2kYQj{display:none}._2CLoD{display:inline-block}._26Qvu{display:block}._3itJU{visibility:visible}.f2PZX{visibility:hidden}._2kFL-{text-align:center}._3bBW9{float:left}._3u8uM{float:right}._27IqG{margin-right:7px}._2dKVl{margin-top:8px}._2YcI5{margin-top:9px}._14aDa{margin-top:6px}._1IaM0{margin-top:10px}._2n4Qt{margin-bottom:5px}._3rGVb{margin-bottom:10px}._10fp9{margin-bottom:15px}._1_y7B{margin-bottom:20px}._3GtKF{margin-bottom:25px}._1Lx92{margin-right:12px}._1N5iQ{margin-right:15px}._2UdNW{margin-right:20px}._1a-xL{padding-top:5px}._2PbzB{clear:both}._3Xo5R{margin-top:14px}._2--Xt{line-height:30px}._6M7-e{line-height:20px}._3WwgJ{line-height:18px}.NTPJg{font-size:12px}._12TKQ{font-size:18px}._3iuXD{color:#666}.fPpDw{color:#ff8a16}.DvJRf{position:absolute;left:50%;top:20px;margin-left:-160px}._3Q8dH{color:red;font-size:10px}._38LSs{position:relative;height:100%;background-color:#000}._38LSs ._1yiWl{visibility:visible;opacity:1}._38LSs ._1kELQ,._38LSs ._1yiWl{-webkit-transition:visibility 1s,opacity 1s;transition:visibility 1s,opacity 1s}._38LSs ._1kELQ{visibility:hidden;opacity:0}._38LSs *{-webkit-box-sizing:content-box;box-sizing:content-box}._2HTKL{background:url("+d(c(93))+") no-repeat 0 0 transparent;top:40%;left:44%;width:76px;height:76px;cursor:pointer}._2HTKL,._3sips{position:absolute}._3sips{bottom:0;left:0;right:0;padding:0 10px;color:#fff;width:97%;margin:0 auto;background:-webkit-gradient(linear,left top,left bottom,from(hsla(0,0%,78%,0)),to(rgba(5,5,5,.4)));background:linear-gradient(180deg,hsla(0,0%,78%,0),rgba(5,5,5,.4))}._38LSs button{border:0;padding:0}._33qJO{width:100%}._33qJO ._2ZbQw{width:100%;cursor:pointer}._3nyMA{height:100%!important;width:100%!important;position:fixed;top:0;left:0;z-index:1}",""]),b.locals={ellipsis:"_14gkb",pos_rel:"_2H7E_",hide:"_2kYQj",display_IB:"_2CLoD",show:"_26Qvu",visible:"_3itJU",invisible:"f2PZX",textalignC:"_2kFL-",floatL:"_3bBW9",floatR:"_3u8uM",marginR7:"_27IqG",marginT8:"_2dKVl",marginT14:"_3Xo5R",marginT9:"_2YcI5",marginT6:"_14aDa",marginT10:"_1IaM0",marginB5:"_2n4Qt",marginB10:"_3rGVb",marginB15:"_10fp9",marginB20:"_1_y7B",marginB25:"_3GtKF",marginR12:"_1Lx92",marginR15:"_1N5iQ",marginR20:"_2UdNW",paddingT5:"_1a-xL",clear:"_2PbzB",lineHeight30:"_2--Xt",lineHeight20:"_6M7-e",lineHeight18:"_3WwgJ",F12:"NTPJg",F18:"_12TKQ",color66:"_3iuXD",orangeColor:"fPpDw",onBoardingContainer:"DvJRf",error:"_3Q8dH",videoContainer:"_38LSs",showControls:"_1yiWl",hideControls:"_1kELQ",play:"_2HTKL",videoControls:"_3sips",primaryVideoContainer:"_33qJO",mediaClass:"_2ZbQw",fullScreen:"_3nyMA"}}])}),angular.module("microApps").factory("fetchApplication",["$http","$q",function(a,b){function c(a){var b=document.createElement(a.tagName);return a.getAttributeNames().map(function(c){var d=a.getAttribute(c);b.setAttribute(c,d)}),b}function d(a){function d(b){console.log("MicroAppsController => SCRIPT LOADING DONE ",b),e[b]=!0,g.resolve(a)}function f(a){console.log("MicroAppsController => SCRIPT LOADING ERROR ",a),e[a]=!1,g.reject()}var g=b.defer(),h=a.tagName.toLowerCase?a.tagName.toLowerCase():null,i=a.parentNode&&"script"!==h?a.parentNode.tagName.toLowerCase():"body",j=document.getElementsByTagName(i)[0],k=null;return h&&["script","link"].indexOf(h)>-1&&("script"===h&&a.src&&!e[a.src]?(k=c(a),k.defer=!0,k.addEventListener("load",d.bind(d,a.src),!1),k.addEventListener("error",f.bind(d,a.src),!1)):"link"===h&&a.rel&&a.href&&!e[a.href]&&(k=c(a),"stylesheet"===a.rel?(k.addEventListener("load",d.bind(d,a.href),!1),k.addEventListener("error",f.bind(d,a.href),!1)):(e[a.href]=!0,g.resolve(a)))),k?(console.log("MicroAppsController => ADDING ",k,"to parent",j),j.appendChild(k)):g.resolve(a),g.promise}void 0==Element.prototype.getAttributeNames&&(Element.prototype.getAttributeNames=function(){for(var a=this.attributes,b=a.length,c=new Array(b),d=0;d<b;d++)c[d]=a[d].name;return c});var e={};return function(e,f,g){function h(a){var e=document.createElement("html");e.innerHTML=a.data;var h=e.getElementsByTagName("*");console.log("MicroAppsController",h);for(var i=0;i<h.length;i++){var k=h[i],l=h[i].tagName.toLowerCase?h[i].tagName.toLowerCase():null,m=h[i].parentNode.tagName.toLowerCase(),n=null,o=document.getElementsByTagName("body")[0];["div"].indexOf(l)>-1&&"body"===m?(n=c(k),n.innerHTML=k.innerHTML):["meta","style"].indexOf(l)>-1?(o=document.getElementsByTagName(m)[0],n=c(k)):["script"].indexOf(l)>-1&&h[i].text&&(n=c(k),n.text=k.text),n&&!document.getElementById(n.id)&&(console.log("MicroAppsController => ADDING ",n,"to parent",o),j.push(n),o.appendChild(n))}for(var p=0;p<h.length;p++)j.push(d(h[p]));console.log("allPromises created ==> ",j),b.all(j).then(function(a){f(a)},function(a){g(a)})}function i(a){console.log("COACHING APP ERROR",a),g(a)}e||g("No Application url provided");var j=[];a({method:"GET",url:e}).then(h,i)}}]).controller("MicroAppsController",["$scope","$http","$stateParams","fetchApplication",function(a,b,c,d){a.applicationName="coaching",a.fetchApplication=d}]).directive("mindtickleDirective",["fetchApplication",function(a){return window.allAboardPresent=!0,{template:'<div id="{{applicationName}}Root"><div id="{{applicationName}}RootLoader" style="height:calc(100vh - 60px);line-height:calc(100vh - 60px); text-align:center">Loading...</div></div>',scope:{applicationName:"=",applicationPath:"="},link:function(b,c,d){function e(a){g=a;var c=window[b.applicationName+"App"];if(console.log("MicroAppsController => EVERYTHING LOADED START INIT ",a,c),c){var d=document.getElementById(i);if(d&&d.parentNode&&d.parentNode.removeChild(d),location.href.indexOf("#/ui/coaching")>location.href.indexOf("?"))window.location.href=window.location.origin+window.location.hash+window.location.search;else{var e="/#";c({routerBasePath:e,rootId:h})}}}function f(a){console.log("MicroAppsController Some error happen",a)}var g=[],h=b.applicationName+"Root",i=b.applicationName+"RootLoader",j=window.location.protocol+"//"+window.location.host+"/ui/"+b.applicationName;console.log("MicroAppsController => scope",b),console.log("in MicroAppsController",b,j),c.on("$destroy",function(){console.log("MicroAppsController on distroy called",g,d),g.forEach(function(a){a&&a.parentNode&&a.tagName&&a.parentNode.removeChild(a)})}),a(j,e,f)}}}]);
//# sourceMappingURL=mt-dashboard-min.7d5cd9bf.js.map